require("app",function(e,r){function o(){return s(a,arguments)}function n(){try{y.removeClass(document.body,"show"),l.preventDefault=!0;var e=q.value;d.set("default-code",e);var r=new m("CLS\n"+e);console.log(q.value);var o=r.asm();console.log(o),g=new p(o,w)}catch(e){l.preventDefault=!1,y.addClass(document.body,"show"),console.error(e),c.error(e.msg),console.log("Unexpected char: "+q.value.charCodeAt(e.pos)),q.focus(e.pos)}}function t(){y.hasClass(document.body,"show")?(y.removeClass(document.body,"show"),l.preventDefault=!0):(y.addClass(document.body,"show"),l.preventDefault=!1)}var a={en:{},fr:{}},s=require("$").intl;require("font.josefin");var u=require("repository"),l=require("keyboard"),d=require("tfw.storage").local,c=require("tfw.message"),i=require("kernel"),f=require("editor"),m=require("basic"),v=require("x-widget").getById,p=require("asm"),y=require("dom");require("$").lang("fr");var g,w,q;e.start=function(){q=new f(document.getElementById("CODE")),q.value=d.get("default-code",u.load("sys.hello-world"));var e=(new Image,new XMLHttpRequest);e.open("GET","css/app/symbols.arr",!0),e.responseType="arraybuffer",e.onload=function(r){var o=e.response;if(!o)return void console.error("Unable to load `symbols.arr`!");var a=document.getElementById("CANVAS");w=new i(a,new Uint8Array(o));var s=u.load("sys.startup");console.log(s);var d=new m(s),c=d.asm();g=new p(c,w),w.render=function(e){g.next(),l.resetLast()},document.addEventListener("keydown",function(e){"F1"==e.key&&(t(),e.preventDefault(),e.stopPropagation()),"F4"==e.key&&(n(),e.preventDefault(),e.stopPropagation())},!0),y.on(document.getElementById("F1"),t),y.on(document.getElementById("F4"),n),y.on(document.getElementById("index"),function(){v("HELP").value="index"})},e.send(null)},r.exports._=o});
//# sourceMappingURL=app.js.map