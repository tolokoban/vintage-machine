require("app",function(e,o,n){function t(){try{p.removeClass(document.body,"show"),l.preventDefault=!0;var e=w.value;d.set("default-code",e);var o=new v("CLS\n"+e);console.log(w.value);var n=o.asm();console.log(n),y=new i(n,g)}catch(e){l.preventDefault=!1,p.addClass(document.body,"show"),console.error(e),u.error(e.msg),console.log("Unexpected char: "+w.value.charCodeAt(e.pos)),w.focus(e.pos)}}function a(){p.hasClass(document.body,"show")?(p.removeClass(document.body,"show"),l.preventDefault=!0):(p.addClass(document.body,"show"),l.preventDefault=!1)}var r=function(){function o(){return t(n,arguments)}var n={en:{},fr:{}},t=e("$").intl;return o.all=n,o}();e("font.josefin");var s=e("repository"),l=e("keyboard"),d=e("tfw.storage").local,u=e("tfw.message"),c=e("kernel"),f=e("editor"),v=e("basic"),m=e("x-widget").getById,i=e("asm"),p=e("dom");e("$").lang("fr");var y,g,w;n.start=function(){w=new f(document.getElementById("CODE")),w.value=d.get("default-code",s.load("sys.hello-world"));var e=(new Image,new XMLHttpRequest);e.open("GET","css/app/symbols.arr",!0),e.responseType="arraybuffer",e.onload=function(o){var n=e.response;if(!n)return void console.error("Unable to load `symbols.arr`!");var r=document.getElementById("CANVAS");g=new c(r,new Uint8Array(n));var d=s.load("sys.startup");console.log(d);var u=new v(d),f=u.asm();y=new i(f,g),g.render=function(e){y.next(),l.resetLast()},document.addEventListener("keydown",function(e){"F1"==e.key&&(a(),e.preventDefault(),e.stopPropagation()),"F4"==e.key&&(t(),e.preventDefault(),e.stopPropagation())},!0),p.on(document.getElementById("F1"),a),p.on(document.getElementById("F4"),t),p.on(document.getElementById("index"),function(){m("HELP").value="index"})},e.send(null)},n.pasteCode=function(e){w.value=e},o.exports._=r});
//# sourceMappingURL=app.js.map