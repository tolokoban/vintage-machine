"use strict";(self.webpackChunkvintage_machine=self.webpackChunkvintage_machine||[]).push([[872],{1039:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(1601),r=n.n(s),i=n(6314),o=n.n(i)()(r());o.push([t.id,".vVgLniZGJcn5HHLg4g_e {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #007;\n  overflow: hidden;\n  display: grid;\n  place-items: center;\n  padding: 0;\n}\n\n.vVgLniZGJcn5HHLg4g_e > canvas {\n  border: none;\n  box-shadow: none;\n  background: transparent;\n  height: 100%;\n}\n",""]),o.locals={panelMonitor:"vVgLniZGJcn5HHLg4g_e"};const a=o},5146:(t,e,n)=>{n.d(e,{F:()=>i});const s={SPC:/^[ \t]+/g,COM:/^(REM )[^\n\r]*[\n\r]+/gi,EOL:/^[\n\r]+/g,VAR:/^\$[a-z0-9\._]+/gi,HEX:/^#[0-9a-f]+/gi,NUM:/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)/g,STR:/^"(\\"|[^"])*"/g,BINOP:/^(and|or|xor|>=|<=|<>|\^|==|[%+*/<>-])/gi,EQUAL:/^=/g,PAR_OPEN:/^\(/g,PAR_CLOSE:/^\)/g,BRA_OPEN:/^\{/g,BRA_CLOSE:/^\}/g,SQR_OPEN:/^\[/g,SQR_CLOSE:/^\]/g,COMMA:/^,/g,DEF:/^def(?![a-z0-9])/i,RETURN:/^return(?![a-z0-9])/i,WHILE:/^while(?![a-z0-9])/i,FOR:/^for(?![a-z0-9])/i,IN:/^in(?![a-z0-9])/i,IF:/^if(?![a-z0-9])/i,ELSE:/^else(?![a-z0-9])/i,FUNC:/^[a-z_][a-z_0-9]*\(/i,INST:/^[a-z_][a-z_0-9]*/gi,EOF:/^<<EOF>>/},r=["SPC","COM","EOL"];class i{constructor(t){this._code=t,this._cursor=0,this._token={id:"EOF",val:"",pos:1e100}}get token(){return this._token}get tokenID(){return this.token.id}get tokenCode(){return this._code.slice(this.token.pos)}all(){const t=this._cursor,e=[];for(this._cursor=0;this.hasMoreCode();)this.next(),e.push(structuredClone(this._token));return this._cursor=t,e}highlight(){const t=[];let e=0;for(;e<this._code.length;){const n=this._code.slice(e);let r=null;for(const[t,i]of Object.entries(s)){i.lastIndex=-1;const s=i.exec(n);if(s){r={id:t,val:s[0],pos:e};break}}if(r){e+=r.val.length;let n=r.val.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");switch(r.id){case"VAR":n=n.toLowerCase();break;case"COM":n=n.slice(0,3).toUpperCase()+n.slice(3);break;case"HEX":case"FUNC":case"DEF":case"RETURN":case"FOR":case"IN":case"IF":case"ELSE":case"WHILE":n=n.toUpperCase()}t.push(`<span class="Basik-${r.id}">${n}</span>`)}else e+=1,t.push(n.charAt(0))}return t.join("")}hasMoreCode(){return this._cursor<this._code.length-1}fatal(t,e){var n,s={pos:null!==(n=null==e?void 0:e.pos)&&void 0!==n?n:this._cursor,code:this._code,msg:t};throw console.error(s,null!=e?e:this.token),s}next(){let t=this._code.slice(this._cursor);if(0===t.trimEnd().length)return this._token={id:"EOF",pos:this._cursor,val:""},void(this._cursor+=t.length+1);for(;;){let e=null;for(const n of Object.keys(s)){const r=n,i=s[r];if(!i)continue;i.lastIndex=0;const o=i.exec(t);if(o){e={id:r,val:o[0],pos:this._cursor};break}}if(e||this.fatal(`Je suis tombé sur un caractère qui n'a rien à faire là : "${t.charAt(0)}".`),this._cursor+=e.val.length,!r.includes(e.id))return void(this._token=e);t=this._code.slice(this._cursor)}}is(...t){return t.includes(this._token.id)}get(...t){if(!t.includes(this._token.id))return null;const e=structuredClone(this._token);return this.next(),e}expect(t,e){(Array.isArray(t)?t:[t]).includes(this._token.id)||this.fatal(e);const n=structuredClone(this._token);return this.next(),n}}},6731:(t,e,n)=>{n.d(e,{E:()=>lt});var s=n(1917);class r{constructor(t,e){this.gl=t,this.screenWidthInverse=2/e.screenWidth,this.screenHeightInverse=2/e.screenHeight,this.texture=e.symbols;const n=new s.a6X(t,{vert:"// attPosition.x is +1 or -1\n// attPosition.y is +1 or -1\nattribute vec2 attPos;\n// UV coordinates are either 0 or 1.\nattribute vec2 attUV;\n\n// Double of the inverse of screen width/height in pixels.\nuniform vec2 uniScreenSizeInverse;\n// Screen coordinates of the center, in pixels.\n// The center of the screen is at (0,0).\nuniform vec2 uniCenter;\n// Size of the symbol in pixels divided by 256;\nuniform vec2 uniSymbolSize;\n// Position of the top left corner of the symbol,\n// expressed in pixels divided by 256.\nuniform vec2 uniSymbolCorner;\n// Scale of a symbol.\nuniform float uniScale;\n\nvarying vec2 varUV;\n\nvoid main() {\n    vec2 center = uniCenter * uniScreenSizeInverse;\n    vec2 point = 128.0 * uniSymbolSize * attPos;   // Later, we will add rotation and scale.\n    gl_Position = vec4(center + point * uniScale * uniScreenSizeInverse, 0.0, 1.0);\n    varUV = uniSymbolCorner + uniSymbolSize * attUV;\n}\n",frag:"precision mediump float;\n\n// The symbols' page.\nuniform sampler2D texSymbols;\nuniform float uniColor;\n\n// Coords of the current pixel. (0,0) is le left bottom one and (1,1) is the upper right one.\nvarying vec2 varUV;\n\nvoid main() {\n  float alpha = texture2D( texSymbols, varUV ).a;\n  if (alpha < 0.5) discard;\n  \n  gl_FragColor = vec4( vec3(uniColor), 1.0);\n//   if (varUV.x < 32.0 / 256.0) {\n//     gl_FragColor = vec4(0, 1, 0, 1);\n//   } else {\n//     gl_FragColor = vec4(1, 0, 0, 1);\n//   }\n}\n"});this.prg=n;const r=new s.I9j({attPos:"vec2",attUV:"vec2"});r.set("attPos",new Float32Array([-1,1,-1,-1,1,1,1,-1])),r.set("attUV",new Float32Array([0,1,0,0,1,1,1,0]));const i=new s.ZV_(t,n,[r]);this.vao=i}delete(){this.texture.delete(),this.prg.delete(),this.vao.delete()}paint({screenX:t,screenY:e,symbolX:n,symbolY:s,width:r=16,height:i=16,colorIndex:o,scale:a=1}){const{gl:c,prg:l,vao:u,texture:h,screenWidthInverse:p,screenHeightInverse:f}=this;l.use(),h.activate(0,l,"texSymbols"),l.uniform1f("uniScale",a),l.uniform1f("uniColor",o/255),l.uniform2f("uniScreenSizeInverse",p,f),l.uniform2f("uniCenter",t,e),l.uniform2f("uniSymbolCorner",n/256,s/256),l.uniform2f("uniSymbolSize",r/256,i/256),u.bind(),c.drawArrays(c.TRIANGLE_STRIP,0,4),u.unbind()}}class i extends s.tbm{constructor(t,e,n){super(),this.context=t,this.textureRead=e,this.action=n;const r=new s.dLJ({varying:{varUV:"vec2"},attributes:{attPos:"vec2",attUV:"vec2"},mainCode:["varUV = attUV;","gl_Position = vec4(attPos, 0.0, 1.0);"]}).code,i=new s.NI6({varying:{varUV:"vec2"},uniforms:{uniTexture:"sampler2D"},outputs:{FragColor:"vec4"},mainCode:["float colorIndex = texture(uniTexture, varUV).r;","FragColor = vec4(colorIndex, 0.0, 0.0, 1.0);"]}).code,o=new s.a6X(t.gl,{vert:r,frag:i});this.prg=o;const a=new s.I9j({attPos:"vec2",attUV:"vec2"});a.set("attPos",new Float32Array([-1,1,-1,-1,1,1,1,-1])),a.set("attUV",new Float32Array([0,1,0,0,1,1,1,0]));const c=new s.ZV_(t.gl,o,[a]);this.vao=c}delete(){this.prg.delete(),this.vao.delete()}paint(){const{context:t,prg:e,vao:n,textureRead:s}=this,{gl:r}=t;e.use(),s.activate(0,e,"uniTexture"),n.bind(),r.drawArrays(r.TRIANGLE_STRIP,0,4),n.unbind(),this.action()}}class o extends s.tbm{constructor(t,e,n,r){super(),this.surface=new i(t,e,r),this.framebuffer=new s.K7(t,{textureColor0:n,children:[this.surface]})}delete(){this.surface.delete(),this.framebuffer.delete()}paint(t,e){this.framebuffer.paint(t,e)}}class a{constructor(t){this.context=t,this.action=c,this.currentFramebufferIndex=0,this.applyAction=()=>{this.action()};const e=new s.HTX(t),n=new s.HTX(t);this.textures=[e,n];for(const t of this.textures)t.setParams({magFilter:"NEAREST",minFilter:"NEAREST",wrapS:"REPEAT",wrapT:"REPEAT"});const r=this.applyAction;this.framebuffers=[new o(t,n,e,r),new o(t,e,n,r)]}get texture(){return this.textures[this.currentFramebufferIndex]}swap(){this.currentFramebufferIndex=1-this.currentFramebufferIndex}delete(){for(const t of this.textures)t.delete();for(const t of this.framebuffers)t.delete()}paint(t=c){this.swap(),this.action=t,this.framebuffers[this.currentFramebufferIndex].paint(0,0)}}const c=()=>{};class l{constructor(t,e){this.context=t,this.texturePalette=e;const n=new s.dLJ({varying:{varUV:"vec2"},attributes:{attPos:"vec2",attUV:"vec2"},mainCode:["varUV = attUV;","gl_Position = vec4(attPos, 0.0, 1.0);"]}).code,r=new s.NI6({varying:{varUV:"vec2"},uniforms:{uniTexture:"sampler2D",uniPalette:"sampler2D"},outputs:{FragColor:"vec4"},mainCode:["vec4 texel = texture(uniTexture, varUV);","float colorIndex = texel.r;","float u = colorIndex + 1.0 / 512.0;","FragColor = texture(uniPalette, vec2(u, 0.5));","if (colorIndex == 0.0) FragColor.a = 0.0;"]}).code,i=new s.a6X(t.gl,{vert:n,frag:r});this.prg=i;const o=new s.I9j({attPos:"vec2",attUV:"vec2"});o.set("attPos",new Float32Array([-1,1,-1,-1,1,1,1,-1])),o.set("attUV",new Float32Array([0,0,0,1,1,0,1,1]));const a=new s.ZV_(t.gl,i,[o]);this.vao=a}delete(){this.prg.delete(),this.vao.delete()}paint(t){const{context:e,prg:n,vao:s,texturePalette:r}=this,{gl:i}=e;n.use(),t.activate(0,n,"uniTexture"),r.activate(1,n,"uniPalette"),s.bind(),i.drawArrays(i.TRIANGLE_STRIP,0,4),s.unbind()}}var u=n(2197);function h(t,e,n){return s=>{try{return null==e||e(s),n(s)}catch(e){throw new Error(`Erreur de l'instruction "${t.toUpperCase()}": ${e}`)}}}function p(t=1,e=999){return n=>{if((n.length<t||n.length>e)&&t===e){if(0===t)throw new Error("Cette function n'attend aucun argument.");if(1===t)throw new Error("Cette function attend un et un seul argument.");throw new Error(`Cette function attend entre ${t} et ${e} arguments.`)}for(const t of n)if("number"!=typeof t)throw new Error("Tous les arguments de cette fonction doivent être des nombres.")}}function f(t=1,e=999){return n=>{if((n.length<t||n.length>e)&&t===e){if(0===t)throw new Error("Cette function n'attend aucun argument.");if(1===t)throw new Error("Cette function attend un et un seul argument.");throw new Error(`Cette function attend entre ${t} et ${e} arguments.`)}for(const t of n)if("string"!=typeof t)throw new Error("Tous les arguments de cette fonction doivent être des nombres.")}}function d(t=0,e=999){return n=>{if((n.length<t||n.length>e)&&t===e){if(0===t)throw new Error("Cette function n'attend aucun argument.");if(1===t)throw new Error("Cette function attend un et un seul argument.");throw new Error(`Cette function attend entre ${t} et ${e} arguments.`)}}}const g=t=>h("cls",p(0,1),(([e])=>{t.paintFB((()=>{if((0,u.Et)(e))return void t.painterRect.paint(0,0,1,1,(0,s.P_T)(Math.round(e),0,255));const{gl:n}=t;n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT)})),t.x=t.TEXT_ORIGIN_X,t.y=t.TEXT_ORIGIN_Y,t.paint()})),m=t=>h("color",p(1,1),(([e])=>{t.colorIndex=e})),E=t=>h("disk",p(1,2),(([e,n])=>{t.paintFB((()=>{t.painterDisk.paint(t.screenSpaceX(t.x),t.screenSpaceY(t.y),t.screenSpaceX(e),t.screenSpaceY(null!=n?n:e),t.colorIndex)}))})),v=t=>h("label",d(1,2),(([e,n=1])=>{if(!(0,u.Et)(n))throw new Error("Si tu spécifie un deuxième argument pour LABEL(), il faut que ce soit un nombre.");const{x:s,y:r}=t,i=(0,u.Kg)(e)?e:JSON.stringify(e);let o=t.x-n*(i.length/2)*t.CHAR_SIZE;const a=t.y-n*t.CHAR_SIZE/2;for(const e of i.split(""))t.x=o,t.y=a,t.print(e,n),o+=t.CHAR_SIZE*n;t.x=s,t.y=r})),b=t=>h("locate",p(2,2),(([e,n])=>{const r=(0,s.P_T)(Math.floor(e),0,t.TEXT_COLS-1),i=(0,s.P_T)(Math.floor(n),0,t.TEXT_ROWS-1);t.x=t.TEXT_ORIGIN_X+r*t.CHAR_SIZE,t.y=t.TEXT_ORIGIN_Y+i*t.CHAR_SIZE})),y=t=>h("move",p(2,2),(([e,n])=>{t.x=e,t.y=n})),x=t=>h("move",p(2,2),(([e,n])=>{t.x+=e,t.y+=n})),I=t=>h("pause",p(0,1),(([e])=>new Promise((n=>{(0,u.Et)(e)?(t.paint(),globalThis.setTimeout((()=>{console.log("Slept",e,"seconds."),n()}),1e3*e)):globalThis.requestAnimationFrame((()=>{t.paint(),n()}))}))));function S(t,e){const n=e.map((t=>(0,u.Kg)(t)?t:JSON.stringify(t))).join("");t.print(n)}const w=t=>h("print",d(),(e=>{S(t,e)})),C=t=>h("println",d(),(e=>{S(t,e),t.x=t.TEXT_ORIGIN_X,t.y+=t.CHAR_SIZE})),A=t=>h("rect",p(1,2),(([e,n])=>{t.paintFB((()=>{t.painterRect.paint(t.screenSpaceX(t.x),t.screenSpaceY(t.y),t.screenSpaceX(e),t.screenSpaceY(null!=n?n:e),t.colorIndex)}))}));function R(t,e,n){return s=>{try{return null==e||e(s),n(s)}catch(e){throw new Error(`Erreur de la fonction "${t.toUpperCase()}": ${e}`)}}}const F=t=>R("ASK",d(0),(e=>new Promise((n=>{const s=e.map((t=>(0,u.Kg)(t)?t:JSON.stringify(t))).join("");t.print(s),t.paint();let r=!0;const i=()=>{t.printChar(143),t.paint()},o=()=>{const e=t.colorIndex;t.colorIndex=0,t.printChar(143),t.colorIndex=e,t.paint()},a=globalThis.setInterval((()=>{r?i():o(),r=!r}),500);let c="";i();const l=e=>{if(!(e.ctrlKey||e.altKey||e.metaKey))try{const{key:s}=e;if(1===s.length)return c+=s,o(),void t.print(s);if("Enter"===s)return globalThis.document.removeEventListener("keydown",l),o(),t.x=t.TEXT_ORIGIN_X,t.y+=t.CHAR_SIZE,globalThis.clearInterval(a),void n(c)}finally{t.paint()}};globalThis.document.addEventListener("keydown",l)}))));class _{constructor(t){this.context=t,this.STEPS=128;const e=new s.dLJ({uniforms:{uniCenter:"vec2",uniRadius:"vec2"},attributes:{attPos:"vec2"},mainCode:["gl_Position = vec4(uniCenter + attPos * uniRadius, 0.0, 1.0);"]}).code,n=new s.NI6({uniforms:{uniColor:"float"},outputs:{FragColor:"vec4"},mainCode:["FragColor = vec4(uniColor, 0.0, 0.0, 1.0);"]}).code,r=new s.a6X(t.gl,{vert:e,frag:n});this.prg=r;const i=[0,0],o=2*Math.PI/this.STEPS;for(let t=0;t<this.STEPS;t++){const e=o*t,n=Math.cos(e),s=Math.sin(e);i.push(n,s)}i.push(1,0);const a=new s.I9j({attPos:"vec2"});a.set("attPos",new Float32Array(i));const c=new s.ZV_(t.gl,r,[a]);this.vao=c}delete(){this.prg.delete(),this.vao.delete()}paint(t,e,n,s,r){const{context:i,prg:o,vao:a}=this,{gl:c}=i;o.use(),o.uniform2f("uniCenter",t,e),o.uniform2f("uniRadius",n,s),o.uniform1f("uniColor",r/255),a.bind(),c.drawArrays(c.TRIANGLE_FAN,0,this.STEPS+2),a.unbind()}}class N{constructor(t){this.context=t;const e=new s.dLJ({uniforms:{uniCenter:"vec2",uniRadius:"vec2"},attributes:{attPos:"vec2"},mainCode:["gl_Position = vec4(uniCenter + attPos * uniRadius, 0.0, 1.0);"]}).code,n=new s.NI6({uniforms:{uniColor:"float"},outputs:{FragColor:"vec4"},mainCode:["FragColor = vec4(uniColor, 0.0, 0.0, 1.0);"]}).code,r=new s.a6X(t.gl,{vert:e,frag:n});this.prg=r;const i=new s.I9j({attPos:"vec2"});i.set("attPos",new Float32Array([-1,1,-1,-1,1,1,1,-1]));const o=new s.ZV_(t.gl,r,[i]);this.vao=o}delete(){this.prg.delete(),this.vao.delete()}paint(t,e,n,s,r){const{context:i,prg:o,vao:a}=this,{gl:c}=i;o.use(),o.uniform2f("uniCenter",t,e),o.uniform2f("uniRadius",n,s),o.uniform1f("uniColor",r/255),a.bind(),c.drawArrays(c.TRIANGLE_STRIP,0,4),a.unbind()}}const T=()=>{};class k extends s.tbm{constructor(t,e){super(),this.canvas=t,this.id="Kernel#"+k.ID++,this.LAYERS_COUNT=1,this.WIDTH=640,this.HEIGHT=480,this.CHAR_SIZE=16,this.TEXT_COLS=Math.floor(this.WIDTH/this.CHAR_SIZE),this.TEXT_ROWS=Math.floor(this.HEIGHT/this.CHAR_SIZE),this.TEXT_ORIGIN_X=(this.CHAR_SIZE-this.WIDTH)/2,this.TEXT_ORIGIN_Y=(this.CHAR_SIZE-this.HEIGHT)/2,this.x=(this.CHAR_SIZE-this.WIDTH)/2,this.y=(this.CHAR_SIZE-this.HEIGHT)/2,this.colorIndex=24,this.variablesStack=[new Map],this.layers=[],this.canvasPalette=(0,s.rY8)(["#000000","#000080","#0000FF","#800000","#800080","#8000FF","#FF0000","#FF0080","#FF00FF","#008000","#008080","#0080FF","#808000","#808080","#8080FF","#FF8000","#FF8080","#FF80FF","#00FF00","#00FF80","#00FFFF","#80FF00","#80FF80","#80FFFF","#FFFF00","#FFFF80","#FFFFFF","#000000"],256,1),this._currentLayerindex=0,t.width=this.WIDTH,t.height=this.HEIGHT;const n=new s.tfp(t,{alpha:!0,antialias:!1,preserveDrawingBuffer:!0,onResize(t,e,n){}});this.context=n,this.painterDisk=new _(n),this.painterRect=new N(n),this.texturePalette=new s.HTX(n).loadBitmap(this.canvasPalette),this.colorizer=new l(n,this.texturePalette),this.textureSymbols=new s.HTX(n).setParams({magFilter:"LINEAR",minFilter:"LINEAR",wrapS:"MIRRORED_REPEAT",wrapT:"MIRRORED_REPEAT"}).loadBitmap(e);for(let t=0;t<this.LAYERS_COUNT;t++)this.layers.push(new a(n));var i;n.add(this),n.paint(),this.painterSymbols=new r(n.gl,{symbols:this.textureSymbols,screenWidth:this.WIDTH,screenHeight:this.HEIGHT}),this.instructions={CLS:g(i=this),COLOR:m(i),DISK:E(i),LABEL:v(i),LOCATE:b(i),MOVE:y(i),MOVER:x(i),PAUSE:I(i),PRINT:w(i),PRINTLN:C(i),RECT:A(i)},this.functions=(t=>({ABS:R("ABS",p(1,1),(([t])=>Math.abs(t))),ASK:F(t),CHR:R("CHR",p(1),(t=>t.map((t=>String.fromCharCode(t))).join(""))),INT:R("INT",f(1,1),(([t])=>Math.round(Number(t)))),LIST:R("LIST",(t=>{const[e]=t;if(2!==t.length||"number"!=typeof e)throw new Error("Cette fonction attends deux arguments: le nombre d'éléments et la valeur initiale de ces éléments.")}),(([t,e])=>new Array(t).fill(e))),MIN:R("MIN",p(1),(([t,...e])=>e.reduce(((t,e)=>Math.min(t,e)),t))),MAX:R("MAX",p(1),(([t,...e])=>e.reduce(((t,e)=>Math.max(t,e)),t))),NOT:R("NOT",p(1,1),(([t])=>0===t?1:0)),RANDOM:R("RANDOM",p(1,2),(t=>{const[e,n]=t;return(0,u.Et)(n)?e===n?e:Math.min(e,n)+Math.floor(Math.random()*(Math.abs(n-e)+1)):Math.floor(Math.random()*e)})),RANGE:R("RANGE",p(1,3),(t=>{let[e,n,s]=t;(0,u.Et)(n)||(n=e,e=0),(0,u.Et)(s)||(s=1);const r=[];for(let t=e;n>0;n--)r.push(t),t+=s;return r})),RGB:R("RGB",p(3,3),(t=>{const[e,n,r]=t;return 256*(0,s.P_T)(Math.round(e),0,15)+16*(0,s.P_T)(Math.round(n),0,15)+(0,s.P_T)(Math.round(r),0,15)})),TIME:R("TIME",p(0,0),(()=>Date.now()))}))(this)}get instructionsNames(){return Object.keys(this.instructions).sort()}fullscreenRequest(){const{canvas:t}=this;(0,s.iJ5)(t.parentElement)}fullscreenExit(){(0,s.jtz)()}get gl(){return this.context.gl}screenSpaceX(t){return 2*t/this.WIDTH}screenSpaceY(t){return 2*t/this.HEIGHT}executeInstruction(t,e){return n=this,s=void 0,i=function*(){try{const n=this.instructions[t];return!!n&&(yield n(e),!0)}catch(e){const n=e instanceof Error?e.message:JSON.stringify(e);throw new Error(`Erreur de l'instruction ${t.toUpperCase()} :\n${n}`)}},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{c(i.next(t))}catch(t){e(t)}}function a(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,a)}c((i=i.apply(n,s||[])).next())}));var n,s,r,i}executeFunction(t,e){try{const n=this.functions[t];if(!n)throw new Error(`La fonction "${t.toUpperCase()}" n'existe pas.\nLes fonctions disponibles sont: ${Object.keys(this.functions).sort().join(", ")}.`);return n(e)}catch(e){const n=e instanceof Error?e.message:JSON.stringify(e);throw new Error(`Erreur de la fonction ${t.toUpperCase()} :\n${n}`)}}get currentLayerIndex(){return this._currentLayerindex}set currentLayerIndex(t){t=1===this.LAYERS_COUNT?0:(0,s.P_T)(Math.round(t),0,this.LAYERS_COUNT-1),this._currentLayerindex=t}get layer(){return this.layers[this.currentLayerIndex]}delete(){for(const t of this.layers)t.delete();this.painterDisk.delete(),this.painterSymbols.delete(),this.textureSymbols.delete()}paint(){try{const{context:t,colorizer:e}=this,{gl:n}=t;console.log("PAINT"),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT);for(const t of this.layers)e.paint(t.texture)}catch(t){console.error("Error while painting:",t)}}paintFB(t=T){this.layer.paint(t)}print(t,e=1){this.paintFB((()=>{for(const n of t.split("")){const t=255&n.charCodeAt(0),s=15&t,r=t-s>>4;this.painterSymbols.paint({screenX:this.x,screenY:this.y,symbolX:s*this.CHAR_SIZE,symbolY:r*this.CHAR_SIZE,colorIndex:this.colorIndex,scale:e}),this.x+=this.CHAR_SIZE*e,this.x>=this.WIDTH/2&&(this.x=this.TEXT_ORIGIN_X,this.y+=this.CHAR_SIZE*e)}}))}printChar(t,e=1){this.paintFB((()=>{const n=255&t,s=15&n,r=n-s>>4;this.painterSymbols.paint({screenX:this.x,screenY:this.y,symbolX:s*this.CHAR_SIZE,symbolY:r*this.CHAR_SIZE,colorIndex:this.colorIndex,scale:e})}))}getVar(t){var e;if(t=P(t),!this.variables.has(t)){const e=[`La variable $${t.toLocaleLowerCase()} n'existe pas.`],n=Array.from(this.variables.keys()).map((t=>`$${t.toLocaleLowerCase()}`));throw 0===n.length?e.push("Aucune variable n'a encore été créée."):1===n.length?e.push(`La seule variable existante maintenant est ${n[0]}.`):e.push(`Les variables disponibles sont : ${n.join("\n")}`),new Error(e.join("\n"))}return null!==(e=this.variables.get(t))&&void 0!==e?e:0}setVar(t,e){this.variables.set(P(t),e)}debugVariables(){for(const t of this.variables.keys())console.log(t,"=",this.getVar(t))}subroutineEnter(t,e){var n;const s=new Map;this.variablesStack.push(s);for(let s=0;s<t.length;s++)this.setVar(t[s],null!==(n=e[s])&&void 0!==n?n:0)}subroutineExit(){this.variablesStack.pop()}test(){this.paintFB((()=>{this.painterSymbols.paint({colorIndex:4,screenX:0,screenY:0,symbolX:0,symbolY:0,width:512,height:512})}))}get variables(){const t=this.variablesStack.at(-1);if(!t)throw Error("Nothing left on the variables stack!");return t}}function P(t){return(t.startsWith("$")?t.slice(1):t).toUpperCase()}k.ID=0;var O=n(2772),L=n(8347);const $={error:new L.A(null),ready:new L.A(!1),running:new L.A(!1),code:new L.A(["REM Ceci est un commentaire",'PRINT("Bonjour le monde !")'].join("\n"),{storage:{id:"TLK-74/Basik/current",guard:u.Kg}}),manualPageId:new L.A("index",{storage:{id:"TLK-74/Manual/current",guard:u.Kg}})};var B=n(5146);function H(t){return(0,u.Xj)(t,{pos:"number",code:"string",msg:"string"})}function M(t,e){const n=[t,e.msg,""];console.log(`%c${e.msg}`,"background: #f00;color: #fff");const s=[];let r=0,i=0,o=1;const a=`${e.code}\n\n`;for(;i<a.length;)if("\n"===a.charAt(i++)){const t=a.slice(r,i).trimEnd();if(s.push([o++,t]),i>e.pos){for(const[t,e]of s.slice(-5))n.push(`${`${t}`.padStart(6," ")}:  ${e}`),console.log(`%c${`${t}`.padStart(6," ")}:  ${e}`,"font-family:monospace");throw console.log(`%c${" ".repeat(9+e.pos-r)}^`,"font-family:monospace"),n.push(`${" ".repeat(9+e.pos-r)}^`),new Error(n.join("\n"))}r=i}throw new Error(n.join("\n"))}const V={"==":(t,e)=>JSON.stringify(t)===JSON.stringify(e)?1:0,"<>":(t,e)=>JSON.stringify(t)!==JSON.stringify(e)?1:0,">":(t,e)=>(0,u.Et)(t)&&(0,u.Et)(e)?t>e?1:0:JSON.stringify(t)>JSON.stringify(e)?1:0,"<":(t,e)=>(0,u.Et)(t)&&(0,u.Et)(e)?t<e?1:0:JSON.stringify(t)<JSON.stringify(e)?1:0,">=":(t,e)=>(0,u.Et)(t)&&(0,u.Et)(e)?t>=e?1:0:JSON.stringify(t)>=JSON.stringify(e)?1:0,"<=":(t,e)=>(0,u.Et)(t)&&(0,u.Et)(e)?t<=e?1:0:JSON.stringify(t)<=JSON.stringify(e)?1:0,"+":(t,e)=>(0,u.Et)(t)&&(0,u.Et)(e)?t+e:Array.isArray(t)?Array.isArray(e)?[...t,...e]:[...t,e]:Array.isArray(e)?Array.isArray(t)?[...t,...e]:[t,...e]:`${t}${e}`,"-":U("-",((t,e)=>t-e)),"/":U("/",((t,e)=>t/e)),"^":U("^",((t,e)=>Math.pow(t,e))),"%":U("^",((t,e)=>t%e)),AND:U("^",((t,e)=>t&e)),OR:U("^",((t,e)=>t|e)),XOR:U("^",((t,e)=>t^e)),"*":(t,e)=>{if((0,u.Et)(t)&&(0,u.Et)(e))return t*e;if(Array.isArray(t)||Array.isArray(e))throw new Error("Il est impossible de multiplier des listes !");if((0,u.Kg)(t)&&(0,u.Kg)(e))throw new Error("Il est impossible de multiplier deux chaînes de caractères !");let n=(0,u.Kg)(t)?t:e,s=(0,u.Kg)(e)?t:e;if(0===s)return"";s<0&&(s=-s,n=n.split("").reverse().join(""));const r=Math.floor(s),i=s-r;return`${n.repeat(r)}${n.slice(0,Math.round(i*n.length))}`}};function U(t,e){return(n,s)=>{if(!(0,u.Et)(n)||!(0,u.Et)(s))throw new Error(`L'opérateur "${t}" ne fonctionne qu'avec des nombres.`);return e(n,s)}}class D{constructor(){this.counter=0,this.labels=new Map,this.links=[]}reset(){this.labels.clear(),this.links.splice(0,this.links.length),this.counter=0}create(t=""){return`:${this.counter++}:${t}`}stick(t,e){this.labels.set(t,e)}link(t,e){this.links.push({cursor:t,label:e})}apply(t){for(const{cursor:e,label:n}of this.links){const s=this.labels.get(n);if(void 0===s)throw Error(`Label not found: ${n}`);t[e].val=s}}getLabelAtCursor(t){for(const[e,n]of this.labels.entries())if(n===t)return e;return""}getLinkAtCursor(t){for(const{label:e,cursor:n}of this.links)if(n===t)return e;return null}getLabelsMaxLength(){let t=0;for(const e of this.labels.keys())t=Math.max(t,e.length);return t}}function X(){const t=this.lexer.get("RETURN");return!!t&&(this.parseExpression()||this.lexer.fatal("Il faut une expression après un RETURN.",t),this.pushBytecode(this.$return),!0)}function j(){const{lexer:t}=this,e=t.get("FUNC");if(!e)return!1;const n=e.val.slice(0,-1).trim().toUpperCase();let s=0;for(;this.parseExpression()&&(s++,t.get("COMMA")););return t.expect("PAR_CLOSE",`Il manque une parenthèse fermante après les arguments de l'instruction "${n}".`),this.pushBytecode(s,this.$makeArray,n,this.$instruction),!0}function J(){const t=[this.parseInstruction,this.parseAffectation,this.parseIf,this.parseForIn,this.parseWhile,this.parseReturn,this.parseDef];if(!this.parseAny(...t))return!1;for(;this.parseAny(...t););return!0}function Z(){const{lexer:t}=this;if(!t.get("IF"))return!1;this.parseExpression()||this.fatal("Après un IF il faut une expression.");const e=this.labelCreate("Else"),n=this.labelCreate("EndIf");return this.labelPushItsValue(e),t.expect("BRA_OPEN",["Il faut une accolade ouvrante pour définir un bloc, comme dans cet exemple :","IF $condition {",'  PRINTLN("Perdu")',"}"].join("\n")),this.pushBytecode(this.$if),this.parseBloc(),t.expect("BRA_CLOSE",["Il faut une accolade fermante à la fin d'un bloc, comme dans cet exemple :","IF $condition {",'  PRINTLN("Perdu")',"}"].join("\n")),this.pushJump(n),this.labelStickHere(e),t.get("ELSE")&&(t.expect("BRA_OPEN",["Il faut une accolade ouvrante pour définir un bloc, comme dans cet exemple :","ELSE {",'  PRINTLN("Perdu")',"}"].join("\n")),this.parseBloc(),t.expect("BRA_CLOSE",["Il faut une accolade fermante à la fin d'un bloc, comme dans cet exemple :","ELSE {",'  PRINTLN("Perdu")',"}"].join("\n"))),this.labelStickHere(n),!0}function G(){const{lexer:t}=this;if(!t.get("WHILE"))return!1;const e=this.labelCreate("Begin"),n=this.labelCreate("End");return this.labelStickHere(e),this.parseExpression()||this.fatal("Après un WHILE il faut une expression."),this.pushJumpIfZero(n),t.expect("BRA_OPEN",["Il faut une accolade ouvrante pour définir un bloc, comme dans cet exemple :","WHILE $condition {",'  PRINTLN("Perdu")',"}"].join("\n")),this.parseBloc(),t.expect("BRA_CLOSE",["Il faut une accolade fermante à la fin d'un bloc, comme dans cet exemple :","WHILE $condition {",'  PRINTLN("Perdu")',"}"].join("\n")),this.pushJump(e),this.labelStickHere(n),!0}function K(){const{lexer:t}=this;if(!t.get("FOR"))return!1;const e=t.expect("VAR","Il me faut un nom de variable après le mot clef FOR.");this.pushBytecode(e.val),t.expect("IN","Après le nom de variable, il faut le mot clef IN.\nExemple: FOR $i IN $notes"),this.parseExpression()||this.fatal("Je m'attendais à une expression après un FOR ... IN."),this.pushBytecode(0);const n=this.labelCreate(),s=this.labelCreate();return this.labelPushItsValue(s),this.labelStickHere(n),t.expect("BRA_OPEN",["Il faut une accolade ouvrante pour définir un bloc, comme dans cet exemple :","FOR $i IN RANGE(9) {","  PRINTLN($i)","}"].join("\n")),this.pushBytecode(this.$forIn),this.parseBloc(),t.expect("BRA_CLOSE",["Il faut une accolade fermante à la fin d'un bloc, comme dans cet exemple :","FOR $i IN RANGE(9) {","  PRINTLN($i)","}"].join("\n")),this.pushJump(n),this.labelStickHere(s),!0}function z(){const t=this.lexer.get("VAR");if(!t)return!1;const e=t.val;return this.pushBytecode(e),this.lexer.expect("EQUAL",`Je m'attendais à voir le signe "=" pour l'affectation de la variable ${e} !`),this.parseExpression(),this.pushBytecode(this.$setVar),!0}function W(){if(this.parseAny(this.parseNumber,this.parseVar,this.parseHexa,this.parseString,this.parseExpressionBlock,this.parseFunction)){for(;this.parseBinaryOperator(););return!0}return!1}function Y(){const{lexer:t}=this,e=t.get("FUNC");if(!e)return!1;const n=e.val.slice(0,-1).trim().toUpperCase();let s=0;for(;this.parseExpression()&&(s++,t.get("COMMA")););return t.expect("PAR_CLOSE",`Il manque une parenthèse fermante après les arguments de la fonction "${n}".`),this.pushBytecode(s,this.$makeArray,n,this.$function),!0}function q(){const{lexer:t}=this;return!!t.get("PAR_OPEN")&&(this.parseExpression()||t.fatal("Il manque une expression après la parenthèse ouvrante."),t.expect("PAR_CLOSE","Il manque une parenthèse fermante ici."),!0)}function Q(){const{lexer:t}=this,e=t.get("BINOP");if(!e)return!1;const n=e.val;return this.parseExpression()||t.fatal(`Je m'attendais à une expression après l'opérateur "${t.token.val}" !`),this.pushBytecode(this.makeBinOp(n)),!0}function tt(){const{lexer:t}=this;if(!t.get("DEF"))return!1;const e=this.labelCreate("BeginFunc"),n=this.labelCreate("EndFunc"),s=t.get("FUNC");if(!s)return t.fatal("Après DEF il faut mettre un nom de fonction avec ses arguments.\nPar exemple :\nDEF FACTORIELLE($nombre) ...\nDEF COMMENCER()"),!1;const r=s.val.slice(0,-1).trim().toUpperCase();let i=0;for(;;){const e=t.get("VAR");if(!e)break;if(this.pushBytecode(e.val),i++,!t.get("COMMA"))break}return t.expect("PAR_CLOSE",`Lors de la définition de la fonction "${r}", ses arguments doivent tous êtres des variables.`),this.pushBytecode(i,this.$makeArray,r),this.labelPushItsValue(e),this.pushBytecode(this.$def),this.pushJump(n),t.expect("BRA_OPEN",["Il faut une accolade ouvrante pour définir un bloc, comme dans cet exemple :","DEF DESSINER() {","  DISK(200)","}"].join("\n")),this.labelStickHere(e),this.parseBloc(),t.expect("BRA_CLOSE",["Il faut une accolade fermante à la fin d'un bloc, comme dans cet exemple :","DEF DESSINER() {","  DISK(200)","}"].join("\n")),this.pushBytecode(0,this.$return),this.labelStickHere(n),!0}function et(){const t=this.lexer.get("NUM");return!!t&&(this.pushBytecode(Number(t.val)),!0)}function nt(){const t=this.lexer.get("STR");return!!t&&(this.pushBytecode(t.val.slice(1,-1)),!0)}function st(){const t=this.lexer.get("HEX");return!!t&&(this.pushBytecode(Number(`0x${t.val.trim().slice(1)}`)),!0)}function rt(){const t=this.lexer.get("VAR");return!!t&&(this.pushBytecode(t.val,this.$getVar),!0)}var it=function(t,e,n,s){return new(n||(n=Promise))((function(r,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))};class ot{constructor(t){this.kernel=t,this.labels=new D,this.bytecode=[],this.stack=[],this.callStack=[],this.functionsDefinitions=new Map,this.lexer=new B.F(""),this.cursor=0,this.code="",this.parseAffectation=z.bind(this),this.parseBinaryOperator=Q.bind(this),this.parseBloc=J.bind(this),this.parseDef=tt.bind(this),this.parseExpression=W.bind(this),this.parseExpressionBlock=q.bind(this),this.parseForIn=K.bind(this),this.parseFunction=Y.bind(this),this.parseIf=Z.bind(this),this.parseInstruction=j.bind(this),this.parseReturn=X.bind(this),this.parseWhile=G.bind(this),this.parseNumber=et.bind(this),this.parseString=nt.bind(this),this.parseHexa=st.bind(this),this.parseVar=rt.bind(this),this.$def=at("DEF",(()=>{const t=this.popNum(),e=this.popStr(),n=this.popArr();(0,u.j)(n,["array","string"],`${e}()`),this.functionsDefinitions.set(e,{cursor:t,args:n})})),this.$return=at("RETURN",(()=>{const t=this.callStack.pop();(0,u.Et)(t)||this.fatal("Call stack is empty!"),this.cursor=t,this.kernel.subroutineExit()})),this.$jump=at("JMP",(()=>{this.cursor=this.popNum()})),this.$jumpIfZero=at("JMP",(()=>{const t=this.popNum();0===this.pop()&&(this.cursor=t)})),this.$setVar=at("setVar(name, value)",(()=>{const t=this.pop(),e=this.popStr();this.kernel.setVar(e,t)})),this.$getVar=at("getVar(name)",(()=>{var t;const e=this.popStr();this.stack.push(null!==(t=this.kernel.getVar(e))&&void 0!==t?t:0)})),this.$makeArray=at("makeArray(count, ...)",(()=>{const t=this.popNum(),e=this.stack.splice(this.stack.length-t,t);this.stack.push(e)})),this.$function=()=>it(this,void 0,void 0,(function*(){const t=this.popStr(),e=this.popArr(),n=yield this.kernel.executeFunction(t,e);this.stack.push(n)})),this.$instruction=()=>it(this,void 0,void 0,(function*(){const t=this.popStr(),e=this.popArr();if(!(yield this.kernel.executeInstruction(t,e))){const n=this.functionsDefinitions.get(t);if(!n)throw new Error(`L'instruction "${t.toUpperCase()}" n'existe pas.\nLes instructions disponibles sont: ${[Array.from(this.functionsDefinitions.keys()).map((t=>{var e;return`${t}(${null===(e=this.functionsDefinitions.get(t))||void 0===e?void 0:e.args.join(", ")})`})),...this.kernel.instructionsNames].join(", ")}.`);if(e.length!==n.args.length)throw new Error(`La fonction ${t}(${n.args.join(", ")}) attend ${n.args.length} argument${n.args.length>1?"s":""}, pas ${e.length}.`);this.kernel.subroutineEnter(n.args,e),this.callStack.push(this.cursor),this.cursor=n.cursor}})),this.$if=at("IF ... ELSE",(()=>{const t=this.popNum();0===this.pop()&&(this.cursor=t)})),this.$forIn=at("FOR ... IN",(()=>{const[t,e,n,s]=this.stack.slice(-4),r=(0,u.Kg)(e)?e.split(""):e;if(!Array.isArray(r))throw new Error(["Après le IN, il me faut une liste ou une chaine.",`Mais j'ai reçu ça : ${JSON.stringify(r)}.`].join("\n"));if(!(0,u.Kg)(t))throw new Error("Internal error! VarName must be a number.");if(!(0,u.Et)(n))throw new Error("Internal error! Index must be a number.");if(!(0,u.Et)(s))throw new Error("Internal error! JumpOut must be a number.");if(n>=r.length)return this.stack.splice(-4,4),void(this.cursor=s);this.kernel.setVar(t,r[n]),this.stack[this.stack.length-2]=n+1}))}execute(t){return it(this,void 0,void 0,(function*(){try{this.code=t,console.log(t),this.compile(),this.link()}catch(t){console.error(t),console.log("Byte code:",this.bytecode),M("Erreur de compilation !",H(t)?t:{code:this.code,pos:this.bytecode[this.cursor].pos,msg:`${t}`})}try{this.stack.splice(0,this.stack.length);const{bytecode:t,stack:e}=this;for(this.cursor=0;this.cursor<t.length&&lt.state.running.value;){const n=t[this.cursor++].val;"function"==typeof n?yield n():e.push(n)}this.kernel.debugVariables()}catch(t){console.error(t),console.log("Cursor:",this.cursor),console.log("Byte code:",this.bytecode),console.log("Stack:",this.stack),M("Erreur d'execution !",H(t)?t:{code:this.code,pos:this.bytecode[this.cursor].pos,msg:`${t}`})}finally{this.kernel.paint()}}))}compile(){this.labels.reset(),this.bytecode.splice(0,this.bytecode.length);const t=new B.F(this.code);for(console.log("Tokens:",t.all()),t.next(),this.lexer=t;t.hasMoreCode();)this.parseBloc()||t.fatal("Caractère inattendu ! Je suis perdu...");this.pushBytecode("<<EOF>>"),console.log("Compiled!",this.bytecode)}link(){this.labels.apply(this.bytecode),this.debugBytecode()}fatal(t){const e=this.bytecode[this.cursor];throw e&&console.error(t,e),new Error(t)}pushBytecode(...t){for(const e of t)this.bytecode.push({pos:this.lexer.token.pos,val:e})}pushJump(t){this.labelPushItsValue(t),this.pushBytecode(this.$jump)}pushJumpIfZero(t){this.labelPushItsValue(t),this.pushBytecode(this.$jumpIfZero)}labelPushItsValue(t){this.pushBytecode(0),this.labels.link(this.bytecode.length-1,t)}labelStickHere(t){return this.labels.stick(t,this.bytecode.length)}labelCreate(t=""){return this.labels.create(t)}parseAny(...t){for(const e of t)if(e())return!0;return!1}pop(){const t=this.stack.pop();return null!=t?t:0}popStr(){const t=this.stack.pop();return(0,u.Kg)(t)?t:JSON.stringify(t)}popNum(){const t=this.stack.pop();return(0,u.Et)(t)?t:0}popArr(){const t=this.stack.pop();return Array.isArray(t)?t:(console.error("We were expecting an array, but got:",t),[])}makeBinOp(t){return at(t,(()=>{const e=this.pop(),n=this.pop(),s=V[t.toUpperCase()];s||this.lexer.fatal(`Unimplemented binary operator: "${t}"!`);const r=s(n,e);this.stack.push(r)}))}debugBytecode(){const t=this.labels.getLabelsMaxLength(),e=this.bytecode.map((({val:t},e)=>{if((0,u.Tn)(t))return`CALL ${t.name}`;const n=this.labels.getLinkAtCursor(e);return n?`LINK ${n}  ->  ${JSON.stringify(t)}`:`PUSH ${JSON.stringify(t)}`})).map(((e,n)=>`${`${n}`.padStart(6," ")}. ${this.labels.getLabelAtCursor(n).padEnd(t)} ${e}`));console.info(e.join("\n"))}}function at(t,e){return{[t]:()=>new Promise(((t,n)=>{try{e()}catch(t){n(t)}t()}))}[t]}var ct=function(t,e,n,s){return new(n||(n=Promise))((function(r,i){function o(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((s=s.apply(t,e||[])).next())}))};const lt=new class{constructor(){this.state=$,this.canvas=null,this.kernel=null,$.running.value=!1}setCanvas(t){var e;t!==this.canvas&&(null===(e=this.kernel)||void 0===e||e.delete(),this.canvas=t,t&&(this.kernel=new k(t,O.m.symbols)))}run(){return ct(this,arguments,void 0,(function*({fullscreen:t=!1,code:e}={}){const{kernel:n}=this;if(n)try{t&&n.fullscreenRequest(),lt.state.error.value=null,lt.state.running.value=!0;const s=function(t){return new ot(t)}(n);yield s.execute(null!=e?e:this.state.code.value)}catch(t){console.error(t);const e=(0,u.Kg)(t)?t:t instanceof Error?t.message:JSON.stringify(t);lt.state.error.value=e}finally{lt.state.running.value=!1,t&&n.fullscreenExit()}}))}share(){return ct(this,void 0,void 0,(function*(){const{href:t}=globalThis.location,e=t.lastIndexOf("#"),n=`${e>0?t.slice(0,e):t}#/run/${s=lt.state.code.value,btoa(s)}`;var s;navigator.share?navigator.share({title:"TLK-74",text:"Mon programme",url:n}):globalThis.open(n,"_blank_")}))}}},6872:(t,e,n)=>{n.d(e,{M:()=>I});var s=n(4848),r=n(5968),i=n(5072),o=n.n(i),a=n(7825),c=n.n(a),l=n(7659),u=n.n(l),h=n(5056),p=n.n(h),f=n(540),d=n.n(f),g=n(1113),m=n.n(g),E=n(1039),v={};v.styleTagTransform=m(),v.setAttributes=p(),v.insert=u().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=d(),o()(E.A,v);const b=E.A&&E.A.locals?E.A.locals:void 0;var y=n(6731);const x=r.Sxu.classNames;function I(t){return(0,s.jsx)("div",{className:x.join(b.panelMonitor),children:(0,s.jsx)("canvas",{ref:t=>{y.E.setCanvas(t),y.E.state.ready.value=!0},width:"64",height:"48"})})}}}]);