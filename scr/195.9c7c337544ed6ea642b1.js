"use strict";(self.webpackChunkvintage_machine=self.webpackChunkvintage_machine||[]).push([[195],{1643:(n,t,e)=>{e.d(t,{I:()=>w});var o=e(4848),r=e(5968),i=e(5072),a=e.n(i),s=e(7825),c=e.n(s),l=e(7659),f=e.n(l),u=e(5056),d=e.n(u),p=e(540),h=e.n(p),v=e(1113),g=e.n(v),b=e(6637),m={};m.styleTagTransform=g(),m.setAttributes=d(),m.insert=f().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=h(),a()(b.A,m);const y=b.A&&b.A.locals?b.A.locals:void 0;var x=e(2197);const E=r.Sxu.classNames;function w({type:n="neutral",enabled:t=!0,children:e,onClick:r}){const i=(0,x.Kg)(r)?()=>globalThis.location.href=r:r;return(0,o.jsx)("div",{className:E.join(y.button,y[n]),children:(0,o.jsx)("button",{type:"button",onClick:i,disabled:!t,children:e})})}},2197:(n,t,e)=>{function o(n){return!!n&&!Array.isArray(n)&&"object"==typeof n}function r(n){return"string"==typeof n}function i(n){return"number"==typeof n}function a(n){return"function"==typeof n}function s(n){return"boolean"==typeof n}function c(n,t,e=null){try{return l(n,t),!0}catch(t){return e&&(console.error("[Invalid type]",e),console.error(n),console.debug(t)),!1}}function l(n,t,e="data"){if("function"==typeof t)return l(n,t(),e);if("unknown"===t)return;if("null"===t){if(null!==n)throw console.log("ðŸš€ [index] data = ",n,typeof n),Error(`Expected ${e} to be a null and not a ${d(n)}!`);return}if("string"==typeof t){if(typeof n!==t)throw Error(`Expected ${e} to be a ${t} and not a ${d(n)}!`);return}if(Array.isArray(t)){const[r]=t;switch(r){case"array":return void function(n,t,e){if(!Array.isArray(n))throw Error(`Expected ${t} to be an array and not a ${d(n)}!`);const[,o,r]=e;if(r){const e=n.length;if(i(r)){if(e!==r)throw Error(`Expected ${t}'s length to be ${r} and not ${e}!`)}else{const{min:n,max:o}=r;if(i(n)&&e<n)throw Error(`Expected ${t}'s MIN length to be ${n} and not ${e}!`);if(i(o)&&e>o)throw Error(`Expected ${t}'s MAX length to be ${o} and not ${e}!`)}}for(let e=0;e<n.length;e+=1)l(n[e],o,`${t}[${e}]`)}(n,e,t);case"map":return void function(n,t,e){if(!o(n))throw Error(`Expected ${t} to be an object and not a ${d(n)}!`);const[,r]=e;for(const e of Object.keys(n))"string"==typeof e&&l(n[e],r,`${t}[${e}]`)}(n,e,t);case"?":return void function(n,t,e){if(void 0===n)return;const[,o]=e;l(n,o,t)}(n,e,t);case"|":return void function(n,t,e){const[,...o]=e;if(0===o.length)throw Error(`No type has been defined for this alternative: ${JSON.stringify(e)}!`);const r=[];for(const e of o)try{return void l(n,e,t)}catch(n){n instanceof Error&&r.push(n)}throw new Error(`All alternatives failed!${r.map((n=>`\n${n.message}`))}`)}(n,e,t);case"tuple":return void f(n,e,t);case"tuple...":return void function(n,t,[,...e]){const o=e.length-1;f(n,t,["tuple",...e.slice(0,o)]);const r=e[o];for(let e=o;e<n.length;e++)l(n[e],r,`${t}[${e}]`)}(n,e,t);case"partial":return void function(n,t,[,e]){!function(n,t="data"){if(!o(n))throw Error(`${t} was expected to be an object but we got ${typeof n}!`)}(n,t);for(const o of Object.keys(e)){if("string"!=typeof o)continue;const r=n[o];void 0!==r&&l(r,e[o],`${t}.${o}`)}}(n,e,t);case"literal":return void function(n,t,e){const[,...o]=e;for(const t of o)if(n===t)return;throw Error(`Expected ${t} to be a literal (${o.map((n=>`"${n}"`)).join(" | ")}) and not a ${d(n)}!`)}(n,e,t);case"custom":return void function(n,t,[,e]){if(!e(n))throw Error(`Expected ${e.name}(${t}) to return true!`)}(n,e,t);default:throw Error(`Don't know how to create a type guard for this kind of type: ${JSON.stringify(t)}`)}}if("object"!=typeof n)throw Error(`Expected ${e} to be an object and not a ${d(n)}!`);const r=n;for(const n of Object.keys(t))"string"==typeof n&&l(r[n],t[n],`${e}.${n}`)}function f(n,t,[,...e]){if(function(n,t="data"){if(!Array.isArray(n))throw Error(`${t} was expected to be an Array but we got ${typeof n}!`)}(n),e.length>n.length)throw Error(`Expected ${t}'s length to be at least ${e.length} and not ${n.length}!`);for(let o=0;o<e.length;o++){const r=e[o];l(n[o],r,`${t}[${o}]`)}}function u(n,t){return function(n,t,e){return c(n,t)?n:c(e,t)?e:e(n)}(n,"number",t)}function d(n){var t;return null===n?"null":"function"==typeof n?`function ${null!==(t=n.name)&&void 0!==t?t:""}()`:typeof n}e.d(t,{Et:()=>i,GB:()=>u,Kg:()=>r,Lm:()=>s,Tn:()=>a,Xj:()=>c,j:()=>l})},4195:(n,t,e)=>{e.r(t),e.d(t,{default:()=>j});var o=e(4848),r=e(6540),i=e(1858),a=e(5968),s=e(1643);class c extends i.tbm{constructor(n){super(),this.context=n;const{gl:t}=n;this.prg=new i.a6X(t,{vert:"#version 300 es\nprecision mediump float;\nconst vec2 positions[4] = vec2[4](\n    vec2(-1.0, -1.0), \n    vec2(1.0, -1.0), \n    vec2(-1.0, 1.0), \n    vec2(1.0, 1.0)\n);\nout vec2 uv;\n\nvoid main() {\n    uv = positions[gl_VertexID];\n    gl_Position = vec4(positions[gl_VertexID], 0.0, 1.0);\n}",frag:"#version 300 es\nprecision highp float;\n\nuniform float uniTime;\nuniform vec2 uniScreenSize;\n\nin vec2 uv;\nout vec4 fragColor;\n\nfloat rand(vec2 p) {\n    return fract(sin(dot(p.xy, vec2(1., 300.))) * 43758.5453123);\n}\n\n// Based on Morgan McGuire\nfloat noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n\n    // Four corners in 2D of a tile\n    float a = rand(i);\n    float b = rand(i + vec2(1.0, 0.0));\n    float c = rand(i + vec2(0.0, 1.0));\n    float d = rand(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n#define OCTAVES 5\nfloat fbm(vec2 p) {\n    // Initial values\n    float value = 0.;\n    float amplitude = .4;\n    float frequency = 0.;\n\n    // Loop of octaves\n    for (int i = 0; i < OCTAVES; i++) {\n        value += amplitude * noise(p);\n        p *= 2.;\n        amplitude *= .4;\n    }\n    return value;\n}\n\nfloat alpha(float speed) {\n    return 0.5 * (1.0 + sin(uniTime * speed));\n}\n\nconst float PIXEL = 16.0;\n\nvoid main() {\n    vec2 p = uv.xy;\n    ivec2 f = ivec2(gl_FragCoord.xy) % ivec2(PIXEL);\n    if (f.x == 0 || f.y == 0) {\n        fragColor = vec4(0, 0, 0, 1);\n        return;\n    };\n\n    p = PIXEL * floor(gl_FragCoord.xy / PIXEL);\n    p /= uniScreenSize;\n    p *= 2.0;\n    p -= vec2(1);\n\n    float gradient = mix(p.y*.6 + .1, p.y*1.2 + .9, fbm(p));\n    float speed = 0.5;\n    float details = 7.;\n    float force = 10.0; //.9;\n    float shift = 0.0;\n   \n    vec2 fast = vec2(p.x, p.y - uniTime*speed) * details;\n    float ns_a = fbm(fast);\n    float ns_b = force * fbm(fast + ns_a + uniTime) - shift;    \n    float nns = force * fbm(vec2(ns_a, ns_b));\n    float ins = fbm(vec2(ns_b, ns_a));\n\n    vec3 c1 = mix(vec3(.9, .5, .3), vec3(.5, .0, .0), ins + shift);\n    vec3 c2 = vec3(ins - gradient);\n    vec3 c = c1 + c2;\n    float light = c.r;\n    light = pow(light, mix(2.0, 2.1, alpha(1.412)));\n    vec3 color = mix(vec3(1.0, .6667, 0.0), vec3(.8, .333, 0.0), alpha(0.71)) * light;\n\n    fragColor = vec4(color, 1.0);\n}"})}delete(){this.prg.delete()}paint(n,t){const{context:e,prg:o}=this,{gl:r}=e;o.use(),o.uniform1f("uniTime",n),o.uniform2f("uniScreenSize",r.drawingBufferWidth,r.drawingBufferHeight),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}var l=e(5072),f=e.n(l),u=e(7825),d=e.n(u),p=e(7659),h=e.n(p),v=e(5056),g=e.n(v),b=e(540),m=e.n(b),y=e(1113),x=e.n(y),E=e(6035),w={};w.styleTagTransform=x(),w.setAttributes=g(),w.insert=h().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=m(),f()(E.A,w);const A=E.A&&E.A.locals?E.A.locals:void 0,$=a.Sxu.classNames;function T(){const n=r.useRef(null);return r.useEffect((()=>{const t=n.current;if(!t)return;const e=new i.tfp(t,{alpha:!0,antialias:!1,resolution:1});e.add(new c(e)),e.play()})),(0,o.jsxs)(a.sWC,{className:$.join(A.welcome),position:"absolute",color:"primary-5",fullsize:!0,children:[(0,o.jsx)("canvas",{ref:n}),(0,o.jsxs)(a.sWC,{position:"absolute",fullsize:!0,display:"grid",placeItems:"center",children:[(0,o.jsx)("h1",{children:"TLK-74"}),(0,o.jsxs)("h2",{children:["ton ordinateur personnel et rÃ©tro-futuriste",(0,o.jsx)("br",{}),"pour coder les jeux les plus fous"]}),(0,o.jsxs)(s.I,{onClick:"#/workbench",type:"start",children:[(0,o.jsx)(a.fWr,{}),(0,o.jsx)("div",{children:"DÃ©marrer"})]})]})]})}function j(){return(0,o.jsx)(T,{})}},6035:(n,t,e)=>{e.d(t,{A:()=>s});var o=e(1601),r=e.n(o),i=e(6314),a=e.n(i)()(r());a.push([n.id,".KG2mZosyLkEZnJpjg4sU {\n  font-size: 4vmin;\n  padding: 0.25em;\n}\n\n.KG2mZosyLkEZnJpjg4sU h1 {\n  font-size: 20vmin;\n  font-weight: bolder;\n  -webkit-text-stroke: 1px #ff0;\n  color: #ff01;\n  margin: 0;\n  text-shadow: 0 0 0.2em #fa0;\n}\n\n.KG2mZosyLkEZnJpjg4sU h2 {\n  text-align: center;\n  -webkit-text-stroke: 1px #000;\n}\n\n.KG2mZosyLkEZnJpjg4sU > canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  opacity: 1;\n}\n",""]),a.locals={welcome:"KG2mZosyLkEZnJpjg4sU"};const s=a},6637:(n,t,e)=>{e.d(t,{A:()=>s});var o=e(1601),r=e.n(o),i=e(6314),a=e.n(i)()(r());a.push([n.id,'.AisLsJaE_AWnIhDlnTUV {\n  perspective: 200px;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button {\n  all: unset;\n  position: relative;\n  margin: 0;\n  display: inline-block;\n  font: inherit;\n  font-family: monospace;\n  width: auto;\n  padding: 0 1em;\n  height: 2em;\n  border-radius: 0.25em;\n  border: 0.1em solid #000;\n  box-shadow: 0 0.25em 0 0.1em #000;\n  transform: rotate3d(1, 0, 0, 30deg);\n  background: #004;\n  color: #fff;\n  font-variant: small-caps;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  margin: 0.25em 0.5em;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.AisLsJaE_AWnIhDlnTUV.u8TVnl7P2e6Xa2vcTfyL > button {\n  background: #060;\n  color: #fff;\n}\n\n.AisLsJaE_AWnIhDlnTUV.QpopofG1pgxZW_vUMRNc > button {\n  background: #600;\n  color: #fff;\n}\n\n.AisLsJaE_AWnIhDlnTUV.UTuBcJR3VQHwaqQr7bBg > button {\n  border: 50%;\n  padding: 0;\n  width: 2em;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(30deg, #fff4, #fff0, #0004);\n}\n\n.AisLsJaE_AWnIhDlnTUV > button > * {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button:hover {\n  filter: brightness(120%);\n}\n\n.AisLsJaE_AWnIhDlnTUV > button:active {\n  transform: rotate3d(1, 0, 0, 30deg) translateY(0.125em);\n  box-shadow: 0 0.125em 0 0.1em #000;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button[disabled] {\n  pointer-events: none;\n  cursor: default;\n  filter: grayscale(100%);\n  opacity: 0.5;\n}\n',""]),a.locals={button:"AisLsJaE_AWnIhDlnTUV",start:"u8TVnl7P2e6Xa2vcTfyL",stop:"QpopofG1pgxZW_vUMRNc",float:"UTuBcJR3VQHwaqQr7bBg"};const s=a}}]);