"use strict";(self.webpackChunkvintage_machine=self.webpackChunkvintage_machine||[]).push([[672],{23:(t,e,n)=>{n.d(e,{xI:()=>ft});let i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function r(t){i=t}const s={exec:()=>null};function o(t,e=""){let n="string"==typeof t?t:t.source;const i={replace:(t,e)=>{let r="string"==typeof e?e:e.source;return r=r.replace(l.caret,"$1"),n=n.replace(t,r),i},getRegex:()=>new RegExp(n,e)};return i}const l={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},h=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,a=/(?:[*+-]|\d{1,9}[.)])/,c=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,u=o(c).replace(/bull/g,a).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),f=o(c).replace(/bull/g,a).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),d=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,p=/(?!\s*\])(?:\\.|[^\[\]\\])+/,g=o(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",p).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),m=o(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,a).getRegex(),w="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",v=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,y=o("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",v).replace("tag",w).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b=o(d).replace("hr",h).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex(),x={blockquote:o(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",b).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:g,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:h,html:y,lheading:u,list:m,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:b,table:s,text:/^[^\n]+/},k=o("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",h).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex(),S={...x,lheading:f,table:k,paragraph:o(d).replace("hr",h).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w).getRegex()},A={...x,html:o("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",v).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:o(d).replace("hr",h).replace("heading"," *#{1,6} *[^\n]").replace("lheading",u).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},M=/^( {2,}|\\)\n(?!\s*$)/,C=/[\p{P}\p{S}]/u,O=/[\s\p{P}\p{S}]/u,T=/[^\s\p{P}\p{S}]/u,E=o(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,O).getRegex(),D=/(?!~)[\p{P}\p{S}]/u,R=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,B=o(R,"u").replace(/punct/g,C).getRegex(),P=o(R,"u").replace(/punct/g,D).getRegex(),L="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",N=o(L,"gu").replace(/notPunctSpace/g,T).replace(/punctSpace/g,O).replace(/punct/g,C).getRegex(),I=o(L,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,D).getRegex(),F=o("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,T).replace(/punctSpace/g,O).replace(/punct/g,C).getRegex(),$=o(/\\(punct)/,"gu").replace(/punct/g,C).getRegex(),z=o(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),H=o(v).replace("(?:--\x3e|$)","--\x3e").getRegex(),V=o("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",H).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W=o(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),j=o(/^!?\[(label)\]\[(ref)\]/).replace("label",_).replace("ref",p).getRegex(),q=o(/^!?\[(ref)\](?:\[\])?/).replace("ref",p).getRegex(),K={_backpedal:s,anyPunctuation:$,autolink:z,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:M,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:s,emStrongLDelim:B,emStrongRDelimAst:N,emStrongRDelimUnd:F,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:W,nolink:q,punctuation:E,reflink:j,reflinkSearch:o("reflink|nolink(?!\\()","g").replace("reflink",j).replace("nolink",q).getRegex(),tag:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:s},G={...K,link:o(/^!?\[(label)\]\((.*?)\)/).replace("label",_).getRegex(),reflink:o(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_).getRegex()},U={...K,emStrongRDelimAst:I,emStrongLDelim:P,url:o(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Y={...U,br:o(M).replace("{2,}","*").getRegex(),text:o(U.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},J={normal:x,gfm:S,pedantic:A},X={normal:K,gfm:U,breaks:Y,pedantic:G},Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q=t=>Z[t];function tt(t,e){if(e){if(l.escapeTest.test(t))return t.replace(l.escapeReplace,Q)}else if(l.escapeTestNoEncode.test(t))return t.replace(l.escapeReplaceNoEncode,Q);return t}function et(t){try{t=encodeURI(t).replace(l.percentDecode,"%")}catch{return null}return t}function nt(t,e){const n=t.replace(l.findPipe,((t,e,n)=>{let i=!1,r=e;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(l.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(l.slashPipe,"|");return n}function it(t,e,n){const i=t.length;if(0===i)return"";let r=0;for(;r<i&&t.charAt(i-r-1)===e;)r++;return t.slice(0,i-r)}function rt(t,e,n,i,r){const s=e.href,o=e.title||null,l=t[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;const h={type:"!"===t[0].charAt(0)?"image":"link",raw:n,href:s,title:o,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,h}class st{options;rules;lexer;constructor(t){this.options=t||i}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:it(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const i=t.match(n.other.indentCodeCompensation);if(null===i)return e;const r=i[1];return e.split("\n").map((t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[i]=e;return i.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=it(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:it(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=it(e[0],"\n").split("\n"),n="",i="";const r=[];for(;t.length>0;){let e=!1;const s=[];let o;for(o=0;o<t.length;o++)if(this.rules.other.blockquoteStart.test(t[o]))s.push(t[o]),e=!0;else{if(e)break;s.push(t[o])}t=t.slice(o);const l=s.join("\n"),h=l.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${l}`:l,i=i?`${i}\n${h}`:h;const a=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=a,0===t.length)break;const c=r.at(-1);if("code"===c?.type)break;if("blockquote"===c?.type){const e=c,s=e.raw+"\n"+t.join("\n"),o=this.blockquote(s);r[r.length-1]=o,n=n.substring(0,n.length-e.raw.length)+o.raw,i=i.substring(0,i.length-e.text.length)+o.text;break}if("list"!==c?.type);else{const e=c,s=e.raw+"\n"+t.join("\n"),o=this.list(s);r[r.length-1]=o,n=n.substring(0,n.length-c.raw.length)+o.raw,i=i.substring(0,i.length-e.raw.length)+o.raw,t=s.substring(r.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;t;){let n=!1,i="",l="";if(!(e=s.exec(t)))break;if(this.rules.block.hr.test(t))break;i=e[0],t=t.substring(i.length);let h=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),a=t.split("\n",1)[0],c=!h.trim(),u=0;if(this.options.pedantic?(u=2,l=h.trimStart()):c?u=e[1].length+1:(u=e[2].search(this.rules.other.nonSpaceChar),u=u>4?1:u,l=h.slice(u),u+=e[1].length),c&&this.rules.other.blankLine.test(a)&&(i+=a+"\n",t=t.substring(a.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(u),n=this.rules.other.hrRegex(u),r=this.rules.other.fencesBeginRegex(u),s=this.rules.other.headingBeginRegex(u),o=this.rules.other.htmlBeginRegex(u);for(;t;){const f=t.split("\n",1)[0];let d;if(a=f,this.options.pedantic?(a=a.replace(this.rules.other.listReplaceNesting,"  "),d=a):d=a.replace(this.rules.other.tabCharGlobal,"    "),r.test(a))break;if(s.test(a))break;if(o.test(a))break;if(e.test(a))break;if(n.test(a))break;if(d.search(this.rules.other.nonSpaceChar)>=u||!a.trim())l+="\n"+d.slice(u);else{if(c)break;if(h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(r.test(h))break;if(s.test(h))break;if(n.test(h))break;l+="\n"+a}c||a.trim()||(c=!0),i+=f+"\n",t=t.substring(f.length+1),h=d.slice(u)}}r.loose||(o?r.loose=!0:this.rules.other.doubleBlankLine.test(i)&&(o=!0));let f,d=null;this.options.gfm&&(d=this.rules.other.listIsTask.exec(l),d&&(f="[ ] "!==d[0],l=l.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:i,task:!!d,checked:f,loose:!1,text:l,tokens:[]}),r.raw+=i}const l=r.items.at(-1);if(!l)return;l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd(),r.raw=r.raw.trimEnd();for(let t=0;t<r.items.length;t++)if(this.lexer.state.top=!1,r.items[t].tokens=this.lexer.blockTokens(r.items[t].text,[]),!r.loose){const e=r.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));r.loose=n}if(r.loose)for(let t=0;t<r.items.length;t++)r.items[t].loose=!0;return r}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:i}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const n=nt(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const t of i)this.rules.other.tableAlignRight.test(t)?s.align.push("right"):this.rules.other.tableAlignCenter.test(t)?s.align.push("center"):this.rules.other.tableAlignLeft.test(t)?s.align.push("left"):s.align.push(null);for(let t=0;t<n.length;t++)s.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:s.align[t]});for(const t of r)s.rows.push(nt(t,s.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:s.align[e]}))));return s}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=it(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let i=0;i<t.length;i++)if("\\"===t[i])i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return n>0?-2:-1}(e[2],"()");if(-2===t)return;if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],i=t[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),rt(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return rt(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(i&&(!i[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...i[0]].length-1;let r,s,o=n,l=0;const h="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+n);null!=(i=h.exec(e));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(s=[...r].length,i[3]||i[4]){o+=s;continue}if((i[5]||i[6])&&n%3&&!((n+s)%3)){l+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+l);const e=[...i[0]][0].length,h=t.slice(0,n+i.index+e+s);if(Math.min(n,s)%2){const t=h.slice(1,-1);return{type:"em",raw:h,text:t,tokens:this.lexer.inlineTokens(t)}}const a=h.slice(2,-2);return{type:"strong",raw:h,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=e[0],n="mailto:"+t;else{let i;do{i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(i!==e[0]);t=e[0],n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class ot{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||i,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:l,block:J.normal,inline:X.normal};this.options.pedantic?(e.block=J.pedantic,e.inline=X.pedantic):this.options.gfm&&(e.block=J.gfm,this.options.breaks?e.inline=X.breaks:e.inline=X.gfm),this.tokenizer.rules=e}static get rules(){return{block:J,inline:X}}static lex(t,e){return new ot(e).lex(t)}static lexInline(t,e){return new ot(e).inlineTokens(t)}lex(t){t=t.replace(l.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(l.tabCharGlobal,"    ").replace(l.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some((n=>!!(i=n.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);const n=e.at(-1);1===i.raw.length&&void 0!==n?n.raw+="\n":e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.at(-1).src=n.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}let r=t;if(this.options.extensions?.startBlock){let e=1/0;const n=t.slice(1);let i;this.options.extensions.startBlock.forEach((t=>{i=t.call({lexer:this},n),"number"==typeof i&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(r=t.substring(0,e+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){const s=e.at(-1);n&&"paragraph"===s?.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):e.push(i),n=r.length!==t.length,t=t.substring(i.raw.length)}else if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);const n=e.at(-1);"text"===n?.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(i)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,i=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(n));)t.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,s="";for(;t;){let i;if(r||(s=""),r=!1,this.options.extensions?.inline?.some((n=>!!(i=n.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0))))continue;if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length);const n=e.at(-1);"text"===i.type&&"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):e.push(i);continue}if(i=this.tokenizer.emStrong(t,n,s)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.autolink(t)){t=t.substring(i.raw.length),e.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t))){t=t.substring(i.raw.length),e.push(i);continue}let o=t;if(this.options.extensions?.startInline){let e=1/0;const n=t.slice(1);let i;this.options.extensions.startInline.forEach((t=>{i=t.call({lexer:this},n),"number"==typeof i&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(i=this.tokenizer.inlineText(o)){t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(s=i.raw.slice(-1)),r=!0;const n=e.at(-1);"text"===n?.type?(n.raw+=i.raw,n.text+=i.text):e.push(i)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class lt{options;parser;constructor(t){this.options=t||i}space(t){return""}code({text:t,lang:e,escaped:n}){const i=(e||"").match(l.notSpaceStart)?.[0],r=t.replace(l.endingNewline,"")+"\n";return i?'<pre><code class="language-'+tt(i)+'">'+(n?r:tt(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:tt(r,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let i="";for(let e=0;e<t.items.length;e++){const n=t.items[e];i+=this.listitem(n)}const r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+tt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let i="";for(let e=0;e<t.rows.length;e++){const r=t.rows[e];n="";for(let t=0;t<r.length;t++)n+=this.tablecell(r[t]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+i+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${tt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const i=this.parser.parseInline(n),r=et(t);if(null===r)return i;let s='<a href="'+(t=r)+'"';return e&&(s+=' title="'+tt(e)+'"'),s+=">"+i+"</a>",s}image({href:t,title:e,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const r=et(t);if(null===r)return tt(n);let s=`<img src="${t=r}" alt="${n}"`;return e&&(s+=` title="${tt(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:tt(t.text)}}class ht{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class at{options;renderer;textRenderer;constructor(t){this.options=t||i,this.options.renderer=this.options.renderer||new lt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ht}static parse(t,e){return new at(e).parse(t)}static parseInline(t,e){return new at(e).parseInline(t)}parse(t,e=!0){let n="";for(let i=0;i<t.length;i++){const r=t[i];if(this.options.extensions?.renderers?.[r.type]){const t=r,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const s=r;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let r=s,o=this.renderer.text(r);for(;i+1<t.length&&"text"===t[i+1].type;)r=t[++i],o+="\n"+this.renderer.text(r);n+=e?this.renderer.paragraph({type:"paragraph",raw:o,text:o,tokens:[{type:"text",raw:o,text:o,escaped:!0}]}):o;continue}default:{const t='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}parseInline(t,e=this.renderer){let n="";for(let i=0;i<t.length;i++){const r=t[i];if(this.options.extensions?.renderers?.[r.type]){const t=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=t||"";continue}}const s=r;switch(s.type){case"escape":case"text":n+=e.text(s);break;case"html":n+=e.html(s);break;case"link":n+=e.link(s);break;case"image":n+=e.image(s);break;case"strong":n+=e.strong(s);break;case"em":n+=e.em(s);break;case"codespan":n+=e.codespan(s);break;case"br":n+=e.br(s);break;case"del":n+=e.del(s);break;default:{const t='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}}class ct{options;block;constructor(t){this.options=t||i}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?ot.lex:ot.lexInline}provideParser(){return this.block?at.parse:at.parseInline}}const ut=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=at;Renderer=lt;TextRenderer=ht;Lexer=ot;Tokenizer=st;Hooks=ct;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{const t=i;for(const i of t.header)n=n.concat(this.walkTokens(i.tokens,e));for(const i of t.rows)for(const t of i)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=i;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=i;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((i=>{const r=t[i].flat(1/0);n=n.concat(this.walkTokens(r,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let i=t.renderer.apply(this,e);return!1===i&&(i=n.apply(this,e)),i}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new lt(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const i=n,r=t.renderer[i],s=e[i];e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=s.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new st(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const i=n,r=t.tokenizer[i],s=e[i];e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=s.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new ct;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const i=n,r=t.hooks[i],s=e[i];ct.passThroughHooks.has(n)?e[i]=t=>{if(this.defaults.async)return Promise.resolve(r.call(e,t)).then((t=>s.call(e,t)));const n=r.call(e,t);return s.call(e,n)}:e[i]=(...t)=>{let n=r.apply(e,t);return!1===n&&(n=s.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,i=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(i.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ot.lex(t,e??this.defaults)}parser(t,e){return at.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const i={...n},r={...this.defaults,...i},s=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=t);const o=r.hooks?r.hooks.provideLexer():t?ot.lex:ot.lexInline,l=r.hooks?r.hooks.provideParser():t?at.parse:at.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then((t=>o(t,r))).then((t=>r.hooks?r.hooks.processAllTokens(t):t)).then((t=>r.walkTokens?Promise.all(this.walkTokens(t,r.walkTokens)).then((()=>t)):t)).then((t=>l(t,r))).then((t=>r.hooks?r.hooks.postprocess(t):t)).catch(s);try{r.hooks&&(e=r.hooks.preprocess(e));let t=o(e,r);r.hooks&&(t=r.hooks.processAllTokens(t)),r.walkTokens&&this.walkTokens(t,r.walkTokens);let n=l(t,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(t){return s(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+tt(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function ft(t,e){return ut.parse(t,e)}ft.options=ft.setOptions=function(t){return ut.setOptions(t),ft.defaults=ut.defaults,r(ft.defaults),ft},ft.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ft.defaults=i,ft.use=function(...t){return ut.use(...t),ft.defaults=ut.defaults,r(ft.defaults),ft},ft.walkTokens=function(t,e){return ut.walkTokens(t,e)},ft.parseInline=ut.parseInline,ft.Parser=at,ft.parser=at.parse,ft.Renderer=lt,ft.TextRenderer=ht,ft.Lexer=ot,ft.lexer=ot.lex,ft.Tokenizer=st,ft.Hooks=ct,ft.parse=ft,ft.options,ft.setOptions,ft.use,ft.walkTokens,ft.parseInline,at.parse,ot.lex},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},63:(t,e,n)=>{n.d(e,{pw:()=>mn,b6:()=>re,cL:()=>xe});var i=n(638),r=n(898);const s=1024;let o=0;class l{constructor(t,e){this.from=t,this.to=e}}class h{constructor(t={}){this.id=o++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=u.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}h.closedBy=new h({deserialize:t=>t.split(" ")}),h.openedBy=new h({deserialize:t=>t.split(" ")}),h.group=new h({deserialize:t=>t.split(" ")}),h.isolate=new h({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),h.contextHash=new h({perNode:!0}),h.lookAhead=new h({perNode:!0}),h.mounted=new h({perNode:!0});class a{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[h.mounted.id]}}const c=Object.create(null);class u{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):c,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new u(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(h.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(h.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}u.none=new u("",Object.create(null),0,8);const f=new WeakMap,d=new WeakMap;var p;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class g{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=a.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new T(this.topNode,t)}cursorAt(t,e=0,n=0){let i=f.get(this)||this.topNode,r=new T(i);return r.moveTo(t,e),f.set(this,r._tree),r}get topNode(){return new x(this,0,0,null)}resolve(t,e=0){let n=y(f.get(this)||this.topNode,t,e,!1);return f.set(this,n),n}resolveInner(t,e=0){let n=y(d.get(this)||this.topNode,t,e,!0);return d.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let i=t.resolveInner(e,n),r=null;for(let t=i instanceof x?i:i.context.parent;t;t=t.parent)if(t.index<0){let s=t.parent;(r||(r=[i])).push(s.resolve(e,n)),t=s}else{let s=a.get(t.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new x(s.tree,s.overlay[0].from+t.from,-1,t);(r||(r=[i])).push(y(o,e,n,!1))}}return r?C(r):i}(this,t,e)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&p.IncludeAnonymous)>0;for(let t=this.cursor(s|p.IncludeAnonymous);;){let s=!1;if(t.from<=r&&t.to>=i&&(!o&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;s=!0}for(;s&&n&&(o||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;s=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:B(u.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new g(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new g(u.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=s,reused:o=[],minRepeatType:l=i.types.length}=t,a=Array.isArray(n)?new m(n,n.length):n,c=i.types,u=0,f=0;function d(t,e,n,s,m,x){let{id:k,start:S,end:A,size:M}=a,C=f,O=u;for(;M<0;){if(a.next(),-1==M){let e=o[k];return n.push(e),void s.push(S-t)}if(-3==M)return void(u=k);if(-4==M)return void(f=k);throw new RangeError(`Unrecognized record size: ${M}`)}let T,E,D=c[k],R=S-t;if(A-S<=r&&(E=function(t,e){let n=a.fork(),i=0,s=0,o=0,h=n.end-r,c={size:0,start:0,skip:0};t:for(let r=n.pos-t;n.pos>r;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=s,c.skip=o,o+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<r||n.start<h)break;let u=n.id>=l?4:0,f=n.start;for(n.next();n.pos>a;){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=l&&(u+=4);n.next()}s=f,i+=t,o+=u}return(e<0||i==t)&&(c.size=i,c.start=s,c.skip=o),c.size>4?c:void 0}(a.pos-e,m))){let e=new Uint16Array(E.size-E.skip),n=a.pos-E.size,r=e.length;for(;a.pos>n;)r=b(E.start,e,r);T=new w(e,A-E.start,i),R=E.start-t}else{let t=a.pos-M;a.next();let e=[],n=[],i=k>=l?k:-1,s=0,o=A;for(;a.pos>t;)i>=0&&a.id==i&&a.size>=0?(a.end<=o-r&&(v(e,n,S,s,a.end,o,i,C,O),s=e.length,o=a.end),a.next()):x>2500?p(S,t,e,n):d(S,t,e,n,i,x+1);if(i>=0&&s>0&&s<e.length&&v(e,n,S,s,S,o,i,C,O),e.reverse(),n.reverse(),i>-1&&s>0){let t=function(t,e){return(n,i,r)=>{let s,o,l=0,a=n.length-1;if(a>=0&&(s=n[a])instanceof g){if(!a&&s.type==t&&s.length==r)return s;(o=s.prop(h.lookAhead))&&(l=i[a]+s.length+o)}return y(t,n,i,r,l,e)}}(D,O);T=B(D,e,n,0,e.length,0,A-S,t,t)}else T=y(D,e,n,A-S,C-A,O)}n.push(T),s.push(R)}function p(t,e,n,s){let o=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:n,size:i}=a;if(i>4)a.next();else{if(h>-1&&e<h)break;h<0&&(h=n-r),o.push(t,e,n),l++,a.next()}}if(l){let e=new Uint16Array(4*l),r=o[o.length-2];for(let t=o.length-3,n=0;t>=0;t-=3)e[n++]=o[t],e[n++]=o[t+1]-r,e[n++]=o[t+2]-r,e[n++]=n;n.push(new w(e,o[2]-r,i)),s.push(r-t)}}function v(t,e,n,r,s,o,l,h,a){let c=[],u=[];for(;t.length>r;)c.push(t.pop()),u.push(e.pop()+n-s);t.push(y(i.types[l],c,u,o-s,h-o,a)),e.push(s-n)}function y(t,e,n,i,r,s,o){if(s){let t=[h.contextHash,s];o=o?[t].concat(o):[t]}if(r>25){let t=[h.lookAhead,r];o=o?[t].concat(o):[t]}return new g(t,e,n,i,o)}function b(t,e,n){let{id:i,start:r,end:s,size:o}=a;if(a.next(),o>=0&&i<l){let l=n;if(o>4){let i=a.pos-(o-4);for(;a.pos>i;)n=b(t,e,n)}e[--n]=l,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==o?u=i:-4==o&&(f=i);return n}let x=[],k=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,x,k,-1,0);let S=null!==(e=t.length)&&void 0!==e?e:x.length?k[0]+x[0].length:0;return new g(c[t.topID],x.reverse(),k.reverse(),S)}(t)}}g.empty=new g(u.none,[],[],0);class m{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new m(this.buffer,this.index)}}class w{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return u.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),n==(t+=4))return r;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let l=t;l!=e&&!(v(r,i,s[l+1],s[l+2])&&(o=l,n>0));l=s[l+3]);return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,l=0;o<e;){r[l++]=i[o++],r[l++]=i[o++]-n;let e=r[l++]=i[o++]-n;r[l++]=i[o++]-t,s=Math.max(s,e)}return new w(r,s,this.set)}}function v(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function y(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!i&&t instanceof x&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:p.IgnoreOverlays;if(i)for(let i=t,o=i.parent;o;i=o,o=i.parent)i instanceof x&&i.index<0&&(null===(r=o.enter(e,n,s))||void 0===r?void 0:r.from)!=i.from&&(t=o);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class b{cursor(t=0){return new T(this,t)}getChild(t,e=null,n=null){let i=k(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return k(this,t,e,n)}resolve(t,e=0){return y(this,t,e,!1)}resolveInner(t,e=0){return y(this,t,e,!0)}matchContext(t){return S(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class x extends b{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i,r=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,h=e>0?o.length:-1;t!=h;t+=e){let h=o[t],c=l[t]+s.from;if(v(i,n,c,c+h.length))if(h instanceof w){if(r&p.ExcludeBuffers)continue;let o=h.findChild(0,h.buffer.length,e,n-c,i);if(o>-1)return new M(new A(s,h,t,c),null,o)}else if(r&p.IncludeAnonymous||!h.type.isAnonymous||E(h)){let o;if(!(r&p.IgnoreMounts)&&(o=a.get(h))&&!o.overlay)return new x(o.tree,c,t,s);let l=new x(h,c,t,s);return r&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?h.children.length-1:0,e,n,i)}}if(r&p.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let i;if(!(n&p.IgnoreOverlays)&&(i=a.get(this._tree))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new x(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function k(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)for(let t=!1;!t;)if(t=r.type.is(n),!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function S(t,e,n=e.length-1){for(let i=t;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class A{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class M extends b{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new M(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new M(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new M(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new M(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new g(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function C(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let r=t[i];(r.from>n.from||r.to<n.to)&&(n=r,e=i)}let i=n instanceof x&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new O(r,n)}class O{constructor(t,e){this.heads=t,this.node=e}get next(){return C(this.heads)}}class T{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof x)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof x?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&p.IncludeAnonymous||t instanceof w||!t.type.isAnonymous||E(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let t=n;t<this.stack.length;t++)e=new M(this.buffer,e,this.stack[t]);return this.bufferNode=new M(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return S(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return S(this._tree,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function E(t){return t.children.some((t=>t instanceof w||!t.type.isAnonymous||E(t)))}const D=new WeakMap;function R(t,e){if(!t.isAnonymous||e instanceof w||e.type!=t)return 1;let n=D.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof g)){n=1;break}n+=R(t,i)}D.set(e,n)}return n}function B(t,e,n,i,r,s,o,l,h){let a=0;for(let n=i;n<r;n++)a+=R(t,e[n]);let c=Math.ceil(1.5*a/8),u=[],f=[];return function e(n,i,r,o,l){for(let a=r;a<o;){let r=a,d=i[a],p=R(t,n[a]);for(a++;a<o;a++){let e=R(t,n[a]);if(p+e>=c)break;p+=e}if(a==r+1){if(p>c){let t=n[r];e(t.children,t.positions,0,t.children.length,i[r]+l);continue}u.push(n[r])}else{let e=i[a-1]+n[a-1].length-d;u.push(B(t,n,i,r,a,d,e,null,h))}f.push(d+l-s)}}(e,n,i,r,0),(l||h)(u,f,o)}class P{constructor(t,e,n,i,r=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let i=[new P(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&i.push(n);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,l=0,h=0;;o++){let a=o<e.length?e[o]:null,c=a?a.fromA:1e9;if(c-l>=n)for(;s&&s.from<c;){let e=s;if(l>=e.from||c<=e.to||h){let t=Math.max(e.from,l)-h,n=Math.min(e.to,c)-h;e=t>=n?null:new P(t,n,e.tree,e.offset+h,o>0,!!a)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!a)break;l=a.toA,h=a.toA-a.toB}return i}}class L{startParse(t,e,n){return"string"==typeof t&&(t=new N(t)),n=n?n.length?n.map((t=>new l(t.from,t.to))):[new l(0,0)]:[new l(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class N{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new h({perNode:!0});let I=0;class F{constructor(t,e,n,i){this.name=t,this.set=e,this.base=n,this.modified=i,this.id=I++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n="string"==typeof t?t:"?";if(t instanceof F&&(e=t),null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let i=new F(n,[],null,[]);if(i.set.push(i),e)for(let t of e.set)i.set.push(t);return i}static defineModifier(t){let e=new z(t);return t=>t.modified.indexOf(e)>-1?t:z.get(t.base||t,t.modified.concat(e).sort(((t,e)=>t.id-e.id)))}}let $=0;class z{constructor(t){this.name=t,this.instances=[],this.id=$++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>{return n.base==t&&(i=e,r=n.modified,i.length==r.length&&i.every(((t,e)=>t==r[e])));var i,r}));if(n)return n;let i=[],r=new F(t.name,i,t,e);for(let t of e)t.instances.push(r);let s=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of s)i.push(z.get(e,t));return r}}function H(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,l=n[o];if(!l)throw new RangeError("Invalid path: "+t);let h=new _(i,r,o>0?n.slice(0,o):null);e[l]=h.sort(e[l])}}return V.add(e)}const V=new h;class _{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function W(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}_.empty=new _([],2,null);const j=F.define,q=j(),K=j(),G=j(K),U=j(K),Y=j(),J=j(Y),X=j(Y),Z=j(),Q=j(Z),tt=j(),et=j(),nt=j(),it=j(nt),rt=j(),st={comment:q,lineComment:j(q),blockComment:j(q),docComment:j(q),name:K,variableName:j(K),typeName:G,tagName:j(G),propertyName:U,attributeName:j(U),className:j(K),labelName:j(K),namespace:j(K),macroName:j(K),literal:Y,string:J,docString:j(J),character:j(J),attributeValue:j(J),number:X,integer:j(X),float:j(X),bool:j(Y),regexp:j(Y),escape:j(Y),color:j(Y),url:j(Y),keyword:tt,self:j(tt),null:j(tt),atom:j(tt),unit:j(tt),modifier:j(tt),operatorKeyword:j(tt),controlKeyword:j(tt),definitionKeyword:j(tt),moduleKeyword:j(tt),operator:et,derefOperator:j(et),arithmeticOperator:j(et),logicOperator:j(et),bitwiseOperator:j(et),compareOperator:j(et),updateOperator:j(et),definitionOperator:j(et),typeOperator:j(et),controlOperator:j(et),punctuation:nt,separator:j(nt),bracket:it,angleBracket:j(it),squareBracket:j(it),paren:j(it),brace:j(it),content:Z,heading:Q,heading1:j(Q),heading2:j(Q),heading3:j(Q),heading4:j(Q),heading5:j(Q),heading6:j(Q),contentSeparator:j(Z),list:j(Z),quote:j(Z),emphasis:j(Z),strong:j(Z),link:j(Z),monospace:j(Z),strikethrough:j(Z),inserted:j(),deleted:j(),changed:j(),invalid:j(),meta:rt,documentMeta:j(rt),annotation:j(rt),processingInstruction:j(rt),definition:F.defineModifier("definition"),constant:F.defineModifier("constant"),function:F.defineModifier("function"),standard:F.defineModifier("standard"),local:F.defineModifier("local"),special:F.defineModifier("special")};for(let t in st){let e=st[t];e instanceof F&&(e.name=t)}W([{tag:st.link,class:"tok-link"},{tag:st.heading,class:"tok-heading"},{tag:st.emphasis,class:"tok-emphasis"},{tag:st.strong,class:"tok-strong"},{tag:st.keyword,class:"tok-keyword"},{tag:st.atom,class:"tok-atom"},{tag:st.bool,class:"tok-bool"},{tag:st.url,class:"tok-url"},{tag:st.labelName,class:"tok-labelName"},{tag:st.inserted,class:"tok-inserted"},{tag:st.deleted,class:"tok-deleted"},{tag:st.literal,class:"tok-literal"},{tag:st.string,class:"tok-string"},{tag:st.number,class:"tok-number"},{tag:[st.regexp,st.escape,st.special(st.string)],class:"tok-string2"},{tag:st.variableName,class:"tok-variableName"},{tag:st.local(st.variableName),class:"tok-variableName tok-local"},{tag:st.definition(st.variableName),class:"tok-variableName tok-definition"},{tag:st.special(st.variableName),class:"tok-variableName2"},{tag:st.definition(st.propertyName),class:"tok-propertyName tok-definition"},{tag:st.typeName,class:"tok-typeName"},{tag:st.namespace,class:"tok-namespace"},{tag:st.className,class:"tok-className"},{tag:st.macroName,class:"tok-macroName"},{tag:st.propertyName,class:"tok-propertyName"},{tag:st.operator,class:"tok-operator"},{tag:st.comment,class:"tok-comment"},{tag:st.meta,class:"tok-meta"},{tag:st.invalid,class:"tok-invalid"},{tag:st.punctuation,class:"tok-punctuation"}]);var ot;n(417);const lt=new h,ht=new h;class at{constructor(t,e,n=[],r=""){this.data=t,this.name=r,i.$t.prototype.hasOwnProperty("tree")||Object.defineProperty(i.$t.prototype,"tree",{get(){return ut(this)}}),this.parser=e,this.extension=[bt.of(this),i.$t.languageData.of(((t,e,n)=>{let i=ct(t,e,n),r=i.type.prop(lt);if(!r)return[];let s=t.facet(r),o=i.type.prop(ht);if(o){let r=i.resolve(e-i.from,n);for(let e of o)if(e.test(r,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(t,e,n=-1){return ct(t,e,n).type.prop(lt)==this.data}findRegions(t){let e=t.facet(bt);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],i=(t,e)=>{if(t.prop(lt)==this.data)return void n.push({from:e,to:e+t.length});let r=t.prop(h.mounted);if(r){if(r.tree.prop(lt)==this.data){if(r.overlay)for(let t of r.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(r.overlay){let t=n.length;if(i(r.tree,r.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let r=t.children[n];r instanceof g&&i(r,t.positions[n]+e)}};return i(ut(t),0),n}get allowsNesting(){return!0}}function ct(t,e,n){let i=t.facet(bt),r=ut(t).topNode;if(!i||i.allowsNesting)for(let t=r;t;t=t.enter(e,n,p.ExcludeBuffers))t.type.isTop&&(r=t);return r}function ut(t){let e=t.field(at.state,!1);return e?e.tree:g.empty}at.setState=i.Pe.define();class ft{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let dt=null;class pt{constructor(t,e,n=[],i,r,s,o,l){this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=r,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new pt(t,e,[],g.empty,0,n,[],null)}startParse(){return this.parser.startParse(new ft(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=g.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(P.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(P.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=dt;dt=this;try{return t()}finally{dt=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=gt(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:r,viewport:s,skipped:o}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,i,r)=>e.push({fromA:t,toA:n,fromB:i,toB:r}))),n=P.applyChanges(n,e),i=g.empty,r=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){o=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),i=t.mapPos(e.to,-1);n<i&&o.push({from:n,to:i})}}}return new pt(this.parser,e,n,i,r,s,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:i}=this.skipped[e];n<t.to&&i>t.from&&(this.fragments=gt(this.fragments,n,i),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends L{createParse(e,n,i){let r=i[0].from,s=i[i.length-1].to;return{parsedPos:r,advance(){let e=dt;if(e){for(let t of i)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=s,new g(u.none,[],[],s-r)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return dt}}function gt(t,e,n){return P.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class mt{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new mt(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=pt.create(t.facet(bt).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new mt(n)}}at.state=i.sU.define({create:mt.init,update(t,e){for(let t of e.effects)if(t.is(at.setState))return t.value;return e.startState.facet(bt)!=e.state.facet(bt)?mt.init(e.state):t.apply(e)}});let wt=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(wt=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const vt="undefined"!=typeof navigator&&(null===(ot=navigator.scheduling)||void 0===ot?void 0:ot.isInputPending)?()=>navigator.scheduling.isInputPending():null,yt=r.Z9.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(at.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(at.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=wt(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,r=n.field(at.state);if(r.tree==r.context.tree&&r.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!vt?Math.max(25,t.timeRemaining()-5):1e9),o=r.context.treeLen<i&&n.doc.length>i+1e3,l=r.context.work((()=>vt&&vt()||Date.now()>s),i+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:at.setState.of(new mt(r.context))})),this.chunkBudget>0&&(!l||o)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>(0,r.c_)(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bt=i.sj.define({combine:t=>t.length?t[0]:null,enables:t=>[at.state,yt,r.Lz.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]}),xt=i.sj.define(),kt=i.sj.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function St(t){let e=t.facet(kt);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function At(t,e){let n="",i=t.tabSize,r=t.facet(kt)[0];if("\t"==r){for(;e>=i;)n+="\t",e-=i;r=" "}for(let t=0;t<e;t++)n+=r;return n}function Mt(t,e){t instanceof i.$t&&(t=new Ct(t));for(let n of t.state.facet(xt)){let i=n(t,e);if(void 0!==i)return i}let n=ut(t.state);return n.length>=e?function(t,e,n){let i=e.resolveStack(n),r=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(r!=i.node){let t=[];for(let e=r;e&&(e.from!=i.node.from||e.type!=i.node.type);e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)i={node:t[e],next:i}}return Tt(i,t,n)}(t,n,e):null}class Ct{constructor(t,e={}){this.state=t,this.options=e,this.unit=St(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:r}=this.options;return null!=i&&i>=n.from&&i<=n.to?r&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(t,e);return n.slice(t-i,Math.min(n.length,t+100-i))}column(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.countColumn(n,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(r+=s-this.countColumn(n,n.search(/\S|$/))),r}countColumn(t,e=t.length){return(0,i.y$)(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:i}=this.lineAt(t,e),r=this.options.overrideIndentation;if(r){let t=r(i);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ot=new h;function Tt(t,e,n){for(let i=t;i;i=i.next){let t=Et(i.node);if(t)return t(Rt.create(e,n,i))}return 0}function Et(t){let e=t.type.prop(Ot);if(e)return e;let n,i=t.firstChild;if(i&&(n=i.type.prop(h.closedBy))){let e=t.lastChild,i=e&&n.indexOf(e.name)>-1;return t=>function(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=i&&s.slice(o,o+i.length)==i||r==t.pos+o,h=e?function(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let t=n.to;;){let r=e.childAfter(t);if(!r||r==i)return null;if(!r.type.isSkipped){if(r.from>=o)return null;let t=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+t}}t=r.to}}(t):null;return h?l?t.column(h.from):t.column(h.to):t.baseIndent+(l?0:t.unit*n)}(t,!0,1,void 0,i&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?Dt:null}function Dt(){return 0}class Rt extends Ct{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new Rt(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Bt(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return Tt(this.context.next,this.base,this.pos)}}function Bt(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}r.xO,r.wJ;st.meta,st.link,st.heading,st.emphasis,st.strong,st.strikethrough,st.keyword,st.atom,st.bool,st.url,st.contentSeparator,st.labelName,st.literal,st.inserted,st.string,st.deleted,st.regexp,st.escape,st.string,st.variableName,st.variableName,st.typeName,st.namespace,st.className,st.variableName,st.macroName,st.propertyName,st.comment,st.invalid;const Pt=new h;function Lt(t,e,n){let i=t.prop(e<0?h.openedBy:h.closedBy);if(i)return i;if(1==t.name.length){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Nt(t){let e=t.type.prop(Pt);return e?e(t.node):t}function It(t,e,n,i={}){let r=i.maxScanDistance||1e4,s=i.brackets||"()[]{}",o=ut(t),l=o.resolveInner(e,n);for(let t=l;t;t=t.parent){let i=Lt(t.type,n,s);if(i&&t.from<t.to){let r=Nt(t);if(r&&(n>0?e>=r.from&&e<r.to:e>r.from&&e<=r.to))return Ft(0,0,n,t,r,i,s)}}return function(t,e,n,i,r,s,o){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),h=o.indexOf(l);if(h<0||h%2==0!=n>0)return null;let a={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),u=0;for(let t=0;!c.next().done&&t<=s;){let s=c.value;n<0&&(t+=s.length);let l=e+t*n;for(let t=n>0?0:s.length-1,e=n>0?s.length:-1;t!=e;t+=n){let e=o.indexOf(s[t]);if(!(e<0||i.resolveInner(l+t,1).type!=r))if(e%2==0==n>0)u++;else{if(1==u)return{start:a,end:{from:l+t,to:l+t+1},matched:e>>1==h>>1};u--}}n>0&&(t+=s.length)}return c.done?{start:a,matched:!1}:null}(t,e,n,o,l.type,r,s)}function Ft(t,e,n,i,r,s,o){let l=i.parent,h={from:r.from,to:r.to},a=0,c=null==l?void 0:l.cursor();if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(n<0?c.to<=i.from:c.from>=i.to){if(0==a&&s.indexOf(c.type.name)>-1&&c.from<c.to){let t=Nt(c);return{start:h,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(Lt(c.type,n,o))a++;else if(Lt(c.type,-n,o)){if(0==a){let t=Nt(c);return{start:h,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}a--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:h,matched:!1}}const $t=Object.create(null),zt=[u.none],Ht=[],Vt=Object.create(null),_t=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_t[t]=jt($t,e);function Wt(t,e){Ht.indexOf(t)>-1||(Ht.push(t),console.warn(e))}function jt(t,e){let n=[];for(let i of e.split(" ")){let e=[];for(let n of i.split(".")){let i=t[n]||st[n];i?"function"==typeof i?e.length?e=e.map(i):Wt(n,`Modifier ${n} used at start of tag`):e.length?Wt(n,`Tag ${n} used as modifier`):e=Array.isArray(i)?i:[i]:Wt(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map((t=>t.id)),s=Vt[r];if(s)return s.id;let o=Vt[r]=u.define({id:zt.length,name:i,props:[H({[i]:n})]});return zt.push(o),o.id}function qt(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return!!r&&(i(n.update(r)),!0)}}r.OP.RTL,r.OP.LTR;const Kt=qt(Zt,0),Gt=qt(Xt,0),Ut=qt(((t,e)=>Xt(t,e,function(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to);r.from>i.from&&r.from==n.to&&(r=n.to==i.to+1?i:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}(e))),0);function Yt(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Jt=50;function Xt(t,e,n=e.selection.ranges){let i=n.map((t=>Yt(e,t.from).block));if(!i.every((t=>t)))return null;let r=n.map(((t,n)=>function(t,{open:e,close:n},i,r){let s,o,l=t.sliceDoc(i-Jt,i),h=t.sliceDoc(r,r+Jt),a=/\s*$/.exec(l)[0].length,c=/^\s*/.exec(h)[0].length,u=l.length-a;if(l.slice(u-e.length,u)==e&&h.slice(c,c+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+c,margin:c&&1}};r-i<=2*Jt?s=o=t.sliceDoc(i,r):(s=t.sliceDoc(i,i+Jt),o=t.sliceDoc(r-Jt,r));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(o)[0].length,p=o.length-d-n.length;return s.slice(f,f+e.length)==e&&o.slice(p,p+n.length)==n?{open:{pos:i+f+e.length,margin:/\s/.test(s.charAt(f+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(o.charAt(p-1))?1:0}}:null}(e,i[n],t.from,t.to)));if(2!=t&&!r.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>r[e]?[]:[{from:t.from,insert:i[e].open+" "},{from:t.to,insert:" "+i[e].close}])))};if(1!=t&&r.some((t=>t))){let t=[];for(let e,n=0;n<r.length;n++)if(e=r[n]){let r=i[n],{open:s,close:o}=e;t.push({from:s.pos-r.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+r.close.length})}return{changes:t}}return null}function Zt(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:t,to:s}of n){let n=i.length,o=1e9,l=Yt(e,t).line;if(l){for(let n=t;n<=s;){let h=e.doc.lineAt(n);if(h.from>r&&(t==s||s>h.from)){r=h.from;let t=/^\s*/.exec(h.text)[0].length,e=t==h.length,n=h.text.slice(t,t+l.length)==l?t:-1;t<h.text.length&&t<o&&(o=t),i.push({line:h,comment:n,token:l,indent:t,empty:e,single:!1})}n=h.to+1}if(o<1e9)for(let t=n;t<i.length;t++)i[t].indent<i[t].line.text.length&&(i[t].indent=o);i.length==n+1&&(i[n].single=!0)}}if(2!=t&&i.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:r,empty:s,single:o}of i)!o&&s||t.push({from:e.from+r,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&i.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:r}of i)if(n>=0){let i=e.from+n,s=i+r.length;" "==e.text[s-e.from]&&s++,t.push({from:i,to:s})}return{changes:t}}return null}const Qt=i.YH.define(),te=i.YH.define(),ee=i.sj.define(),ne=i.sj.define({combine:t=>(0,i.QR)(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,i)=>t(n,i)||e(n,i)})}),ie=i.sU.define({create:()=>be.empty,update(t,e){let n=e.state.facet(ne),r=e.annotation(Qt);if(r){let i=ce.fromTransaction(e,r.selection),s=r.side,o=0==s?t.undone:t.done;return o=i?ue(o,o.length,n.minDepth,i):ge(o,e.startState.selection),new be(0==s?r.rest:o,0==s?o:r.rest)}let s=e.annotation(te);if("full"!=s&&"before"!=s||(t=t.isolate()),!1===e.annotation(i.ZX.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ce.fromTransaction(e),l=e.annotation(i.ZX.time),h=e.annotation(i.ZX.userEvent);return o?t=t.addChanges(o,l,h,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,h,n.newGroupDelay)),"full"!=s&&"after"!=s||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new be(t.done.map(ce.fromJSON),t.undone.map(ce.fromJSON))});function re(t={}){return[ie,ne.of(t),r.Lz.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?oe:"historyRedo"==t.inputType?le:null;return!!n&&(t.preventDefault(),n(e))}})]}function se(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(ie,!1);if(!r)return!1;let s=r.pop(t,n,e);return!!s&&(i(s),!0)}}const oe=se(0,!1),le=se(1,!1),he=se(0,!0),ae=se(1,!0);class ce{constructor(t,e,n,i,r){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=i,this.selectionsAfter=r}setSelAfter(t){return new ce(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new ce(t.changes&&i.VR.fromJSON(t.changes),[],t.mapped&&i.Gu.fromJSON(t.mapped),t.startSelection&&i.OF.fromJSON(t.startSelection),t.selectionsAfter.map(i.OF.fromJSON))}static fromTransaction(t,e){let n=de;for(let e of t.startState.facet(ee)){let i=e(t);i.length&&(n=n.concat(i))}return!n.length&&t.changes.empty?null:new ce(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,de)}static selection(t){return new ce(void 0,de,void 0,void 0,t)}}function ue(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function fe(t,e){return t.length?e.length?t.concat(e):t:e}const de=[],pe=200;function ge(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-pe));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),ue(t,t.length-1,1e9,n.setSelAfter(i)))}return[ce.selection([e])]}function me(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function we(t,e){if(!t.length)return t;let n=t.length,i=de;for(;n;){let r=ve(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let e=t.slice(0,n);return e[n-1]=r,e}e=r.mapped,n--,i=r.selectionsAfter}return i.length?[ce.selection(i)]:de}function ve(t,e,n){let r=fe(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):de,n);if(!t.changes)return ce.selection(r);let s=t.changes.map(e),o=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(o):o;return new ce(s,i.Pe.mapEffects(t.effects,e),l,t.startSelection.map(o),r)}const ye=/^(input\.type|delete)($|\.)/;class be{constructor(t,e,n=0,i=void 0){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new be(this.done,this.undone):this}addChanges(t,e,n,r,s){let o=this.done,l=o[o.length-1];return o=l&&l.changes&&!l.changes.empty&&t.changes&&(!n||ye.test(n))&&(!l.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,function(t,e){let n=[],i=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,r,s)=>{for(let t=0;t<n.length;){let e=n[t++],o=n[t++];s>=e&&r<=o&&(i=!0)}})),i}(l.changes,t.changes))||"input.type.compose"==n)?ue(o,o.length-1,r.minDepth,new ce(t.changes.compose(l.changes),fe(i.Pe.mapEffects(t.effects,l.changes),l.effects),l.mapped,l.startSelection,de)):ue(o,o.length,r.minDepth,t),new be(o,de,e,n)}addSelection(t,e,n,i){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:de;return r.length>0&&e-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(s=r[r.length-1],o=t,s.ranges.length==o.ranges.length&&0===s.ranges.filter(((t,e)=>t.empty!=o.ranges[e].empty)).length)?this:new be(ge(this.done,t),this.undone,e,n);var s,o}addMapping(t){return new be(we(this.done,t),we(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let i=0==t?this.done:this.undone;if(0==i.length)return null;let r=i[i.length-1],s=r.selectionsAfter[0]||e.selection;if(n&&r.selectionsAfter.length)return e.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Qt.of({side:t,rest:me(i),selection:s}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let n=1==i.length?de:i.slice(0,i.length-1);return r.mapped&&(n=we(n,r.mapped)),e.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Qt.of({side:t,rest:n,selection:s}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}be.empty=new be(de,de);const xe=[{key:"Mod-z",run:oe,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:le,preventDefault:!0},{linux:"Ctrl-Shift-z",run:le,preventDefault:!0},{key:"Mod-u",run:he,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ae,preventDefault:!0}];function ke(t,e){return i.OF.create(t.ranges.map(e),t.mainIndex)}function Se(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ae({state:t,dispatch:e},n){let i=ke(t.selection,n);return!i.eq(t.selection,!0)&&(e(Se(t,i)),!0)}function Me(t,e){return i.OF.cursor(e?t.to:t.from)}function Ce(t,e){return Ae(t,(n=>n.empty?t.moveByChar(n,e):Me(n,e)))}function Oe(t){return t.textDirectionAt(t.state.selection.main.head)==r.OP.LTR}const Te=t=>Ce(t,!Oe(t)),Ee=t=>Ce(t,Oe(t));function De(t,e){return Ae(t,(n=>n.empty?t.moveByGroup(n,e):Me(n,e)))}function Re(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Be(t,e,n){let r,s,o=ut(t).resolveInner(e.head),l=n?h.closedBy:h.openedBy;for(let i=e.head;;){let e=n?o.childAfter(i):o.childBefore(i);if(!e)break;Re(t,e,l)?o=e:i=n?e.to:e.from}return s=o.type.prop(l)&&(r=n?It(t,o.from,1):It(t,o.to,-1))&&r.matched?n?r.end.to:r.end.from:n?o.to:o.from,i.OF.cursor(s,n?-1:1)}function Pe(t,e){return Ae(t,(n=>{if(!n.empty)return Me(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const Le=t=>Pe(t,!1),Ne=t=>Pe(t,!0);function Ie(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,s=0;if(n){for(let e of t.state.facet(r.Lz.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(i=Math.max(null==n?void 0:n.top,i)),(null==n?void 0:n.bottom)&&(s=Math.max(null==n?void 0:n.bottom,s))}e=t.scrollDOM.clientHeight-i-s}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:s,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function Fe(t,e){let n,i=Ie(t),{state:s}=t,o=ke(s.selection,(n=>n.empty?t.moveVertically(n,e,i.height):Me(n,e)));if(o.eq(s.selection))return!1;if(i.selfScroll){let e=t.coordsAtPos(s.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),h=l.top+i.marginTop,a=l.bottom-i.marginBottom;e&&e.top>h&&e.bottom<a&&(n=r.Lz.scrollIntoView(o.main.head,{y:"start",yMargin:e.top-h}))}return t.dispatch(Se(s,o),{effects:n}),!0}const $e=t=>Fe(t,!1),ze=t=>Fe(t,!0);function He(t,e,n){let r=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,n);if(s.head==e.head&&s.head!=(n?r.to:r.from)&&(s=t.moveToLineBoundary(e,n,!1)),!n&&s.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(s=i.OF.cursor(r.from+n))}return s}function Ve(t,e){let n=ke(t.state.selection,(t=>{let n=e(t);return i.OF.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(Se(t.state,n)),!0)}function _e(t,e){return Ve(t,(n=>t.moveByChar(n,e)))}const We=t=>_e(t,!Oe(t)),je=t=>_e(t,Oe(t));function qe(t,e){return Ve(t,(n=>t.moveByGroup(n,e)))}function Ke(t,e){return Ve(t,(n=>t.moveVertically(n,e)))}const Ge=t=>Ke(t,!1),Ue=t=>Ke(t,!0);function Ye(t,e){return Ve(t,(n=>t.moveVertically(n,e,Ie(t).height)))}const Je=t=>Ye(t,!1),Xe=t=>Ye(t,!0),Ze=({state:t,dispatch:e})=>(e(Se(t,{anchor:0})),!0),Qe=({state:t,dispatch:e})=>(e(Se(t,{anchor:t.doc.length})),!0),tn=({state:t,dispatch:e})=>(e(Se(t,{anchor:t.selection.main.anchor,head:0})),!0),en=({state:t,dispatch:e})=>(e(Se(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function nn(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:s}=t,o=s.changeByRange((r=>{let{from:s,to:o}=r;if(s==o){let i=e(r);i<s?(n="delete.backward",i=rn(t,i,!1)):i>s&&(n="delete.forward",i=rn(t,i,!0)),s=Math.min(s,i),o=Math.max(o,i)}else s=rn(t,s,!1),o=rn(t,o,!0);return s==o?{range:r}:{changes:{from:s,to:o},range:i.OF.cursor(s,s<r.head?-1:1)}}));return!o.changes.empty&&(t.dispatch(s.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?r.Lz.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function rn(t,e,n){if(t instanceof r.Lz)for(let i of t.state.facet(r.Lz.atomicRanges).map((e=>e(t))))i.between(e,e,((t,i)=>{t<e&&i>e&&(e=n?i:t)}));return e}const sn=(t,e,n)=>nn(t,(r=>{let s,o,l=r.from,{state:h}=t,a=h.doc.lineAt(l);if(n&&!e&&l>a.from&&l<a.from+200&&!/[^ \t]/.test(s=a.text.slice(0,l-a.from))){if("\t"==s[s.length-1])return l-1;let t=(0,i.y$)(s,h.tabSize)%St(h)||St(h);for(let e=0;e<t&&" "==s[s.length-1-e];e++)l--;o=l}else o=(0,i.zK)(a.text,l-a.from,e,e)+a.from,o==l&&a.number!=(e?h.doc.lines:1)?o+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(o-a.from,l-a.from))&&(o=(0,i.zK)(a.text,o-a.from,!1,!1)+a.from);return o})),on=t=>sn(t,!1,!0),ln=t=>sn(t,!0,!1),hn=(t,e)=>nn(t,(n=>{let r=n.head,{state:s}=t,o=s.doc.lineAt(r),l=s.charCategorizer(r);for(let t=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let h=(0,i.zK)(o.text,r-o.from,e)+o.from,a=o.text.slice(Math.min(r,h)-o.from,Math.max(r,h)-o.from),c=l(a);if(null!=t&&c!=t)break;" "==a&&r==n.head||(t=c),r=h}return r})),an=t=>hn(t,!1);function cn(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(i.empty||i.to!=s.from||(s=t.doc.lineAt(i.to-1)),n>=r.number){let t=e[e.length-1];t.to=s.to,t.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function un(t,e,n){if(t.readOnly)return!1;let r=[],s=[];for(let e of cn(t)){if(n?e.to==t.doc.length:0==e.from)continue;let o=t.doc.lineAt(n?e.to+1:e.from-1),l=o.length+1;if(n){r.push({from:e.to,to:o.to},{from:e.from,insert:o.text+t.lineBreak});for(let n of e.ranges)s.push(i.OF.range(Math.min(t.doc.length,n.anchor+l),Math.min(t.doc.length,n.head+l)))}else{r.push({from:o.from,to:e.from},{from:e.to,insert:t.lineBreak+o.text});for(let t of e.ranges)s.push(i.OF.range(t.anchor-l,t.head-l))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:i.OF.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0)}function fn(t,e,n){if(t.readOnly)return!1;let i=[];for(let e of cn(t))n?i.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):i.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const dn=pn(!1);function pn(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((n=>{let{from:r,to:s}=n,o=e.doc.lineAt(r),l=!t&&r==s&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,i=ut(t).resolveInner(e),r=i.childBefore(e),s=i.childAfter(e);return r&&s&&r.to<=e&&s.from>=e&&(n=r.type.prop(h.closedBy))&&n.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}(e,r);t&&(r=s=(s<=o.to?o:e.doc.lineAt(s)).to);let a=new Ct(e,{simulateBreak:r,simulateDoubleBreak:!!l}),c=Mt(a,r);for(null==c&&(c=(0,i.y$)(/^\s*/.exec(e.doc.lineAt(r).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?({from:r,to:s}=l):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);let u=["",At(e,c)];return l&&u.push(At(e,a.lineIndent(o.from,-1))),{changes:{from:r,to:s,insert:i.EY.of(u)},range:i.OF.cursor(r+1+u[1].length)}}));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function gn(t,e){let n=-1;return t.changeByRange((r=>{let s=[];for(let i=r.from;i<=r.to;){let o=t.doc.lineAt(i);o.number>n&&(r.empty||r.to>o.from)&&(e(o,s,r),n=o.number),i=o.to+1}let o=t.changes(s);return{changes:s,range:i.OF.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}}))}const mn=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Ae(t,(e=>Be(t.state,e,!Oe(t)))),shift:t=>Ve(t,(e=>Be(t.state,e,!Oe(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Ae(t,(e=>Be(t.state,e,Oe(t)))),shift:t=>Ve(t,(e=>Be(t.state,e,Oe(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>un(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>fn(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>un(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>fn(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=i.OF.create([n.main]):n.main.empty||(r=i.OF.create([i.OF.cursor(n.main.head)])),!!r&&(e(Se(t,r)),!0)}},{key:"Mod-Enter",run:pn(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=cn(t).map((({from:e,to:n})=>i.OF.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:i.OF.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=ke(t.selection,(e=>{let n=ut(t),r=n.resolveStack(e.from,1);if(e.empty){let t=n.resolveStack(e.from,-1);t.node.from>=r.node.from&&t.node.to<=r.node.to&&(r=t)}for(let t=r;t;t=t.next){let{node:n}=t;if((n.from<e.from&&n.to>=e.to||n.to>e.to&&n.from<=e.from)&&t.next)return i.OF.range(n.to,n.from)}return e}));return!n.eq(t.selection)&&(e(Se(t,n)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(gn(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let s=(0,i.y$)(r,t.tabSize),o=0,l=At(t,Math.max(0,s-St(t)));for(;o<r.length&&o<l.length&&r.charCodeAt(o)==l.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:l.slice(o)})})),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(gn(t,((e,n)=>{n.push({from:e.from,insert:t.facet(kt)})})),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Ct(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),r=gn(t,((e,r,s)=>{let o=Mt(i,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],h=At(t,o);(l!=h||s.from<e.from+l.length)&&(n[e.from]=o,r.push({from:e.from,to:e.from+l.length,insert:h}))}));return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(cn(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),i=ke(e.selection,(e=>{let n;if(t.lineWrapping){let i=t.lineBlockAt(e.head),r=t.coordsAtPos(e.head,e.assoc||1);r&&(n=i.bottom+t.documentTop-r.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,n){let r=!1,s=ke(t.selection,(e=>{let s=It(t,e.head,-1)||It(t,e.head,1)||e.head>0&&It(t,e.head-1,1)||e.head<t.doc.length&&It(t,e.head+1,-1);if(!s||!s.end)return e;r=!0;let o=s.start.from==e.head?s.end.to:s.end.from;return n?i.OF.range(e.anchor,o):i.OF.cursor(o)}));return!!r&&(e(Se(t,s)),!0)}(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=Yt(t.state,n.from);return i.line?Kt(t):!!i.block&&Ut(t)}},{key:"Alt-A",run:Gt},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:Te,shift:We,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>De(t,!Oe(t)),shift:t=>qe(t,!Oe(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>Ae(t,(e=>He(t,e,!Oe(t)))),shift:t=>Ve(t,(e=>He(t,e,!Oe(t)))),preventDefault:!0},{key:"ArrowRight",run:Ee,shift:je,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>De(t,Oe(t)),shift:t=>qe(t,Oe(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>Ae(t,(e=>He(t,e,Oe(t)))),shift:t=>Ve(t,(e=>He(t,e,Oe(t)))),preventDefault:!0},{key:"ArrowUp",run:Le,shift:Ge,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Ze,shift:tn},{mac:"Ctrl-ArrowUp",run:$e,shift:Je},{key:"ArrowDown",run:Ne,shift:Ue,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qe,shift:en},{mac:"Ctrl-ArrowDown",run:ze,shift:Xe},{key:"PageUp",run:$e,shift:Je},{key:"PageDown",run:ze,shift:Xe},{key:"Home",run:t=>Ae(t,(e=>He(t,e,!1))),shift:t=>Ve(t,(e=>He(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:Ze,shift:tn},{key:"End",run:t=>Ae(t,(e=>He(t,e,!0))),shift:t=>Ve(t,(e=>He(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:Qe,shift:en},{key:"Enter",run:dn,shift:dn},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:on,shift:on},{key:"Delete",run:ln},{key:"Mod-Backspace",mac:"Alt-Backspace",run:an},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>hn(t,!0)},{mac:"Mod-Backspace",run:t=>nn(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>nn(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat([{key:"Ctrl-b",run:Te,shift:We,preventDefault:!0},{key:"Ctrl-f",run:Ee,shift:je},{key:"Ctrl-p",run:Le,shift:Ge},{key:"Ctrl-n",run:Ne,shift:Ue},{key:"Ctrl-a",run:t=>Ae(t,(e=>i.OF.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>Ve(t,(e=>i.OF.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>Ae(t,(e=>i.OF.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>Ve(t,(e=>i.OF.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:ln},{key:"Ctrl-h",run:on},{key:"Ctrl-k",run:t=>nn(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:an},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:i.EY.of(["",""])},range:i.OF.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),s=n==r.from?n-1:(0,i.zK)(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:(0,i.zK)(r.text,n-r.from,!0)+r.from;return{changes:{from:s,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(s,n))},range:i.OF.cursor(o)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:ze}].map((t=>({mac:t.key,run:t.run,shift:t.shift})))))},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},o=[],l=0;l<t.length;l++){var h=t[l],a=i.base?h[0]+i.base:h[0],c=s[a]||0,u="".concat(a," ").concat(c);s[a]=c+1;var f=n(u),d={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var p=r(d,i);i.byIndex=l,e.splice(l,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=i(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var l=n(s[o]);e[l].references--}for(var h=i(t,r),a=0;a<s.length;a++){var c=n(s[a]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=h}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},156:(t,e,n)=>{n.d(e,{A6:()=>u,Gn:()=>c,B8:()=>a,lw:()=>h,ml:()=>d});var i,r=n(642),s=n(304),o=n(848);function l(){var t=new r.tb(4);return r.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function h(t,e,n){var i=e[0],r=e[1],s=e[2],o=e[3],l=n[0],h=n[1],a=n[2],c=n[3];return t[0]=i*c+o*l+r*a-s*h,t[1]=r*c+o*h+s*l-i*a,t[2]=s*c+o*a+i*h-r*l,t[3]=o*c-i*l-r*h-s*a,t}function a(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s,l=o?1/o:0;return t[0]=-n*l,t[1]=-i*l,t[2]=-r*l,t[3]=s*l,t}function c(t,e){var n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var s=(r+1)%3,o=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*s+s]-e[3*o+o]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*s+o]-e[3*o+s])*n,t[s]=(e[3*s+r]+e[3*r+s])*n,t[o]=(e[3*o+r]+e[3*r+o])*n}return t}function u(t,e,n,i){var r=.5*Math.PI/180;e*=r,n*=r,i*=r;var s=Math.sin(e),o=Math.cos(e),l=Math.sin(n),h=Math.cos(n),a=Math.sin(i),c=Math.cos(i);return t[0]=s*h*c-o*l*a,t[1]=o*l*c+s*h*a,t[2]=o*h*a-s*l*c,t[3]=o*h*c+s*l*a,t}i=new r.tb(4),r.tb!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0);var f,d=(o.vt(),o.fA(1,0,0),o.fA(0,1,0),l(),l(),f=s.vt(),function(t,e,n,i){return f[0]=n[0],f[3]=n[1],f[6]=n[2],f[1]=i[0],f[4]=i[1],f[7]=i[2],f[2]=-e[0],f[5]=-e[1],f[8]=-e[2],function(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=i*o,t[2]=r*o,t[3]=s*o,t}(t,c(t,f))})},157:(t,e,n)=>{function i(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],l=e[5],h=e[6],a=e[7],c=e[8],u=e[9],f=e[10],d=e[11],p=e[12],g=e[13],m=e[14],w=e[15],v=n*l-i*o,y=n*h-r*o,b=n*a-s*o,x=i*h-r*l,k=i*a-s*l,S=r*a-s*h,A=c*g-u*p,M=c*m-f*p,C=c*w-d*p,O=u*m-f*g,T=u*w-d*g,E=f*w-d*m,D=v*E-y*T+b*O+x*C-k*M+S*A;return D?(D=1/D,t[0]=(l*E-h*T+a*O)*D,t[1]=(r*T-i*E-s*O)*D,t[2]=(g*S-m*k+w*x)*D,t[3]=(f*k-u*S-d*x)*D,t[4]=(h*C-o*E-a*M)*D,t[5]=(n*E-r*C+s*M)*D,t[6]=(m*b-p*S-w*y)*D,t[7]=(c*S-f*b+d*y)*D,t[8]=(o*T-l*C+a*A)*D,t[9]=(i*C-n*T-s*A)*D,t[10]=(p*k-g*b+w*v)*D,t[11]=(u*b-c*k-d*v)*D,t[12]=(l*M-o*O-h*A)*D,t[13]=(n*O-i*M+r*A)*D,t[14]=(g*y-p*x-m*v)*D,t[15]=(c*x-u*y+f*v)*D,t):null}function r(t,e,n){var i=e[0],r=e[1],s=e[2],o=e[3],l=e[4],h=e[5],a=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],g=e[12],m=e[13],w=e[14],v=e[15],y=n[0],b=n[1],x=n[2],k=n[3];return t[0]=y*i+b*l+x*u+k*g,t[1]=y*r+b*h+x*f+k*m,t[2]=y*s+b*a+x*d+k*w,t[3]=y*o+b*c+x*p+k*v,y=n[4],b=n[5],x=n[6],k=n[7],t[4]=y*i+b*l+x*u+k*g,t[5]=y*r+b*h+x*f+k*m,t[6]=y*s+b*a+x*d+k*w,t[7]=y*o+b*c+x*p+k*v,y=n[8],b=n[9],x=n[10],k=n[11],t[8]=y*i+b*l+x*u+k*g,t[9]=y*r+b*h+x*f+k*m,t[10]=y*s+b*a+x*d+k*w,t[11]=y*o+b*c+x*p+k*v,y=n[12],b=n[13],x=n[14],k=n[15],t[12]=y*i+b*l+x*u+k*g,t[13]=y*r+b*h+x*f+k*m,t[14]=y*s+b*a+x*d+k*w,t[15]=y*o+b*c+x*p+k*v,t}function s(t,e,n,i){var r=e[0],s=e[1],o=e[2],l=e[3],h=r+r,a=s+s,c=o+o,u=r*h,f=r*a,d=r*c,p=s*a,g=s*c,m=o*c,w=l*h,v=l*a,y=l*c,b=i[0],x=i[1],k=i[2];return t[0]=(1-(p+m))*b,t[1]=(f+y)*b,t[2]=(d-v)*b,t[3]=0,t[4]=(f-y)*x,t[5]=(1-(u+m))*x,t[6]=(g+w)*x,t[7]=0,t[8]=(d+v)*k,t[9]=(g-w)*k,t[10]=(1-(u+p))*k,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function o(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,l=i+i,h=r+r,a=n*o,c=i*o,u=i*l,f=r*o,d=r*l,p=r*h,g=s*o,m=s*l,w=s*h;return t[0]=1-u-p,t[1]=c+w,t[2]=f-m,t[3]=0,t[4]=c-w,t[5]=1-a-p,t[6]=d+g,t[7]=0,t[8]=f+m,t[9]=d-g,t[10]=1-a-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}n.d(e,{B8:()=>i,I0:()=>o,fN:()=>l,lw:()=>r,o1:()=>s});var l=function(t,e,n,i,r){var s,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(s=1/(i-r),t[10]=(r+i)*s,t[14]=2*r*i*s):(t[10]=-1,t[14]=-2*i),t}},197:(t,e,n)=>{function i(t){return!!t&&!Array.isArray(t)&&"object"==typeof t}function r(t){return"string"==typeof t}function s(t){return"number"==typeof t}function o(t){return"function"==typeof t}function l(t,e,n=null){try{return h(t,e),!0}catch(e){return n&&(console.error("[Invalid type]",n),console.error(t),console.debug(e)),!1}}function h(t,e,n="data"){if("function"==typeof e)return h(t,e(),n);if("unknown"===e)return;if("null"===e){if(null!==t)throw console.log("🚀 [index] data = ",t,typeof t),Error(`Expected ${n} to be a null and not a ${c(t)}!`);return}if("string"==typeof e){if(typeof t!==e)throw Error(`Expected ${n} to be a ${e} and not a ${c(t)}!`);return}if(Array.isArray(e)){const[r]=e;switch(r){case"array":return void function(t,e,n){if(!Array.isArray(t))throw Error(`Expected ${e} to be an array and not a ${c(t)}!`);const[,i,r]=n;if(r){const n=t.length;if(s(r)){if(n!==r)throw Error(`Expected ${e}'s length to be ${r} and not ${n}!`)}else{const{min:t,max:i}=r;if(s(t)&&n<t)throw Error(`Expected ${e}'s MIN length to be ${t} and not ${n}!`);if(s(i)&&n>i)throw Error(`Expected ${e}'s MAX length to be ${i} and not ${n}!`)}}for(let n=0;n<t.length;n+=1)h(t[n],i,`${e}[${n}]`)}(t,n,e);case"map":return void function(t,e,n){if(!i(t))throw Error(`Expected ${e} to be an object and not a ${c(t)}!`);const[,r]=n;for(const n of Object.keys(t))"string"==typeof n&&h(t[n],r,`${e}[${n}]`)}(t,n,e);case"?":return void function(t,e,n){if(void 0===t)return;const[,i]=n;h(t,i,e)}(t,n,e);case"|":return void function(t,e,n){const[,...i]=n;if(0===i.length)throw Error(`No type has been defined for this alternative: ${JSON.stringify(n)}!`);const r=[];for(const n of i)try{return void h(t,n,e)}catch(t){t instanceof Error&&r.push(t)}throw new Error(`All alternatives failed!${r.map((t=>`\n${t.message}`))}`)}(t,n,e);case"tuple":return void a(t,n,e);case"tuple...":return void function(t,e,[,...n]){const i=n.length-1;a(t,e,["tuple",...n.slice(0,i)]);const r=n[i];for(let n=i;n<t.length;n++)h(t[n],r,`${e}[${n}]`)}(t,n,e);case"partial":return void function(t,e,[,n]){!function(t,e="data"){if(!i(t))throw Error(`${e} was expected to be an object but we got ${typeof t}!`)}(t,e);for(const i of Object.keys(n)){if("string"!=typeof i)continue;const r=t[i];void 0!==r&&h(r,n[i],`${e}.${i}`)}}(t,n,e);case"literal":return void function(t,e,n){const[,...i]=n;for(const e of i)if(t===e)return;throw Error(`Expected ${e} to be a literal (${i.map((t=>`"${t}"`)).join(" | ")}) and not a ${c(t)}!`)}(t,n,e);case"custom":return void function(t,e,[,n]){if(!n(t))throw Error(`Expected ${n.name}(${e}) to return true!`)}(t,n,e);default:throw Error(`Don't know how to create a type guard for this kind of type: ${JSON.stringify(e)}`)}}if("object"!=typeof t)throw Error(`Expected ${n} to be an object and not a ${c(t)}!`);const r=t;for(const t of Object.keys(e))"string"==typeof t&&h(r[t],e[t],`${n}.${t}`)}function a(t,e,[,...n]){if(function(t,e="data"){if(!Array.isArray(t))throw Error(`${e} was expected to be an Array but we got ${typeof t}!`)}(t),n.length>t.length)throw Error(`Expected ${e}'s length to be at least ${n.length} and not ${t.length}!`);for(let i=0;i<n.length;i++){const r=n[i];h(t[i],r,`${e}[${i}]`)}}function c(t){var e;return null===t?"null":"function"==typeof t?`function ${null!==(e=t.name)&&void 0!==e?e:""}()`:typeof t}n.d(e,{Et:()=>s,Kg:()=>r,Tn:()=>o,Xj:()=>l})},304:(t,e,n)=>{n.d(e,{I0:()=>o,lw:()=>s,vt:()=>r});var i=n(642);function r(){var t=new i.tb(9);return i.tb!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e,n){var i=e[0],r=e[1],s=e[2],o=e[3],l=e[4],h=e[5],a=e[6],c=e[7],u=e[8],f=n[0],d=n[1],p=n[2],g=n[3],m=n[4],w=n[5],v=n[6],y=n[7],b=n[8];return t[0]=f*i+d*o+p*a,t[1]=f*r+d*l+p*c,t[2]=f*s+d*h+p*u,t[3]=g*i+m*o+w*a,t[4]=g*r+m*l+w*c,t[5]=g*s+m*h+w*u,t[6]=v*i+y*o+b*a,t[7]=v*r+y*l+b*c,t[8]=v*s+y*h+b*u,t}function o(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,l=i+i,h=r+r,a=n*o,c=i*o,u=i*l,f=r*o,d=r*l,p=r*h,g=s*o,m=s*l,w=s*h;return t[0]=1-u-p,t[3]=c-w,t[6]=f+m,t[1]=c+w,t[4]=1-a-p,t[7]=d-g,t[2]=f-m,t[5]=d+g,t[8]=1-a-u,t}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(i)for(var l=0;l<this.length;l++){var h=this[l][0];null!=h&&(o[h]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(r," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},417:(t,e,n)=>{n.d(e,{G:()=>o});const i="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),r="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function r(t,e,s,o){let l=[],h=/^@(\w+)\b/.exec(t[0]),a=h&&"keyframes"==h[1];if(h&&null==e)return s.push(t[0]+";");for(let n in e){let o=e[n];if(/&/.test(n))r(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),o,s);else if(o&&"object"==typeof o){if(!h)throw new RangeError("The value of a property ("+n+") should be a primitive value.");r(i(n),o,l,a)}else null!=o&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+o+";")}(l.length||a)&&s.push((!n||h||o?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)r(i(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=s[i]||1;return s[i]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let i=t[r],s=n&&n.nonce;i?s&&i.setNonce(s):i=new h(t,s),i.mount(Array.isArray(e)?e:[e],t)}}let l=new Map;class h{constructor(t,e){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let e=l.get(n);if(e)return t[r]=e;this.sheet=new i.CSSStyleSheet,l.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[r]=this}mount(t,e){let n=this.sheet,i=0,r=0;for(let e=0;e<t.length;e++){let s=t[e],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),n)for(let t=0;t<s.rules.length;t++)n.insertRule(s.rules[t],i++)}else{for(;r<o;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},638:(t,e,n)=>{n.d(e,{YH:()=>ut,Gu:()=>D,VR:()=>R,Je:()=>kt,OF:()=>z,$t:()=>Mt,sj:()=>_,iR:()=>E,Nb:()=>X,om:()=>Rt,vB:()=>Bt,FB:()=>Ot,Pe:()=>pt,sU:()=>Y,EY:()=>g,ZX:()=>gt,vS:()=>C,Fh:()=>O,QR:()=>Ct,y$:()=>Wt,zK:()=>M,kn:()=>jt});let i=[],r=[];function s(t){if(t<768)return!1;for(let e=0,n=i.length;;){let s=e+n>>1;if(t<i[s])n=s;else{if(!(t>=r[s]))return!0;e=s+1}if(e==n)return!1}}function o(t){return t>=127462&&t<=127487}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let e=0,n=0;e<t.length;e++)(e%2?r:i).push(n+=t[e])})();const l=8205;function h(t,e,n=!0,i=!0){return(n?a:c)(t,e,i)}function a(t,e,n){if(e==t.length)return e;e&&f(t.charCodeAt(e))&&d(t.charCodeAt(e-1))&&e--;let i=u(t,e);for(e+=p(i);e<t.length;){let r=u(t,e);if(i==l||r==l||n&&s(r))e+=p(r),i=r;else{if(!o(r))break;{let n=0,i=e-2;for(;i>=0&&o(u(t,i));)n++,i-=2;if(n%2==0)break;e+=2}}}return e}function c(t,e,n){for(;e>0;){let i=a(t,e-2,n);if(i<e)return i;e--}return 0}function u(t,e){let n=t.charCodeAt(e);if(!d(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return f(i)?i-56320+(n-55296<<10)+65536:n}function f(t){return t>=56320&&t<57344}function d(t){return t>=55296&&t<56320}function p(t){return t<65536?1:2}class g{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=A(this,t,e);let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),w.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=A(this,t,e);let n=[];return this.decompose(t,e,n,0),w.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new b(this),r=new b(t);for(let t=e,s=e;;){if(i.next(t),r.next(t),t=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(s+=i.value.length,i.done||s>=n)return!0}}iter(t=1){return new b(this,t)}iterRange(t,e=this.length){return new x(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new k(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new m(t):w.from(m.split(t,[])):g.empty}}class m extends g{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new S(i,o,n,s);i=o+1,n++}}decompose(t,e,n,i){let r=t<=0&&e>=this.length?this:new m(y(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=v(r.text,t.text.slice(),0,r.length);if(e.length<=32)n.push(new m(e,t.length+r.length));else{let t=e.length>>1;n.push(new m(e.slice(0,t)),new m(e.slice(t)))}}else n.push(r)}replace(t,e,n){if(!(n instanceof m))return super.replace(t,e,n);[t,e]=A(this,t,e);let i=v(this.text,v(n.text,y(this.text,0,t)),e),r=this.length+n.length-(e-t);return i.length<=32?new m(i,r):w.from(m.split(i,[]),r)}sliceString(t,e=this.length,n="\n"){[t,e]=A(this,t,e);let i="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],l=r+o.length;r>t&&s&&(i+=n),t<l&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=l+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let r of t)n.push(r),i+=r.length+1,32==n.length&&(e.push(new m(n,i)),n=[],i=-1);return i>-1&&e.push(new m(n,i)),e}}class w extends g{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,l=n+s.lines-1;if((e?l:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=l+1}}decompose(t,e,n,i){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],l=s+o.length;if(t<=l&&e>=s){let r=i&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!r?n.push(o):o.decompose(t-s,e-s,n,r)}s=l+1}}replace(t,e,n){if([t,e]=A(this,t,e),n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let s=this.children[i],o=r+s.length;if(t>=r&&e<=o){let l=s.replace(t-r,e-r,n),h=this.lines-s.lines+l.lines;if(l.lines<h>>4&&l.lines>h>>6){let r=this.children.slice();return r[i]=l,new w(r,this.length-(e-t)+n.length)}return super.replace(r,o,l)}r=o+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=A(this,t,e);let i="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],l=s+o.length;s>t&&r&&(i+=n),t<l&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=l+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof w))return 0;let n=0,[i,r,s,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,r+=e){if(i==s||r==o)return n;let l=this.children[i],h=t.children[r];if(l!=h)return n+l.scanIdentical(h,e);n+=l.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new m(n,e)}let i=Math.max(32,n>>5),r=i<<1,s=i>>1,o=[],l=0,h=-1,a=[];function c(t){let e;if(t.lines>r&&t instanceof w)for(let e of t.children)c(e);else t.lines>s&&(l>s||!l)?(u(),o.push(t)):t instanceof m&&l&&(e=a[a.length-1])instanceof m&&t.lines+e.lines<=32?(l+=t.lines,h+=t.length+1,a[a.length-1]=new m(e.text.concat(t.text),e.length+1+t.length)):(l+t.lines>i&&u(),l+=t.lines,h+=t.length+1,a.push(t))}function u(){0!=l&&(o.push(1==a.length?a[0]:w.from(a,h)),h=-1,l=a.length=0)}for(let e of t)c(e);return u(),1==o.length?o[0]:new w(o,e)}}function v(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let l=t[s],h=r+l.length;h>=n&&(h>i&&(l=l.slice(0,i-r)),r<n&&(l=l.slice(n-r)),o?(e[e.length-1]+=l,o=!1):e.push(l)),r=h+1}return e}function y(t,e,n){return v(t,[""],e,n)}g.empty=new m([""],0);class b{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof m?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],s=r>>1,o=i instanceof m?i.text.length:i.children.length;if(s==(e>0?o:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof m){let r=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let r=i.children[s+(e<0?-1:0)];t>r.length?(t-=r.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(r),this.offsets.push(e>0?1:(r instanceof m?r.text.length:r.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class x{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new b(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class k{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(g.prototype[Symbol.iterator]=function(){return this.iter()},b.prototype[Symbol.iterator]=x.prototype[Symbol.iterator]=k.prototype[Symbol.iterator]=function(){return this});class S{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}function A(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}function M(t,e,n=!0,i=!0){return h(t,e,n,i)}function C(t,e){let n=t.charCodeAt(e);if(!((i=n)>=55296&&i<56320&&e+1!=t.length))return n;var i;let r=t.charCodeAt(e+1);return function(t){return t>=56320&&t<57344}(r)?r-56320+(n-55296<<10)+65536:n}function O(t){return t<65536?1:2}const T=/\r\n?|\n/;var E=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(E||(E={}));class D{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(t,e=!1){L(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new D(t)}composeDesc(t){return this.empty?t:t.empty?this:I(this,t)}mapDesc(t,e=!1){return t.empty?this:N(this,t,e)}mapPos(t,e=-1,n=E.Simple){let i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],h=i+o;if(l<0){if(h>t)return r+(t-i);r+=o}else{if(n!=E.Simple&&h>=t&&(n==E.TrackDel&&i<t&&h>t||n==E.TrackBefore&&i<t||n==E.TrackAfter&&h>t))return null;if(h>t||h==t&&e<0&&!o)return t==i||e<0?r:r+l;r+=l}i=h}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return r}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=i+this.sections[n++];if(this.sections[n++]>=0&&i<=e&&r>=t)return!(i<t&&r>e)||"cover";i=r}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new D(t)}static create(t){return new D(t)}}class R extends D{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return L(this,((e,n,i,r,s)=>t=t.replace(i,i+(n-e),s)),!1),t}mapDesc(t,e=!1){return N(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,r=0;i<e.length;i+=2){let s=e[i],o=e[i+1];if(o>=0){e[i]=o,e[i+1]=s;let l=i>>1;for(;n.length<l;)n.push(g.empty);n.push(s?t.slice(r,r+s):g.empty)}r+=s}return new R(e,n)}compose(t){return this.empty?t:t.empty?this:I(this,t,!0)}map(t,e=!1){return t.empty?this:N(this,t,e,!0)}iterChanges(t,e=!1){L(this,t,e)}get desc(){return D.create(this.sections)}filter(t){let e=[],n=[],i=[],r=new F(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==r.len;){if(r.done)break t;let t=Math.min(r.len,l-o);B(i,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;B(e,t,s),s>0&&P(n,e,r.text),r.forward(t),o+=t}let h=t[s++];for(;o<h;){if(r.done)break t;let t=Math.min(r.len,h-o);B(e,t,-1),B(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new R(e,n),filtered:D.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],r=[],s=0,o=null;function l(t=!1){if(!t&&!i.length)return;s<e&&B(i,e-s,-1);let n=new R(i,r);o=o?o.compose(n.map(o)):n,i=[],r=[],s=0}return function t(h){if(Array.isArray(h))for(let e of h)t(e);else if(h instanceof R){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);l(),o=o?o.compose(h.map(o)):h}else{let{from:t,to:o=t,insert:a}=h;if(t>o||t<0||o>e)throw new RangeError(`Invalid change range ${t} to ${o} (in doc of length ${e})`);let c=a?"string"==typeof a?g.of(a.split(n||T)):a:g.empty,u=c.length;if(t==o&&0==u)return;t<s&&l(),t>s&&B(i,t-s,-1),B(i,o-t,u),P(r,i,c),s=o}}(t),l(!o),o}static empty(t){return new R(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let r=t[i];if("number"==typeof r)e.push(r,-1);else{if(!Array.isArray(r)||"number"!=typeof r[0]||r.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==r.length)e.push(r[0],0);else{for(;n.length<i;)n.push(g.empty);n[i]=g.of(r.slice(1)),e.push(r[0],n[i].length)}}}return new R(e,n)}static createSet(t,e){return new R(t,e)}}function B(t,e,n,i=!1){if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:r>=0&&0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function P(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(g.empty);t.push(n)}}function L(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let l=t.sections[o++],h=t.sections[o++];if(h<0)r+=l,s+=l;else{let a=r,c=s,u=g.empty;for(;a+=l,c+=h,h&&i&&(u=u.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)l=t.sections[o++],h=t.sections[o++];e(r,a,s,c,u),r=a,s=c}}}function N(t,e,n,i=!1){let r=[],s=i?[]:null,o=new F(t),l=new F(e);for(let t=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(-1==o.ins&&-1==l.ins){let t=Math.min(o.len,l.len);B(r,t,-1),o.forward(t),l.forward(t)}else if(l.ins>=0&&(o.ins<0||t==o.i||0==o.off&&(l.len<o.len||l.len==o.len&&!n))){let e=l.len;for(B(r,l.ins,-1);e;){let n=Math.min(o.len,e);o.ins>=0&&t<o.i&&o.len<=n&&(B(r,0,o.ins),s&&P(s,r,o.text),t=o.i),o.forward(n),e-=n}l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?R.createSet(r,s):D.create(r);throw new Error("Mismatched change set lengths")}{let e=0,n=o.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}B(r,e,t<o.i?o.ins:0),s&&t<o.i&&P(s,r,o.text),t=o.i,o.forward(o.len-n)}}}}function I(t,e,n=!1){let i=[],r=n?[]:null,s=new F(t),o=new F(e);for(let t=!1;;){if(s.done&&o.done)return r?R.createSet(i,r):D.create(i);if(0==s.ins)B(i,s.len,0,t),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let e=Math.min(s.len2,o.len),n=i.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;B(i,e,n,t),r&&n&&P(r,i,o.text)}else-1==o.ins?(B(i,s.off?0:s.len,e,t),r&&P(r,i,s.textBit(e))):(B(i,s.off?0:s.len,o.off?0:o.ins,t),r&&!o.off&&P(r,i,o.text));t=(s.ins>e||o.ins>=0&&o.len>e)&&(t||i.length>n),s.forward2(e),o.forward(e)}}else B(i,0,o.ins,t),r&&P(r,i,o.text),o.next()}}class F{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?g.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?g.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class ${constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,i;return this.empty?n=i=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new $(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return z.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return z.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return z.range(t.anchor,t.head)}static create(t,e,n){return new $(t,e,n)}}class z{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:z.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new z([this.main],0)}addRange(t,e=!0){return z.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,z.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new z(t.ranges.map((t=>$.fromJSON(t))),t.main)}static single(t,e=t){return new z([z.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return z.normalized(t.slice(),e);n=r.to}return new z(t,e)}static cursor(t,e=0,n,i){return $.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=i?i:16777215)<<6)}static range(t,e,n,i){let r=(null!=n?n:16777215)<<6|(null==i?7:Math.min(6,i));return e<t?$.create(e,t,48|r):$.create(t,e,(e>t?8:0)|r)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let i=t[n],r=t[n-1];if(i.empty?i.from<=r.to:i.from<r.to){let s=r.from,o=Math.max(i.to,r.to);n<=e&&e--,t.splice(--n,2,i.anchor>i.head?z.range(o,s):z.range(s,o))}}return new z(t,e)}}function H(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let V=0;class _{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=V++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(t={}){return new _(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:W),!!t.static,t.enables)}of(t){return new j([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function W(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class j{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=V++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=this.id,s=t[r]>>1,o=2==this.type,l=!1,h=!1,a=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?h=!0:1&(null!==(e=t[n.id])&&void 0!==e?e:1)||a.push(t[n.id]);return{create:t=>(t.values[s]=n(t),1),update(t,e){if(l&&e.docChanged||h&&(e.docChanged||e.selection)||K(t,a)){let e=n(t);if(o?!q(e,t.values[s],i):!i(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let l,h=e.config.address[r];if(null!=h){let r=it(e,h);if(this.dependencies.every((n=>n instanceof _?e.facet(n)===t.facet(n):!(n instanceof Y)||e.field(n,!1)==t.field(n,!1)))||(o?q(l=n(t),r,i):i(l=n(t),r)))return t.values[s]=r,0}else l=n(t);return t.values[s]=l,1}}}}function q(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function K(t,e){let n=!1;for(let i of e)1&nt(t,i)&&(n=!0);return n}function G(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),s=i.filter((t=>!(1&t))),o=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<i.length;e++){let s=it(t,i[e]);if(2==r[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of i)nt(t,e);return t.values[o]=l(t),1},update(t,n){if(!K(t,s))return 0;let i=l(t);return e.compare(i,t.values[o])?0:(t.values[o]=i,1)},reconfigure(t,r){let s=K(t,i),h=r.config.facets[e.id],a=r.facet(e);if(h&&!s&&W(n,h))return t.values[o]=a,0;let c=l(t);return e.compare(c,a)?(t.values[o]=a,0):(t.values[o]=c,1)}}}const U=_.define({static:!0});class Y{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new Y(V++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(U).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let i=t.values[e],r=this.updateF(i,n);return this.compareF(i,r)?0:(t.values[e]=r,1)},reconfigure:(t,n)=>{let i,r=t.facet(U),s=n.facet(U);return(i=r.find((t=>t.field==this)))&&i!=s.find((t=>t.field==this))?(t.values[e]=i.create(t),1):null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}}init(t){return[this,U.of({field:this,create:t})]}get extension(){return this}}function J(t){return e=>new Z(e,t)}const X={highest:J(0),high:J(1),default:J(2),low:J(3),lowest:J(4)};class Z{constructor(t,e){this.inner=t,this.prec=e}}class Q{of(t){return new tt(this,t)}reconfigure(t){return Q.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class tt{constructor(t,e){this.compartment=t,this.inner=e}}class et{constructor(t,e,n,i,r,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),s=new Map;for(let n of function(t,e,n){let i=[[],[],[],[],[]],r=new Map;return function t(s,o){let l=r.get(s);if(null!=l){if(l<=o)return;let t=i[l].indexOf(s);t>-1&&i[l].splice(t,1),s instanceof tt&&n.delete(s.compartment)}if(r.set(s,o),Array.isArray(s))for(let e of s)t(e,o);else if(s instanceof tt){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(s.compartment)||s.inner;n.set(s.compartment,i),t(i,o)}else if(s instanceof Z)t(s.inner,s.prec);else if(s instanceof Y)i[o].push(s),s.provides&&t(s.provides,o);else if(s instanceof j)i[o].push(s),s.facet.extensions&&t(s.facet.extensions,2);else{let e=s.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,o)}}(t,2),i.reduce(((t,e)=>t.concat(e)))}(t,e,s))n instanceof Y?i.push(n):(r[n.facet.id]||(r[n.facet.id]=[])).push(n);let o=Object.create(null),l=[],h=[];for(let t of i)o[t.id]=h.length<<1,h.push((e=>t.slot(e)));let a=null==n?void 0:n.config.facets;for(let t in r){let e=r[t],i=e[0].facet,s=a&&a[t]||[];if(e.every((t=>0==t.type)))if(o[i.id]=l.length<<1|1,W(s,e))l.push(n.facet(i));else{let t=i.combine(e.map((t=>t.value)));l.push(n&&i.compare(t,n.facet(i))?n.facet(i):t)}else{for(let t of e)0==t.type?(o[t.id]=l.length<<1|1,l.push(t.value)):(o[t.id]=h.length<<1,h.push((e=>t.dynamicSlot(e))));o[i.id]=h.length<<1,h.push((t=>G(t,i,e)))}}let c=h.map((t=>t(o)));return new et(t,s,c,o,l,r)}}function nt(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function it(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const rt=_.define(),st=_.define({combine:t=>t.some((t=>t)),static:!0}),ot=_.define({combine:t=>t.length?t[0]:void 0,static:!0}),lt=_.define(),ht=_.define(),at=_.define(),ct=_.define({combine:t=>!!t.length&&t[0]});class ut{constructor(t,e){this.type=t,this.value=e}static define(){return new ft}}class ft{of(t){return new ut(this,t)}}class dt{constructor(t){this.map=t}of(t){return new pt(this,t)}}class pt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new pt(this.type,e)}is(t){return this.type==t}static define(t={}){return new dt(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}pt.reconfigure=pt.define(),pt.appendConfig=pt.define();class gt{constructor(t,e,n,i,r,s){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&H(n,e.newLength),r.some((t=>t.type==gt.time))||(this.annotations=r.concat(gt.time.of(Date.now())))}static create(t,e,n,i,r,s){return new gt(t,e,n,i,r,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(gt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function mt(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function wt(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=R.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:pt.mapEffects(t.effects,r).concat(pt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function vt(t,e,n){let i=e.selection,r=xt(e.annotations);return e.userEvent&&(r=r.concat(gt.userEvent.of(e.userEvent))),{changes:e.changes instanceof R?e.changes:R.of(e.changes||[],n,t.facet(ot)),selection:i&&(i instanceof z?i:z.single(i.anchor,i.head)),effects:xt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function yt(t,e,n){let i=vt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let r=1;r<e.length;r++){!1===e[r].filter&&(n=!1);let s=!!e[r].sequential;i=wt(i,vt(t,e[r],s?i.changes.newLength:t.doc.length),s)}let r=gt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){let e=t.startState,n=e.facet(at),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=wt(i,vt(e,s,t.changes.newLength),!0))}return i==t?t:gt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let i of e.facet(lt)){let e=i(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:mt(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=R.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=gt.create(e,i,t.selection&&t.selection.map(r),pt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(ht);for(let n=i.length-1;n>=0;n--){let r=i[n](t);t=r instanceof gt?r:Array.isArray(r)&&1==r.length&&r[0]instanceof gt?r[0]:yt(e,xt(r),!1)}return t}(r):r)}gt.time=ut.define(),gt.userEvent=ut.define(),gt.addToHistory=ut.define(),gt.remote=ut.define();const bt=[];function xt(t){return null==t?bt:Array.isArray(t)?t:[t]}var kt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(kt||(kt={}));const St=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let At;try{At=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class Mt{constructor(t,e,n,i,r,s){this.config=t,this.doc=e,this.selection=n,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)nt(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return nt(this,n),it(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return yt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:i,compartments:r}=n;for(let e of t.effects)e.is(Q.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((t,e)=>r.set(e,t))),n=null),r.set(e.value.compartment,e.value.extension)):e.is(pt.reconfigure)?(n=null,i=e.value):e.is(pt.appendConfig)&&(n=null,i=xt(i).concat(e.value));n?e=t.startState.values.slice():(n=et.resolve(i,r,this),e=new Mt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values);let s=t.startState.facet(st)?t.newSelection:t.newSelection.asSingle();new Mt(n,t.newDoc,s,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:z.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=xt(n.effects);for(let n=1;n<e.ranges.length;n++){let o=t(e.ranges[n]),l=this.changes(o.changes),h=l.map(i);for(let t=0;t<n;t++)r[t]=r[t].map(h);let a=i.mapDesc(l,!0);r.push(o.range.map(a)),i=i.compose(h),s=pt.mapEffects(s,h).concat(pt.mapEffects(xt(o.effects),a))}return{changes:i,selection:z.create(r,e.mainIndex),effects:s}}changes(t=[]){return t instanceof R?t:R.of(t,this.doc.length,this.facet(Mt.lineSeparator))}toText(t){return g.of(t.split(this.facet(Mt.lineSeparator)||T))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(nt(this,e),it(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof Y&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let r=n[e],s=t[e];i.push(r.init((t=>r.spec.fromJSON(s,t))))}return Mt.create({doc:t.doc,selection:z.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=et.resolve(t.extensions||[],new Map),n=t.doc instanceof g?t.doc:g.of((t.doc||"").split(e.staticFacet(Mt.lineSeparator)||T)),i=t.selection?t.selection instanceof z?t.selection:z.single(t.selection.anchor,t.selection.head):z.single(0);return H(i,n.length),e.staticFacet(st)||(i=i.asSingle()),new Mt(e,n,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Mt.tabSize)}get lineBreak(){return this.facet(Mt.lineSeparator)||"\n"}get readOnly(){return this.facet(ct)}phrase(t,...e){for(let e of this.facet(Mt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let i=+(n||1);return!i||i>e.length?t:e[i-1]}))),t}languageDataAt(t,e,n=-1){let i=[];for(let r of this.facet(rt))for(let s of r(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return kt.Space;if(function(t){if(At)return At.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||St.test(n)))return!0}return!1}(t))return kt.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return kt.Word;return kt.Other};var e}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-n,o=t-n;for(;s>0;){let t=M(e,s,!1);if(r(e.slice(t,s))!=kt.Word)break;s=t}for(;o<i;){let t=M(e,o);if(r(e.slice(o,t))!=kt.Word)break;o=t}return s==o?null:z.range(s+n,o+n)}}function Ct(t,e,n={}){let i={};for(let e of t)for(let t of Object.keys(e)){let r=e[t],s=i[t];if(void 0===s)i[t]=r;else if(s===r||void 0===r);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,r)}}for(let t in e)void 0===i[t]&&(i[t]=e[t]);return i}Mt.allowMultipleSelections=st,Mt.tabSize=_.define({combine:t=>t.length?t[0]:4}),Mt.lineSeparator=ot,Mt.readOnly=ct,Mt.phrases=_.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((n=>t[n]==e[n]))}}),Mt.languageData=rt,Mt.changeFilter=lt,Mt.transactionFilter=ht,Mt.transactionExtender=at,Q.reconfigure=pt.define();class Ot{eq(t){return this==t}range(t,e=t){return Tt.create(t,e,this)}}Ot.prototype.startSide=Ot.prototype.endSide=0,Ot.prototype.point=!1,Ot.prototype.mapMode=E.TrackDel;class Tt{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Tt(t,e,n)}}function Et(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Dt{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let r=n?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,l=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==s)return l>=0?s:o;l>=0?o=i:s=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let h,a,c=this.value[l],u=this.from[l]+t,f=this.to[l]+t;if(u==f){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(h=a=t,c.startSide!=c.endSide&&(a=e.mapPos(u,c.endSide),a<h))continue}else if(h=e.mapPos(u,c.startSide),a=e.mapPos(f,c.endSide),h>a||h==a&&c.startSide>0&&c.endSide<=0)continue;(a-h||c.endSide-c.startSide)<0||(s<0&&(s=h),c.point&&(o=Math.max(o,a-h)),n.push(c),i.push(h-s),r.push(a-s))}return{mapped:n.length?new Dt(i,r,n,o):null,pos:s}}}class Rt{constructor(t,e,n,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}static create(t,e,n,i){return new Rt(t,e,n,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Et)),this.isEmpty)return e.length?Rt.of(e):this;let o=new Lt(this,null,-1).goto(0),l=0,h=[],a=new Bt;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let t=e[l++];a.addInner(t.from,t.to,t.value)||h.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&a.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||r<o.from||s(o.from,o.to,o.value))&&(a.addInner(o.from,o.to,o.value)||h.push(Tt.create(o.from,o.to,o.value))),o.next());return a.finishInner(this.nextLayer.isEmpty&&!h.length?Rt.empty:this.nextLayer.update({add:h,filter:s,filterFrom:i,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],i=-1;for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r],l=t.touchesRange(s,s+o.length);if(!1===l)i=Math.max(i,o.maxPoint),e.push(o),n.push(t.mapPos(s));else if(!0===l){let{mapped:r,pos:l}=o.map(s,t);r&&(i=Math.max(i,r.maxPoint),e.push(r),n.push(l))}}let r=this.nextLayer.map(t);return 0==e.length?r:new Rt(n,e,r||Rt.empty,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Nt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Nt.from(t).goto(e)}static compare(t,e,n,i,r=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),l=Pt(s,o,n),h=new Ft(s,l,r),a=new Ft(o,l,r);n.iterGaps(((t,e,n)=>$t(h,t,a,e,n,i))),n.empty&&0==n.length&&$t(h,0,a,0,0,i)}static eq(t,e,n=0,i){null==i&&(i=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=Pt(r,s),l=new Ft(r,o,0).goto(n),h=new Ft(s,o,0).goto(n);for(;;){if(l.to!=h.to||!zt(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>i)return!0;l.next(),h.next()}}static spans(t,e,n,i,r=-1){let s=new Ft(t,null,r).goto(e),o=e,l=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),r=s.pointFrom<e?n.length+1:s.point.startSide<0?n.length:Math.min(n.length,l);i.point(o,t,s.point,n,r,s.pointRank),l=Math.min(s.openEnd(t),n.length)}else t>o&&(i.span(o,t,s.active,l),l=s.openEnd(t));if(s.to>n)return l+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Bt;for(let i of t instanceof Tt?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Et(e,i)>0)return t.slice().sort(Et);e=i}return t}(t):t)n.add(i.from,i.to,i.value);return n.finish()}static join(t){if(!t.length)return Rt.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let i=t[n];i!=Rt.empty;i=i.nextLayer)e=new Rt(i.chunkPos,i.chunk,e,Math.max(i.maxPoint,e.maxPoint));return e}}Rt.empty=new Rt([],[],null,-1),Rt.empty.nextLayer=Rt.empty;class Bt{finishChunk(t){this.chunks.push(new Dt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Bt)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Rt.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Rt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Pt(t,e,n){let i=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&i.set(e.chunk[t],e.chunkPos[t]);let r=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let s=i.get(t.chunk[e]);null==s||(n?n.mapPos(s):s)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(s,s+t.chunk[e].length))||r.add(t.chunk[e])}return r}class Lt{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Nt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new Lt(s,e,n,r));return 1==i.length?i[0]:new Nt(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)It(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)It(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),It(this.heap,0)}}}function It(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Ft{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Nt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Ht(this.active,t),Ht(this.activeTo,t),Ht(this.activeRank,t),this.minActive=_t(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;for(;e<this.activeRank.length&&(r-this.activeRank[e]||i-this.activeTo[e])>0;)e++;Vt(this.active,e,n),Vt(this.activeTo,e,i),Vt(this.activeRank,e,r),t&&Vt(t,e,this.cursor.from),this.minActive=_t(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Ht(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function $t(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,l=i,h=i-e;for(;;){let e=t.to+h-n.to,i=e||t.endSide-n.endSide,r=i<0?t.to+h:n.to,a=Math.min(r,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&zt(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,a,t.point,n.point):a>l&&!zt(t.active,n.active)&&s.compareRange(l,a,t.active,n.active),r>o)break;(e||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(r),l=r,i<=0&&t.next(),i>=0&&n.next()}}function zt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Ht(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Vt(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function _t(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Wt(t,e,n=t.length){let i=0;for(let r=0;r<n&&r<t.length;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=M(t,r));return i}function jt(t,e,n,i){for(let i=0,r=0;;){if(r>=e)return i;if(i==t.length)break;r+=9==t.charCodeAt(i)?n-r%n:1,i=M(t,i)}return!0===i?-1:t.length}},642:(t,e,n)=>{n.d(e,{p8:()=>i,tb:()=>r});var i=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},664:(t,e,n)=>{function i(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{h(i.next(t))}catch(t){s(t)}}function l(t){try{h(i.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}h((i=i.apply(t,e||[])).next())}))}n.d(e,{sH:()=>i}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},798:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},848:(t,e,n)=>{n.d(e,{$A:()=>h,Il:()=>c,Om:()=>l,S8:()=>o,fA:()=>s,gL:()=>a,vt:()=>r});var i=n(642);function r(){var t=new i.tb(3);return i.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t,e,n){var r=new i.tb(3);return r[0]=t,r[1]=e,r[2]=n,r}function o(t,e){var n=e[0],i=e[1],r=e[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function l(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function h(t,e,n){var i=e[0],r=e[1],s=e[2],o=n[0],l=n[1],h=n[2];return t[0]=r*h-s*l,t[1]=s*o-i*h,t[2]=i*l-r*o,t}function a(t,e,n){var i=n[0],r=n[1],s=n[2],o=n[3],l=e[0],h=e[1],a=e[2],c=r*a-s*h,u=s*l-i*a,f=i*h-r*l,d=r*f-s*u,p=s*c-i*f,g=i*u-r*c,m=2*o;return c*=m,u*=m,f*=m,d*=2,p*=2,g*=2,t[0]=l+c+d,t[1]=h+u+p,t[2]=a+f+g,t}var c=function(t){var e=t[0],n=t[1],i=t[2];return Math.hypot(e,n,i)};r()},898:(t,e,n)=>{n.d(e,{NZ:()=>dt,OP:()=>Mt,Lz:()=>hi,wJ:()=>xi,Z9:()=>ae,xO:()=>ut,Wu:()=>Wi,w4:()=>mi,$K:()=>zi,c_:()=>se});for(var i=n(638),r=n(417),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),h="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)s[48+a]=s[96+a]=String(a);for(a=1;a<=24;a++)s[a+111]="F"+a;for(a=65;a<=90;a++)s[a]=String.fromCharCode(a+32),o[a]=String.fromCharCode(a);for(var c in s)o.hasOwnProperty(c)||(o[c]=s[c]);function u(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function f(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function d(t,e){if(!e.anchorNode)return!1;try{return f(t,e.anchorNode)}catch(t){return!1}}function p(t){return 3==t.nodeType?O(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function g(t,e,n,i){return!!n&&(v(t,e,n,i,-1)||v(t,e,n,i,1))}function m(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function w(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function v(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:y(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=m(t)+(r<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=r<0?y(t):0}}}function y(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function b(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function x(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function k(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}class S{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?y(e):0),n,Math.min(t.focusOffset,n?y(n):0))}set(t,e,n,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=i}}let A,M=null;function C(t){if(t.setActive)return t.setActive();if(M)return t.focus(M);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==M?{get preventScroll(){return M={preventScroll:!0},!0}}:void 0),!M){M=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],r=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=r&&(n.scrollLeft=r)}}}function O(t,e,n=e){let i=A||(A=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function T(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function E(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function D(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function R(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i>0)return{node:n,offset:i};if(1==n.nodeType&&i>0){if("false"==n.contentEditable)return null;n=n.childNodes[i-1],i=y(n)}else{if(!n.parentNode||w(n))return null;i=m(n),n=n.parentNode}}}function B(t,e){for(let n=t,i=e;;){if(3==n.nodeType&&i<n.nodeValue.length)return{node:n,offset:i};if(1==n.nodeType&&i<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[i],i=0}else{if(!n.parentNode||w(n))return null;i=m(n)+1,n=n.parentNode}}}class P{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new P(t.parentNode,m(t),e)}static after(t,e){return new P(t.parentNode,m(t)+1,e)}}const L=[];class N{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,i=this.dom,r=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=r?r.nextSibling:i.firstChild)){let t=N.get(n);(!t||!t.parent&&t.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t,e),s.flags&=-8}if(n=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&n!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;n&&n!=s.dom;)n=I(n);else i.insertBefore(s.dom,n);r=s.dom}for(n=r?r.nextSibling:i.firstChild,n&&e&&e.node==i&&(e.written=!0);n;)n=I(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=0==y(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==i&&e.firstChild!=e.lastChild&&(i=t==e.firstChild?-1:1),t=e}n=i<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!N.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let i=this.children[t];if(i.dom==n)return e;e+=i.length+i.breakAfter}}domBoundsAround(t,e,n=0){let i=-1,r=-1,s=-1,o=-1;for(let l=0,h=n,a=n;l<this.children.length;l++){let n=this.children[l],c=h+n.length;if(h<t&&c>e)return n.domBoundsAround(t,e,h);if(c>=t&&-1==i&&(i=l,r=h),h>e&&n.dom.parentNode==this.dom){s=l,o=a;break}a=c,h=c+n.breakAfter}return{from:r,to:o<0?n+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=L){this.markDirty();for(let i=t;i<e;i++){let t=this.children[i];t.parent==this&&n.indexOf(t)<0&&t.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new F(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,i,r,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function I(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}N.prototype.breakAfter=0;class F{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function $(t,e,n,i,r,s,o,l,h){let{children:a}=t,c=a.length?a[e]:null,u=s.length?s[s.length-1]:null,f=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!f&&s.length<2&&c.merge(n,r,s.length?u:null,0==n,l,h))){if(i<a.length){let t=a[i];t&&(r<t.length||t.breakAfter&&(null==u?void 0:u.breakAfter))?(e==i&&(t=t.split(r),r=0),!f&&u&&t.merge(0,r,u,!0,0,h)?s[s.length-1]=t:((r||t.children.length&&!t.children[0].length)&&t.merge(0,r,null,!1,0,h),s.push(t))):(null==t?void 0:t.breakAfter)&&(u?u.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,l,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,l,0),e++));e<i&&s.length;)if(a[i-1].become(s[s.length-1]))i--,s.pop(),h=s.length?0:l;else{if(!a[e].become(s[0]))break;e++,s.shift(),l=s.length?0:h}!s.length&&e&&i<a.length&&!a[e-1].breakAfter&&a[i].merge(0,0,a[e-1],!1,l,h)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function z(t,e,n,i,r,s){let o=t.childCursor(),{i:l,off:h}=o.findPos(n,1),{i:a,off:c}=o.findPos(e,-1),u=e-n;for(let t of i)u+=t.length;t.length+=u,$(t,a,c,l,h,i,0,r,s)}let H="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},V="undefined"!=typeof document?document:{documentElement:{style:{}}};const _=/Edge\/(\d+)/.exec(H.userAgent),W=/MSIE \d/.test(H.userAgent),j=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(H.userAgent),q=!!(W||j||_),K=!q&&/gecko\/(\d+)/i.test(H.userAgent),G=!q&&/Chrome\/(\d+)/.exec(H.userAgent),U="webkitFontSmoothing"in V.documentElement.style,Y=!q&&/Apple Computer/.test(H.vendor),J=Y&&(/Mobile\/\w+/.test(H.userAgent)||H.maxTouchPoints>2);var X={mac:J||/Mac/.test(H.platform),windows:/Win/.test(H.platform),linux:/Linux|X11/.test(H.platform),ie:q,ie_version:W?V.documentMode||6:j?+j[1]:_?+_[1]:0,gecko:K,gecko_version:K?+(/Firefox\/(\d+)/.exec(H.userAgent)||[0,0])[1]:0,chrome:!!G,chrome_version:G?+G[1]:0,ios:J,android:/Android\b/.test(H.userAgent),webkit:U,safari:Y,webkit_version:U?+(/\bAppleWebKit\/(\d+)/.exec(H.userAgent)||[0,0])[1]:0,tabSize:null!=V.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Z extends N{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof Z)||this.length-(e-t)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new Z(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new P(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;0==e&&n<0||e==i&&n>=0?X.chrome||X.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let l=O(t,r,s).getClientRects();if(!l.length)return null;let h=l[(o?o<0:n>=0)?0:l.length-1];return X.safari&&!o&&0==h.width&&(h=Array.prototype.find.call(l,(t=>t.width))||h),o?b(h,o<0):h||null}(this.dom,t,e)}}class Q extends N{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(E(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof Q&&n.mark.eq(this.mark))||t&&r<=0||e<this.length&&s<=0)||(z(this,t,e,n?n.children.slice():[],r-1,s-1),this.markDirty(),0))}split(t){let e=[],n=0,i=-1,r=0;for(let s of this.children){let o=n+s.length;o>t&&e.push(n<t?s.split(t-n):s),i<0&&n>=t&&(i=r),n=o,r++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new Q(this.mark,e,s)}domAtPos(t){return nt(this,t)}coordsAt(t,e){return rt(this,t,e)}}class tt extends N{static create(t,e,n){return new tt(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=tt.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof tt&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t instanceof tt&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return i.EY.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):i.EY.empty}domAtPos(t){return(this.length?0==t:this.side>0)?P.before(this.dom):P.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let i=this.dom.getClientRects(),r=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let e=s?i.length-1:0;r=i[e],!(t>0?0==e:e==i.length-1||r.top<r.bottom);e+=s?-1:1);return b(r,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class et extends N{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof et&&t.side==this.side}split(){return new et(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?P.before(this.dom):P.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return i.EY.empty}get isHidden(){return!0}}function nt(t,e){let n=t.dom,{children:i}=t,r=0;for(let t=0;r<i.length;r++){let s=i[r],o=t+s.length;if(!(o==t&&s.getSide()<=0)){if(e>t&&e<o&&s.dom.parentNode==n)return s.domAtPos(e-t);if(e<=t)break;t=o}}for(let t=r;t>0;t--){let e=i[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=r;t<i.length;t++){let e=i[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new P(n,0)}function it(t,e,n){let i,{children:r}=t;n>0&&e instanceof Q&&r.length&&(i=r[r.length-1])instanceof Q&&i.mark.eq(e.mark)?it(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function rt(t,e,n){let i=null,r=-1,s=null,o=-1;!function t(e,l){for(let h=0,a=0;h<e.children.length&&a<=l;h++){let c=e.children[h],u=a+c.length;u>=l&&(c.children.length?t(c,l-a):(!s||s.isHidden&&(n>0||st(s,c)))&&(u>l||a==u&&c.getSide()>0)?(s=c,o=l-a):(a<l||a==u&&c.getSide()<0&&!c.isHidden)&&(i=c,r=l-a)),a=u}}(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=p(e);return n[n.length-1]||null}(t)}function st(t,e){let n=t.coordsAt(0,1),i=e.coordsAt(0,1);return n&&i&&i.top<n.bottom}function ot(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}Z.prototype.children=tt.prototype.children=et.prototype.children=L;const lt=Object.create(null);function ht(t,e,n){if(t==e)return!0;t||(t=lt),e||(e=lt);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(-1==r.indexOf(s)||t[s]!==e[s]))return!1;return!0}function at(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,"style"==r?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,"style"==r?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function ct(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class ut{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var ft=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(ft||(ft={}));class dt extends i.FB{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new pt(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new mt(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,i=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:r,end:s}=wt(t,i);e=(r?i?-3e8:-1:5e8)-1,n=1+(s?i?2e8:1:-6e8)}return new mt(t,e,n,i,t.widget||null,!0)}static line(t){return new gt(t)}static set(t,e=!1){return i.om.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}dt.none=i.om.empty;class pt extends dt{constructor(t){let{start:e,end:n}=wt(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof pt&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&ht(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}pt.prototype.point=!1;class gt extends dt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof gt&&this.spec.class==t.spec.class&&ht(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}gt.prototype.mapMode=i.iR.TrackBefore,gt.prototype.point=!0;class mt extends dt{constructor(t,e,n,r,s,o){super(e,n,s,t),this.block=r,this.isReplace=o,this.mapMode=r?e<=0?i.iR.TrackBefore:i.iR.TrackAfter:i.iR.TrackDel}get type(){return this.startSide!=this.endSide?ft.WidgetRange:this.startSide<=0?ft.WidgetBefore:ft.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof mt&&((e=this.widget)==(n=t.widget)||!!(e&&n&&e.compare(n)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,n}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function wt(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return null==n&&(n=t.inclusive),null==i&&(i=t.inclusive),{start:null!=n?n:e,end:null!=i?i:e}}function vt(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}mt.prototype.point=!0;class yt extends N{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,r,s){if(n){if(!(n instanceof yt))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),z(this,t,e,n?n.children.slice():[],r,s),!0}split(t){let e=new yt;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){ht(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){it(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=ot(e,this.attrs||{})),n&&(this.attrs=ot({class:n},this.attrs||{}))}domAtPos(t){return nt(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(E(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(at(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&N.get(i)instanceof Q;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(n=N.get(i))||void 0===n?void 0:n.isEditable)||X.ios&&this.children.some((t=>t instanceof Z))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof Z)||/[^ -~]/.test(n.text))return null;let i=p(n.dom);if(1!=i.length)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=rt(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let i=(e-t.textHeight)/2;return{top:n.top+i,bottom:n.bottom-i,left:n.left,right:n.left}}}return n}become(t){return t instanceof yt&&0==this.children.length&&0==t.children.length&&ht(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,i=0;n<t.children.length;n++){let r=t.children[n],s=i+r.length;if(s>=e){if(r instanceof yt)return r;if(s>e)break}i=s+r.breakAfter}return null}}class bt extends N{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,i,r,s){return!(n&&(!(n instanceof bt&&this.widget.compare(n.widget))||t>0&&r<=0||e<this.length&&s<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?P.before(this.dom):P.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new bt(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return L}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):i.EY.empty}domBoundsAround(){return null}become(t){return t instanceof bt&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof xt?null:b(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class xt extends ut{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class kt{constructor(t,e,n,i){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof bt&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new yt),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(St(new et(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof bt||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(St(new Z(this.text.slice(this.textOff,this.textOff+i)),e),n),this.atCursorPos=!0,this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,r,s){if(this.disallowBlockEffectsFor[s]&&n instanceof mt){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(n instanceof mt)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new bt(n.widget||At.block,o,n));else{let s=tt.create(n.widget||At.inline,o,o?0:n.startSide),l=this.atCursorPos&&!s.isEditable&&r<=i.length&&(t<e||n.startSide>0),h=!s.isEditable&&(t<e||r>i.length||n.startSide<=0),a=this.getLine();2!=this.pendingBuffer||l||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),l&&(a.append(St(new et(1),i),r),r=i.length+Math.max(0,r-i.length)),a.append(St(s,i),r),this.atCursorPos=h,this.pendingBuffer=h?t<e||r>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=r)}static build(t,e,n,r,s){let o=new kt(t,e,n,s);return o.openEnd=i.om.spans(r,e,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function St(t,e){for(let n of e)t=new Q(n,[t],t.length);return t}class At extends ut{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}At.inline=new At("span"),At.block=new At("div");var Mt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Mt||(Mt={}));const Ct=Mt.LTR,Ot=Mt.RTL;function Tt(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Et=Tt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Dt=Tt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Rt=Object.create(null),Bt=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Rt[e]=n,Rt[n]=-e}function Pt(t){return t<=247?Et[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Dt[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Lt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Nt{get dir(){return this.level%2?Ot:Ct}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,i){let r=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=e&&o.to>=e){if(o.level==n)return s;(r<0||(0!=i?i<0?o.from<e:o.to>e:t[r].level>o.level))&&(r=s)}}if(r<0)throw new RangeError("Index out of range");return r}}function It(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!It(i.inner,r.inner))return!1}return!0}const Ft=[];function $t(t,e,n,i,r,s,o){let l=i%2?2:1;if(i%2==r%2)for(let h=e,a=0;h<n;){let e=!0,c=!1;if(a==s.length||h<s[a].from){let t=Ft[h];t!=l&&(e=!1,c=16==t)}let u=e||1!=l?null:[],f=e?i:i+1,d=h;t:for(;;)if(a<s.length&&d==s[a].from){if(c)break t;let p=s[a];if(!e)for(let t=p.to,e=a+1;;){if(t==n)break t;if(!(e<s.length&&s[e].from==t)){if(Ft[t]==l)break t;break}t=s[e++].to}a++,u?u.push(p):(p.from>h&&o.push(new Nt(h,p.from,f)),zt(t,p.direction==Ct!=!(f%2)?i+1:i,r,p.inner,p.from,p.to,o),h=p.to),d=p.to}else{if(d==n||(e?Ft[d]!=l:Ft[d]==l))break;d++}u?$t(t,h,d,i+1,r,u,o):h<d&&o.push(new Nt(h,d,f)),h=d}else for(let h=n,a=s.length;h>e;){let n=!0,c=!1;if(!a||h>s[a-1].to){let t=Ft[h-1];t!=l&&(n=!1,c=16==t)}let u=n||1!=l?null:[],f=n?i:i+1,d=h;t:for(;;)if(a&&d==s[a-1].to){if(c)break t;let p=s[--a];if(!n)for(let t=p.from,n=a;;){if(t==e)break t;if(!n||s[n-1].to!=t){if(Ft[t-1]==l)break t;break}t=s[--n].from}u?u.push(p):(p.to<h&&o.push(new Nt(p.to,h,f)),zt(t,p.direction==Ct!=!(f%2)?i+1:i,r,p.inner,p.from,p.to,o),h=p.from),d=p.from}else{if(d==e||(n?Ft[d-1]!=l:Ft[d-1]==l))break;d--}u?$t(t,d,h,i+1,r,u,o):d<h&&o.push(new Nt(d,h,f)),h=d}}function zt(t,e,n,i,r,s,o){let l=e%2?2:1;!function(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,l=s<i.length?i[s].from:n,h=s?256:r;for(let e=o,n=h,i=h;e<l;e++){let r=Pt(t.charCodeAt(e));512==r?r=n:8==r&&4==i&&(r=16),Ft[e]=4==r?2:r,7&r&&(i=r),n=r}for(let t=o,e=h,i=h;t<l;t++){let r=Ft[t];if(128==r)t<l-1&&e==Ft[t+1]&&24&e?r=Ft[t]=e:Ft[t]=256;else if(64==r){let r=t+1;for(;r<l&&64==Ft[r];)r++;let s=t&&8==e||r<n&&8==Ft[r]?1==i?1:8:256;for(let e=t;e<r;e++)Ft[e]=s;t=r-1}else 8==r&&1==i&&(Ft[t]=1);e=r,7&r&&(i=r)}}}(t,r,s,i,l),function(t,e,n,i,r){let s=1==r?2:1;for(let o=0,l=0,h=0;o<=i.length;o++){let a=o?i[o-1].to:e,c=o<i.length?i[o].from:n;for(let e,n,i,o=a;o<c;o++)if(n=Rt[e=t.charCodeAt(o)])if(n<0){for(let t=l-3;t>=0;t-=3)if(Bt[t+1]==-n){let e=Bt[t+2],n=2&e?r:4&e?1&e?s:r:0;n&&(Ft[o]=Ft[Bt[t]]=n),l=t;break}}else{if(189==Bt.length)break;Bt[l++]=o,Bt[l++]=e,Bt[l++]=h}else if(2==(i=Ft[o])||1==i){let t=i==r;h=t?0:1;for(let e=l-3;e>=0;e-=3){let n=Bt[e+2];if(2&n)break;if(t)Bt[e+2]|=2;else{if(4&n)break;Bt[e+2]|=4}}}}}(t,r,s,i,l),function(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,l=r<n.length?n[r].from:e;for(let h=o;h<l;){let o=Ft[h];if(256==o){let o=h+1;for(;;)if(o==l){if(r==n.length)break;o=n[r++].to,l=r<n.length?n[r].from:e}else{if(256!=Ft[o])break;o++}let a=1==s,c=a==(1==(o<e?Ft[o]:i))?a?1:2:i;for(let e=o,i=r,s=i?n[i-1].to:t;e>h;)e==s&&(e=n[--i].from,s=i?n[i-1].to:t),Ft[--e]=c;h=o}else s=o,h++}}}(r,s,i,l),$t(t,r,s,e,n,i,o)}function Ht(t){return[new Nt(0,t,0)]}let Vt="";function _t(t,e,n,r,s){var o;let l=r.head-t.from,h=Nt.find(e,l,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc),a=e[h],c=a.side(s,n);if(l==c){let t=h+=s?1:-1;if(t<0||t>=e.length)return null;a=e[h=t],l=a.side(!s,n),c=a.side(s,n)}let u=(0,i.zK)(t.text,l,a.forward(s,n));(u<a.from||u>a.to)&&(u=c),Vt=t.text.slice(Math.min(l,u),Math.max(l,u));let f=h==(s?e.length-1:0)?null:e[h+(s?1:-1)];return f&&u==c&&f.level+(s?0:1)<a.level?i.OF.cursor(f.side(!s,n)+t.from,f.forward(s,n)?1:-1,f.level):i.OF.cursor(u+t.from,a.forward(s,n)?-1:1,a.level)}function Wt(t,e,n){for(let i=e;i<n;i++){let e=Pt(t.charCodeAt(i));if(1==e)return Ct;if(2==e||4==e)return Ot}return Ct}const jt=i.sj.define(),qt=i.sj.define(),Kt=i.sj.define(),Gt=i.sj.define(),Ut=i.sj.define(),Yt=i.sj.define(),Jt=i.sj.define(),Xt=i.sj.define(),Zt=i.sj.define(),Qt=i.sj.define({combine:t=>t.some((t=>t))}),te=i.sj.define({combine:t=>t.some((t=>t))}),ee=i.sj.define();class ne{constructor(t,e="nearest",n="nearest",i=5,r=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=i,this.xMargin=r,this.isSnapshot=s}map(t){return t.empty?this:new ne(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new ne(i.OF.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ie=i.Pe.define({map:(t,e)=>t.map(e)}),re=i.Pe.define();function se(t,e,n){let i=t.facet(Gt);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const oe=i.sj.define({combine:t=>!t.length||t[0]});let le=0;const he=i.sj.define();class ae{constructor(t,e,n,i,r){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=i,this.extension=r(this)}static define(t,e){const{eventHandlers:n,eventObservers:i,provide:r,decorations:s}=e||{};return new ae(le++,t,n,i,(t=>{let e=[he.of(t)];return s&&e.push(de.of((e=>{let n=e.plugin(t);return n?s(n):dt.none}))),r&&e.push(r(t)),e}))}static fromClass(t,e){return ae.define((e=>new t(e)),e)}}class ce{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(se(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){se(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){se(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ue=i.sj.define(),fe=i.sj.define(),de=i.sj.define(),pe=i.sj.define(),ge=i.sj.define(),me=i.sj.define();function we(t,e){let n=t.state.facet(me);if(!n.length)return n;let r=n.map((e=>e instanceof Function?e(t):e)),s=[];return i.om.spans(r,e.from,e.to,{point(){},span(t,n,i,r){let o=t-e.from,l=n-e.from,h=s;for(let t=i.length-1;t>=0;t--,r--){let n,s=i[t].spec.bidiIsolate;if(null==s&&(s=Wt(e.text,o,l)),r>0&&h.length&&(n=h[h.length-1]).to==o&&n.direction==s)n.to=l,h=n.inner;else{let t={from:o,to:l,direction:s,inner:[]};h.push(t),h=t.inner}}}}),s}const ve=i.sj.define();function ye(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(ve)){let o=s(t);o&&(null!=o.left&&(e=Math.max(e,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(i=Math.max(i,o.top)),null!=o.bottom&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const be=i.sj.define();class xe{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new xe(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let i=0,r=0,s=0,o=0;;i++){let l=i==t.length?null:t[i],h=s-o,a=l?l.fromB:1e9;for(;r<e.length&&e[r]<a;){let t=e[r],i=e[r+1],s=Math.max(o,t),l=Math.min(a,i);if(s<=l&&new xe(s+h,l+h,s,l).addToSet(n),i>a)break;r+=2}if(!l)return n;new xe(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,o=l.toB}}}class ke{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=i.VR.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let r=[];this.changes.iterChangedRanges(((t,e,n,i)=>r.push(new xe(t,e,n,i)))),this.changedRanges=r}static create(t,e,n){return new ke(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Se extends N{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=dt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new yt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new xe(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?r=this.domChanged.newSel.head:function(t,e){let n=!1;return e&&t.iterChangedRanges(((t,i)=>{t<e.to&&i>e.from&&(n=!0)})),n}(t.changes,this.hasComposition)||t.selectionSet||(r=t.state.selection.main.head));let s=r>-1?function(t,e,n){let i=Ae(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,l=r.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(i.from,i.to)!=l)return null;let h=e.invertedDesc,a=new xe(h.mapPos(s),h.mapPos(o),s,o),c=[];for(let e=r.parentNode;;e=e.parentNode){let n=N.get(e);if(n instanceof Q)c.push({node:e,deco:n.mark});else{if(n instanceof yt||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:a,text:r,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new pt({inclusive:!0,attributes:ct(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:i}=this.hasComposition;n=new xe(e,i,t.changes.mapPos(e,-1),t.changes.mapPos(i,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(X.ie||X.chrome)&&!s&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let o=function(t,e,n){let r=new Me;return i.om.compare(t,e,n,r),r.changes}(this.decorations,this.updateDeco(),t.changes);return n=xe.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,s),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:i}=this.view;i.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=X.chrome||X.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||i.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof bt&&t.widget instanceof xt&&r.push(t.dom);i.updateGaps(r)}updateChildren(t,e,n){let i=n?n.range.addToSet(t.slice()):t,r=this.childCursor(e);for(let t=i.length-1;;t--){let e=t>=0?i[t]:null;if(!e)break;let s,o,l,h,{fromA:a,toA:c,fromB:u,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>u){let t=kt.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=kt.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);o=t.breakAtStart,l=t.openStart,h=e.openEnd;let i=this.compositionView(n);e.breakAtStart?i.breakAfter=1:e.content.length&&i.merge(i.length,i.length,e.content[0],!1,e.openStart,0)&&(i.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&i.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),s=t.content.concat(i).concat(e.content)}else({content:s,breakAtStart:o,openStart:l,openEnd:h}=kt.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:p}=r.findPos(c,1),{i:g,off:m}=r.findPos(a,-1);$(this,g,m,d,p,s,o,l,h)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let t of e.effects)t.is(re)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new Z(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new Q(n,[e],e.length);let n=new yt;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=N.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),i=this.children[n.i];e(t.line,i);for(let r=t.marks.length-1;r>=-1;r--)n=i.childPos(n.off,1),i=i.children[n.i],e(r>=0?t.marks[r].node:t.text,i)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,r=!i&&!(this.view.state.facet(oe)||this.dom.tabIndex>-1)&&d(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||e||r))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),h=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(X.gecko&&o.empty&&!this.hasComposition&&1==(a=l).node.nodeType&&a.node.firstChild&&(0==a.offset||"false"==a.node.childNodes[a.offset-1].contentEditable)&&(a.offset==a.node.childNodes.length||"false"==a.node.childNodes[a.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=h=new P(t,0),s=!0}var a;let c=this.view.observer.selectionRange;!s&&c.focusNode&&(g(l.node,l.offset,c.anchorNode,c.anchorOffset)&&g(h.node,h.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,o))||(this.view.observer.ignore((()=>{X.android&&X.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=u(this.view.root);if(t)if(o.empty){if(X.gecko){let t=(e=l.node,i=l.offset,1!=e.nodeType?0:(i&&"false"==e.childNodes[i-1].contentEditable?1:0)|(i<e.childNodes.length&&"false"==e.childNodes[i].contentEditable?2:0));if(t&&3!=t){let e=(1==t?R:B)(l.node,l.offset);e&&(l=new P(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=o.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=o.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(h.node,h.offset)}catch(t){}}else{let e=document.createRange();o.anchor>o.head&&([l,h]=[h,l]),e.setEnd(h.node,h.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}var e,i;r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new P(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new P(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=u(t.root),{anchorNode:i,anchorOffset:r}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=yt.find(this,e.head);if(!s)return;let o=s.posAtStart;if(e.head==o||e.head==o+s.length)return;let l=this.coordsAt(e.head,-1),h=this.coordsAt(e.head,1);if(!l||!h||l.bottom>h.top)return;let a=this.domAtPos(e.head+e.assoc);n.collapse(a.node,a.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&n.collapse(i,r)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let i=t.offset;!e&&i<n.childNodes.length;i++){let t=N.get(n.childNodes[i]);t instanceof yt&&(e=t.domAtPos(0))}for(let i=t.offset-1;!e&&i>=0;i--){let t=N.get(n.childNodes[i]);t instanceof yt&&(e=t.domAtPos(t.length))}return e?new P(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=N.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof yt)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,i=0;for(let r=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=r-o.breakAfter,h=l-o.length;if(l<t)break;if(h<=t&&(h<t||o.covers(-1))&&(l>t||o.covers(1))&&(!n||o instanceof yt&&!(n instanceof yt&&e>=0)))n=o,i=h;else if(n&&h==t&&l==t&&o instanceof bt&&Math.abs(e)<2){if(o.deco.startSide<0)break;s&&(n=null)}r=h}return n?n.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof yt))return null;for(;r.children.length;){let{i:t,off:e}=r.childPos(n,1);for(;;t++){if(t==r.children.length)return null;if((r=r.children[t]).length)break}n=e}if(!(r instanceof Z))return null;let s=(0,i.zK)(r.text,n);if(s==n)return null;let o=O(r.dom,n,s).getClientRects();for(let t=0;t<o.length;t++){let e=o[t];if(t==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:i}=t,r=this.view.contentDOM.clientWidth,s=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Mt.LTR;for(let t=0,h=0;h<this.children.length;h++){let a=this.children[h],c=t+a.length;if(c>i)break;if(t>=n){let n=a.dom.getBoundingClientRect();if(e.push(n.height),s){let e=a.dom.lastChild,i=e?p(e):[];if(i.length){let e=i[i.length-1],s=l?e.right-n.left:n.right-e.left;s>o&&(o=s,this.minWidth=r,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+a.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Mt.RTL:Mt.LTR}measureTextSize(){for(let t of this.children)if(t instanceof yt){let e=t.measureTextSize();if(e)return e}let t,e,n,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(i);let r=p(i.firstChild)[0];t=i.getBoundingClientRect().height,e=r?r.width/27:7,n=r?r.height:t,i.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new F(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let r=i==e.viewports.length?null:e.viewports[i],s=r?r.from-1:this.length;if(s>n){let i=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(dt.replace({widget:new xt(i),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!r)break;n=r.to+1}return dt.set(t)}updateDeco(){let t=1,e=this.view.state.facet(de).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,r=this.view.state.facet(pe).map(((t,e)=>{let i="function"==typeof t;return i&&(n=!0),i?t(this.view):t}));for(r.length&&(this.dynamicDecorationMap[t++]=n,e.push(i.om.join(r))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(ee))try{if(e(this.view,t.range,t))return!0}catch(t){se(this.view.state,t,"scroll handler")}let e,{range:n}=t,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!i)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let r=ye(this.view),s={left:i.left-r.left,top:i.top-r.top,right:i.right+r.right,bottom:i.bottom+r.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,i,r,s,o,l){let h=t.ownerDocument,a=h.defaultView||window;for(let c=t,u=!1;c&&!u;)if(1==c.nodeType){let t,f=c==h.body,d=1,p=1;if(f)t=x(a);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:d,scaleY:p}=k(c,e)),t={left:e.left,right:e.left+c.clientWidth*d,top:e.top,bottom:e.top+c.clientHeight*p}}let g=0,m=0;if("nearest"==r)e.top<t.top?(m=e.top-(t.top+o),n>0&&e.bottom>t.bottom+m&&(m=e.bottom-t.bottom+o)):e.bottom>t.bottom&&(m=e.bottom-t.bottom+o,n<0&&e.top-m<t.top&&(m=e.top-(t.top+o)));else{let i=e.bottom-e.top,s=t.bottom-t.top;m=("center"==r&&i<=s?e.top+i/2-s/2:"start"==r||"center"==r&&n<0?e.top-o:e.bottom-s+o)-t.top}if("nearest"==i?e.left<t.left?(g=e.left-(t.left+s),n>0&&e.right>t.right+g&&(g=e.right-t.right+s)):e.right>t.right&&(g=e.right-t.right+s,n<0&&e.left<t.left+g&&(g=e.left-(t.left+s))):g=("center"==i?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==i==l?e.left-s:e.right-(t.right-t.left)+s)-t.left,g||m)if(f)a.scrollBy(g,m);else{let t=0,n=0;if(m){let t=c.scrollTop;c.scrollTop+=m/p,n=(c.scrollTop-t)*p}if(g){let e=c.scrollLeft;c.scrollLeft+=g/d,t=(c.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(i="nearest"),n&&Math.abs(n-m)<1&&(r="nearest")}if(f)break;(e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)&&(e={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)}),c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,o),-o),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==Mt.LTR)}}function Ae(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=R(n.focusNode,n.focusOffset),r=B(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let e=N.get(r.node);if(!e||e instanceof Z&&e.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let t=N.get(i.node);!t||t instanceof Z&&t.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let Me=class{constructor(){this.changes=[]}compareRange(t,e){vt(t,e,this.changes)}comparePoint(t,e){vt(t,e,this.changes)}boundChange(t){vt(t,t,this.changes)}};function Ce(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Oe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Te(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Ee(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function De(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Re(t,e,n){let i,r,s,o,l,h,a,c,u=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=p(f);for(let d=0;d<t.length;d++){let p=t[d];r&&Te(r,p)&&(p=Ee(De(p,r.bottom),r.top));let g=Ce(e,p),m=Oe(n,p);if(0==g&&0==m)return 3==f.nodeType?Be(f,e,n):Re(f,e,n);if(!i||o>m||o==m&&s>g){i=f,r=p,s=g,o=m;let l=m?n<p.top?-1:1:g?e<p.left?-1:1:0;u=!l||(l>0?d<t.length-1:d>0)}0==g?n>p.bottom&&(!a||a.bottom<p.bottom)?(l=f,a=p):n<p.top&&(!c||c.top>p.top)&&(h=f,c=p):a&&Te(a,p)?a=De(a,p.bottom):c&&Te(c,p)&&(c=Ee(c,p.top))}}if(a&&a.bottom>=n?(i=l,r=a):c&&c.top<=n&&(i=h,r=c),!i)return{node:t,offset:0};let f=Math.max(r.left,Math.min(r.right,e));return 3==i.nodeType?Be(i,f,n):u&&"false"!=i.contentEditable?Re(i,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0)}}function Be(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let l=0;l<i;l++){let i=O(t,l,l+1).getClientRects();for(let h=0;h<i.length;h++){let a=i[h];if(a.top==a.bottom)continue;o||(o=e-a.left);let c=(a.top>n?a.top-n:n-a.bottom)-1;if(a.left-1<=e&&a.right+1>=e&&c<s){let n=e>=(a.left+a.right)/2,i=n;if((X.chrome||X.gecko)&&O(t,l).getBoundingClientRect().left==a.right&&(i=!n),c<=0)return{node:t,offset:l+(i?1:0)};r=l+(i?1:0),s=c}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Pe(t,e,n,i=-1){var r,s;let o,l=t.contentDOM.getBoundingClientRect(),h=l.top+t.viewState.paddingTop,{docHeight:a}=t.viewState,{x:c,y:u}=e,f=u-h;if(f<0)return 0;if(f>a)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,r=!1;o=t.elementAtHeight(f),o.type!=ft.Text;)for(;f=i>0?o.bottom+e:o.top-e,!(f>=0&&f<=a);){if(r)return n?null:0;r=!0,i=-i}u=h+f;let d=o.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:Le(t,l,o,c,u);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Le(t,l,o,c,u);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(c,u);m&&!t.contentDOM.contains(m)&&(m=null),m||(c=Math.max(l.left+1,Math.min(l.right-1,c)),m=g.elementFromPoint(c,u),m&&!t.contentDOM.contains(m)&&(m=null));let w,v=-1;if(m&&0!=(null===(r=t.docView.nearest(m))||void 0===r?void 0:r.isEditable)){if(p.caretPositionFromPoint){let t=p.caretPositionFromPoint(c,u);t&&({offsetNode:w,offset:v}=t)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(c,u);e&&(({startContainer:w,startOffset:v}=e),(!t.contentDOM.contains(w)||X.safari&&function(t,e,n){let i;if(3!=t.nodeType||e!=(i=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return O(t,i-1,i).getBoundingClientRect().left>n}(w,v,c)||X.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return n-(1==t.nodeType?t.getBoundingClientRect():O(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(w,v,c))&&(w=void 0))}w&&(v=Math.min(y(w),v))}if(!w||!t.docView.dom.contains(w)){let e=yt.find(t.docView,d);if(!e)return f>o.top+o.height/2?o.to:o.from;({node:w,offset:v}=Re(e.dom,c,u))}let b=t.docView.nearest(w);if(!b)return null;if(b.isWidget&&1==(null===(s=b.dom)||void 0===s?void 0:s.nodeType)){let t=b.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(w,v)+b.posAtStart}function Le(t,e,n,r,s){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;o+=Math.floor((s-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+(0,i.kn)(l,o,t.state.tabSize)}function Ne(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let l=e,h=null;;){let e=_t(r,s,o,l,n),a=Vt;if(!e){if(r.number==(n?t.state.doc.lines:1))return l;a="\n",r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),e=t.visualLineSide(r,!n)}if(h){if(!h(a))return l}else{if(!i)return e;h=i(a)}l=e}}function Ie(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,((t,r,s)=>{if(e>t&&e<r){let s=i||n||(e-t<r-e?-1:1);e=s<0?t:r,i=s}}));if(!i)return e}}function Fe(t,e,n){let r=Ie(t.state.facet(ge).map((e=>e(t))),n.from,e.head>n.from?-1:1);return r==n.from?n:i.OF.cursor(r,r<n.from?1:-1)}const $e="￿";class ze{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(i.$t.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=$e}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i);let t=this.text.length;this.readNode(i);let r=i.nextSibling;if(r==e)break;let s=N.get(i),o=N.get(r);(s&&o?s.breakAfter:(s?s.breakAfter:w(i))||w(r)&&("BR"!=i.nodeName||i.cmIgnore)&&this.text.length>t)&&this.lineBreak(),i=r}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let r,s=-1,o=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(r=i.exec(e))&&(s=r.index,o=r[0].length),this.append(e.slice(n,s<0?e.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);n=s+o}}readNode(t){if(t.cmIgnore)return;let e=N.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(He(t,n.node,n.offset)?e:0))}}function He(t,e,n){for(;;){if(!e||n<y(e))return!1;if(e==t)return!0;n=m(e)+1,e=e.parentNode}}class Ve{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class _e{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:s,impreciseAnchor:o}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=s||o?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new Ve(n,i)),r==n&&s==i||e.push(new Ve(r,s))),e}(t),n=new ze(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,r=2==t.length?t[1].pos:n;return n>-1&&r>-1?i.OF.single(n+e,r+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=s&&s.node==e.focusNode&&s.offset==e.focusOffset||!f(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),r=o&&o.node==e.anchorNode&&o.offset==e.anchorOffset||!f(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),l=t.viewport;if((X.ios||X.chrome)&&t.state.selection.main.empty&&n!=r&&(l.from>0||l.to<t.state.doc.length)){let e=Math.min(n,r),i=Math.max(n,r),s=l.from-e,o=l.to-i;0!=s&&1!=s&&0!=e||0!=o&&-1!=o&&i!=t.state.doc.length||(n=0,r=t.state.doc.length)}this.newSel=i.OF.single(r,n)}}}function We(t,e){let n,{newSel:r}=e,s=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:l}=e.bounds,h=s.from,a=null;(8===o||X.android&&e.text.length<l-r)&&(h=s.to,a="end");let c=function(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;return"end"==i&&(n-=o+Math.max(0,s-Math.min(o,l))-s),o<s&&t.length<e.length?(s-=n<=s&&n>=o?s-n:0,l=s+(l-o),o=s):l<s&&(s-=n<=s&&n>=l?s-n:0,o=s+(o-l),l=s),{from:s,toA:o,toB:l}}(t.state.doc.sliceString(r,l,$e),e.text,h-r,a);c&&(X.chrome&&13==o&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==$e+$e&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:i.EY.of(e.text.slice(c.from,c.toB).split($e))})}else r&&(!t.hasFocus&&t.state.facet(oe)||r.main.eq(s))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!s.empty&&r&&r.main.empty?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:(X.mac||X.android)&&n&&n.from==n.to&&n.from==s.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=i.OF.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:i.EY.of([n.insert.toString().replace("."," ")])}):n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,s.to))}:X.chrome&&n&&n.from==n.to&&n.from==s.head&&"\n "==n.insert.toString()&&t.lineWrapping&&(r&&(r=i.OF.single(r.main.anchor-1,r.main.head-1)),n={from:s.from,to:s.to,insert:i.EY.of([" "])}),n)return je(t,n,r,o);if(r&&!r.main.eq(s)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:e,userEvent:n}),!0}return!1}function je(t,e,n,r=-1){if(X.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(X.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&" "==t.state.sliceDoc(e.from,s.from))&&1==e.insert.length&&2==e.insert.lines&&T(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&0==e.insert.length||8==r&&e.insert.length<e.to-e.from&&e.to>s.head)&&T(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&0==e.insert.length&&T(t.contentDOM,"Delete",46)))return!0;let o,l=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let h=()=>o||(o=function(t,e,n){let r,s=t.state,o=s.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=o.from<e.from?s.sliceDoc(o.from,e.from):"",i=o.to>e.to?s.sliceDoc(e.to,o.to):"";r=s.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+i))}else{let l=s.changes(e),h=n&&n.main.to<=l.newLength?n.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let a,c=t.state.sliceDoc(e.from,e.to),u=n&&Ae(t,n.main.head);if(u){let t=e.insert.length-(e.to-e.from);a={from:u.from,to:u.to-t}}else a=t.state.doc.lineAt(o.head);let f=o.to-e.to,d=o.to-o.from;r=s.changeByRange((n=>{if(n.from==o.from&&n.to==o.to)return{changes:l,range:h||n.map(l)};let r=n.to-f,u=r-c.length;if(n.to-n.from!=d||t.state.sliceDoc(u,r)!=c||n.to>=a.from&&n.from<=a.to)return{range:n};let p=s.changes({from:u,to:r,insert:e.insert}),g=n.to-o.to;return{changes:p,range:h?i.OF.range(Math.max(0,h.anchor+g),Math.max(0,h.head+g)):n.map(p)}}))}else r={changes:l,selection:h&&s.selection.replaceRange(h)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:l,scrollIntoView:!0})}(t,e,n));return t.state.facet(Yt).some((n=>n(t,e.from,e.to,l,h)))||t.dispatch(h()),!0}class qe{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,X.safari&&t.contentDOM.addEventListener("input",(()=>null)),X.gecko&&function(t){yn.has(t)||(yn.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,i=e.target;i!=t.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(n=N.get(i))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(t.type,t))):this.runHandlers(t.type,t)))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Ge(t),n=this.handlers,i=this.view.contentDOM;for(let t in e)if("scroll"!=t){let r=!e[t].handlers.length,s=n[t];s&&r!=!s.handlers.length&&(i.removeEventListener(t,this.handleEvent),s=null),s||i.addEventListener(t,this.handleEvent,{passive:r})}for(let t in n)"scroll"==t||e[t]||i.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&Je.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),X.android&&X.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!X.ios||t.synthetic||t.altKey||t.metaKey||!((e=Ue.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Ye.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,T(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(X.safari&&!X.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ke(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(t){se(n.state,t)}}}function Ge(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let i in t.domEventHandlers){let r=t.domEventHandlers[i];r&&n(i).handlers.push(Ke(e.value,r))}if(t&&t.domEventObservers)for(let i in t.domEventObservers){let r=t.domEventObservers[i];r&&n(i).observers.push(Ke(e.value,r))}}for(let t in Qe)n(t).handlers.push(Qe[t]);for(let t in tn)n(t).observers.push(tn[t]);return e}const Ue=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ye="dthko",Je=[16,17,18,20,91,92,224,225];function Xe(t){return.7*Math.max(0,t)+8}class Ze{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e,n,i=t.ownerDocument;for(let r=t.parentNode;r&&!(r==i.body||e&&n);)if(1==r.nodeType)!n&&r.scrollHeight>r.clientHeight&&(n=r),!e&&r.scrollWidth>r.clientWidth&&(e=r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}return{x:e,y:n}}(t.contentDOM),this.atoms=t.state.facet(ge).map((e=>e(t)));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(i.$t.allowMultipleSelections)&&function(t,e){let n=t.state.facet(jt);return n.length?n[0](e):X.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=u(t.root);if(!i||0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let t=0;t<r.length;t++){let n=r[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=dn(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(e=this.startEvent,n=t,Math.max(Math.abs(e.clientX-n.clientX),Math.abs(e.clientY-n.clientY))<10))return;var e,n;this.select(this.lastEvent=t);let i=0,r=0,s=0,o=0,l=this.view.win.innerWidth,h=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:h}=this.scrollParents.y.getBoundingClientRect());let a=ye(this.view);t.clientX-a.left<=s+6?i=-Xe(s-t.clientX):t.clientX+a.right>=l-6&&(i=Xe(t.clientX-l)),t.clientY-a.top<=o+6?r=-Xe(o-t.clientY):t.clientY+a.bottom>=h-6&&(r=Xe(t.clientY-h)),this.setScrollSpeed(i,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],s=null;if(r.empty){let t=Ie(this.atoms,r.from,0);t!=r.from&&(s=i.OF.cursor(t,-1))}else{let t=Ie(this.atoms,r.from,-1),e=Ie(this.atoms,r.to,1);t==r.from&&e==r.to||(s=i.OF.range(r.from==r.anchor?t:e,r.from==r.head?t:e))}s&&(e||(e=t.ranges.slice()),e[n]=s)}return e?i.OF.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const Qe=Object.create(null),tn=Object.create(null),en=X.ie&&X.ie_version<15||X.ios&&X.webkit_version<604;function nn(t,e,n){for(let i of t.facet(e))n=i(n,t);return n}function rn(t,e){e=nn(t.state,Xt,e);let n,{state:r}=t,s=1,o=r.toText(e),l=o.lines==r.selection.ranges.length;if(null!=gn&&r.selection.ranges.every((t=>t.empty))&&gn==o.toString()){let t=-1;n=r.changeByRange((n=>{let h=r.doc.lineAt(n.from);if(h.from==t)return{range:n};t=h.from;let a=r.toText((l?o.line(s++).text:e)+r.lineBreak);return{changes:{from:h.from,insert:a},range:i.OF.cursor(n.from+a.length)}}))}else n=l?r.changeByRange((t=>{let e=o.line(s++);return{changes:{from:t.from,to:t.to,insert:e.text},range:i.OF.cursor(t.from+e.length)}})):r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function sn(t,e,n,r){if(1==r)return i.OF.cursor(e,n);if(2==r)return function(t,e,n=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),o=e-s.from;if(0==s.length)return i.OF.cursor(e);0==o?n=1:o==s.length&&(n=-1);let l=o,h=o;n<0?l=(0,i.zK)(s.text,o,!1):h=(0,i.zK)(s.text,o);let a=r(s.text.slice(l,h));for(;l>0;){let t=(0,i.zK)(s.text,l,!1);if(r(s.text.slice(t,l))!=a)break;l=t}for(;h<s.length;){let t=(0,i.zK)(s.text,h);if(r(s.text.slice(h,t))!=a)break;h=t}return i.OF.range(l+s.from,h+s.from)}(t.state,e,n);{let n=yt.find(t.docView,e),r=t.state.doc.lineAt(n?n.posAtEnd:e),s=n?n.posAtStart:r.from,o=n?n.posAtEnd:r.to;return o<t.state.doc.length&&o==r.to&&o++,i.OF.range(s,o)}}tn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Qe.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),tn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},tn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Qe.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(Kt))if(n=i(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=hn(t,e),r=dn(e),s=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),s=s.map(t.changes))},get(e,o,l){let h,a=hn(t,e),c=sn(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!o){let e=sn(t,n.pos,n.bias,r),s=Math.min(e.from,c.from),o=Math.max(e.to,c.to);c=s<c.from?i.OF.range(s,o):i.OF.range(o,s)}return o?s.replaceRange(s.main.extend(c.from,c.to)):l&&1==r&&s.ranges.length>1&&(h=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:s}=t.ranges[n];if(r<=e&&s>=e)return i.OF.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(s,a.pos))?h:l?s.addRange(c):i.OF.create([c])}}}(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new Ze(t,e,n,i)),i&&t.observer.ignore((()=>{C(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let r=t.inputState.mouseSelection;if(r)return r.start(e),!1===r.dragging}return!1};let on=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function ln(t,e,n,i){let r=yt.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&on(n,i,o))return-1;let l=r.coordsAt(s,1);return l&&on(n,i,l)?1:o&&o.bottom>=i?-1:1}function hn(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:ln(t,n,e.clientX,e.clientY)}}const an=X.ie&&X.ie_version<=11;let cn=null,un=0,fn=0;function dn(t){if(!an)return t.detail;let e=cn,n=fn;return cn=t,fn=Date.now(),un=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(un+1)%3:1}function pn(t,e,n,i){if(!(n=nn(t.state,Xt,n)))return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&function(t,e){let n=t.state.facet(qt);return n.length?n[0](e):X.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:s.from,to:s.to}:null,l={from:r,insert:n},h=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:h,selection:{anchor:h.mapPos(r,-1),head:h.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Qe.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let t=r.posAtStart,e=t+r.length;(t>=n.to||e<=n.from)&&(n=i.OF.range(t,e))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",nn(t.state,Zt,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Qe.dragend=t=>(t.inputState.draggedContent=null,!1),Qe.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&pn(t,e,i.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=s,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(i[t]=e.result),s()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return pn(t,e,n,!0),!0}return!1},Qe.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=en?null:e.clipboardData;return n?(rn(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),rn(t,n.value)}),50)}(t),!1)};let gn=null;Qe.copy=Qe.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=function(t){let e=[],n=[],i=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let r=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>r&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}i=!0}return{text:nn(t,Zt,e.join(t.lineBreak)),ranges:n,linewise:i}}(t.state);if(!n&&!r)return!1;gn=r?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=en?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout((()=>{i.remove(),t.focus()}),50)}(t,n),!1)};const mn=i.YH.define();function wn(t,e){let n=[];for(let i of t.facet(Jt)){let r=i(t,e);r&&n.push(r)}return n.length?t.update({effects:n,annotations:mn.of(!0)}):null}function vn(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=wn(t.state,e);n?t.dispatch(n):t.update([])}}),10)}tn.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),vn(t)},tn.blur=t=>{t.observer.clearSelectionRange(),vn(t)},tn.compositionstart=tn.compositionupdate=t=>{t.observer.editContext||(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},tn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,X.chrome&&X.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50))},tn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Qe.beforeinput=(t,e)=>{var n,i;if("insertReplacementText"==e.inputType&&t.observer.editContext){let i=null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),r=e.getTargetRanges();if(i&&r.length){let e=r[0],n=t.posAtDOM(e.startContainer,e.startOffset),s=t.posAtDOM(e.endContainer,e.endOffset);return je(t,{from:n,to:s,insert:t.state.toText(i)},null),!0}}let r;if(X.chrome&&X.android&&(r=Ue.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(i=window.visualViewport)||void 0===i?void 0:i.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return X.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),X.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>tn.compositionend(t,e)),20),!1};const yn=new Set,bn=["pre-wrap","normal","pre-line","break-spaces"];let xn=!1;function kn(){xn=!1}class Sn{constructor(t){this.lineWrapping=t,this.doc=i.EY.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return bn.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,n,i,r,s){let o=bn.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=n,this.textHeight=i,this.lineLength=r,l){this.heightSamples={};for(let t=0;t<s.length;t++){let e=s[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class An{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Mn{constructor(t,e,n,i,r){this.from=t,this.length=e,this.top=n,this.height=i,this._content=r}get type(){return"number"==typeof this._content?ft.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof mt?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Mn(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Cn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Cn||(Cn={}));const On=.001;class Tn{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>On&&(xn=!0),this.height=t)}replace(t,e,n){return Tn.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let r=this,s=n.doc;for(let o=i.length-1;o>=0;o--){let{fromA:l,toA:h,fromB:a,toB:c}=i[o],u=r.lineAt(l,Cn.ByPosNoHeight,n.setDoc(e),0,0),f=u.to>=h?u:r.lineAt(h,Cn.ByPosNoHeight,n,0,0);for(c+=f.to-h,h=f.to;o>0&&u.from<=i[o-1].toA;)l=i[o-1].fromA,a=i[o-1].fromB,o--,l<u.from&&(u=r.lineAt(l,Cn.ByPosNoHeight,n,0,0));a+=u.from-l,l=u.from;let d=Nn.build(n.setDoc(s),t,a,c);r=En(r,r.replace(l,h,d))}return r.updateHeight(n,0)}static empty(){return new Rn(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,i=0,r=0;for(;;)if(e==n)if(i>2*r){let r=t[e-1];r.break?t.splice(--e,1,r.left,null,r.right):t.splice(--e,1,r.left,r.right),n+=1+r.break,i-=r.size}else{if(!(r>2*i))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,r-=e.size}}else if(i<r){let n=t[e++];n&&(i+=n.size)}else{let e=t[--n];e&&(r+=e.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Pn(Tn.of(t.slice(0,e)),s,Tn.of(t.slice(n)))}}function En(t,e){return t==e?t:(t.constructor!=e.constructor&&(xn=!0),e)}Tn.prototype.size=1;class Dn extends Tn{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,i){return new Mn(i,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,i,r){return this.blockAt(0,n,i,r)}forEachLine(t,e,n,i,r,s){t<=r+this.length&&e>=r&&s(this.blockAt(0,n,i,r))}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Rn extends Dn{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,i){return new Mn(i,this.length,n,this.height,this.breaks)}replace(t,e,n){let i=n[0];return 1==n.length&&(i instanceof Rn||i instanceof Bn&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Bn?i=new Rn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Tn.of(n)}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Bn extends Tn{constructor(t){super(t,0)}heightMetrics(t,e){let n,i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,s=r-i+1,o=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*s);n=e/s,this.length>s+1&&(o=(this.height-e)/(this.length-s-1))}else n=this.height/s;return{firstLine:i,lastLine:r,perLine:n,perChar:o}}blockAt(t,e,n,i){let{firstLine:r,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(e,i);if(e.lineWrapping){let r=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),s=e.doc.lineAt(r),h=o+s.length*l,a=Math.max(n,t-h/2);return new Mn(s.from,s.length,a,h,0)}{let i=Math.max(0,Math.min(s-r,Math.floor((t-n)/o))),{from:l,length:h}=e.doc.line(r+i);return new Mn(l,h,n+o*i,o,0)}}lineAt(t,e,n,i,r){if(e==Cn.ByHeight)return this.blockAt(t,n,i,r);if(e==Cn.ByPosNoHeight){let{from:e,to:i}=n.doc.lineAt(t);return new Mn(e,i-e,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(n,r),h=n.doc.lineAt(t),a=o+h.length*l,c=h.number-s,u=i+o*c+l*(h.from-r-c);return new Mn(h.from,h.length,Math.max(i,Math.min(u,i+this.height-a)),a,0)}forEachLine(t,e,n,i,r,s){t=Math.max(t,r),e=Math.min(e,r+this.length);let{firstLine:o,perLine:l,perChar:h}=this.heightMetrics(n,r);for(let a=t,c=i;a<=e;){let e=n.doc.lineAt(a);if(a==t){let n=e.number-o;c+=l*n+h*(t-r-n)}let i=l+h*e.length;s(new Mn(e.from,e.length,c,i,0)),c+=i,a=e.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let t=n[n.length-1];t instanceof Bn?n[n.length-1]=new Bn(t.length+i):n.push(null,new Bn(i-1))}if(t>0){let e=n[0];e instanceof Bn?n[0]=new Bn(t+e.length):n.unshift(new Bn(t-1),null)}return Tn.of(n)}decomposeLeft(t,e){e.push(new Bn(t-1),null)}decomposeRight(t,e){e.push(null,new Bn(this.length-t-1))}updateHeight(t,e=0,n=!1,i){let r=e+this.length;if(i&&i.from<=e+this.length&&i.more){let n=[],s=Math.max(e,i.from),o=-1;for(i.from>e&&n.push(new Bn(i.from-e-1).updateHeight(t,e));s<=r&&i.more;){let e=t.doc.lineAt(s).length;n.length&&n.push(null);let r=i.heights[i.index++];-1==o?o=r:Math.abs(r-o)>=On&&(o=-2);let l=new Rn(e,r);l.outdated=!1,n.push(l),s+=e+1}s<=r&&n.push(null,new Bn(r-s).updateHeight(t,s));let l=Tn.of(n);return(o<0||Math.abs(l.height-this.height)>=On||Math.abs(o-this.heightMetrics(t,e).perLine)>=On)&&(xn=!0),En(this,l)}return(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Pn extends Tn{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,i){let r=n+this.left.height;return t<r?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,r,i+this.left.length+this.break)}lineAt(t,e,n,i,r){let s=i+this.left.height,o=r+this.left.length+this.break,l=e==Cn.ByHeight?t<s:t<o,h=l?this.left.lineAt(t,e,n,i,r):this.right.lineAt(t,e,n,s,o);if(this.break||(l?h.to<o:h.from>o))return h;let a=e==Cn.ByPosNoHeight?Cn.ByPosNoHeight:Cn.ByPos;return l?h.join(this.right.lineAt(o,a,n,s,o)):this.left.lineAt(o,a,n,i,r).join(h)}forEachLine(t,e,n,i,r,s){let o=i+this.left.height,l=r+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,i,r,s),e>=l&&this.right.forEachLine(t,e,n,o,l,s);else{let h=this.lineAt(l,Cn.ByPos,n,i,r);t<h.from&&this.left.forEachLine(t,h.from-1,n,i,r,s),h.to>=t&&h.from<=e&&s(h),e>h.to&&this.right.forEachLine(h.to+1,e,n,o,l,s)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let r=[];t>0&&this.decomposeLeft(t,r);let s=r.length;for(let t of n)r.push(t);if(t>0&&Ln(r,s-1),e<this.length){let t=r.length;this.decomposeRight(e,r),Ln(r,t)}return Tn.of(r)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Tn.of(this.break?[t,null,e]:[t,e]):(this.left=En(this.left,t),this.right=En(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,i){let{left:r,right:s}=this,o=e+r.length+this.break,l=null;return i&&i.from<=e+r.length&&i.more?l=r=r.updateHeight(t,e,n,i):r.updateHeight(t,e,n),i&&i.from<=o+s.length&&i.more?l=s=s.updateHeight(t,o,n,i):s.updateHeight(t,o,n),l?this.balanced(r,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ln(t,e){let n,i;null==t[e]&&(n=t[e-1])instanceof Bn&&(i=t[e+1])instanceof Bn&&t.splice(e-1,3,new Bn(n.length+1+i.length))}class Nn{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Rn?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new Rn(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,r=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new Dn(s,i,n)):(s||r||i>=5)&&this.addLineDeco(i,r,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Rn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Bn(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Rn)return t;let e=new Rn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Rn||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Rn(0,-1));let n=t;for(let t of this.nodes)t instanceof Rn&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,r){let s=new Nn(n,t);return i.om.spans(e,n,r,s,0),s.finish(n)}}class In{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&vt(t,e,this.changes,5)}}function Fn(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),l=Math.max(0,n.top),h=Math.min(r.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=i.body;)if(1==e.nodeType){let n=e,i=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=i.overflow){let i=n.getBoundingClientRect();s=Math.max(s,i.left),o=Math.min(o,i.right),l=Math.max(l,i.top),h=Math.min(e==t.parentNode?r.innerHeight:h,i.bottom)}e="absolute"==i.position||"fixed"==i.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:l-(n.top+e),bottom:Math.max(l,h)-(n.top+e)}}function $n(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class zn{constructor(t,e,n,i){this.from=t,this.to=e,this.size=n,this.displaySize=i}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.size!=r.size)return!1}return!0}draw(t,e){return dt.replace({widget:new Hn(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Hn extends ut{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Vn{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=qn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(fe).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new Sn(e),this.stateDeco=t.facet(de).filter((t=>"function"!=typeof t)),this.heightMap=Tn.empty().applyChanges(this.stateDeco,i.EY.empty,this.heightOracle.setDoc(t.doc),[new xe(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=dt.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>i>=t&&i<=e))){let{from:e,to:n}=this.lineBlockAt(i);t.push(new _n(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?qn:new Kn(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Gn(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(de).filter((t=>"function"!=typeof t));let r=t.changedRanges,s=xe.extendWithRanges(r,function(t,e,n){let r=new In;return i.om.compare(t,e,n,r,0),r.changes}(n,this.stateDeco,t?t.changes:i.VR.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);kn(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||xn)&&(t.flags|=2),l?(this.scrollAnchorPos=t.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let h=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<h.from||e.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,e));let a=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,t.flags|=this.updateForViewport(),(a||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(te)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),r=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Mt.RTL:Mt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=e.getBoundingClientRect(),h=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let a=0,c=0;if(l.width&&l.height){let{scaleX:t,scaleY:n}=k(e,l);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,a|=16,o=h=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,f=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==f||(this.paddingTop=u,this.paddingBottom=f,a|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(h=!0),this.editorWidth=t.scrollDOM.clientWidth,a|=16);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=D(t.scrollDOM);let p=(this.printing?$n:Fn)(e,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(h=!0)),!this.inView&&!this.scrollTarget&&!function(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}(t.dom))return 0;let v=l.width;if(this.contentDOMWidth==v&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,a|=16),h){let e=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(e)&&(o=!0),o||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:i,textHeight:l}=t.docView.measureTextSize();o=n>0&&r.refresh(s,n,i,l,v/i,e),o&&(t.docView.minWidth=0,a|=16)}g>0&&m>0?c=Math.max(g,m):g<0&&m<0&&(c=Math.min(g,m)),kn();for(let n of this.viewports){let s=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=(o?Tn.empty().applyChanges(this.stateDeco,i.EY.empty,this.heightOracle,[new xe(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new An(n.from,s))}xn&&(a|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(2&a&&(a|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),a|=this.updateForViewport()),(2&a||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,t)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,r=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new _n(i.lineAt(s-1e3*n,Cn.ByHeight,r,0,0).from,i.lineAt(o+1e3*(1-n),Cn.ByHeight,r,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=i.lineAt(t,Cn.ByPos,r,0,0);n="center"==e.y?(o.top+o.bottom)/2-s/2:"start"==e.y||"nearest"==e.y&&t<l.from?o.top:o.bottom-s,l=new _n(i.lineAt(n-500,Cn.ByHeight,r,0,0).from,i.lineAt(n+s+500,Cn.ByHeight,r,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new _n(this.heightMap.lineAt(n,Cn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Cn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,Cn.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(e,Cn.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==t||i<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||r>=o+Math.max(10,Math.min(n,250)))&&i>s-2e3&&r<o+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new zn(e.mapPos(i.from),e.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Mt.LTR&&!n)return[];let l=[],h=(r,o,a,c)=>{if(o-r<s)return;let u=this.state.selection.main,f=[u.from];u.empty||f.push(u.to);for(let t of f)if(t>r&&t<o)return h(r,t-10,a,c),void h(t+10,o,a,c);let d=function(t,e){for(let n of t)if(e(n))return n}(t,(t=>t.from>=a.from&&t.to<=a.to&&Math.abs(t.from-r)<s&&Math.abs(t.to-o)<s&&!f.some((e=>t.from<e&&t.to>e))));if(!d){if(o<a.to&&e&&n&&e.visibleRanges.some((t=>t.from<=o&&t.to>=o))){let t=e.moveToLineBoundary(i.OF.cursor(o),!1,!0).head;t>r&&(o=t)}let t=this.gapSize(a,r,o,c);d=new zn(r,o,t,n||t<2e6?t:2e6)}l.push(d)},a=e=>{if(e.length<o||e.type!=ft.Text)return;let s=function(t,e,n){let r=[],s=t,o=0;return i.om.spans(n,t,e,{span(){},point(t,e){t>s&&(r.push({from:s,to:t}),o+=t-s),s=e}},20),s<e&&(r.push({from:s,to:e}),o+=e-s),{total:o,ranges:r}}(e.from,e.to,this.stateDeco);if(s.total<o)return;let l,a,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let t,n,i=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=jn(s,c),o=((this.visibleBottom-this.visibleTop)/2+i)/e.height;t=r-o,n=r+o}else t=(this.visibleTop-e.top-i)/e.height,n=(this.visibleBottom-e.top+i)/e.height;l=Wn(s,t),a=Wn(s,n)}else{let n=s.total*this.heightOracle.charWidth,i=r*this.heightOracle.charWidth,o=0;if(n>2e6)for(let n of t)n.from>=e.from&&n.from<e.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+o<this.pixelViewport.left&&(o=n.size-n.displaySize);let h,u,f=this.pixelViewport.left+o,d=this.pixelViewport.right+o;if(null!=c){let t=jn(s,c),e=((d-f)/2+i)/n;h=t-e,u=t+e}else h=(f-i)/n,u=(d+i)/n;l=Wn(s,h),a=Wn(s,u)}l>e.from&&h(e.from,l,e,s),a<e.to&&h(a,e.to,e,s)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(a):a(t);return l}gapSize(t,e,n,i){let r=jn(i,n)-jn(i,e);return this.heightOracle.lineWrapping?t.height*r:i.total*this.heightOracle.charWidth*r}updateLineGaps(t){zn.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=dt.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];i.om.spans(e,this.viewport.from,this.viewport.to,{span(t,e){n.push({from:t,to:e})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let e=0;e<n.length&&!(8&r);e++){let i=this.visibleRanges[e],s=n[e];i.from==s.from&&i.to==s.to||(r|=4,t&&t.mapPos(i.from,-1)==s.from&&t.mapPos(i.to,1)==s.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Gn(this.heightMap.lineAt(t,Cn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Gn(this.heightMap.lineAt(this.scaler.fromDOM(t),Cn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Gn(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class _n{constructor(t,e){this.from=t,this.to=e}}function Wn({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:r}=e[t],s=r-n;if(i<=s)return n+i;i-=s}}function jn(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}const qn={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Kn{constructor(t,e,n){let i=0,r=0,s=0;this.viewports=n.map((({from:n,to:r})=>{let s=e.lineAt(n,Cn.ByPos,t,0,0).top,o=e.lineAt(r,Cn.ByPos,t,0,0).bottom;return i+=o-s,{from:n,to:r,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(e.height-i);for(let t of this.viewports)t.domTop=s+(t.top-r)*this.scale,s=t.domBottom=t.domTop+(t.bottom-t.top),r=t.bottom}toDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.top)return i+(t-n)*this.scale;if(t<=r.bottom)return r.domTop+(t-r.top);n=r.bottom,i=r.domBottom}}fromDOM(t){for(let e=0,n=0,i=0;;e++){let r=e<this.viewports.length?this.viewports[e]:null;if(!r||t<r.domTop)return n+(t-i)/this.scale;if(t<=r.domBottom)return r.top+(t-r.domTop);n=r.bottom,i=r.domBottom}}eq(t){return t instanceof Kn&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to))}}function Gn(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Mn(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map((t=>Gn(t,e))):t._content)}const Un=i.sj.define({combine:t=>t.join(" ")}),Yn=i.sj.define({combine:t=>t.indexOf(!0)>-1}),Jn=r.G.newName(),Xn=r.G.newName(),Zn=r.G.newName(),Qn={"&light":"."+Xn,"&dark":"."+Zn};function ti(t,e,n){return new r.G(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const ei=ti("."+Jn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Qn),ni={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ii=X.ie&&X.ie_version<=11;class ri{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new S,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(X.ie&&X.ie_version<=11||X.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===t.constructor.EDIT_CONTEXT||X.chrome&&X.chrome_version<126||(this.editContext=new li(t),t.state.facet(oe)&&(t.contentDOM.editContext=this.editContext.editContext)),ii&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(oe)?n.root.activeElement!=this.dom:!d(this.dom,i))return;let r=i.anchorNode&&n.docView.nearest(i.anchorNode);r&&r.ignoreEvent(t)?e||(this.selectionChanged=!1):(X.ie&&X.ie_version<=11||X.android&&X.chrome)&&!n.state.selection.main.empty&&i.focusNode&&g(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=u(t.root);if(!e)return!1;let n=X.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return oi(t,n)}let n=null;function i(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?oi(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let i=d(this.dom,n);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,y(n));;)if(i){if(1!=n.nodeType)return!1;let t=n.childNodes[i-1];"false"==t.contentEditable?i--:(n=t,i=y(n))}else{if(n==t)return!0;i=m(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ni),ii&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ii&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&T(this.dom,t.key,t.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,i=!1;for(let r of t){let t=this.readMutation(r);t&&(t.typeOver&&(i=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:i}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),i=this.selectionChanged&&d(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new _e(this.view,t,e,n);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,i=We(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=si(e,t.previousSibling||t.target.previousSibling,-1),i=si(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(oe)!=t.state.facet(oe)&&(t.view.contentDOM.editContext=t.state.facet(oe)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function si(t,e,n){for(;e;){let i=N.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function oi(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return g(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}class li{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=e=>{let n=t.state.selection.main,{anchor:r,head:s}=n,o=this.toEditorPos(e.updateRangeStart),l=this.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e.updateRangeStart,editorBase:o,drifted:!1});let h={from:o,to:l,insert:i.EY.of(e.text.split("\n"))};if(h.from==this.from&&r<this.from?h.from=r:h.to==this.to&&r>this.to&&(h.to=r),h.from!=h.to||h.insert.length){if((X.mac||X.android)&&h.from==s-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(h={from:o,to:l,insert:i.EY.of([e.text.replace("."," ")])}),this.pendingContextChange=h,!t.state.readOnly){let n=this.to-this.from+(h.to-h.from+h.insert.length);je(t,h,i.OF.single(this.toEditorPos(e.selectionStart,n),this.toEditorPos(e.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))}else{let r=i.OF.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd));r.main.eq(n)||t.dispatch({selection:r,userEvent:"select"})}},this.handlers.characterboundsupdate=n=>{let i=[],r=null;for(let e=this.toEditorPos(n.rangeStart),s=this.toEditorPos(n.rangeEnd);e<s;e++){let n=t.coordsForChar(e);r=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||r||new DOMRect,i.push(r)}e.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=e=>{let n=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,i=t.underlineThickness;if("None"!=e&&"None"!=i){let r=this.toEditorPos(t.rangeStart),s=this.toEditorPos(t.rangeEnd);if(r<s){let t=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==i?1:2}px`;n.push(dt.mark({attributes:{style:t}}).range(r,s))}}}t.dispatch({effects:re.of(dt.set(n))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:e}=this.composing;this.composing=null,e&&this.reset(t.state)}};for(let t in this.handlers)e.addEventListener(t,this.handlers[t]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=u(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,i=this.pendingContextChange;return t.changes.iterChanges(((r,s,o,l,h)=>{if(n)return;let a=h.length-(s-r);if(i&&s>=i.to){if(i.from==r&&i.to==s&&i.insert.eq(h))return i=this.pendingContextChange=null,e+=a,void(this.to+=a);i=null,this.revertPending(t.state)}if(r+=e,(s+=e)<=this.from)this.from+=a,this.to+=a;else if(r<this.to){if(r<this.from||s>this.to||this.to-this.from+h.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(r),this.toContextPos(s),h.toString()),this.to+=a}e+=a})),i&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange,n=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(n.from,n.to)&&t.transactions.some((t=>!t.isUserEvent("input.type")&&t.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.reset(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==i||this.editContext.updateSelection(n,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let n=this.composing;return n&&n.drifted?n.editorBase+(t-n.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class hi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(t=>t.forEach((t=>n(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new Vn(t.state||i.$t.create(t)),t.scrollTo&&t.scrollTo.is(ie)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(he).map((t=>new ce(t)));for(let t of this.plugins)t.update(this);this.observer=new ri(this),this.inputState=new qe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Se(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...t){let e=1==t.length&&t[0]instanceof i.ZX?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,r=!1,s=this.state;for(let e of t){if(e.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=e.state}if(this.destroyed)return void(this.viewState.state=s);let o=this.hasFocus,l=0,h=null;t.some((t=>t.annotation(mn)))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,h=wn(s,o),h||(l=1));let a=this.observer.delayedAndroidKey,c=null;if(a?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(i.$t.phrases)!=this.state.facet(i.$t.phrases))return this.setState(s);e=ke.create(this,s,t),e.flags|=l;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(u&&(u=u.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;u=new ne(t.empty?t:i.OF.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(ie)&&(u=t.value.clip(this.state))}this.viewState.update(e,u),this.bidiCache=ui.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(be)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(Un)!=e.state.facet(Un)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(Ut))try{t(e)}catch(t){se(this.state,t,"update listener")}(h||c)&&Promise.resolve().then((()=>{h&&this.state==h.startState&&this.dispatch(h),c&&!We(this,c)&&a.force&&T(this.contentDOM,a.key,a.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new Vn(t),this.plugins=t.facet(he).map((t=>new ce(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new Se(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(he),n=t.state.facet(he);if(e!=n){let i=[];for(let r of n){let n=e.indexOf(r);if(n<0)i.push(new ce(r));else{let e=this.plugins[n];e.mustUpdate=t,i.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){se(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(s<0)if(D(n))r=-1,s=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(i);r=t.from,s=t.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&o||([this.measureRequests,l]=[l,this.measureRequests]);let h=l.map((t=>{try{return t.read(this)}catch(t){return se(this.state,t),ci}})),a=ke.create(this,this.state,[]),c=!1;a.flags|=o,e?e.flags|=o:e=a,this.updateState=2,a.empty||(this.updatePlugins(a),this.inputState.update(a),this.updateAttrs(),c=this.docView.update(a),c&&this.docViewUpdate());for(let t=0;t<l.length;t++)if(h[t]!=ci)try{let e=l[t];e.write&&e.write(h[t],this)}catch(t){se(this.state,t)}if(c&&this.docView.updateSelection(!0),!a.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let t=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-s;if(t>1||t<-1){i+=t,n.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(Ut))t(e)}get themeClasses(){return Jn+" "+(this.state.facet(Yn)?Zn:Xn)+" "+this.state.facet(Un)}updateAttrs(){let t=fi(this,ue,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(oe)?"true":"false",class:"cm-content",style:`${X.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),fi(this,fe,e);let n=this.observer.ignore((()=>{let n=at(this.contentDOM,this.contentAttrs,e),i=at(this.dom,this.editorAttrs,t);return n||i}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)t.is(hi.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(be);let t=this.state.facet(hi.cspNonce);r.G.mount(this.root,this.styleModules.concat(ei).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Fe(this,t,Ne(this,t,e,n))}moveByGroup(t,e){return Fe(this,t,Ne(this,t,e,(e=>function(t,e,n){let r=t.state.charCategorizer(e),s=r(n);return t=>{let e=r(t);return s==i.Je.Space&&(s=e),s==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),r=this.textDirectionAt(t.from),s=n[e?n.length-1:0];return i.OF.cursor(s.side(e,r)+t.from,s.forward(!e,r)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,r){let s=function(t,e,n){let i=t.lineBlockAt(e);if(Array.isArray(i.type)){let t;for(let r of i.type){if(r.from>e)break;if(!(r.to<e)){if(r.from<e&&r.to>e)return r;t&&(r.type!=ft.Text||t.type==r.type&&!(n<0?r.from<e:r.to>e))||(t=r)}}return t||i}return i}(t,e.head,e.assoc||-1),o=r&&s.type==ft.Text&&(t.lineWrapping||s.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),r=t.textDirectionAt(s.from),l=t.posAtCoords({x:n==(r==Mt.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=l)return i.OF.cursor(l,n?-1:1)}return i.OF.cursor(n?s.to:s.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Fe(this,t,function(t,e,n,r){let s=e.head,o=n?1:-1;if(s==(n?t.state.doc.length:0))return i.OF.cursor(s,e.assoc);let l,h=e.goalColumn,a=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(s,e.assoc||-1),u=t.documentTop;if(c)null==h&&(h=c.left-a.left),l=o<0?c.top:c.bottom;else{let e=t.viewState.lineBlockAt(s);null==h&&(h=Math.min(a.right-a.left,t.defaultCharacterWidth*(s-e.from))),l=(o<0?e.top:e.bottom)+u}let f=a.left+h,d=null!=r?r:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=l+(d+e)*o,r=Pe(t,{x:f,y:n},!1,o);if(n<a.top||n>a.bottom||(o<0?r<s:r>s)){let e=t.docView.coordsForChar(r),s=!e||n<e.top?-1:1;return i.OF.cursor(r,s,void 0,h)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Pe(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(t),r=this.bidiSpans(i);return b(n,r[Nt.find(r,t-i.from,-1,e)].dir==Mt.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Qt)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>ai)return Ht(t.length);let e,n=this.textDirectionAt(t.from);for(let i of this.bidiCache)if(i.from==t.from&&i.dir==n&&(i.fresh||It(i.isolates,e=we(this,t))))return i.order;e||(e=we(this,t));let i=function(t,e,n){if(!t)return[new Nt(0,0,e==Ot?1:0)];if(e==Ct&&!n.length&&!Lt.test(t))return Ht(t.length);if(n.length)for(;t.length>Ft.length;)Ft[Ft.length]=256;let i=[],r=e==Ct?0:1;return zt(t,r,r,n,0,t.length,i),i}(t.text,n,e);return this.bidiCache.push(new ui(t.from,t.to,n,e,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||X.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{C(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return ie.of(new ne("number"==typeof t?i.OF.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return ie.of(new ne(i.OF.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return ae.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return ae.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=r.G.newName(),i=[Un.of(n),be.of(ti(`.${n}`,t))];return e&&e.dark&&i.push(Yn.of(!0)),i}static baseTheme(t){return i.Nb.lowest(be.of(ti("."+Jn,t,Qn)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),i=n&&N.get(n)||N.get(t);return(null===(e=null==i?void 0:i.rootView)||void 0===e?void 0:e.view)||null}}hi.styleModule=be,hi.inputHandler=Yt,hi.clipboardInputFilter=Xt,hi.clipboardOutputFilter=Zt,hi.scrollHandler=ee,hi.focusChangeEffect=Jt,hi.perLineTextDirection=Qt,hi.exceptionSink=Gt,hi.updateListener=Ut,hi.editable=oe,hi.mouseSelectionStyle=Kt,hi.dragMovesSelection=qt,hi.clickAddsSelectionRange=jt,hi.decorations=de,hi.outerDecorations=pe,hi.atomicRanges=ge,hi.bidiIsolatedRanges=me,hi.scrollMargins=ve,hi.darkTheme=Yn,hi.cspNonce=i.sj.define({combine:t=>t.length?t[0]:""}),hi.contentAttributes=fe,hi.editorAttributes=ue,hi.lineWrapping=hi.contentAttributes.of({class:"cm-lineWrapping"}),hi.announce=i.Pe.define();const ai=4096,ci={};class ui{constructor(t,e,n,i,r,s){this.from=t,this.to=e,this.dir=n,this.isolates=i,this.fresh=r,this.order=s}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],i=t.length?t[t.length-1].dir:Mt.LTR;for(let r=Math.max(0,t.length-10);r<t.length;r++){let s=t[r];s.dir!=i||e.touchesRange(s.from,s.to)||n.push(new ui(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function fi(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let e=i[r],s="function"==typeof e?e(t):e;s&&ot(s,n)}return n}const di=X.mac?"mac":X.windows?"win":X.linux?"linux":"key";function pi(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const gi=i.Nb.default(hi.domEventHandlers({keydown:(t,e)=>function(t,e,n,r){bi=e;let a=function(t){var e=!(l&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||h&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?o:s)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),c=(0,i.vS)(a,0),u=(0,i.Fh)(c)==a.length&&" "!=a,f="",d=!1,p=!1,g=!1;vi&&vi.view==n&&vi.scope==r&&(f=vi.prefix+" ",Je.indexOf(e.keyCode)<0&&(p=!0,vi=null));let m,w,v=new Set,y=t=>{if(t){for(let e of t.run)if(!v.has(e)&&(v.add(e),e(n)))return t.stopPropagation&&(g=!0),!0;t.preventDefault&&(t.stopPropagation&&(g=!0),p=!0)}return!1},b=t[r];return b&&(y(b[f+pi(a,e,!u)])?d=!0:u&&(e.altKey||e.metaKey||e.ctrlKey)&&!(X.windows&&e.ctrlKey&&e.altKey)&&(m=s[e.keyCode])&&m!=a?(y(b[f+pi(m,e,!0)])||e.shiftKey&&(w=o[e.keyCode])!=a&&w!=m&&y(b[f+pi(w,e,!1)]))&&(d=!0):u&&e.shiftKey&&y(b[f+pi(a,e,!0)])&&(d=!0),!d&&y(b._any)&&(d=!0)),p&&(d=!0),d&&g&&e.stopPropagation(),bi=null,d}(function(t){let e=t.facet(mi),n=wi.get(e);return n||wi.set(e,n=function(t,e=di){let n=Object.create(null),i=Object.create(null),r=(t,e)=>{let n=i[t];if(null==n)i[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,i,s,o,l)=>{var h,a;let c=n[t]||(n[t]=Object.create(null)),u=i.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let i,r,s,o,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?o=!0:r=!0}}return i&&(l="Alt-"+l),r&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<u.length;e++){let n=u.slice(0,e).join(" ");r(n,!0),c[n]||(c[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let i=vi={view:e,prefix:n,scope:t};return setTimeout((()=>{vi==i&&(vi=null)}),yi),!0}]})}let f=u.join(" ");r(f,!1);let d=c[f]||(c[f]={preventDefault:!1,stopPropagation:!1,run:(null===(a=null===(h=c._any)||void 0===h?void 0:h.run)||void 0===a?void 0:a.slice())||[]});s&&d.run.push(s),o&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let i of t){let t=i.scope?i.scope.split(" "):["editor"];if(i.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:r}=i;for(let e in t)t[e].run.push((t=>r(t,bi)))}let r=i[e]||i.key;if(r)for(let e of t)s(e,r,i.run,i.preventDefault,i.stopPropagation),i.shift&&s(e,"Shift-"+r,i.shift,i.preventDefault,i.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}(e.state),t,e,"editor")})),mi=i.sj.define({enables:gi}),wi=new WeakMap;let vi=null;const yi=4e3;let bi=null;class xi extends i.FB{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}xi.prototype.elementClass="",xi.prototype.toDOM=void 0,xi.prototype.mapMode=i.iR.TrackBefore,xi.prototype.startSide=xi.prototype.endSide=-1,xi.prototype.point=!0;const ki=i.sj.define(),Si=i.sj.define(),Ai=i.sj.define(),Mi=i.sj.define({combine:t=>t.some((t=>t))});function Ci(t){let e=[Oi];return t&&!1===t.fixed&&e.push(Mi.of(!0)),e}const Oi=ae.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ai).map((e=>new Ri(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Mi),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Mi)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=i.om.iter(this.view.state.facet(ki),this.view.viewport.from),r=[],s=this.gutters.map((t=>new Di(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(t.type)){let e=!0;for(let i of t.type)if(i.type==ft.Text&&e){Ei(n,r,i.from);for(let t of s)t.line(this.view,i,r);e=!1}else if(i.widget)for(let t of s)t.widget(this.view,i)}else if(t.type==ft.Text){Ei(n,r,t.from);for(let e of s)e.line(this.view,t,r)}else if(t.widget)for(let e of s)e.widget(this.view,t);for(let t of s)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ai),n=t.state.facet(Ai),r=t.docChanged||t.heightChanged||t.viewportChanged||!i.om.eq(t.startState.facet(ki),t.state.facet(ki),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(r=!0);else{r=!0;let i=[];for(let r of n){let n=e.indexOf(r);n<0?i.push(new Ri(this.view,r)):(this.gutters[n].update(t),i.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),i.indexOf(t)<0&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>hi.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==Mt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Ti(t){return Array.isArray(t)?t:[t]}function Ei(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Di{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=i.om.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:i}=this,r=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==i.elements.length){let e=new Bi(t,s,r,n);i.elements.push(e),i.dom.appendChild(e.dom)}else i.elements[this.i].update(t,s,r,n);this.height=e.bottom,this.i++}line(t,e,n){let i=[];Ei(this.cursor,i,e.from),n.length&&(i=i.concat(n));let r=this.gutter.config.lineMarker(t,e,i);r&&i.unshift(r);let s=this.gutter;(0!=i.length||s.config.renderEmptyElements)&&this.addElement(t,e,i)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e),i=n?[n]:null;for(let n of t.state.facet(Si)){let r=n(t,e.widget,e);r&&(i||(i=[])).push(r)}i&&this.addElement(t,e,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Ri{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(i=>{let r,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let t=s.getBoundingClientRect();r=(t.top+t.bottom)/2}else r=i.clientY;let o=t.lineBlockAtHeight(r-t.documentTop);e.domEventHandlers[n](t,o,i)&&i.preventDefault()}));this.markers=Ti(e.markers(t)),e.initialSpacer&&(this.spacer=new Bi(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ti(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!i.om.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Bi{constructor(t,e,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,i)}update(t,e,n,i){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let n="cm-gutterElement",i=this.dom.firstChild;for(let r=0,s=0;;){let o=s,l=r<e.length?e[r++]:null,h=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(l)){o=t,h=!0;break}}else o=this.markers.length;for(;s<o;){let t=this.markers[s++];if(t.toDOM){t.destroy(i);let e=i.nextSibling;i.remove(),i=e}}if(!l)break;l.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(l.toDOM(t),i)),h&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const Pi=i.sj.define(),Li=i.sj.define(),Ni=i.sj.define({combine:t=>(0,i.QR)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let i=n[t],r=e[t];n[t]=i?(t,e,n)=>i(t,e,n)||r(t,e,n):r}return n}})});class Ii extends xi{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Fi(t,e){return t.state.facet(Ni).formatNumber(e,t.state)}const $i=Ai.compute([Ni],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Pi),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Ii(Fi(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,n)=>{for(let i of t.state.facet(Li)){let r=i(t,e,n);if(r)return r}return null},lineMarkerChange:t=>t.startState.facet(Ni)!=t.state.facet(Ni),initialSpacer:t=>new Ii(Fi(t,Hi(t.state.doc.lines))),updateSpacer(t,e){let n=Fi(e.view,Hi(e.view.state.doc.lines));return n==t.number?t:new Ii(n)},domEventHandlers:t.facet(Ni).domEventHandlers})));function zi(t={}){return[Ni.of(t),Ci(),$i]}function Hi(t){let e=9;for(;e<t;)e=10*e+9;return e}const Vi=new class extends xi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_i=ki.compute(["selection"],(t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(Vi.range(r)))}return i.om.of(e)}));function Wi(){return _i}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aHBELEdBQUc0NEMsRUFBTSxJQU83QixTQUFTeXpCLEtBQ0wsT0FBT0QsRUFDWCxDIiwic291cmNlcyI6WyIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS9nYW1lcy92aW50YWdlLW1hY2hpbmUvbm9kZV9tb2R1bGVzL21hcmtlZC9saWIvbWFya2VkLmVzbS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS9nYW1lcy92aW50YWdlLW1hY2hpbmUvbm9kZV9tb2R1bGVzL0BsZXplci9jb21tb24vZGlzdC9pbmRleC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvQGxlemVyL2hpZ2hsaWdodC9kaXN0L2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5ndWFnZS9kaXN0L2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9jb21tYW5kcy9kaXN0L2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS90Z2QyL2xpYi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9xdWF0LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvQHRvbG9rb2Jhbi90eXBlLWd1YXJkcy9kaXN0L2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0My5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9zdHlsZS1tb2Qvc3JjL3N0eWxlLW1vZC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS9nYW1lcy92aW50YWdlLW1hY2hpbmUvbm9kZV9tb2R1bGVzL0BtYXJpam4vZmluZC1jbHVzdGVyLWJyZWFrL3NyYy9pbmRleC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivc3RhdGUvZGlzdC9pbmRleC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL2NvbW1vbi5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvdGdkMi9saWIvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS9nYW1lcy92aW50YWdlLW1hY2hpbmUvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL2dhbWVzL3ZpbnRhZ2UtbWFjaGluZS9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIi9ob21lL3RvbG9rb2Jhbi9Db2RlL2dpdGh1Yi9nYW1lL3RnZDIvbGliL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3ZlYzMuanMiLCIvaG9tZS90b2xva29iYW4vQ29kZS9naXRodWIvZ2FtZS9nYW1lcy92aW50YWdlLW1hY2hpbmUvbm9kZV9tb2R1bGVzL3czYy1rZXluYW1lL2luZGV4LmpzIiwiL2hvbWUvdG9sb2tvYmFuL0NvZGUvZ2l0aHViL2dhbWUvZ2FtZXMvdmludGFnZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci92aWV3L2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBtYXJrZWQgdjE1LjAuMTEgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMjUsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuLyoqXG4gKiBETyBOT1QgRURJVCBUSElTIEZJTEVcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBmaWxlcyBpbiAuL3NyYy9cbiAqL1xuXG4vKipcbiAqIEdldHMgdGhlIG9yaWdpbmFsIG1hcmtlZCBkZWZhdWx0IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIF9nZXREZWZhdWx0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIGJyZWFrczogZmFsc2UsXG4gICAgICAgIGV4dGVuc2lvbnM6IG51bGwsXG4gICAgICAgIGdmbTogdHJ1ZSxcbiAgICAgICAgaG9va3M6IG51bGwsXG4gICAgICAgIHBlZGFudGljOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyZXI6IG51bGwsXG4gICAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICAgIHRva2VuaXplcjogbnVsbCxcbiAgICAgICAgd2Fsa1Rva2VuczogbnVsbCxcbiAgICB9O1xufVxubGV0IF9kZWZhdWx0cyA9IF9nZXREZWZhdWx0cygpO1xuZnVuY3Rpb24gY2hhbmdlRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgICBfZGVmYXVsdHMgPSBuZXdEZWZhdWx0cztcbn1cblxuY29uc3Qgbm9vcFRlc3QgPSB7IGV4ZWM6ICgpID0+IG51bGwgfTtcbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCA9ICcnKSB7XG4gICAgbGV0IHNvdXJjZSA9IHR5cGVvZiByZWdleCA9PT0gJ3N0cmluZycgPyByZWdleCA6IHJlZ2V4LnNvdXJjZTtcbiAgICBjb25zdCBvYmogPSB7XG4gICAgICAgIHJlcGxhY2U6IChuYW1lLCB2YWwpID0+IHtcbiAgICAgICAgICAgIGxldCB2YWxTb3VyY2UgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IHZhbCA6IHZhbC5zb3VyY2U7XG4gICAgICAgICAgICB2YWxTb3VyY2UgPSB2YWxTb3VyY2UucmVwbGFjZShvdGhlci5jYXJldCwgJyQxJyk7XG4gICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UucmVwbGFjZShuYW1lLCB2YWxTb3VyY2UpO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UmVnZXg6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZSwgb3B0KTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBvYmo7XG59XG5jb25zdCBvdGhlciA9IHtcbiAgICBjb2RlUmVtb3ZlSW5kZW50OiAvXig/OiB7MSw0fXwgezAsM31cXHQpL2dtLFxuICAgIG91dHB1dExpbmtSZXBsYWNlOiAvXFxcXChbXFxbXFxdXSkvZyxcbiAgICBpbmRlbnRDb2RlQ29tcGVuc2F0aW9uOiAvXihcXHMrKSg/OmBgYCkvLFxuICAgIGJlZ2lubmluZ1NwYWNlOiAvXlxccysvLFxuICAgIGVuZGluZ0hhc2g6IC8jJC8sXG4gICAgc3RhcnRpbmdTcGFjZUNoYXI6IC9eIC8sXG4gICAgZW5kaW5nU3BhY2VDaGFyOiAvICQvLFxuICAgIG5vblNwYWNlQ2hhcjogL1teIF0vLFxuICAgIG5ld0xpbmVDaGFyR2xvYmFsOiAvXFxuL2csXG4gICAgdGFiQ2hhckdsb2JhbDogL1xcdC9nLFxuICAgIG11bHRpcGxlU3BhY2VHbG9iYWw6IC9cXHMrL2csXG4gICAgYmxhbmtMaW5lOiAvXlsgXFx0XSokLyxcbiAgICBkb3VibGVCbGFua0xpbmU6IC9cXG5bIFxcdF0qXFxuWyBcXHRdKiQvLFxuICAgIGJsb2NrcXVvdGVTdGFydDogL14gezAsM30+LyxcbiAgICBibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZTogL1xcbiB7MCwzfSgoPzo9K3wtKykgKikoPz1cXG58JCkvZyxcbiAgICBibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZTI6IC9eIHswLDN9PlsgXFx0XT8vZ20sXG4gICAgbGlzdFJlcGxhY2VUYWJzOiAvXlxcdCsvLFxuICAgIGxpc3RSZXBsYWNlTmVzdGluZzogL14gezEsNH0oPz0oIHs0fSkqW14gXSkvZyxcbiAgICBsaXN0SXNUYXNrOiAvXlxcW1sgeFhdXFxdIC8sXG4gICAgbGlzdFJlcGxhY2VUYXNrOiAvXlxcW1sgeFhdXFxdICsvLFxuICAgIGFueUxpbmU6IC9cXG4uKlxcbi8sXG4gICAgaHJlZkJyYWNrZXRzOiAvXjwoLiopPiQvLFxuICAgIHRhYmxlRGVsaW1pdGVyOiAvWzp8XS8sXG4gICAgdGFibGVBbGlnbkNoYXJzOiAvXlxcfHxcXHwgKiQvZyxcbiAgICB0YWJsZVJvd0JsYW5rTGluZTogL1xcblsgXFx0XSokLyxcbiAgICB0YWJsZUFsaWduUmlnaHQ6IC9eICotKzogKiQvLFxuICAgIHRhYmxlQWxpZ25DZW50ZXI6IC9eICo6LSs6ICokLyxcbiAgICB0YWJsZUFsaWduTGVmdDogL14gKjotKyAqJC8sXG4gICAgc3RhcnRBVGFnOiAvXjxhIC9pLFxuICAgIGVuZEFUYWc6IC9ePFxcL2E+L2ksXG4gICAgc3RhcnRQcmVTY3JpcHRUYWc6IC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaSxcbiAgICBlbmRQcmVTY3JpcHRUYWc6IC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaSxcbiAgICBzdGFydEFuZ2xlQnJhY2tldDogL148LyxcbiAgICBlbmRBbmdsZUJyYWNrZXQ6IC8+JC8sXG4gICAgcGVkYW50aWNIcmVmVGl0bGU6IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLyxcbiAgICB1bmljb2RlQWxwaGFOdW1lcmljOiAvW1xccHtMfVxccHtOfV0vdSxcbiAgICBlc2NhcGVUZXN0OiAvWyY8PlwiJ10vLFxuICAgIGVzY2FwZVJlcGxhY2U6IC9bJjw+XCInXS9nLFxuICAgIGVzY2FwZVRlc3ROb0VuY29kZTogL1s8PlwiJ118Jig/ISgjXFxkezEsN318I1tYeF1bYS1mQS1GMC05XXsxLDZ9fFxcdyspOykvLFxuICAgIGVzY2FwZVJlcGxhY2VOb0VuY29kZTogL1s8PlwiJ118Jig/ISgjXFxkezEsN318I1tYeF1bYS1mQS1GMC05XXsxLDZ9fFxcdyspOykvZyxcbiAgICB1bmVzY2FwZVRlc3Q6IC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWcsXG4gICAgY2FyZXQ6IC8oXnxbXlxcW10pXFxeL2csXG4gICAgcGVyY2VudERlY29kZTogLyUyNS9nLFxuICAgIGZpbmRQaXBlOiAvXFx8L2csXG4gICAgc3BsaXRQaXBlOiAvIFxcfC8sXG4gICAgc2xhc2hQaXBlOiAvXFxcXFxcfC9nLFxuICAgIGNhcnJpYWdlUmV0dXJuOiAvXFxyXFxufFxcci9nLFxuICAgIHNwYWNlTGluZTogL14gKyQvZ20sXG4gICAgbm90U3BhY2VTdGFydDogL15cXFMqLyxcbiAgICBlbmRpbmdOZXdsaW5lOiAvXFxuJC8sXG4gICAgbGlzdEl0ZW1SZWdleDogKGJ1bGwpID0+IG5ldyBSZWdFeHAoYF4oIHswLDN9JHtidWxsfSkoKD86W1xcdCBdW15cXFxcbl0qKT8oPzpcXFxcbnwkKSlgKSxcbiAgICBuZXh0QnVsbGV0UmVnZXg6IChpbmRlbnQpID0+IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19KD86WyorLV18XFxcXGR7MSw5fVsuKV0pKCg/OlsgXFx0XVteXFxcXG5dKik/KD86XFxcXG58JCkpYCksXG4gICAgaHJSZWdleDogKGluZGVudCkgPT4gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKWApLFxuICAgIGZlbmNlc0JlZ2luUmVnZXg6IChpbmRlbnQpID0+IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19KD86XFxgXFxgXFxgfH5+filgKSxcbiAgICBoZWFkaW5nQmVnaW5SZWdleDogKGluZGVudCkgPT4gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0jYCksXG4gICAgaHRtbEJlZ2luUmVnZXg6IChpbmRlbnQpID0+IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19PCg/OlthLXpdLio+fCEtLSlgLCAnaScpLFxufTtcbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5jb25zdCBuZXdsaW5lID0gL14oPzpbIFxcdF0qKD86XFxufCQpKSsvO1xuY29uc3QgYmxvY2tDb2RlID0gL14oKD86IHs0fXwgezAsM31cXHQpW15cXG5dKyg/Olxcbig/OlsgXFx0XSooPzpcXG58JCkpKik/KSsvO1xuY29uc3QgZmVuY2VzID0gL14gezAsM30oYHszLH0oPz1bXmBcXG5dKig/OlxcbnwkKSl8fnszLH0pKFteXFxuXSopKD86XFxufCQpKD86fChbXFxzXFxTXSo/KSg/OlxcbnwkKSkoPzogezAsM31cXDFbfmBdKiAqKD89XFxufCQpfCQpLztcbmNvbnN0IGhyID0gL14gezAsM30oKD86LVtcXHQgXSopezMsfXwoPzpfWyBcXHRdKil7Myx9fCg/OlxcKlsgXFx0XSopezMsfSkoPzpcXG4rfCQpLztcbmNvbnN0IGhlYWRpbmcgPSAvXiB7MCwzfSgjezEsNn0pKD89XFxzfCQpKC4qKSg/Olxcbit8JCkvO1xuY29uc3QgYnVsbGV0ID0gLyg/OlsqKy1dfFxcZHsxLDl9Wy4pXSkvO1xuY29uc3QgbGhlYWRpbmdDb3JlID0gL14oPyFidWxsIHxibG9ja0NvZGV8ZmVuY2VzfGJsb2NrcXVvdGV8aGVhZGluZ3xodG1sfHRhYmxlKSgoPzoufFxcbig/IVxccyo/XFxufGJ1bGwgfGJsb2NrQ29kZXxmZW5jZXN8YmxvY2txdW90ZXxoZWFkaW5nfGh0bWx8dGFibGUpKSs/KVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvO1xuY29uc3QgbGhlYWRpbmcgPSBlZGl0KGxoZWFkaW5nQ29yZSlcbiAgICAucmVwbGFjZSgvYnVsbC9nLCBidWxsZXQpIC8vIGxpc3RzIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvYmxvY2tDb2RlL2csIC8oPzogezR9fCB7MCwzfVxcdCkvKSAvLyBpbmRlbnRlZCBjb2RlIGJsb2NrcyBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoL2ZlbmNlcy9nLCAvIHswLDN9KD86YHszLH18fnszLH0pLykgLy8gZmVuY2VkIGNvZGUgYmxvY2tzIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvYmxvY2txdW90ZS9nLCAvIHswLDN9Pi8pIC8vIGJsb2NrcXVvdGUgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC9oZWFkaW5nL2csIC8gezAsM30jezEsNn0vKSAvLyBBVFggaGVhZGluZyBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoL2h0bWwvZywgLyB7MCwzfTxbXlxcbj5dKz5cXG4vKSAvLyBibG9jayBodG1sIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvXFx8dGFibGUvZywgJycpIC8vIHRhYmxlIG5vdCBpbiBjb21tb25tYXJrXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBsaGVhZGluZ0dmbSA9IGVkaXQobGhlYWRpbmdDb3JlKVxuICAgIC5yZXBsYWNlKC9idWxsL2csIGJ1bGxldCkgLy8gbGlzdHMgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC9ibG9ja0NvZGUvZywgLyg/OiB7NH18IHswLDN9XFx0KS8pIC8vIGluZGVudGVkIGNvZGUgYmxvY2tzIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvZmVuY2VzL2csIC8gezAsM30oPzpgezMsfXx+ezMsfSkvKSAvLyBmZW5jZWQgY29kZSBibG9ja3MgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC9ibG9ja3F1b3RlL2csIC8gezAsM30+LykgLy8gYmxvY2txdW90ZSBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoL2hlYWRpbmcvZywgLyB7MCwzfSN7MSw2fS8pIC8vIEFUWCBoZWFkaW5nIGNhbiBpbnRlcnJ1cHRcbiAgICAucmVwbGFjZSgvaHRtbC9nLCAvIHswLDN9PFteXFxuPl0rPlxcbi8pIC8vIGJsb2NrIGh0bWwgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKC90YWJsZS9nLCAvIHswLDN9XFx8Pyg/Ols6XFwtIF0qXFx8KStbXFw6XFwtIF0qXFxuLykgLy8gdGFibGUgY2FuIGludGVycnVwdFxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX3BhcmFncmFwaCA9IC9eKFteXFxuXSsoPzpcXG4oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8ZmVuY2VzfGxpc3R8aHRtbHx0YWJsZXwgK1xcbilbXlxcbl0rKSopLztcbmNvbnN0IGJsb2NrVGV4dCA9IC9eW15cXG5dKy87XG5jb25zdCBfYmxvY2tMYWJlbCA9IC8oPyFcXHMqXFxdKSg/OlxcXFwufFteXFxbXFxdXFxcXF0pKy87XG5jb25zdCBkZWYgPSBlZGl0KC9eIHswLDN9XFxbKGxhYmVsKVxcXTogKig/OlxcblsgXFx0XSopPyhbXjxcXHNdW15cXHNdKnw8Lio/PikoPzooPzogKyg/OlxcblsgXFx0XSopP3wgKlxcblsgXFx0XSopKHRpdGxlKSk/ICooPzpcXG4rfCQpLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBfYmxvY2tMYWJlbClcbiAgICAucmVwbGFjZSgndGl0bGUnLCAvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgbGlzdCA9IGVkaXQoL14oIHswLDN9YnVsbCkoWyBcXHRdW15cXG5dKz8pPyg/OlxcbnwkKS8pXG4gICAgLnJlcGxhY2UoL2J1bGwvZywgYnVsbGV0KVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbidcbiAgICArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nXG4gICAgKyAnfGZpZ3VyZXxmb290ZXJ8Zm9ybXxmcmFtZXxmcmFtZXNldHxoWzEtNl18aGVhZHxoZWFkZXJ8aHJ8aHRtbHxpZnJhbWUnXG4gICAgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nXG4gICAgKyAnfHB8cGFyYW18c2VhcmNofHNlY3Rpb258c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZSdcbiAgICArICd8dHJ8dHJhY2t8dWwnO1xuY29uc3QgX2NvbW1lbnQgPSAvPCEtLSg/Oi0/PnxbXFxzXFxTXSo/KD86LS0+fCQpKS87XG5jb25zdCBodG1sID0gZWRpdCgnXiB7MCwzfSg/OicgLy8gb3B0aW9uYWwgaW5kZW50YXRpb25cbiAgICArICc8KHNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICArICd8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCknIC8vICgyKVxuICAgICsgJ3w8XFxcXD9bXFxcXHNcXFxcU10qPyg/OlxcXFw/PlxcXFxuKnwkKScgLy8gKDMpXG4gICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPyg/Oj5cXFxcbip8JCknIC8vICg0KVxuICAgICsgJ3w8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/KD86XFxcXF1cXFxcXT5cXFxcbip8JCknIC8vICg1KVxuICAgICsgJ3w8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuWyBcXHRdKikrXFxcXG58JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuWyBcXHRdKikrXFxcXG58JCknIC8vICg3KSBvcGVuIHRhZ1xuICAgICsgJ3w8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFxcXHctXSpcXFxccyo+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcblsgXFx0XSopK1xcXFxufCQpJyAvLyAoNykgY2xvc2luZyB0YWdcbiAgICArICcpJywgJ2knKVxuICAgIC5yZXBsYWNlKCdjb21tZW50JywgX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoJ3RhZycsIF90YWcpXG4gICAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBwYXJhZ3JhcGggPSBlZGl0KF9wYXJhZ3JhcGgpXG4gICAgLnJlcGxhY2UoJ2hyJywgaHIpXG4gICAgLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9KD86XFxcXHN8JCknKVxuICAgIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXh0IGhlYWRpbmdzIGRvbid0IGludGVycnVwdCBjb21tb25tYXJrIHBhcmFncmFwaHNcbiAgICAucmVwbGFjZSgnfHRhYmxlJywgJycpXG4gICAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpXG4gICAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKVxuICAgIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKScpXG4gICAgLnJlcGxhY2UoJ3RhZycsIF90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBibG9ja3F1b3RlID0gZWRpdCgvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvKVxuICAgIC5yZXBsYWNlKCdwYXJhZ3JhcGgnLCBwYXJhZ3JhcGgpXG4gICAgLmdldFJlZ2V4KCk7XG4vKipcbiAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG4gKi9cbmNvbnN0IGJsb2NrTm9ybWFsID0ge1xuICAgIGJsb2NrcXVvdGUsXG4gICAgY29kZTogYmxvY2tDb2RlLFxuICAgIGRlZixcbiAgICBmZW5jZXMsXG4gICAgaGVhZGluZyxcbiAgICBocixcbiAgICBodG1sLFxuICAgIGxoZWFkaW5nLFxuICAgIGxpc3QsXG4gICAgbmV3bGluZSxcbiAgICBwYXJhZ3JhcGgsXG4gICAgdGFibGU6IG5vb3BUZXN0LFxuICAgIHRleHQ6IGJsb2NrVGV4dCxcbn07XG4vKipcbiAqIEdGTSBCbG9jayBHcmFtbWFyXG4gKi9cbmNvbnN0IGdmbVRhYmxlID0gZWRpdCgnXiAqKFteXFxcXG4gXS4qKVxcXFxuJyAvLyBIZWFkZXJcbiAgICArICcgezAsM30oKD86XFxcXHwgKik/Oj8tKzo/ICooPzpcXFxcfCAqOj8tKzo/ICopKig/OlxcXFx8ICopPyknIC8vIEFsaWduXG4gICAgKyAnKD86XFxcXG4oKD86KD8hICpcXFxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxcXG58JCkpKilcXFxcbip8JCknKSAvLyBDZWxsc1xuICAgIC5yZXBsYWNlKCdocicsIGhyKVxuICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSg/OlxcXFxzfCQpJylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnY29kZScsICcoPzogezR9fCB7MCwzfVxcdClbXlxcXFxuXScpXG4gICAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKVxuICAgIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gICAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKScpXG4gICAgLnJlcGxhY2UoJ3RhZycsIF90YWcpIC8vIHRhYmxlcyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IGJsb2NrR2ZtID0ge1xuICAgIC4uLmJsb2NrTm9ybWFsLFxuICAgIGxoZWFkaW5nOiBsaGVhZGluZ0dmbSxcbiAgICB0YWJsZTogZ2ZtVGFibGUsXG4gICAgcGFyYWdyYXBoOiBlZGl0KF9wYXJhZ3JhcGgpXG4gICAgICAgIC5yZXBsYWNlKCdocicsIGhyKVxuICAgICAgICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0oPzpcXFxcc3wkKScpXG4gICAgICAgIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXh0IGhlYWRpbmdzIGRvbid0IGludGVycnVwdCBjb21tb25tYXJrIHBhcmFncmFwaHNcbiAgICAgICAgLnJlcGxhY2UoJ3RhYmxlJywgZ2ZtVGFibGUpIC8vIGludGVycnVwdCBwYXJhZ3JhcGhzIHdpdGggdGFibGVcbiAgICAgICAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpXG4gICAgICAgIC5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJylcbiAgICAgICAgLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgICAgICAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKScpXG4gICAgICAgIC5yZXBsYWNlKCd0YWcnLCBfdGFnKSAvLyBwYXJzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAgICAgICAuZ2V0UmVnZXgoKSxcbn07XG4vKipcbiAqIFBlZGFudGljIGdyYW1tYXIgKG9yaWdpbmFsIEpvaG4gR3J1YmVyJ3MgbG9vc2UgbWFya2Rvd24gc3BlY2lmaWNhdGlvbilcbiAqL1xuY29uc3QgYmxvY2tQZWRhbnRpYyA9IHtcbiAgICAuLi5ibG9ja05vcm1hbCxcbiAgICBodG1sOiBlZGl0KCdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICAgICAgKyAnfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKScgLy8gY2xvc2VkIHRhZ1xuICAgICAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgICAgICAucmVwbGFjZSgnY29tbWVudCcsIF9jb21tZW50KVxuICAgICAgICAucmVwbGFjZSgvdGFnL2csICcoPyEoPzonXG4gICAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgICArICdcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGInKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXigjezEsNn0pKC4qKSg/Olxcbit8JCkvLFxuICAgIGZlbmNlczogbm9vcFRlc3QsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gICAgbGhlYWRpbmc6IC9eKC4rPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgICBwYXJhZ3JhcGg6IGVkaXQoX3BhcmFncmFwaClcbiAgICAgICAgLnJlcGxhY2UoJ2hyJywgaHIpXG4gICAgICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKVxuICAgICAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBsaGVhZGluZylcbiAgICAgICAgLnJlcGxhY2UoJ3x0YWJsZScsICcnKVxuICAgICAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAgICAgLnJlcGxhY2UoJ3xmZW5jZXMnLCAnJylcbiAgICAgICAgLnJlcGxhY2UoJ3xsaXN0JywgJycpXG4gICAgICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgICAgICAucmVwbGFjZSgnfHRhZycsICcnKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbn07XG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cbmNvbnN0IGVzY2FwZSQxID0gL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS87XG5jb25zdCBpbmxpbmVDb2RlID0gL14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLztcbmNvbnN0IGJyID0gL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvO1xuY29uc3QgaW5saW5lVGV4dCA9IC9eKGArfFteYF0pKD86KD89IHsyLH1cXG4pfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCpfXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpKS87XG4vLyBsaXN0IG9mIHVuaWNvZGUgcHVuY3R1YXRpb24gbWFya3MsIHBsdXMgYW55IG1pc3NpbmcgY2hhcmFjdGVycyBmcm9tIENvbW1vbk1hcmsgc3BlY1xuY29uc3QgX3B1bmN0dWF0aW9uID0gL1tcXHB7UH1cXHB7U31dL3U7XG5jb25zdCBfcHVuY3R1YXRpb25PclNwYWNlID0gL1tcXHNcXHB7UH1cXHB7U31dL3U7XG5jb25zdCBfbm90UHVuY3R1YXRpb25PclNwYWNlID0gL1teXFxzXFxwe1B9XFxwe1N9XS91O1xuY29uc3QgcHVuY3R1YXRpb24gPSBlZGl0KC9eKCg/IVsqX10pcHVuY3RTcGFjZSkvLCAndScpXG4gICAgLnJlcGxhY2UoL3B1bmN0U3BhY2UvZywgX3B1bmN0dWF0aW9uT3JTcGFjZSkuZ2V0UmVnZXgoKTtcbi8vIEdGTSBhbGxvd3MgfiBpbnNpZGUgc3Ryb25nIGFuZCBlbSBmb3Igc3RyaWtldGhyb3VnaFxuY29uc3QgX3B1bmN0dWF0aW9uR2ZtU3Ryb25nRW0gPSAvKD8hfilbXFxwe1B9XFxwe1N9XS91O1xuY29uc3QgX3B1bmN0dWF0aW9uT3JTcGFjZUdmbVN0cm9uZ0VtID0gLyg/IX4pW1xcc1xccHtQfVxccHtTfV0vdTtcbmNvbnN0IF9ub3RQdW5jdHVhdGlvbk9yU3BhY2VHZm1TdHJvbmdFbSA9IC8oPzpbXlxcc1xccHtQfVxccHtTfV18fikvdTtcbi8vIHNlcXVlbmNlcyBlbSBzaG91bGQgc2tpcCBvdmVyIFt0aXRsZV0obGluayksIGBjb2RlYCwgPGh0bWw+XG5jb25zdCBibG9ja1NraXAgPSAvXFxbW15bXFxdXSo/XFxdXFwoKD86XFxcXC58W15cXFxcXFwoXFwpXXxcXCgoPzpcXFxcLnxbXlxcXFxcXChcXCldKSpcXCkpKlxcKXxgW15gXSo/YHw8W148Pl0qPz4vZztcbmNvbnN0IGVtU3Ryb25nTERlbGltQ29yZSA9IC9eKD86XFwqKyg/OigoPyFcXCopcHVuY3QpfFteXFxzKl0pKXxeXysoPzooKD8hXylwdW5jdCl8KFteXFxzX10pKS87XG5jb25zdCBlbVN0cm9uZ0xEZWxpbSA9IGVkaXQoZW1TdHJvbmdMRGVsaW1Db3JlLCAndScpXG4gICAgLnJlcGxhY2UoL3B1bmN0L2csIF9wdW5jdHVhdGlvbilcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IGVtU3Ryb25nTERlbGltR2ZtID0gZWRpdChlbVN0cm9uZ0xEZWxpbUNvcmUsICd1JylcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgX3B1bmN0dWF0aW9uR2ZtU3Ryb25nRW0pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBlbVN0cm9uZ1JEZWxpbUFzdENvcmUgPSAnXlteXypdKj9fX1teXypdKj9cXFxcKlteXypdKj8oPz1fXyknIC8vIFNraXAgb3JwaGFuIGluc2lkZSBzdHJvbmdcbiAgICArICd8W14qXSsoPz1bXipdKScgLy8gQ29uc3VtZSB0byBkZWxpbVxuICAgICsgJ3woPyFcXFxcKilwdW5jdChcXFxcKispKD89W1xcXFxzXXwkKScgLy8gKDEpICMqKiogY2FuIG9ubHkgYmUgYSBSaWdodCBEZWxpbWl0ZXJcbiAgICArICd8bm90UHVuY3RTcGFjZShcXFxcKispKD8hXFxcXCopKD89cHVuY3RTcGFjZXwkKScgLy8gKDIpIGEqKiojLCBhKioqIGNhbiBvbmx5IGJlIGEgUmlnaHQgRGVsaW1pdGVyXG4gICAgKyAnfCg/IVxcXFwqKXB1bmN0U3BhY2UoXFxcXCorKSg/PW5vdFB1bmN0U3BhY2UpJyAvLyAoMykgIyoqKmEsICoqKmEgY2FuIG9ubHkgYmUgTGVmdCBEZWxpbWl0ZXJcbiAgICArICd8W1xcXFxzXShcXFxcKispKD8hXFxcXCopKD89cHVuY3QpJyAvLyAoNCkgKioqIyBjYW4gb25seSBiZSBMZWZ0IERlbGltaXRlclxuICAgICsgJ3woPyFcXFxcKilwdW5jdChcXFxcKispKD8hXFxcXCopKD89cHVuY3QpJyAvLyAoNSkgIyoqKiMgY2FuIGJlIGVpdGhlciBMZWZ0IG9yIFJpZ2h0IERlbGltaXRlclxuICAgICsgJ3xub3RQdW5jdFNwYWNlKFxcXFwqKykoPz1ub3RQdW5jdFNwYWNlKSc7IC8vICg2KSBhKioqYSBjYW4gYmUgZWl0aGVyIExlZnQgb3IgUmlnaHQgRGVsaW1pdGVyXG5jb25zdCBlbVN0cm9uZ1JEZWxpbUFzdCA9IGVkaXQoZW1TdHJvbmdSRGVsaW1Bc3RDb3JlLCAnZ3UnKVxuICAgIC5yZXBsYWNlKC9ub3RQdW5jdFNwYWNlL2csIF9ub3RQdW5jdHVhdGlvbk9yU3BhY2UpXG4gICAgLnJlcGxhY2UoL3B1bmN0U3BhY2UvZywgX3B1bmN0dWF0aW9uT3JTcGFjZSlcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgX3B1bmN0dWF0aW9uKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgZW1TdHJvbmdSRGVsaW1Bc3RHZm0gPSBlZGl0KGVtU3Ryb25nUkRlbGltQXN0Q29yZSwgJ2d1JylcbiAgICAucmVwbGFjZSgvbm90UHVuY3RTcGFjZS9nLCBfbm90UHVuY3R1YXRpb25PclNwYWNlR2ZtU3Ryb25nRW0pXG4gICAgLnJlcGxhY2UoL3B1bmN0U3BhY2UvZywgX3B1bmN0dWF0aW9uT3JTcGFjZUdmbVN0cm9uZ0VtKVxuICAgIC5yZXBsYWNlKC9wdW5jdC9nLCBfcHVuY3R1YXRpb25HZm1TdHJvbmdFbSlcbiAgICAuZ2V0UmVnZXgoKTtcbi8vICg2KSBOb3QgYWxsb3dlZCBmb3IgX1xuY29uc3QgZW1TdHJvbmdSRGVsaW1VbmQgPSBlZGl0KCdeW15fKl0qP1xcXFwqXFxcXCpbXl8qXSo/X1teXypdKj8oPz1cXFxcKlxcXFwqKScgLy8gU2tpcCBvcnBoYW4gaW5zaWRlIHN0cm9uZ1xuICAgICsgJ3xbXl9dKyg/PVteX10pJyAvLyBDb25zdW1lIHRvIGRlbGltXG4gICAgKyAnfCg/IV8pcHVuY3QoXyspKD89W1xcXFxzXXwkKScgLy8gKDEpICNfX18gY2FuIG9ubHkgYmUgYSBSaWdodCBEZWxpbWl0ZXJcbiAgICArICd8bm90UHVuY3RTcGFjZShfKykoPyFfKSg/PXB1bmN0U3BhY2V8JCknIC8vICgyKSBhX19fIywgYV9fXyBjYW4gb25seSBiZSBhIFJpZ2h0IERlbGltaXRlclxuICAgICsgJ3woPyFfKXB1bmN0U3BhY2UoXyspKD89bm90UHVuY3RTcGFjZSknIC8vICgzKSAjX19fYSwgX19fYSBjYW4gb25seSBiZSBMZWZ0IERlbGltaXRlclxuICAgICsgJ3xbXFxcXHNdKF8rKSg/IV8pKD89cHVuY3QpJyAvLyAoNCkgX19fIyBjYW4gb25seSBiZSBMZWZ0IERlbGltaXRlclxuICAgICsgJ3woPyFfKXB1bmN0KF8rKSg/IV8pKD89cHVuY3QpJywgJ2d1JykgLy8gKDUpICNfX18jIGNhbiBiZSBlaXRoZXIgTGVmdCBvciBSaWdodCBEZWxpbWl0ZXJcbiAgICAucmVwbGFjZSgvbm90UHVuY3RTcGFjZS9nLCBfbm90UHVuY3R1YXRpb25PclNwYWNlKVxuICAgIC5yZXBsYWNlKC9wdW5jdFNwYWNlL2csIF9wdW5jdHVhdGlvbk9yU3BhY2UpXG4gICAgLnJlcGxhY2UoL3B1bmN0L2csIF9wdW5jdHVhdGlvbilcbiAgICAuZ2V0UmVnZXgoKTtcbmNvbnN0IGFueVB1bmN0dWF0aW9uID0gZWRpdCgvXFxcXChwdW5jdCkvLCAnZ3UnKVxuICAgIC5yZXBsYWNlKC9wdW5jdC9nLCBfcHVuY3R1YXRpb24pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCBhdXRvbGluayA9IGVkaXQoL148KHNjaGVtZTpbXlxcc1xceDAwLVxceDFmPD5dKnxlbWFpbCk+LylcbiAgICAucmVwbGFjZSgnc2NoZW1lJywgL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vKVxuICAgIC5yZXBsYWNlKCdlbWFpbCcsIC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX2lubGluZUNvbW1lbnQgPSBlZGl0KF9jb21tZW50KS5yZXBsYWNlKCcoPzotLT58JCknLCAnLS0+JykuZ2V0UmVnZXgoKTtcbmNvbnN0IHRhZyA9IGVkaXQoJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nKSAvLyBDREFUQSBzZWN0aW9uXG4gICAgLnJlcGxhY2UoJ2NvbW1lbnQnLCBfaW5saW5lQ29tbWVudClcbiAgICAucmVwbGFjZSgnYXR0cmlidXRlJywgL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgX2lubGluZUxhYmVsID0gLyg/OlxcWyg/OlxcXFwufFteXFxbXFxdXFxcXF0pKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbmNvbnN0IGxpbmsgPSBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/Oig/OlsgXFx0XSooPzpcXG5bIFxcdF0qKT8pKHRpdGxlKSk/XFxzKlxcKS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgX2lubGluZUxhYmVsKVxuICAgIC5yZXBsYWNlKCdocmVmJywgLzwoPzpcXFxcLnxbXlxcbjw+XFxcXF0pKz58W14gXFx0XFxuXFx4MDAtXFx4MWZdKi8pXG4gICAgLnJlcGxhY2UoJ3RpdGxlJywgL1wiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCcoPzpcXFxcJz98W14nXFxcXF0pKid8XFwoKD86XFxcXFxcKT98W14pXFxcXF0pKlxcKS8pXG4gICAgLmdldFJlZ2V4KCk7XG5jb25zdCByZWZsaW5rID0gZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxcWyhyZWYpXFxdLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBfaW5saW5lTGFiZWwpXG4gICAgLnJlcGxhY2UoJ3JlZicsIF9ibG9ja0xhYmVsKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3Qgbm9saW5rID0gZWRpdCgvXiE/XFxbKHJlZilcXF0oPzpcXFtcXF0pPy8pXG4gICAgLnJlcGxhY2UoJ3JlZicsIF9ibG9ja0xhYmVsKVxuICAgIC5nZXRSZWdleCgpO1xuY29uc3QgcmVmbGlua1NlYXJjaCA9IGVkaXQoJ3JlZmxpbmt8bm9saW5rKD8hXFxcXCgpJywgJ2cnKVxuICAgIC5yZXBsYWNlKCdyZWZsaW5rJywgcmVmbGluaylcbiAgICAucmVwbGFjZSgnbm9saW5rJywgbm9saW5rKVxuICAgIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAqL1xuY29uc3QgaW5saW5lTm9ybWFsID0ge1xuICAgIF9iYWNrcGVkYWw6IG5vb3BUZXN0LCAvLyBvbmx5IHVzZWQgZm9yIEdGTSB1cmxcbiAgICBhbnlQdW5jdHVhdGlvbixcbiAgICBhdXRvbGluayxcbiAgICBibG9ja1NraXAsXG4gICAgYnIsXG4gICAgY29kZTogaW5saW5lQ29kZSxcbiAgICBkZWw6IG5vb3BUZXN0LFxuICAgIGVtU3Ryb25nTERlbGltLFxuICAgIGVtU3Ryb25nUkRlbGltQXN0LFxuICAgIGVtU3Ryb25nUkRlbGltVW5kLFxuICAgIGVzY2FwZTogZXNjYXBlJDEsXG4gICAgbGluayxcbiAgICBub2xpbmssXG4gICAgcHVuY3R1YXRpb24sXG4gICAgcmVmbGluayxcbiAgICByZWZsaW5rU2VhcmNoLFxuICAgIHRhZyxcbiAgICB0ZXh0OiBpbmxpbmVUZXh0LFxuICAgIHVybDogbm9vcFRlc3QsXG59O1xuLyoqXG4gKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICovXG5jb25zdCBpbmxpbmVQZWRhbnRpYyA9IHtcbiAgICAuLi5pbmxpbmVOb3JtYWwsXG4gICAgbGluazogZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLylcbiAgICAgICAgLnJlcGxhY2UoJ2xhYmVsJywgX2lubGluZUxhYmVsKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICByZWZsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pXG4gICAgICAgIC5yZXBsYWNlKCdsYWJlbCcsIF9pbmxpbmVMYWJlbClcbiAgICAgICAgLmdldFJlZ2V4KCksXG59O1xuLyoqXG4gKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAqL1xuY29uc3QgaW5saW5lR2ZtID0ge1xuICAgIC4uLmlubGluZU5vcm1hbCxcbiAgICBlbVN0cm9uZ1JEZWxpbUFzdDogZW1TdHJvbmdSRGVsaW1Bc3RHZm0sXG4gICAgZW1TdHJvbmdMRGVsaW06IGVtU3Ryb25nTERlbGltR2ZtLFxuICAgIHVybDogZWRpdCgvXigoPzpmdHB8aHR0cHM/KTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8sICdpJylcbiAgICAgICAgLnJlcGxhY2UoJ2VtYWlsJywgL1tBLVphLXowLTkuXystXSsoQClbYS16QS1aMC05LV9dKyg/OlxcLlthLXpBLVowLTktX10qW2EtekEtWjAtOV0pKyg/IVstX10pLylcbiAgICAgICAgLmdldFJlZ2V4KCksXG4gICAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl8nXCJ+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl8nXCJ+KV0rKD8hJCkpKy8sXG4gICAgZGVsOiAvXih+fj8pKD89W15cXHN+XSkoKD86XFxcXC58W15cXFxcXSkqPyg/OlxcXFwufFteXFxzflxcXFxdKSlcXDEoPz1bXn5dfCQpLyxcbiAgICB0ZXh0OiAvXihbYH5dK3xbXmB+XSkoPzooPz0gezIsfVxcbil8KD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKXxbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl9dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkpLyxcbn07XG4vKipcbiAqIEdGTSArIExpbmUgQnJlYWtzIElubGluZSBHcmFtbWFyXG4gKi9cbmNvbnN0IGlubGluZUJyZWFrcyA9IHtcbiAgICAuLi5pbmxpbmVHZm0sXG4gICAgYnI6IGVkaXQoYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gICAgdGV4dDogZWRpdChpbmxpbmVHZm0udGV4dClcbiAgICAgICAgLnJlcGxhY2UoJ1xcXFxiXycsICdcXFxcYl98IHsyLH1cXFxcbicpXG4gICAgICAgIC5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpXG4gICAgICAgIC5nZXRSZWdleCgpLFxufTtcbi8qKlxuICogZXhwb3J0c1xuICovXG5jb25zdCBibG9jayA9IHtcbiAgICBub3JtYWw6IGJsb2NrTm9ybWFsLFxuICAgIGdmbTogYmxvY2tHZm0sXG4gICAgcGVkYW50aWM6IGJsb2NrUGVkYW50aWMsXG59O1xuY29uc3QgaW5saW5lID0ge1xuICAgIG5vcm1hbDogaW5saW5lTm9ybWFsLFxuICAgIGdmbTogaW5saW5lR2ZtLFxuICAgIGJyZWFrczogaW5saW5lQnJlYWtzLFxuICAgIHBlZGFudGljOiBpbmxpbmVQZWRhbnRpYyxcbn07XG5cbi8qKlxuICogSGVscGVyc1xuICovXG5jb25zdCBlc2NhcGVSZXBsYWNlbWVudHMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnLFxufTtcbmNvbnN0IGdldEVzY2FwZVJlcGxhY2VtZW50ID0gKGNoKSA9PiBlc2NhcGVSZXBsYWNlbWVudHNbY2hdO1xuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICAgIGlmIChlbmNvZGUpIHtcbiAgICAgICAgaWYgKG90aGVyLmVzY2FwZVRlc3QudGVzdChodG1sKSkge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShvdGhlci5lc2NhcGVSZXBsYWNlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvdGhlci5lc2NhcGVUZXN0Tm9FbmNvZGUudGVzdChodG1sKSkge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShvdGhlci5lc2NhcGVSZXBsYWNlTm9FbmNvZGUsIGdldEVzY2FwZVJlcGxhY2VtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaHRtbDtcbn1cbmZ1bmN0aW9uIGNsZWFuVXJsKGhyZWYpIHtcbiAgICB0cnkge1xuICAgICAgICBocmVmID0gZW5jb2RlVVJJKGhyZWYpLnJlcGxhY2Uob3RoZXIucGVyY2VudERlY29kZSwgJyUnKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGhyZWY7XG59XG5mdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gICAgLy8gYmVmb3JlIGl0IHRvIGRpc3Rpbmd1aXNoIGl0IGZyb20gYW4gZXNjYXBlZCBwaXBlXG4gICAgY29uc3Qgcm93ID0gdGFibGVSb3cucmVwbGFjZShvdGhlci5maW5kUGlwZSwgKG1hdGNoLCBvZmZzZXQsIHN0cikgPT4ge1xuICAgICAgICBsZXQgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY3VyciA9IG9mZnNldDtcbiAgICAgICAgd2hpbGUgKC0tY3VyciA+PSAwICYmIHN0cltjdXJyXSA9PT0gJ1xcXFwnKVxuICAgICAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgICAgLy8gb2RkIG51bWJlciBvZiBzbGFzaGVzIG1lYW5zIHwgaXMgZXNjYXBlZFxuICAgICAgICAgICAgLy8gc28gd2UgbGVhdmUgaXQgYWxvbmVcbiAgICAgICAgICAgIHJldHVybiAnfCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBhZGQgc3BhY2UgYmVmb3JlIHVuZXNjYXBlZCB8XG4gICAgICAgICAgICByZXR1cm4gJyB8JztcbiAgICAgICAgfVxuICAgIH0pLCBjZWxscyA9IHJvdy5zcGxpdChvdGhlci5zcGxpdFBpcGUpO1xuICAgIGxldCBpID0gMDtcbiAgICAvLyBGaXJzdC9sYXN0IGNlbGwgaW4gYSByb3cgY2Fubm90IGJlIGVtcHR5IGlmIGl0IGhhcyBubyBsZWFkaW5nL3RyYWlsaW5nIHBpcGVcbiAgICBpZiAoIWNlbGxzWzBdLnRyaW0oKSkge1xuICAgICAgICBjZWxscy5zaGlmdCgpO1xuICAgIH1cbiAgICBpZiAoY2VsbHMubGVuZ3RoID4gMCAmJiAhY2VsbHMuYXQoLTEpPy50cmltKCkpIHtcbiAgICAgICAgY2VsbHMucG9wKCk7XG4gICAgfVxuICAgIGlmIChjb3VudCkge1xuICAgICAgICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICAgICAgICAgIGNlbGxzLnNwbGljZShjb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgY291bnQpXG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaCgnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICg7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2UgaXMgaWdub3JlZCBwZXIgdGhlIGdmbSBzcGVjXG4gICAgICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2Uob3RoZXIuc2xhc2hQaXBlLCAnfCcpO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbHM7XG59XG4vKipcbiAqIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4gKiAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuICpcbiAqIEBwYXJhbSBzdHJcbiAqIEBwYXJhbSBjXG4gKiBAcGFyYW0gaW52ZXJ0IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG4gKi9cbmZ1bmN0aW9uIHJ0cmltKHN0ciwgYywgaW52ZXJ0KSB7XG4gICAgY29uc3QgbCA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKGwgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuICAgIGxldCBzdWZmTGVuID0gMDtcbiAgICAvLyBTdGVwIGxlZnQgdW50aWwgd2UgZmFpbCB0byBtYXRjaCB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgICB3aGlsZSAoc3VmZkxlbiA8IGwpIHtcbiAgICAgICAgY29uc3QgY3VyckNoYXIgPSBzdHIuY2hhckF0KGwgLSBzdWZmTGVuIC0gMSk7XG4gICAgICAgIGlmIChjdXJyQ2hhciA9PT0gYyAmJiB0cnVlKSB7XG4gICAgICAgICAgICBzdWZmTGVuKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyLnNsaWNlKDAsIGwgLSBzdWZmTGVuKTtcbn1cbmZ1bmN0aW9uIGZpbmRDbG9zaW5nQnJhY2tldChzdHIsIGIpIHtcbiAgICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgbGV0IGxldmVsID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3RyW2ldID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHJbaV0gPT09IGJbMF0pIHtcbiAgICAgICAgICAgIGxldmVsKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RyW2ldID09PSBiWzFdKSB7XG4gICAgICAgICAgICBsZXZlbC0tO1xuICAgICAgICAgICAgaWYgKGxldmVsIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgcmV0dXJuIC0yO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIG91dHB1dExpbmsoY2FwLCBsaW5rLCByYXcsIGxleGVyLCBydWxlcykge1xuICAgIGNvbnN0IGhyZWYgPSBsaW5rLmhyZWY7XG4gICAgY29uc3QgdGl0bGUgPSBsaW5rLnRpdGxlIHx8IG51bGw7XG4gICAgY29uc3QgdGV4dCA9IGNhcFsxXS5yZXBsYWNlKHJ1bGVzLm90aGVyLm91dHB1dExpbmtSZXBsYWNlLCAnJDEnKTtcbiAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgIGNvbnN0IHRva2VuID0ge1xuICAgICAgICB0eXBlOiBjYXBbMF0uY2hhckF0KDApID09PSAnIScgPyAnaW1hZ2UnIDogJ2xpbmsnLFxuICAgICAgICByYXcsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICB0ZXh0LFxuICAgICAgICB0b2tlbnM6IGxleGVyLmlubGluZVRva2Vucyh0ZXh0KSxcbiAgICB9O1xuICAgIGxleGVyLnN0YXRlLmluTGluayA9IGZhbHNlO1xuICAgIHJldHVybiB0b2tlbjtcbn1cbmZ1bmN0aW9uIGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCB0ZXh0LCBydWxlcykge1xuICAgIGNvbnN0IG1hdGNoSW5kZW50VG9Db2RlID0gcmF3Lm1hdGNoKHJ1bGVzLm90aGVyLmluZGVudENvZGVDb21wZW5zYXRpb24pO1xuICAgIGlmIChtYXRjaEluZGVudFRvQ29kZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29uc3QgaW5kZW50VG9Db2RlID0gbWF0Y2hJbmRlbnRUb0NvZGVbMV07XG4gICAgcmV0dXJuIHRleHRcbiAgICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgICAubWFwKG5vZGUgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaEluZGVudEluTm9kZSA9IG5vZGUubWF0Y2gocnVsZXMub3RoZXIuYmVnaW5uaW5nU3BhY2UpO1xuICAgICAgICBpZiAobWF0Y2hJbmRlbnRJbk5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpbmRlbnRJbk5vZGVdID0gbWF0Y2hJbmRlbnRJbk5vZGU7XG4gICAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnNsaWNlKGluZGVudFRvQ29kZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0pXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbn1cbi8qKlxuICogVG9rZW5pemVyXG4gKi9cbmNsYXNzIF9Ub2tlbml6ZXIge1xuICAgIG9wdGlvbnM7XG4gICAgcnVsZXM7IC8vIHNldCBieSB0aGUgbGV4ZXJcbiAgICBsZXhlcjsgLy8gc2V0IGJ5IHRoZSBsZXhlclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBfZGVmYXVsdHM7XG4gICAgfVxuICAgIHNwYWNlKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwICYmIGNhcFswXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzcGFjZScsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvZGUoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjYXBbMF0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmNvZGVSZW1vdmVJbmRlbnQsICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIGNvZGVCbG9ja1N0eWxlOiAnaW5kZW50ZWQnLFxuICAgICAgICAgICAgICAgIHRleHQ6ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgICAgICAgICAgPyBydHJpbSh0ZXh0LCAnXFxuJylcbiAgICAgICAgICAgICAgICAgICAgOiB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZW5jZXMoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gY2FwWzBdO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCBjYXBbM10gfHwgJycsIHRoaXMucnVsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbiwgJyQxJykgOiBjYXBbMl0sXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGVhZGluZyhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjYXBbMl0udHJpbSgpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nICNzXG4gICAgICAgICAgICBpZiAodGhpcy5ydWxlcy5vdGhlci5lbmRpbmdIYXNoLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkID0gcnRyaW0odGV4dCwgJyMnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0cmltbWVkLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRyaW1tZWQgfHwgdGhpcy5ydWxlcy5vdGhlci5lbmRpbmdTcGFjZUNoYXIudGVzdCh0cmltbWVkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21tb25NYXJrIHJlcXVpcmVzIHNwYWNlIGJlZm9yZSB0cmFpbGluZyAjc1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdHJpbW1lZC50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lKHRleHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBocihzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oci5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hyJyxcbiAgICAgICAgICAgICAgICByYXc6IHJ0cmltKGNhcFswXSwgJ1xcbicpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBibG9ja3F1b3RlKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmJsb2NrcXVvdGUuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBsZXQgbGluZXMgPSBydHJpbShjYXBbMF0sICdcXG4nKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBsZXQgcmF3ID0gJyc7XG4gICAgICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgICAgICAgICB3aGlsZSAobGluZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBpbkJsb2NrcXVvdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TGluZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGxpbmVzIHVwIHRvIGEgY29udGludWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVzLm90aGVyLmJsb2NrcXVvdGVTdGFydC50ZXN0KGxpbmVzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmVzLnB1c2gobGluZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5CbG9ja3F1b3RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaW5CbG9ja3F1b3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZXMucHVzaChsaW5lc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lcyA9IGxpbmVzLnNsaWNlKGkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSYXcgPSBjdXJyZW50TGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSBjdXJyZW50UmF3XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZWNlZGUgc2V0ZXh0IGNvbnRpbnVhdGlvbiB3aXRoIDQgc3BhY2VzIHNvIGl0IGlzbid0IGEgc2V0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIuYmxvY2txdW90ZVNldGV4dFJlcGxhY2UsICdcXG4gICAgJDEnKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmJsb2NrcXVvdGVTZXRleHRSZXBsYWNlMiwgJycpO1xuICAgICAgICAgICAgICAgIHJhdyA9IHJhdyA/IGAke3Jhd31cXG4ke2N1cnJlbnRSYXd9YCA6IGN1cnJlbnRSYXc7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQgPyBgJHt0ZXh0fVxcbiR7Y3VycmVudFRleHR9YCA6IGN1cnJlbnRUZXh0O1xuICAgICAgICAgICAgICAgIC8vIHBhcnNlIGJsb2NrcXVvdGUgbGluZXMgYXMgdG9wIGxldmVsIHRva2Vuc1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlIHBhcmFncmFwaHMgaWYgdGhpcyBpcyBhIGNvbnRpbnVhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvcCA9IHRoaXMubGV4ZXIuc3RhdGUudG9wO1xuICAgICAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUudG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxleGVyLmJsb2NrVG9rZW5zKGN1cnJlbnRUZXh0LCB0b2tlbnMsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUudG9wID0gdG9wO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGNvbnRpbnVhdGlvbiB0aGVuIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRva2VuID0gdG9rZW5zLmF0KC0xKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuPy50eXBlID09PSAnY29kZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmxvY2txdW90ZSBjb250aW51YXRpb24gY2Fubm90IGJlIHByZWNlZGVkIGJ5IGEgY29kZSBibG9ja1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdFRva2VuPy50eXBlID09PSAnYmxvY2txdW90ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5jbHVkZSBjb250aW51YXRpb24gaW4gbmVzdGVkIGJsb2NrcXVvdGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkVG9rZW4gPSBsYXN0VG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RleHQgPSBvbGRUb2tlbi5yYXcgKyAnXFxuJyArIGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IHRoaXMuYmxvY2txdW90ZShuZXdUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXSA9IG5ld1Rva2VuO1xuICAgICAgICAgICAgICAgICAgICByYXcgPSByYXcuc3Vic3RyaW5nKDAsIHJhdy5sZW5ndGggLSBvbGRUb2tlbi5yYXcubGVuZ3RoKSArIG5ld1Rva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gb2xkVG9rZW4udGV4dC5sZW5ndGgpICsgbmV3VG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RUb2tlbj8udHlwZSA9PT0gJ2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluY2x1ZGUgY29udGludWF0aW9uIGluIG5lc3RlZCBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFRva2VuID0gbGFzdFRva2VuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUZXh0ID0gb2xkVG9rZW4ucmF3ICsgJ1xcbicgKyBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSB0aGlzLmxpc3QobmV3VGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0gPSBuZXdUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgcmF3ID0gcmF3LnN1YnN0cmluZygwLCByYXcubGVuZ3RoIC0gbGFzdFRva2VuLnJhdy5sZW5ndGgpICsgbmV3VG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBvbGRUb2tlbi5yYXcubGVuZ3RoKSArIG5ld1Rva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgPSBuZXdUZXh0LnN1YnN0cmluZyh0b2tlbnMuYXQoLTEpLnJhdy5sZW5ndGgpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYmxvY2txdW90ZScsXG4gICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgIHRva2VucyxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsaXN0KHNyYykge1xuICAgICAgICBsZXQgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saXN0LmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IGJ1bGwgPSBjYXBbMV0udHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgICAgICAgcmF3OiAnJyxcbiAgICAgICAgICAgICAgICBvcmRlcmVkOiBpc29yZGVyZWQsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsLnNsaWNlKDAsIC0xKSA6ICcnLFxuICAgICAgICAgICAgICAgIGxvb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGBcXFxcZHsxLDl9XFxcXCR7YnVsbC5zbGljZSgtMSl9YCA6IGBcXFxcJHtidWxsfWA7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgYnVsbCA9IGlzb3JkZXJlZCA/IGJ1bGwgOiAnWyorLV0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2V0IG5leHQgbGlzdCBpdGVtXG4gICAgICAgICAgICBjb25zdCBpdGVtUmVnZXggPSB0aGlzLnJ1bGVzLm90aGVyLmxpc3RJdGVtUmVnZXgoYnVsbCk7XG4gICAgICAgICAgICBsZXQgZW5kc1dpdGhCbGFua0xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgYnVsbGV0IHBvaW50IGNhbiBzdGFydCBhIG5ldyBMaXN0IEl0ZW1cbiAgICAgICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kRWFybHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcmF3ID0gJyc7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1Db250ZW50cyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmICghKGNhcCA9IGl0ZW1SZWdleC5leGVjKHNyYykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ydWxlcy5ibG9jay5oci50ZXN0KHNyYykpIHsgLy8gRW5kIGxpc3QgaWYgYnVsbGV0IHdhcyBhY3R1YWxseSBIUiAocG9zc2libHkgbW92ZSBpbnRvIGl0ZW1SZWdleD8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYXcgPSBjYXBbMF07XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhyYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNhcFsyXS5zcGxpdCgnXFxuJywgMSlbMF0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFicywgKHQpID0+ICcgJy5yZXBlYXQoMyAqIHQubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRMaW5lID0gc3JjLnNwbGl0KCdcXG4nLCAxKVswXTtcbiAgICAgICAgICAgICAgICBsZXQgYmxhbmtMaW5lID0gIWxpbmUudHJpbSgpO1xuICAgICAgICAgICAgICAgIGxldCBpbmRlbnQgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRlbnRzID0gbGluZS50cmltU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmxhbmtMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IGNhcFsxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gY2FwWzJdLnNlYXJjaCh0aGlzLnJ1bGVzLm90aGVyLm5vblNwYWNlQ2hhcik7IC8vIEZpbmQgZmlyc3Qgbm9uLXNwYWNlIGNoYXJcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gaW5kZW50ID4gNCA/IDEgOiBpbmRlbnQ7IC8vIFRyZWF0IGluZGVudGVkIGNvZGUgYmxvY2tzICg+IDQgc3BhY2VzKSBhcyBoYXZpbmcgb25seSAxIGluZGVudFxuICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGVudHMgPSBsaW5lLnNsaWNlKGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSBjYXBbMV0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmxhbmtMaW5lICYmIHRoaXMucnVsZXMub3RoZXIuYmxhbmtMaW5lLnRlc3QobmV4dExpbmUpKSB7IC8vIEl0ZW1zIGJlZ2luIHdpdGggYXQgbW9zdCBvbmUgYmxhbmsgbGluZVxuICAgICAgICAgICAgICAgICAgICByYXcgKz0gbmV4dExpbmUgKyAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhuZXh0TGluZS5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZW5kRWFybHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVuZEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRCdWxsZXRSZWdleCA9IHRoaXMucnVsZXMub3RoZXIubmV4dEJ1bGxldFJlZ2V4KGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhyUmVnZXggPSB0aGlzLnJ1bGVzLm90aGVyLmhyUmVnZXgoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVuY2VzQmVnaW5SZWdleCA9IHRoaXMucnVsZXMub3RoZXIuZmVuY2VzQmVnaW5SZWdleChpbmRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkaW5nQmVnaW5SZWdleCA9IHRoaXMucnVsZXMub3RoZXIuaGVhZGluZ0JlZ2luUmVnZXgoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHRtbEJlZ2luUmVnZXggPSB0aGlzLnJ1bGVzLm90aGVyLmh0bWxCZWdpblJlZ2V4KGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbGxvd2luZyBsaW5lcyBzaG91bGQgYmUgaW5jbHVkZWQgaW4gTGlzdCBJdGVtXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd0xpbmUgPSBzcmMuc3BsaXQoJ1xcbicsIDEpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRMaW5lV2l0aG91dFRhYnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluZSA9IHJhd0xpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1hbGlnbiB0byBmb2xsb3cgY29tbW9ubWFyayBuZXN0aW5nIHJ1bGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmUgPSBuZXh0TGluZS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VOZXN0aW5nLCAnICAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluZVdpdGhvdXRUYWJzID0gbmV4dExpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGluZVdpdGhvdXRUYWJzID0gbmV4dExpbmUucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYkNoYXJHbG9iYWwsICcgICAgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIGNvZGUgZmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVuY2VzQmVnaW5SZWdleC50ZXN0KG5leHRMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kIGxpc3QgaXRlbSBpZiBmb3VuZCBzdGFydCBvZiBuZXcgaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRpbmdCZWdpblJlZ2V4LnRlc3QobmV4dExpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIHN0YXJ0IG9mIGh0bWwgYmxvY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChodG1sQmVnaW5SZWdleC50ZXN0KG5leHRMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kIGxpc3QgaXRlbSBpZiBmb3VuZCBzdGFydCBvZiBuZXcgYnVsbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEJ1bGxldFJlZ2V4LnRlc3QobmV4dExpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIHJ1bGUgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoclJlZ2V4LnRlc3QobmV4dExpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExpbmVXaXRob3V0VGFicy5zZWFyY2godGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIpID49IGluZGVudCB8fCAhbmV4dExpbmUudHJpbSgpKSB7IC8vIERlZGVudCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyArPSAnXFxuJyArIG5leHRMaW5lV2l0aG91dFRhYnMuc2xpY2UoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBlbm91Z2ggaW5kZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhbmtMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXJhZ3JhcGggY29udGludWF0aW9uIHVubGVzcyBsYXN0IGxpbmUgd2FzIGEgZGlmZmVyZW50IGJsb2NrIGxldmVsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIudGFiQ2hhckdsb2JhbCwgJyAgICAnKS5zZWFyY2godGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIpID49IDQpIHsgLy8gaW5kZW50ZWQgY29kZSBibG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlbmNlc0JlZ2luUmVnZXgudGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRpbmdCZWdpblJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoclJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyArPSAnXFxuJyArIG5leHRMaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibGFua0xpbmUgJiYgIW5leHRMaW5lLnRyaW0oKSkgeyAvLyBDaGVjayBpZiBjdXJyZW50IGxpbmUgaXMgYmxhbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFua0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3ICs9IHJhd0xpbmUgKyAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcocmF3TGluZS5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBuZXh0TGluZVdpdGhvdXRUYWJzLnNsaWNlKGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBpdGVtIGVuZGVkIHdpdGggYSBibGFuayBsaW5lLCB0aGUgbGlzdCBpcyBsb29zZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kc1dpdGhCbGFua0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QubG9vc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucnVsZXMub3RoZXIuZG91YmxlQmxhbmtMaW5lLnRlc3QocmF3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kc1dpdGhCbGFua0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBpc3Rhc2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBpc2NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRhc2sgbGlzdCBpdGVtc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzdGFzayA9IHRoaXMucnVsZXMub3RoZXIubGlzdElzVGFzay5leGVjKGl0ZW1Db250ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzY2hlY2tlZCA9IGlzdGFza1swXSAhPT0gJ1sgXSAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRlbnRzID0gaXRlbUNvbnRlbnRzLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhc2ssICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgICAgICB0YXNrOiAhIWlzdGFzayxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogaXNjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW1Db250ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsaXN0LnJhdyArPSByYXc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEbyBub3QgY29uc3VtZSBuZXdsaW5lcyBhdCBlbmQgb2YgZmluYWwgaXRlbS4gQWx0ZXJuYXRpdmVseSwgbWFrZSBpdGVtUmVnZXggKnN0YXJ0KiB3aXRoIGFueSBuZXdsaW5lcyB0byBzaW1wbGlmeS9zcGVlZCB1cCBlbmRzV2l0aEJsYW5rTGluZSBsb2dpY1xuICAgICAgICAgICAgY29uc3QgbGFzdEl0ZW0gPSBsaXN0Lml0ZW1zLmF0KC0xKTtcbiAgICAgICAgICAgIGlmIChsYXN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGxhc3RJdGVtLnJhdyA9IGxhc3RJdGVtLnJhdy50cmltRW5kKCk7XG4gICAgICAgICAgICAgICAgbGFzdEl0ZW0udGV4dCA9IGxhc3RJdGVtLnRleHQudHJpbUVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm90IGEgbGlzdCBzaW5jZSB0aGVyZSB3ZXJlIG5vIGl0ZW1zXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdC5yYXcgPSBsaXN0LnJhdy50cmltRW5kKCk7XG4gICAgICAgICAgICAvLyBJdGVtIGNoaWxkIHRva2VucyBoYW5kbGVkIGhlcmUgYXQgZW5kIGJlY2F1c2Ugd2UgbmVlZGVkIHRvIGhhdmUgdGhlIGZpbmFsIGl0ZW0gdG8gdHJpbSBpdCBmaXJzdFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLnRva2VucyA9IHRoaXMubGV4ZXIuYmxvY2tUb2tlbnMobGlzdC5pdGVtc1tpXS50ZXh0LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGxpc3Qgc2hvdWxkIGJlIGxvb3NlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlcnMgPSBsaXN0Lml0ZW1zW2ldLnRva2Vucy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdzcGFjZScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNNdWx0aXBsZUxpbmVCcmVha3MgPSBzcGFjZXJzLmxlbmd0aCA+IDAgJiYgc3BhY2Vycy5zb21lKHQgPT4gdGhpcy5ydWxlcy5vdGhlci5hbnlMaW5lLnRlc3QodC5yYXcpKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5sb29zZSA9IGhhc011bHRpcGxlTGluZUJyZWFrcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgYWxsIGl0ZW1zIHRvIGxvb3NlIGlmIGxpc3QgaXMgbG9vc2VcbiAgICAgICAgICAgIGlmIChsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuaXRlbXNbaV0ubG9vc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGh0bWwoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHRtbC5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBibG9jazogdHJ1ZSxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBwcmU6IGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScsXG4gICAgICAgICAgICAgICAgdGV4dDogY2FwWzBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWYoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm11bHRpcGxlU3BhY2VHbG9iYWwsICcgJyk7XG4gICAgICAgICAgICBjb25zdCBocmVmID0gY2FwWzJdID8gY2FwWzJdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5ocmVmQnJhY2tldHMsICckMScpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sICckMScpIDogJyc7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNhcFszXSA/IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sICckMScpIDogY2FwWzNdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGVmJyxcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGFibGUoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2sudGFibGUuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoIWNhcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5ydWxlcy5vdGhlci50YWJsZURlbGltaXRlci50ZXN0KGNhcFsyXSkpIHtcbiAgICAgICAgICAgIC8vIGRlbGltaXRlciByb3cgbXVzdCBoYXZlIGEgcGlwZSAofCkgb3IgY29sb24gKDopIG90aGVyd2lzZSBpdCBpcyBhIHNldGV4dCBoZWFkaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHNwbGl0Q2VsbHMoY2FwWzFdKTtcbiAgICAgICAgY29uc3QgYWxpZ25zID0gY2FwWzJdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduQ2hhcnMsICcnKS5zcGxpdCgnfCcpO1xuICAgICAgICBjb25zdCByb3dzID0gY2FwWzNdPy50cmltKCkgPyBjYXBbM10ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYmxlUm93QmxhbmtMaW5lLCAnJykuc3BsaXQoJ1xcbicpIDogW107XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICBoZWFkZXI6IFtdLFxuICAgICAgICAgICAgYWxpZ246IFtdLFxuICAgICAgICAgICAgcm93czogW10sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChoZWFkZXJzLmxlbmd0aCAhPT0gYWxpZ25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gaGVhZGVyIGFuZCBhbGlnbiBjb2x1bW5zIG11c3QgYmUgZXF1YWwsIHJvd3MgY2FuIGJlIGRpZmZlcmVudC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFsaWduIG9mIGFsaWducykge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnblJpZ2h0LnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hbGlnbi5wdXNoKCdyaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduQ2VudGVyLnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hbGlnbi5wdXNoKCdjZW50ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnbkxlZnQudGVzdChhbGlnbikpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmFsaWduLnB1c2goJ2xlZnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW0uYWxpZ24ucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0uaGVhZGVyLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHQ6IGhlYWRlcnNbaV0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZShoZWFkZXJzW2ldKSxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxpZ246IGl0ZW0uYWxpZ25baV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgICAgICAgICBpdGVtLnJvd3MucHVzaChzcGxpdENlbGxzKHJvdywgaXRlbS5oZWFkZXIubGVuZ3RoKS5tYXAoKGNlbGwsIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjZWxsLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lKGNlbGwpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogaXRlbS5hbGlnbltpXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICBsaGVhZGluZyhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMV0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZShjYXBbMV0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhZ3JhcGgoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2sucGFyYWdyYXBoLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICAgIDogY2FwWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUodGV4dCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRleHQoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2sudGV4dC5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0b2tlbnM6IHRoaXMubGV4ZXIuaW5saW5lKGNhcFswXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVzY2FwZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXNjYXBlJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRhZyhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGFnLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxleGVyLnN0YXRlLmluTGluayAmJiB0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0QVRhZy50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluTGluayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxleGVyLnN0YXRlLmluTGluayAmJiB0aGlzLnJ1bGVzLm90aGVyLmVuZEFUYWcudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrICYmIHRoaXMucnVsZXMub3RoZXIuc3RhcnRQcmVTY3JpcHRUYWcudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayAmJiB0aGlzLnJ1bGVzLm90aGVyLmVuZFByZVNjcmlwdFRhZy50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIGluTGluazogdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmssXG4gICAgICAgICAgICAgICAgaW5SYXdCbG9jazogdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrLFxuICAgICAgICAgICAgICAgIGJsb2NrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpbmsoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmxpbmsuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkVXJsID0gY2FwWzJdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnBlZGFudGljICYmIHRoaXMucnVsZXMub3RoZXIuc3RhcnRBbmdsZUJyYWNrZXQudGVzdCh0cmltbWVkVXJsKSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbW1vbm1hcmsgcmVxdWlyZXMgbWF0Y2hpbmcgYW5nbGUgYnJhY2tldHNcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnJ1bGVzLm90aGVyLmVuZEFuZ2xlQnJhY2tldC50ZXN0KHRyaW1tZWRVcmwpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZGluZyBhbmdsZSBicmFja2V0IGNhbm5vdCBiZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgY29uc3QgcnRyaW1TbGFzaCA9IHJ0cmltKHRyaW1tZWRVcmwuc2xpY2UoMCwgLTEpLCAnXFxcXCcpO1xuICAgICAgICAgICAgICAgIGlmICgodHJpbW1lZFVybC5sZW5ndGggLSBydHJpbVNsYXNoLmxlbmd0aCkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFyZW5JbmRleCA9IGZpbmRDbG9zaW5nQnJhY2tldChjYXBbMl0sICcoKScpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW9yZSBvcGVuIHBhcmVucyB0aGFuIGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gY2FwWzBdLmluZGV4T2YoJyEnKSA9PT0gMCA/IDUgOiA0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rTGVuID0gc3RhcnQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhyZWYgPSBjYXBbMl07XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCBwZWRhbnRpYyBocmVmIGFuZCB0aXRsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLnJ1bGVzLm90aGVyLnBlZGFudGljSHJlZlRpdGxlLmV4ZWMoaHJlZik7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gbGlua1szXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IGNhcFszXSA/IGNhcFszXS5zbGljZSgxLCAtMSkgOiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhyZWYgPSBocmVmLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0QW5nbGVCcmFja2V0LnRlc3QoaHJlZikpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljICYmICEodGhpcy5ydWxlcy5vdGhlci5lbmRBbmdsZUJyYWNrZXQudGVzdCh0cmltbWVkVXJsKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGVkYW50aWMgYWxsb3dzIHN0YXJ0aW5nIGFuZ2xlIGJyYWNrZXQgd2l0aG91dCBlbmRpbmcgYW5nbGUgYnJhY2tldFxuICAgICAgICAgICAgICAgICAgICBocmVmID0gaHJlZi5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSBocmVmLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmID8gaHJlZi5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLCAnJDEnKSA6IGhyZWYsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbiwgJyQxJykgOiB0aXRsZSxcbiAgICAgICAgICAgIH0sIGNhcFswXSwgdGhpcy5sZXhlciwgdGhpcy5ydWxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmbGluayhzcmMsIGxpbmtzKSB7XG4gICAgICAgIGxldCBjYXA7XG4gICAgICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgICAgICB8fCAoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUubm9saW5rLmV4ZWMoc3JjKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtTdHJpbmcgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm11bHRpcGxlU3BhY2VHbG9iYWwsICcgJyk7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gbGlua3NbbGlua1N0cmluZy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIGlmICghbGluaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0TGluayhjYXAsIGxpbmssIGNhcFswXSwgdGhpcy5sZXhlciwgdGhpcy5ydWxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1TdHJvbmcoc3JjLCBtYXNrZWRTcmMsIHByZXZDaGFyID0gJycpIHtcbiAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdMRGVsaW0uZXhlYyhzcmMpO1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBfIGNhbid0IGJlIGJldHdlZW4gdHdvIGFscGhhbnVtZXJpY3MuIFxccHtMfVxccHtOfSBpbmNsdWRlcyBub24tZW5nbGlzaCBhbHBoYWJldC9udW1iZXJzIGFzIHdlbGxcbiAgICAgICAgaWYgKG1hdGNoWzNdICYmIHByZXZDaGFyLm1hdGNoKHRoaXMucnVsZXMub3RoZXIudW5pY29kZUFscGhhTnVtZXJpYykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG5leHRDaGFyID0gbWF0Y2hbMV0gfHwgbWF0Y2hbMl0gfHwgJyc7XG4gICAgICAgIGlmICghbmV4dENoYXIgfHwgIXByZXZDaGFyIHx8IHRoaXMucnVsZXMuaW5saW5lLnB1bmN0dWF0aW9uLmV4ZWMocHJldkNoYXIpKSB7XG4gICAgICAgICAgICAvLyB1bmljb2RlIFJlZ2V4IGNvdW50cyBlbW9qaSBhcyAxIGNoYXI7IHNwcmVhZCBpbnRvIGFycmF5IGZvciBwcm9wZXIgY291bnQgKHVzZWQgbXVsdGlwbGUgdGltZXMgYmVsb3cpXG4gICAgICAgICAgICBjb25zdCBsTGVuZ3RoID0gWy4uLm1hdGNoWzBdXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgbGV0IHJEZWxpbSwgckxlbmd0aCwgZGVsaW1Ub3RhbCA9IGxMZW5ndGgsIG1pZERlbGltVG90YWwgPSAwO1xuICAgICAgICAgICAgY29uc3QgZW5kUmVnID0gbWF0Y2hbMF1bMF0gPT09ICcqJyA/IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nUkRlbGltQXN0IDogdGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdSRGVsaW1VbmQ7XG4gICAgICAgICAgICBlbmRSZWcubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIENsaXAgbWFza2VkU3JjIHRvIHNhbWUgc2VjdGlvbiBvZiBzdHJpbmcgYXMgc3JjIChtb3ZlIHRvIGxleGVyPylcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgtMSAqIHNyYy5sZW5ndGggKyBsTGVuZ3RoKTtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBlbmRSZWcuZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgckRlbGltID0gbWF0Y2hbMV0gfHwgbWF0Y2hbMl0gfHwgbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgbWF0Y2hbNl07XG4gICAgICAgICAgICAgICAgaWYgKCFyRGVsaW0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHNpbmdsZSAqIGluIF9fYWJjKmFiY19fXG4gICAgICAgICAgICAgICAgckxlbmd0aCA9IFsuLi5yRGVsaW1dLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbM10gfHwgbWF0Y2hbNF0pIHsgLy8gZm91bmQgYW5vdGhlciBMZWZ0IERlbGltXG4gICAgICAgICAgICAgICAgICAgIGRlbGltVG90YWwgKz0gckxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzVdIHx8IG1hdGNoWzZdKSB7IC8vIGVpdGhlciBMZWZ0IG9yIFJpZ2h0IERlbGltXG4gICAgICAgICAgICAgICAgICAgIGlmIChsTGVuZ3RoICUgMyAmJiAhKChsTGVuZ3RoICsgckxlbmd0aCkgJSAzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkRGVsaW1Ub3RhbCArPSByTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIENvbW1vbk1hcmsgRW1waGFzaXMgUnVsZXMgOS0xMFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGltVG90YWwgLT0gckxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsaW1Ub3RhbCA+IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBIYXZlbid0IGZvdW5kIGVub3VnaCBjbG9zaW5nIGRlbGltaXRlcnNcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXh0cmEgY2hhcmFjdGVycy4gKmEqKiogLT4gKmEqXG4gICAgICAgICAgICAgICAgckxlbmd0aCA9IE1hdGgubWluKHJMZW5ndGgsIHJMZW5ndGggKyBkZWxpbVRvdGFsICsgbWlkRGVsaW1Ub3RhbCk7XG4gICAgICAgICAgICAgICAgLy8gY2hhciBsZW5ndGggY2FuIGJlID4xIGZvciB1bmljb2RlIGNoYXJhY3RlcnM7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJMZW5ndGggPSBbLi4ubWF0Y2hbMF1dWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBzcmMuc2xpY2UoMCwgbExlbmd0aCArIG1hdGNoLmluZGV4ICsgbGFzdENoYXJMZW5ndGggKyByTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYGVtYCBpZiBzbWFsbGVzdCBkZWxpbWl0ZXIgaGFzIG9kZCBjaGFyIGNvdW50LiAqYSoqKlxuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1pbihsTGVuZ3RoLCByTGVuZ3RoKSAlIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHJhdy5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmVUb2tlbnModGV4dCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSAnc3Ryb25nJyBpZiBzbWFsbGVzdCBkZWxpbWl0ZXIgaGFzIGV2ZW4gY2hhciBjb3VudC4gKiphKioqXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHJhdy5zbGljZSgyLCAtMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cm9uZycsXG4gICAgICAgICAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2Vucyh0ZXh0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvZGVzcGFuKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5jb2RlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjYXBbMl0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm5ld0xpbmVDaGFyR2xvYmFsLCAnICcpO1xuICAgICAgICAgICAgY29uc3QgaGFzTm9uU3BhY2VDaGFycyA9IHRoaXMucnVsZXMub3RoZXIubm9uU3BhY2VDaGFyLnRlc3QodGV4dCk7XG4gICAgICAgICAgICBjb25zdCBoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcyA9IHRoaXMucnVsZXMub3RoZXIuc3RhcnRpbmdTcGFjZUNoYXIudGVzdCh0ZXh0KSAmJiB0aGlzLnJ1bGVzLm90aGVyLmVuZGluZ1NwYWNlQ2hhci50ZXN0KHRleHQpO1xuICAgICAgICAgICAgaWYgKGhhc05vblNwYWNlQ2hhcnMgJiYgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvZGVzcGFuJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBicihzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYnIuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdicicsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlbChzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGVsJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBjYXBbMl0sXG4gICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2VucyhjYXBbMl0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdXRvbGluayhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYXV0b2xpbmsuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCwgaHJlZjtcbiAgICAgICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBjYXBbMV07XG4gICAgICAgICAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gY2FwWzFdO1xuICAgICAgICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICAgIHRva2VuczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHVybChzcmMpIHtcbiAgICAgICAgbGV0IGNhcDtcbiAgICAgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKHNyYykpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0LCBocmVmO1xuICAgICAgICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNhcFswXTtcbiAgICAgICAgICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgIGxldCBwcmV2Q2FwWmVybztcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZDYXBaZXJvID0gY2FwWzBdO1xuICAgICAgICAgICAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLmlubGluZS5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKT8uWzBdID8/ICcnO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKHByZXZDYXBaZXJvICE9PSBjYXBbMF0pO1xuICAgICAgICAgICAgICAgIHRleHQgPSBjYXBbMF07XG4gICAgICAgICAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyBjYXBbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBocmVmID0gY2FwWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0b2tlbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbmxpbmVUZXh0KHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50ZXh0LmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgZXNjYXBlZCA9IHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBlc2NhcGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5jbGFzcyBfTGV4ZXIge1xuICAgIHRva2VucztcbiAgICBvcHRpb25zO1xuICAgIHN0YXRlO1xuICAgIHRva2VuaXplcjtcbiAgICBpbmxpbmVRdWV1ZTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIC8vIFRva2VuTGlzdCBjYW5ub3QgYmUgY3JlYXRlZCBpbiBvbmUgZ29cbiAgICAgICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICAgICAgdGhpcy50b2tlbnMubGlua3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICAgICAgdGhpcy5vcHRpb25zLnRva2VuaXplciA9IHRoaXMub3B0aW9ucy50b2tlbml6ZXIgfHwgbmV3IF9Ub2tlbml6ZXIoKTtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyO1xuICAgICAgICB0aGlzLnRva2VuaXplci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLnRva2VuaXplci5sZXhlciA9IHRoaXM7XG4gICAgICAgIHRoaXMuaW5saW5lUXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGluTGluazogZmFsc2UsXG4gICAgICAgICAgICBpblJhd0Jsb2NrOiBmYWxzZSxcbiAgICAgICAgICAgIHRvcDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVsZXMgPSB7XG4gICAgICAgICAgICBvdGhlcixcbiAgICAgICAgICAgIGJsb2NrOiBibG9jay5ub3JtYWwsXG4gICAgICAgICAgICBpbmxpbmU6IGlubGluZS5ub3JtYWwsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2sucGVkYW50aWM7XG4gICAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUucGVkYW50aWM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICAgICAgcnVsZXMuYmxvY2sgPSBibG9jay5nZm07XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuICAgICAgICAgICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZS5icmVha3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUuZ2ZtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW5pemVyLnJ1bGVzID0gcnVsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBSdWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcnVsZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgIGlubGluZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgbGV4KHNyYywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBsZXhlciA9IG5ldyBfTGV4ZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBJbmxpbmUgTWV0aG9kXG4gICAgICovXG4gICAgc3RhdGljIGxleElubGluZShzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGV4ZXIgPSBuZXcgX0xleGVyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbGV4ZXIuaW5saW5lVG9rZW5zKHNyYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBsZXgoc3JjKSB7XG4gICAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKG90aGVyLmNhcnJpYWdlUmV0dXJuLCAnXFxuJyk7XG4gICAgICAgIHRoaXMuYmxvY2tUb2tlbnMoc3JjLCB0aGlzLnRva2Vucyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMuaW5saW5lUXVldWVbaV07XG4gICAgICAgICAgICB0aGlzLmlubGluZVRva2VucyhuZXh0LnNyYywgbmV4dC50b2tlbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5saW5lUXVldWUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5zO1xuICAgIH1cbiAgICBibG9ja1Rva2VucyhzcmMsIHRva2VucyA9IFtdLCBsYXN0UGFyYWdyYXBoQ2xpcHBlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKG90aGVyLnRhYkNoYXJHbG9iYWwsICcgICAgJykucmVwbGFjZShvdGhlci5zcGFjZUxpbmUsICcnKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc3JjKSB7XG4gICAgICAgICAgICBsZXQgdG9rZW47XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LmJsb2NrPy5zb21lKChleHRUb2tlbml6ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPSBleHRUb2tlbml6ZXIuY2FsbCh7IGxleGVyOiB0aGlzIH0sIHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbmV3bGluZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuc3BhY2Uoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRva2VuID0gdG9rZW5zLmF0KC0xKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4ucmF3Lmxlbmd0aCA9PT0gMSAmJiBsYXN0VG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGEgc2luZ2xlIFxcbiBhcyBhIHNwYWNlciwgaXQncyB0ZXJtaW5hdGluZyB0aGUgbGFzdCBsaW5lLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBtb3ZlIGl0IHRoZXJlIHNvIHRoYXQgd2UgZG9uJ3QgZ2V0IHVubmVjZXNzYXJ5IHBhcmFncmFwaCB0YWdzXG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29kZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VG9rZW4gPSB0b2tlbnMuYXQoLTEpO1xuICAgICAgICAgICAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuPy50eXBlID09PSAncGFyYWdyYXBoJyB8fCBsYXN0VG9rZW4/LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZlbmNlc1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZmVuY2VzKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhlYWRpbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhlYWRpbmcoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaHJcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhyKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJsb2NrcXVvdGVcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmJsb2NrcXVvdGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGlzdFxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGlzdChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBodG1sXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5odG1sKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlZlxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVmKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RUb2tlbiA9IHRva2Vucy5hdCgtMSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RUb2tlbj8udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuPy50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRva2Vucy5saW5rc1t0b2tlbi50YWddID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogdG9rZW4uaHJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0b2tlbi50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0YWJsZSAoZ2ZtKVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFibGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGhlYWRpbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICAgICAgICAgIC8vIHByZXZlbnQgcGFyYWdyYXBoIGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgICAgICAgbGV0IGN1dFNyYyA9IHNyYztcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8uc3RhcnRCbG9jaykge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcFNyYyA9IHNyYy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcFN0YXJ0O1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2suZm9yRWFjaCgoZ2V0U3RhcnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhcnQgPSBnZXRTdGFydEluZGV4LmNhbGwoeyBsZXhlcjogdGhpcyB9LCB0ZW1wU3JjKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wU3RhcnQgPT09ICdudW1iZXInICYmIHRlbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4IDwgSW5maW5pdHkgJiYgc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1dFNyYyA9IHNyYy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnRvcCAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5wYXJhZ3JhcGgoY3V0U3JjKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VG9rZW4gPSB0b2tlbnMuYXQoLTEpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFyYWdyYXBoQ2xpcHBlZCAmJiBsYXN0VG9rZW4/LnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5hdCgtMSkuc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RQYXJhZ3JhcGhDbGlwcGVkID0gY3V0U3JjLmxlbmd0aCAhPT0gc3JjLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGV4dChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VG9rZW4gPSB0b2tlbnMuYXQoLTEpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW4/LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLnRvcCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIGlubGluZShzcmMsIHRva2VucyA9IFtdKSB7XG4gICAgICAgIHRoaXMuaW5saW5lUXVldWUucHVzaCh7IHNyYywgdG9rZW5zIH0pO1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMZXhpbmcvQ29tcGlsaW5nXG4gICAgICovXG4gICAgaW5saW5lVG9rZW5zKHNyYywgdG9rZW5zID0gW10pIHtcbiAgICAgICAgLy8gU3RyaW5nIHdpdGggbGlua3MgbWFza2VkIHRvIGF2b2lkIGludGVyZmVyZW5jZSB3aXRoIGVtIGFuZCBzdHJvbmdcbiAgICAgICAgbGV0IG1hc2tlZFNyYyA9IHNyYztcbiAgICAgICAgbGV0IG1hdGNoID0gbnVsbDtcbiAgICAgICAgLy8gTWFzayBvdXQgcmVmbGlua3NcbiAgICAgICAgaWYgKHRoaXMudG9rZW5zLmxpbmtzKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rcyA9IE9iamVjdC5rZXlzKHRoaXMudG9rZW5zLmxpbmtzKTtcbiAgICAgICAgICAgIGlmIChsaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlua3MuaW5jbHVkZXMobWF0Y2hbMF0uc2xpY2UobWF0Y2hbMF0ubGFzdEluZGV4T2YoJ1snKSArIDEsIC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgwLCBtYXRjaC5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICdbJyArICdhJy5yZXBlYXQobWF0Y2hbMF0ubGVuZ3RoIC0gMikgKyAnXSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG1hc2tlZFNyYy5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5sYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1hc2sgb3V0IGVzY2FwZWQgY2hhcmFjdGVyc1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gdGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArICcrKycgKyBtYXNrZWRTcmMuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmxhc3RJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFzayBvdXQgb3RoZXIgYmxvY2tzXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSB0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYmxvY2tTa2lwLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFza2VkU3JjID0gbWFza2VkU3JjLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArICdbJyArICdhJy5yZXBlYXQobWF0Y2hbMF0ubGVuZ3RoIC0gMikgKyAnXScgKyBtYXNrZWRTcmMuc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5sYXN0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBrZWVwUHJldkNoYXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IHByZXZDaGFyID0gJyc7XG4gICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgIGlmICgha2VlcFByZXZDaGFyKSB7XG4gICAgICAgICAgICAgICAgcHJldkNoYXIgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgLy8gZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5pbmxpbmU/LnNvbWUoKGV4dFRva2VuaXplcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9IGV4dFRva2VuaXplci5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2NhcGVcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVzY2FwZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0YWdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRhZyhzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaW5rXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saW5rKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlZmxpbmssIG5vbGlua1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucmVmbGluayhzcmMsIHRoaXMudG9rZW5zLmxpbmtzKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRva2VuID0gdG9rZW5zLmF0KC0xKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ3RleHQnICYmIGxhc3RUb2tlbj8udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtICYgc3Ryb25nXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5lbVN0cm9uZyhzcmMsIG1hc2tlZFNyYywgcHJldkNoYXIpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb2RlXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2Rlc3BhbihzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBiclxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYnIoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVsIChnZm0pXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWwoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXV0b2xpbmtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmF1dG9saW5rKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVybCAoZ2ZtKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmluTGluayAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci51cmwoc3JjKSkpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHRcbiAgICAgICAgICAgIC8vIHByZXZlbnQgaW5saW5lVGV4dCBjb25zdW1pbmcgZXh0ZW5zaW9ucyBieSBjbGlwcGluZyAnc3JjJyB0byBleHRlbnNpb24gc3RhcnRcbiAgICAgICAgICAgIGxldCBjdXRTcmMgPSBzcmM7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LnN0YXJ0SW5saW5lKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3JjID0gc3JjLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRJbmxpbmUuZm9yRWFjaCgoZ2V0U3RhcnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhcnQgPSBnZXRTdGFydEluZGV4LmNhbGwoeyBsZXhlcjogdGhpcyB9LCB0ZW1wU3JjKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wU3RhcnQgPT09ICdudW1iZXInICYmIHRlbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4IDwgSW5maW5pdHkgJiYgc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1dFNyYyA9IHNyYy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoY3V0U3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnJhdy5zbGljZSgtMSkgIT09ICdfJykgeyAvLyBUcmFjayBwcmV2Q2hhciBiZWZvcmUgc3RyaW5nIG9mIF9fX18gc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBwcmV2Q2hhciA9IHRva2VuLnJhdy5zbGljZSgtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRva2VuID0gdG9rZW5zLmF0KC0xKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuPy50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbmRlcmVyXG4gKi9cbmNsYXNzIF9SZW5kZXJlciB7XG4gICAgb3B0aW9ucztcbiAgICBwYXJzZXI7IC8vIHNldCBieSB0aGUgcGFyc2VyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICB9XG4gICAgc3BhY2UodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb2RlKHsgdGV4dCwgbGFuZywgZXNjYXBlZCB9KSB7XG4gICAgICAgIGNvbnN0IGxhbmdTdHJpbmcgPSAobGFuZyB8fCAnJykubWF0Y2gob3RoZXIubm90U3BhY2VTdGFydCk/LlswXTtcbiAgICAgICAgY29uc3QgY29kZSA9IHRleHQucmVwbGFjZShvdGhlci5lbmRpbmdOZXdsaW5lLCAnJykgKyAnXFxuJztcbiAgICAgICAgaWYgKCFsYW5nU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgICAgICAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgICAgICAgICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cImxhbmd1YWdlLSdcbiAgICAgICAgICAgICsgZXNjYXBlKGxhbmdTdHJpbmcpXG4gICAgICAgICAgICArICdcIj4nXG4gICAgICAgICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICAgICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICAgIH1cbiAgICBibG9ja3F1b3RlKHsgdG9rZW5zIH0pIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMucGFyc2VyLnBhcnNlKHRva2Vucyk7XG4gICAgICAgIHJldHVybiBgPGJsb2NrcXVvdGU+XFxuJHtib2R5fTwvYmxvY2txdW90ZT5cXG5gO1xuICAgIH1cbiAgICBodG1sKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBoZWFkaW5nKHsgdG9rZW5zLCBkZXB0aCB9KSB7XG4gICAgICAgIHJldHVybiBgPGgke2RlcHRofT4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyl9PC9oJHtkZXB0aH0+XFxuYDtcbiAgICB9XG4gICAgaHIodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICc8aHI+XFxuJztcbiAgICB9XG4gICAgbGlzdCh0b2tlbikge1xuICAgICAgICBjb25zdCBvcmRlcmVkID0gdG9rZW4ub3JkZXJlZDtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0b2tlbi5zdGFydDtcbiAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0b2tlbi5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRva2VuLml0ZW1zW2pdO1xuICAgICAgICAgICAgYm9keSArPSB0aGlzLmxpc3RpdGVtKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCc7XG4gICAgICAgIGNvbnN0IHN0YXJ0QXR0ciA9IChvcmRlcmVkICYmIHN0YXJ0ICE9PSAxKSA/ICgnIHN0YXJ0PVwiJyArIHN0YXJ0ICsgJ1wiJykgOiAnJztcbiAgICAgICAgcmV0dXJuICc8JyArIHR5cGUgKyBzdGFydEF0dHIgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gICAgfVxuICAgIGxpc3RpdGVtKGl0ZW0pIHtcbiAgICAgICAgbGV0IGl0ZW1Cb2R5ID0gJyc7XG4gICAgICAgIGlmIChpdGVtLnRhc2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5jaGVja2JveCh7IGNoZWNrZWQ6ICEhaXRlbS5jaGVja2VkIH0pO1xuICAgICAgICAgICAgaWYgKGl0ZW0ubG9vc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50b2tlbnNbMF0/LnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vuc1swXS50b2tlbnMgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGVzY2FwZShpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0uZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiBjaGVja2JveCArICcgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94ICsgJyAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXNjYXBlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gY2hlY2tib3ggKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXRlbUJvZHkgKz0gdGhpcy5wYXJzZXIucGFyc2UoaXRlbS50b2tlbnMsICEhaXRlbS5sb29zZSk7XG4gICAgICAgIHJldHVybiBgPGxpPiR7aXRlbUJvZHl9PC9saT5cXG5gO1xuICAgIH1cbiAgICBjaGVja2JveCh7IGNoZWNrZWQgfSkge1xuICAgICAgICByZXR1cm4gJzxpbnB1dCAnXG4gICAgICAgICAgICArIChjaGVja2VkID8gJ2NoZWNrZWQ9XCJcIiAnIDogJycpXG4gICAgICAgICAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiPic7XG4gICAgfVxuICAgIHBhcmFncmFwaCh7IHRva2VucyB9KSB7XG4gICAgICAgIHJldHVybiBgPHA+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZSh0b2tlbnMpfTwvcD5cXG5gO1xuICAgIH1cbiAgICB0YWJsZSh0b2tlbikge1xuICAgICAgICBsZXQgaGVhZGVyID0gJyc7XG4gICAgICAgIC8vIGhlYWRlclxuICAgICAgICBsZXQgY2VsbCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRva2VuLmhlYWRlci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY2VsbCArPSB0aGlzLnRhYmxlY2VsbCh0b2tlbi5oZWFkZXJbal0pO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlciArPSB0aGlzLnRhYmxlcm93KHsgdGV4dDogY2VsbCB9KTtcbiAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0b2tlbi5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0b2tlbi5yb3dzW2pdO1xuICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByb3cubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBjZWxsICs9IHRoaXMudGFibGVjZWxsKHJvd1trXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2R5ICs9IHRoaXMudGFibGVyb3coeyB0ZXh0OiBjZWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5KVxuICAgICAgICAgICAgYm9keSA9IGA8dGJvZHk+JHtib2R5fTwvdGJvZHk+YDtcbiAgICAgICAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICAgICAgICAgKyAnPHRoZWFkPlxcbidcbiAgICAgICAgICAgICsgaGVhZGVyXG4gICAgICAgICAgICArICc8L3RoZWFkPlxcbidcbiAgICAgICAgICAgICsgYm9keVxuICAgICAgICAgICAgKyAnPC90YWJsZT5cXG4nO1xuICAgIH1cbiAgICB0YWJsZXJvdyh7IHRleHQgfSkge1xuICAgICAgICByZXR1cm4gYDx0cj5cXG4ke3RleHR9PC90cj5cXG5gO1xuICAgIH1cbiAgICB0YWJsZWNlbGwodG9rZW4pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2VuLnRva2Vucyk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b2tlbi5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgICAgICAgY29uc3QgdGFnID0gdG9rZW4uYWxpZ25cbiAgICAgICAgICAgID8gYDwke3R5cGV9IGFsaWduPVwiJHt0b2tlbi5hbGlnbn1cIj5gXG4gICAgICAgICAgICA6IGA8JHt0eXBlfT5gO1xuICAgICAgICByZXR1cm4gdGFnICsgY29udGVudCArIGA8LyR7dHlwZX0+XFxuYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3BhbiBsZXZlbCByZW5kZXJlclxuICAgICAqL1xuICAgIHN0cm9uZyh7IHRva2VucyB9KSB7XG4gICAgICAgIHJldHVybiBgPHN0cm9uZz4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyl9PC9zdHJvbmc+YDtcbiAgICB9XG4gICAgZW0oeyB0b2tlbnMgfSkge1xuICAgICAgICByZXR1cm4gYDxlbT4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyl9PC9lbT5gO1xuICAgIH1cbiAgICBjb2Rlc3Bhbih7IHRleHQgfSkge1xuICAgICAgICByZXR1cm4gYDxjb2RlPiR7ZXNjYXBlKHRleHQsIHRydWUpfTwvY29kZT5gO1xuICAgIH1cbiAgICBicih0b2tlbikge1xuICAgICAgICByZXR1cm4gJzxicj4nO1xuICAgIH1cbiAgICBkZWwoeyB0b2tlbnMgfSkge1xuICAgICAgICByZXR1cm4gYDxkZWw+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZSh0b2tlbnMpfTwvZGVsPmA7XG4gICAgfVxuICAgIGxpbmsoeyBocmVmLCB0aXRsZSwgdG9rZW5zIH0pIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyk7XG4gICAgICAgIGNvbnN0IGNsZWFuSHJlZiA9IGNsZWFuVXJsKGhyZWYpO1xuICAgICAgICBpZiAoY2xlYW5IcmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBocmVmID0gY2xlYW5IcmVmO1xuICAgICAgICBsZXQgb3V0ID0gJzxhIGhyZWY9XCInICsgaHJlZiArICdcIic7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgKGVzY2FwZSh0aXRsZSkpICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+JztcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgaW1hZ2UoeyBocmVmLCB0aXRsZSwgdGV4dCwgdG9rZW5zIH0pIHtcbiAgICAgICAgaWYgKHRva2Vucykge1xuICAgICAgICAgICAgdGV4dCA9IHRoaXMucGFyc2VyLnBhcnNlSW5saW5lKHRva2VucywgdGhpcy5wYXJzZXIudGV4dFJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGVhbkhyZWYgPSBjbGVhblVybChocmVmKTtcbiAgICAgICAgaWYgKGNsZWFuSHJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVzY2FwZSh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBocmVmID0gY2xlYW5IcmVmO1xuICAgICAgICBsZXQgb3V0ID0gYDxpbWcgc3JjPVwiJHtocmVmfVwiIGFsdD1cIiR7dGV4dH1cImA7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgb3V0ICs9IGAgdGl0bGU9XCIke2VzY2FwZSh0aXRsZSl9XCJgO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnPic7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHRleHQodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICd0b2tlbnMnIGluIHRva2VuICYmIHRva2VuLnRva2Vuc1xuICAgICAgICAgICAgPyB0aGlzLnBhcnNlci5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpXG4gICAgICAgICAgICA6ICgnZXNjYXBlZCcgaW4gdG9rZW4gJiYgdG9rZW4uZXNjYXBlZCA/IHRva2VuLnRleHQgOiBlc2NhcGUodG9rZW4udGV4dCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5jbGFzcyBfVGV4dFJlbmRlcmVyIHtcbiAgICAvLyBubyBuZWVkIGZvciBibG9jayBsZXZlbCByZW5kZXJlcnNcbiAgICBzdHJvbmcoeyB0ZXh0IH0pIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGVtKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb2Rlc3Bhbih7IHRleHQgfSkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgZGVsKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBodG1sKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICB0ZXh0KHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBsaW5rKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfVxuICAgIGltYWdlKHsgdGV4dCB9KSB7XG4gICAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfVxuICAgIGJyKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuXG4vKipcbiAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAqL1xuY2xhc3MgX1BhcnNlciB7XG4gICAgb3B0aW9ucztcbiAgICByZW5kZXJlcjtcbiAgICB0ZXh0UmVuZGVyZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBfUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBhcnNlciA9IHRoaXM7XG4gICAgICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IF9UZXh0UmVuZGVyZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIFBhcnNlIE1ldGhvZFxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZSh0b2tlbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IF9QYXJzZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2UodG9rZW5zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIFBhcnNlIElubGluZSBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VJbmxpbmUodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBfUGFyc2VyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlSW5saW5lKHRva2Vucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIExvb3BcbiAgICAgKi9cbiAgICBwYXJzZSh0b2tlbnMsIHRvcCA9IHRydWUpIHtcbiAgICAgICAgbGV0IG91dCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYW55VG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAvLyBSdW4gYW55IHJlbmRlcmVyIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8ucmVuZGVyZXJzPy5bYW55VG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmljVG9rZW4gPSBhbnlUb2tlbjtcbiAgICAgICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZ2VuZXJpY1Rva2VuLnR5cGVdLmNhbGwoeyBwYXJzZXI6IHRoaXMgfSwgZ2VuZXJpY1Rva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ICE9PSBmYWxzZSB8fCAhWydzcGFjZScsICdocicsICdoZWFkaW5nJywgJ2NvZGUnLCAndGFibGUnLCAnYmxvY2txdW90ZScsICdsaXN0JywgJ2h0bWwnLCAncGFyYWdyYXBoJywgJ3RleHQnXS5pbmNsdWRlcyhnZW5lcmljVG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJldCB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhbnlUb2tlbjtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NwYWNlJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdocic6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHIodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaGVhZGluZyh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdjb2RlJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2RlKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50YWJsZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdibG9ja3F1b3RlJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2xpc3QnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpc3QodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHRtbCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gdGhpcy5yZW5kZXJlci50ZXh0KHRleHRUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpICsgMSA8IHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW2kgKyAxXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb2tlbiA9IHRva2Vuc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSAnXFxuJyArIHRoaXMucmVuZGVyZXIudGV4dCh0ZXh0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiBib2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBbeyB0eXBlOiAndGV4dCcsIHJhdzogYm9keSwgdGV4dDogYm9keSwgZXNjYXBlZDogdHJ1ZSB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdG9rZW4udHlwZSArICdcIiB0eXBlIHdhcyBub3QgZm91bmQuJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIElubGluZSBUb2tlbnNcbiAgICAgKi9cbiAgICBwYXJzZUlubGluZSh0b2tlbnMsIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcikge1xuICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhbnlUb2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIC8vIFJ1biBhbnkgcmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5yZW5kZXJlcnM/LlthbnlUb2tlbi50eXBlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1thbnlUb2tlbi50eXBlXS5jYWxsKHsgcGFyc2VyOiB0aGlzIH0sIGFueVRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ICE9PSBmYWxzZSB8fCAhWydlc2NhcGUnLCAnaHRtbCcsICdsaW5rJywgJ2ltYWdlJywgJ3N0cm9uZycsICdlbScsICdjb2Rlc3BhbicsICdicicsICdkZWwnLCAndGV4dCddLmluY2x1ZGVzKGFueVRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZXQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYW55VG9rZW47XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdlc2NhcGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5odG1sKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmsnOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5saW5rKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuaW1hZ2UodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnc3Ryb25nJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuc3Ryb25nKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuZW0odG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY29kZXNwYW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5jb2Rlc3Bhbih0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdicic6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmJyKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmRlbCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIudGV4dCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cblxuY2xhc3MgX0hvb2tzIHtcbiAgICBvcHRpb25zO1xuICAgIGJsb2NrO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBfZGVmYXVsdHM7XG4gICAgfVxuICAgIHN0YXRpYyBwYXNzVGhyb3VnaEhvb2tzID0gbmV3IFNldChbXG4gICAgICAgICdwcmVwcm9jZXNzJyxcbiAgICAgICAgJ3Bvc3Rwcm9jZXNzJyxcbiAgICAgICAgJ3Byb2Nlc3NBbGxUb2tlbnMnLFxuICAgIF0pO1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbWFya2Rvd24gYmVmb3JlIG1hcmtlZFxuICAgICAqL1xuICAgIHByZXByb2Nlc3MobWFya2Rvd24pIHtcbiAgICAgICAgcmV0dXJuIG1hcmtkb3duO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIEhUTUwgYWZ0ZXIgbWFya2VkIGlzIGZpbmlzaGVkXG4gICAgICovXG4gICAgcG9zdHByb2Nlc3MoaHRtbCkge1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhbGwgdG9rZW5zIGJlZm9yZSB3YWxrIHRva2Vuc1xuICAgICAqL1xuICAgIHByb2Nlc3NBbGxUb2tlbnModG9rZW5zKSB7XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgZnVuY3Rpb24gdG8gdG9rZW5pemUgbWFya2Rvd25cbiAgICAgKi9cbiAgICBwcm92aWRlTGV4ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2NrID8gX0xleGVyLmxleCA6IF9MZXhlci5sZXhJbmxpbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgZnVuY3Rpb24gdG8gcGFyc2UgdG9rZW5zXG4gICAgICovXG4gICAgcHJvdmlkZVBhcnNlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgPyBfUGFyc2VyLnBhcnNlIDogX1BhcnNlci5wYXJzZUlubGluZTtcbiAgICB9XG59XG5cbmNsYXNzIE1hcmtlZCB7XG4gICAgZGVmYXVsdHMgPSBfZ2V0RGVmYXVsdHMoKTtcbiAgICBvcHRpb25zID0gdGhpcy5zZXRPcHRpb25zO1xuICAgIHBhcnNlID0gdGhpcy5wYXJzZU1hcmtkb3duKHRydWUpO1xuICAgIHBhcnNlSW5saW5lID0gdGhpcy5wYXJzZU1hcmtkb3duKGZhbHNlKTtcbiAgICBQYXJzZXIgPSBfUGFyc2VyO1xuICAgIFJlbmRlcmVyID0gX1JlbmRlcmVyO1xuICAgIFRleHRSZW5kZXJlciA9IF9UZXh0UmVuZGVyZXI7XG4gICAgTGV4ZXIgPSBfTGV4ZXI7XG4gICAgVG9rZW5pemVyID0gX1Rva2VuaXplcjtcbiAgICBIb29rcyA9IF9Ib29rcztcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMudXNlKC4uLmFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gICAgICovXG4gICAgd2Fsa1Rva2Vucyh0b2tlbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQoY2FsbGJhY2suY2FsbCh0aGlzLCB0b2tlbikpO1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndGFibGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjZWxsIG9mIHRhYmxlVG9rZW4uaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhjZWxsLnRva2VucywgY2FsbGJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0YWJsZVRva2VuLnJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2VsbCBvZiByb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhjZWxsLnRva2VucywgY2FsbGJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbGlzdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodGhpcy53YWxrVG9rZW5zKGxpc3RUb2tlbi5pdGVtcywgY2FsbGJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJpY1Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnM/LmNoaWxkVG9rZW5zPy5bZ2VuZXJpY1Rva2VuLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnNbZ2VuZXJpY1Rva2VuLnR5cGVdLmZvckVhY2goKGNoaWxkVG9rZW5zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gZ2VuZXJpY1Rva2VuW2NoaWxkVG9rZW5zXS5mbGF0KEluZmluaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2Vucyh0b2tlbnMsIGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnZW5lcmljVG9rZW4udG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhnZW5lcmljVG9rZW4udG9rZW5zLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIHVzZSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnMgfHwgeyByZW5kZXJlcnM6IHt9LCBjaGlsZFRva2Vuczoge30gfTtcbiAgICAgICAgYXJncy5mb3JFYWNoKChwYWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBjb3B5IG9wdGlvbnMgdG8gbmV3IG9iamVjdFxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHsgLi4ucGFjayB9O1xuICAgICAgICAgICAgLy8gc2V0IGFzeW5jIHRvIHRydWUgaWYgaXQgd2FzIHNldCB0byB0cnVlIGJlZm9yZVxuICAgICAgICAgICAgb3B0cy5hc3luYyA9IHRoaXMuZGVmYXVsdHMuYXN5bmMgfHwgb3B0cy5hc3luYyB8fCBmYWxzZTtcbiAgICAgICAgICAgIC8vID09LS0gUGFyc2UgXCJhZGRvblwiIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgICAgICAgICAgaWYgKHBhY2suZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgICAgIHBhY2suZXh0ZW5zaW9ucy5mb3JFYWNoKChleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleHQubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHRlbnNpb24gbmFtZSByZXF1aXJlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgncmVuZGVyZXInIGluIGV4dCkgeyAvLyBSZW5kZXJlciBleHRlbnNpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2UmVuZGVyZXIgPSBleHRlbnNpb25zLnJlbmRlcmVyc1tleHQubmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBleHRlbnNpb24gd2l0aCBmdW5jIHRvIHJ1biBuZXcgZXh0ZW5zaW9uIGJ1dCBmYWxsIGJhY2sgaWYgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLnJlbmRlcmVyc1tleHQubmFtZV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0ID0gZXh0LnJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcHJldlJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMucmVuZGVyZXJzW2V4dC5uYW1lXSA9IGV4dC5yZW5kZXJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3Rva2VuaXplcicgaW4gZXh0KSB7IC8vIFRva2VuaXplciBFeHRlbnNpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4dC5sZXZlbCB8fCAoZXh0LmxldmVsICE9PSAnYmxvY2snICYmIGV4dC5sZXZlbCAhPT0gJ2lubGluZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5zaW9uIGxldmVsIG11c3QgYmUgJ2Jsb2NrJyBvciAnaW5saW5lJ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dExldmVsID0gZXh0ZW5zaW9uc1tleHQubGV2ZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dExldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0TGV2ZWwudW5zaGlmdChleHQudG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0LmxldmVsXSA9IFtleHQudG9rZW5pemVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHQuc3RhcnQpIHsgLy8gRnVuY3Rpb24gdG8gY2hlY2sgZm9yIHN0YXJ0IG9mIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dC5sZXZlbCA9PT0gJ2Jsb2NrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucy5zdGFydEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0QmxvY2sucHVzaChleHQuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydEJsb2NrID0gW2V4dC5zdGFydF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZXh0LmxldmVsID09PSAnaW5saW5lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9ucy5zdGFydElubGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydElubGluZS5wdXNoKGV4dC5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLnN0YXJ0SW5saW5lID0gW2V4dC5zdGFydF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCdjaGlsZFRva2VucycgaW4gZXh0ICYmIGV4dC5jaGlsZFRva2VucykgeyAvLyBDaGlsZCB0b2tlbnMgdG8gYmUgdmlzaXRlZCBieSB3YWxrVG9rZW5zXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLmNoaWxkVG9rZW5zW2V4dC5uYW1lXSA9IGV4dC5jaGlsZFRva2VucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9wdHMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA9PS0tIFBhcnNlIFwib3ZlcndyaXRlXCIgZXh0ZW5zaW9ucyAtLT09IC8vXG4gICAgICAgICAgICBpZiAocGFjay5yZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5kZWZhdWx0cy5yZW5kZXJlciB8fCBuZXcgX1JlbmRlcmVyKHRoaXMuZGVmYXVsdHMpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBwYWNrLnJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHByb3AgaW4gcmVuZGVyZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlbmRlcmVyICcke3Byb3B9JyBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChbJ29wdGlvbnMnLCAncGFyc2VyJ10uaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBvcHRpb25zIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlclByb3AgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlckZ1bmMgPSBwYWNrLnJlbmRlcmVyW3JlbmRlcmVyUHJvcF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZSZW5kZXJlciA9IHJlbmRlcmVyW3JlbmRlcmVyUHJvcF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgcmVuZGVyZXIgd2l0aCBmdW5jIHRvIHJ1biBleHRlbnNpb24sIGJ1dCBmYWxsIGJhY2sgaWYgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXJbcmVuZGVyZXJQcm9wXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0ID0gcmVuZGVyZXJGdW5jLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcHJldlJlbmRlcmVyLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdHMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYWNrLnRva2VuaXplcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuaXplciA9IHRoaXMuZGVmYXVsdHMudG9rZW5pemVyIHx8IG5ldyBfVG9rZW5pemVyKHRoaXMuZGVmYXVsdHMpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBwYWNrLnRva2VuaXplcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShwcm9wIGluIHRva2VuaXplcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdG9rZW5pemVyICcke3Byb3B9JyBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChbJ29wdGlvbnMnLCAncnVsZXMnLCAnbGV4ZXInXS5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIG9wdGlvbnMsIHJ1bGVzLCBhbmQgbGV4ZXIgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5pemVyUHJvcCA9IHByb3A7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuaXplckZ1bmMgPSBwYWNrLnRva2VuaXplclt0b2tlbml6ZXJQcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldlRva2VuaXplciA9IHRva2VuaXplclt0b2tlbml6ZXJQcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0b2tlbml6ZXIgd2l0aCBmdW5jIHRvIHJ1biBleHRlbnNpb24sIGJ1dCBmYWxsIGJhY2sgaWYgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW5ub3QgdHlwZSB0b2tlbml6ZXIgZnVuY3Rpb24gZHluYW1pY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyW3Rva2VuaXplclByb3BdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXQgPSB0b2tlbml6ZXJGdW5jLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZUb2tlbml6ZXIuYXBwbHkodG9rZW5pemVyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdHMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBIb29rcyBleHRlbnNpb25zIC0tPT0gLy9cbiAgICAgICAgICAgIGlmIChwYWNrLmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9va3MgPSB0aGlzLmRlZmF1bHRzLmhvb2tzIHx8IG5ldyBfSG9va3MoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay5ob29rcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShwcm9wIGluIGhvb2tzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBob29rICcke3Byb3B9JyBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChbJ29wdGlvbnMnLCAnYmxvY2snXS5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIG9wdGlvbnMgYW5kIGJsb2NrIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvb2tzUHJvcCA9IHByb3A7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvb2tzRnVuYyA9IHBhY2suaG9va3NbaG9va3NQcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkhvb2sgPSBob29rc1tob29rc1Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX0hvb2tzLnBhc3NUaHJvdWdoSG9va3MuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbm5vdCB0eXBlIGhvb2sgZnVuY3Rpb24gZHluYW1pY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzW2hvb2tzUHJvcF0gPSAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdHMuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShob29rc0Z1bmMuY2FsbChob29rcywgYXJnKSkudGhlbihyZXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZIb29rLmNhbGwoaG9va3MsIHJldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXQgPSBob29rc0Z1bmMuY2FsbChob29rcywgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldkhvb2suY2FsbChob29rcywgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbm5vdCB0eXBlIGhvb2sgZnVuY3Rpb24gZHluYW1pY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzW2hvb2tzUHJvcF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXQgPSBob29rc0Z1bmMuYXBwbHkoaG9va3MsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZIb29rLmFwcGx5KGhvb2tzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0cy5ob29rcyA9IGhvb2tzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBXYWxrVG9rZW5zIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgICAgICAgICAgaWYgKHBhY2sud2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGtUb2tlbnMgPSB0aGlzLmRlZmF1bHRzLndhbGtUb2tlbnM7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja1dhbGt0b2tlbnMgPSBwYWNrLndhbGtUb2tlbnM7XG4gICAgICAgICAgICAgICAgb3B0cy53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gocGFja1dhbGt0b2tlbnMuY2FsbCh0aGlzLCB0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh3YWxrVG9rZW5zLmNhbGwodGhpcywgdG9rZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRzID0geyAuLi50aGlzLmRlZmF1bHRzLCAuLi5vcHRzIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHQpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHsgLi4udGhpcy5kZWZhdWx0cywgLi4ub3B0IH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsZXhlcihzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9MZXhlci5sZXgoc3JjLCBvcHRpb25zID8/IHRoaXMuZGVmYXVsdHMpO1xuICAgIH1cbiAgICBwYXJzZXIodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfUGFyc2VyLnBhcnNlKHRva2Vucywgb3B0aW9ucyA/PyB0aGlzLmRlZmF1bHRzKTtcbiAgICB9XG4gICAgcGFyc2VNYXJrZG93bihibG9ja1R5cGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgcGFyc2UgPSAoc3JjLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnT3B0ID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBvcHQgPSB7IC4uLnRoaXMuZGVmYXVsdHMsIC4uLm9yaWdPcHQgfTtcbiAgICAgICAgICAgIGNvbnN0IHRocm93RXJyb3IgPSB0aGlzLm9uRXJyb3IoISFvcHQuc2lsZW50LCAhIW9wdC5hc3luYyk7XG4gICAgICAgICAgICAvLyB0aHJvdyBlcnJvciBpZiBhbiBleHRlbnNpb24gc2V0IGFzeW5jIHRvIHRydWUgYnV0IHBhcnNlIHdhcyBjYWxsZWQgd2l0aCBhc3luYzogZmFsc2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmF1bHRzLmFzeW5jID09PSB0cnVlICYmIG9yaWdPcHQuYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IobmV3IEVycm9yKCdtYXJrZWQoKTogVGhlIGFzeW5jIG9wdGlvbiB3YXMgc2V0IHRvIHRydWUgYnkgYW4gZXh0ZW5zaW9uLiBSZW1vdmUgYXN5bmM6IGZhbHNlIGZyb20gdGhlIHBhcnNlIG9wdGlvbnMgb2JqZWN0IHRvIHJldHVybiBhIFByb21pc2UuJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNyYyA9PT0gJ3VuZGVmaW5lZCcgfHwgc3JjID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IobmV3IEVycm9yKCdtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IobmV3IEVycm9yKCdtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIG9mIHR5cGUgJ1xuICAgICAgICAgICAgICAgICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdC5ob29rcykge1xuICAgICAgICAgICAgICAgIG9wdC5ob29rcy5vcHRpb25zID0gb3B0O1xuICAgICAgICAgICAgICAgIG9wdC5ob29rcy5ibG9jayA9IGJsb2NrVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxleGVyID0gb3B0Lmhvb2tzID8gb3B0Lmhvb2tzLnByb3ZpZGVMZXhlcigpIDogKGJsb2NrVHlwZSA/IF9MZXhlci5sZXggOiBfTGV4ZXIubGV4SW5saW5lKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG9wdC5ob29rcyA/IG9wdC5ob29rcy5wcm92aWRlUGFyc2VyKCkgOiAoYmxvY2tUeXBlID8gX1BhcnNlci5wYXJzZSA6IF9QYXJzZXIucGFyc2VJbmxpbmUpO1xuICAgICAgICAgICAgaWYgKG9wdC5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob3B0Lmhvb2tzID8gb3B0Lmhvb2tzLnByZXByb2Nlc3Moc3JjKSA6IHNyYylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oc3JjID0+IGxleGVyKHNyYywgb3B0KSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odG9rZW5zID0+IG9wdC5ob29rcyA/IG9wdC5ob29rcy5wcm9jZXNzQWxsVG9rZW5zKHRva2VucykgOiB0b2tlbnMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHRva2VucyA9PiBvcHQud2Fsa1Rva2VucyA/IFByb21pc2UuYWxsKHRoaXMud2Fsa1Rva2Vucyh0b2tlbnMsIG9wdC53YWxrVG9rZW5zKSkudGhlbigoKSA9PiB0b2tlbnMpIDogdG9rZW5zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0b2tlbnMgPT4gcGFyc2VyKHRva2Vucywgb3B0KSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oaHRtbCA9PiBvcHQuaG9va3MgPyBvcHQuaG9va3MucG9zdHByb2Nlc3MoaHRtbCkgOiBodG1sKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2godGhyb3dFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChvcHQuaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gb3B0Lmhvb2tzLnByZXByb2Nlc3Moc3JjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHRva2VucyA9IGxleGVyKHNyYywgb3B0KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0Lmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VucyA9IG9wdC5ob29rcy5wcm9jZXNzQWxsVG9rZW5zKHRva2Vucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHQud2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbGtUb2tlbnModG9rZW5zLCBvcHQud2Fsa1Rva2Vucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBodG1sID0gcGFyc2VyKHRva2Vucywgb3B0KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0Lmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBvcHQuaG9va3MucG9zdHByb2Nlc3MoaHRtbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhcnNlO1xuICAgIH1cbiAgICBvbkVycm9yKHNpbGVudCwgYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIChlKSA9PiB7XG4gICAgICAgICAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgICAgICAgICBpZiAoc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gJzxwPkFuIGVycm9yIG9jY3VycmVkOjwvcD48cHJlPidcbiAgICAgICAgICAgICAgICAgICAgKyBlc2NhcGUoZS5tZXNzYWdlICsgJycsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICsgJzwvcHJlPic7XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jb25zdCBtYXJrZWRJbnN0YW5jZSA9IG5ldyBNYXJrZWQoKTtcbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCkge1xuICAgIHJldHVybiBtYXJrZWRJbnN0YW5jZS5wYXJzZShzcmMsIG9wdCk7XG59XG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBIYXNoIG9mIG9wdGlvbnNcbiAqL1xubWFya2VkLm9wdGlvbnMgPVxuICAgIG1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgbWFya2VkSW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgbWFya2VkLmRlZmF1bHRzID0gbWFya2VkSW5zdGFuY2UuZGVmYXVsdHM7XG4gICAgICAgIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gICAgICAgIHJldHVybiBtYXJrZWQ7XG4gICAgfTtcbi8qKlxuICogR2V0cyB0aGUgb3JpZ2luYWwgbWFya2VkIGRlZmF1bHQgb3B0aW9ucy5cbiAqL1xubWFya2VkLmdldERlZmF1bHRzID0gX2dldERlZmF1bHRzO1xubWFya2VkLmRlZmF1bHRzID0gX2RlZmF1bHRzO1xuLyoqXG4gKiBVc2UgRXh0ZW5zaW9uXG4gKi9cbm1hcmtlZC51c2UgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIG1hcmtlZEluc3RhbmNlLnVzZSguLi5hcmdzKTtcbiAgICBtYXJrZWQuZGVmYXVsdHMgPSBtYXJrZWRJbnN0YW5jZS5kZWZhdWx0cztcbiAgICBjaGFuZ2VEZWZhdWx0cyhtYXJrZWQuZGVmYXVsdHMpO1xuICAgIHJldHVybiBtYXJrZWQ7XG59O1xuLyoqXG4gKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gKi9cbm1hcmtlZC53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbWFya2VkSW5zdGFuY2Uud2Fsa1Rva2Vucyh0b2tlbnMsIGNhbGxiYWNrKTtcbn07XG4vKipcbiAqIENvbXBpbGVzIG1hcmtkb3duIHRvIEhUTUwgd2l0aG91dCBlbmNsb3NpbmcgYHBgIHRhZy5cbiAqXG4gKiBAcGFyYW0gc3JjIFN0cmluZyBvZiBtYXJrZG93biBzb3VyY2UgdG8gYmUgY29tcGlsZWRcbiAqIEBwYXJhbSBvcHRpb25zIEhhc2ggb2Ygb3B0aW9uc1xuICogQHJldHVybiBTdHJpbmcgb2YgY29tcGlsZWQgSFRNTFxuICovXG5tYXJrZWQucGFyc2VJbmxpbmUgPSBtYXJrZWRJbnN0YW5jZS5wYXJzZUlubGluZTtcbi8qKlxuICogRXhwb3NlXG4gKi9cbm1hcmtlZC5QYXJzZXIgPSBfUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IF9QYXJzZXIucGFyc2U7XG5tYXJrZWQuUmVuZGVyZXIgPSBfUmVuZGVyZXI7XG5tYXJrZWQuVGV4dFJlbmRlcmVyID0gX1RleHRSZW5kZXJlcjtcbm1hcmtlZC5MZXhlciA9IF9MZXhlcjtcbm1hcmtlZC5sZXhlciA9IF9MZXhlci5sZXg7XG5tYXJrZWQuVG9rZW5pemVyID0gX1Rva2VuaXplcjtcbm1hcmtlZC5Ib29rcyA9IF9Ib29rcztcbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcbmNvbnN0IG9wdGlvbnMgPSBtYXJrZWQub3B0aW9ucztcbmNvbnN0IHNldE9wdGlvbnMgPSBtYXJrZWQuc2V0T3B0aW9ucztcbmNvbnN0IHVzZSA9IG1hcmtlZC51c2U7XG5jb25zdCB3YWxrVG9rZW5zID0gbWFya2VkLndhbGtUb2tlbnM7XG5jb25zdCBwYXJzZUlubGluZSA9IG1hcmtlZC5wYXJzZUlubGluZTtcbmNvbnN0IHBhcnNlID0gbWFya2VkO1xuY29uc3QgcGFyc2VyID0gX1BhcnNlci5wYXJzZTtcbmNvbnN0IGxleGVyID0gX0xleGVyLmxleDtcblxuZXhwb3J0IHsgX0hvb2tzIGFzIEhvb2tzLCBfTGV4ZXIgYXMgTGV4ZXIsIE1hcmtlZCwgX1BhcnNlciBhcyBQYXJzZXIsIF9SZW5kZXJlciBhcyBSZW5kZXJlciwgX1RleHRSZW5kZXJlciBhcyBUZXh0UmVuZGVyZXIsIF9Ub2tlbml6ZXIgYXMgVG9rZW5pemVyLCBfZGVmYXVsdHMgYXMgZGVmYXVsdHMsIF9nZXREZWZhdWx0cyBhcyBnZXREZWZhdWx0cywgbGV4ZXIsIG1hcmtlZCwgb3B0aW9ucywgcGFyc2UsIHBhcnNlSW5saW5lLCBwYXJzZXIsIHNldE9wdGlvbnMsIHVzZSwgd2Fsa1Rva2VucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2VkLmVzbS5qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCIvKipcblRoZSBkZWZhdWx0IG1heGltdW0gbGVuZ3RoIG9mIGEgYFRyZWVCdWZmZXJgIG5vZGUuXG4qL1xuY29uc3QgRGVmYXVsdEJ1ZmZlckxlbmd0aCA9IDEwMjQ7XG5sZXQgbmV4dFByb3BJRCA9IDA7XG5jbGFzcyBSYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbi8qKlxuRWFjaCBbbm9kZSB0eXBlXSgjY29tbW9uLk5vZGVUeXBlKSBvciBbaW5kaXZpZHVhbCB0cmVlXSgjY29tbW9uLlRyZWUpXG5jYW4gaGF2ZSBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggaXQgaW4gcHJvcHMuIEluc3RhbmNlcyBvZiB0aGlzXG5jbGFzcyByZXByZXNlbnQgcHJvcCBuYW1lcy5cbiovXG5jbGFzcyBOb2RlUHJvcCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IG5vZGUgcHJvcCB0eXBlLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRQcm9wSUQrKztcbiAgICAgICAgdGhpcy5wZXJOb2RlID0gISFjb25maWcucGVyTm9kZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGNvbmZpZy5kZXNlcmlhbGl6ZSB8fCAoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBub2RlIHR5cGUgZG9lc24ndCBkZWZpbmUgYSBkZXNlcmlhbGl6ZSBmdW5jdGlvblwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoXG4gICAgW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG4gICAgW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuUGFyc2VyQ29uZmlnLnByb3BzKSB0byBjb21wdXRlXG4gICAgcHJvcCB2YWx1ZXMgZm9yIGVhY2ggbm9kZSB0eXBlIGluIHRoZSBzZXQuIFRha2VzIGEgW21hdGNoXG4gICAgb2JqZWN0XSgjY29tbW9uLk5vZGVUeXBlXm1hdGNoKSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdW5kZWZpbmVkXG4gICAgaWYgdGhlIG5vZGUgdHlwZSBkb2Vzbid0IGdldCB0aGlzIHByb3AsIGFuZCB0aGUgcHJvcCdzIHZhbHVlIGlmXG4gICAgaXQgZG9lcy5cbiAgICAqL1xuICAgIGFkZChtYXRjaCkge1xuICAgICAgICBpZiAodGhpcy5wZXJOb2RlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBhZGQgcGVyLW5vZGUgcHJvcHMgdG8gbm9kZSB0eXBlc1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRjaCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICBtYXRjaCA9IE5vZGVUeXBlLm1hdGNoKG1hdGNoKTtcbiAgICAgICAgcmV0dXJuICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbWF0Y2godHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBudWxsIDogW3RoaXMsIHJlc3VsdF07XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG5Qcm9wIHRoYXQgaXMgdXNlZCB0byBkZXNjcmliZSBtYXRjaGluZyBkZWxpbWl0ZXJzLiBGb3Igb3BlbmluZ1xuZGVsaW1pdGVycywgdGhpcyBob2xkcyBhbiBhcnJheSBvZiBub2RlIG5hbWVzICh3cml0dGVuIGFzIGFcbnNwYWNlLXNlcGFyYXRlZCBzdHJpbmcgd2hlbiBkZWNsYXJpbmcgdGhpcyBwcm9wIGluIGEgZ3JhbW1hcilcbmZvciB0aGUgbm9kZSB0eXBlcyBvZiBjbG9zaW5nIGRlbGltaXRlcnMgdGhhdCBtYXRjaCBpdC5cbiovXG5Ob2RlUHJvcC5jbG9zZWRCeSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuVGhlIGludmVyc2Ugb2YgW2BjbG9zZWRCeWBdKCNjb21tb24uTm9kZVByb3BeY2xvc2VkQnkpLiBUaGlzIGlzXG5hdHRhY2hlZCB0byBjbG9zaW5nIGRlbGltaXRlcnMsIGhvbGRpbmcgYW4gYXJyYXkgb2Ygbm9kZSBuYW1lc1xub2YgdHlwZXMgb2YgbWF0Y2hpbmcgb3BlbmluZyBkZWxpbWl0ZXJzLlxuKi9cbk5vZGVQcm9wLm9wZW5lZEJ5ID0gbmV3IE5vZGVQcm9wKHsgZGVzZXJpYWxpemU6IHN0ciA9PiBzdHIuc3BsaXQoXCIgXCIpIH0pO1xuLyoqXG5Vc2VkIHRvIGFzc2lnbiBub2RlIHR5cGVzIHRvIGdyb3VwcyAoZm9yIGV4YW1wbGUsIGFsbCBub2RlXG50eXBlcyB0aGF0IHJlcHJlc2VudCBhbiBleHByZXNzaW9uIGNvdWxkIGJlIHRhZ2dlZCB3aXRoIGFuXG5gXCJFeHByZXNzaW9uXCJgIGdyb3VwKS5cbiovXG5Ob2RlUHJvcC5ncm91cCA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8qKlxuQXR0YWNoZWQgdG8gbm9kZXMgdG8gaW5kaWNhdGUgdGhlc2Ugc2hvdWxkIGJlXG5bZGlzcGxheWVkXShodHRwczovL2NvZGVtaXJyb3IubmV0L2RvY3MvcmVmLyNsYW5ndWFnZS5zeW50YXhUcmVlKVxuaW4gYSBiaWRpcmVjdGlvbmFsIHRleHQgaXNvbGF0ZSwgc28gdGhhdCBkaXJlY3Rpb24tbmV1dHJhbFxuY2hhcmFjdGVycyBvbiB0aGVpciBzaWRlcyBkb24ndCBpbmNvcnJlY3RseSBnZXQgYXNzb2NpYXRlZCB3aXRoXG5zdXJyb3VuZGluZyB0ZXh0LiBZb3UnbGwgZ2VuZXJhbGx5IHdhbnQgdG8gc2V0IHRoaXMgZm9yIG5vZGVzXG50aGF0IGNvbnRhaW4gYXJiaXRyYXJ5IHRleHQsIGxpa2Ugc3RyaW5ncyBhbmQgY29tbWVudHMsIGFuZCBmb3Jcbm5vZGVzIHRoYXQgYXBwZWFyIF9pbnNpZGVfIGFyYml0cmFyeSB0ZXh0LCBsaWtlIEhUTUwgdGFncy4gV2hlblxubm90IGdpdmVuIGEgdmFsdWUsIGluIGEgZ3JhbW1hciBkZWNsYXJhdGlvbiwgZGVmYXVsdHMgdG9cbmBcImF1dG9cImAuXG4qL1xuTm9kZVByb3AuaXNvbGF0ZSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiB2YWx1ZSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPSBcInJ0bFwiICYmIHZhbHVlICE9IFwibHRyXCIgJiYgdmFsdWUgIT0gXCJhdXRvXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGlzb2xhdGU6IFwiICsgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWUgfHwgXCJhdXRvXCI7XG4gICAgfSB9KTtcbi8qKlxuVGhlIGhhc2ggb2YgdGhlIFtjb250ZXh0XSgjbHIuQ29udGV4dFRyYWNrZXIuY29uc3RydWN0b3IpXG50aGF0IHRoZSBub2RlIHdhcyBwYXJzZWQgaW4sIGlmIGFueS4gVXNlZCB0byBsaW1pdCByZXVzZSBvZlxuY29udGV4dHVhbCBub2Rlcy5cbiovXG5Ob2RlUHJvcC5jb250ZXh0SGFzaCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vKipcblRoZSBkaXN0YW5jZSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgbm9kZSB0aGF0IHRoZSB0b2tlbml6ZXJcbmxvb2tlZCBhaGVhZCBmb3IgYW55IG9mIHRoZSB0b2tlbnMgaW5zaWRlIHRoZSBub2RlLiAoVGhlIExSXG5wYXJzZXIgb25seSBzdG9yZXMgdGhpcyB3aGVuIGl0IGlzIGxhcmdlciB0aGFuIDI1LCBmb3JcbmVmZmljaWVuY3kgcmVhc29ucy4pXG4qL1xuTm9kZVByb3AubG9va0FoZWFkID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbi8qKlxuVGhpcyBwZXItbm9kZSBwcm9wIGlzIHVzZWQgdG8gcmVwbGFjZSBhIGdpdmVuIG5vZGUsIG9yIHBhcnQgb2YgYVxubm9kZSwgd2l0aCBhbm90aGVyIHRyZWUuIFRoaXMgaXMgdXNlZnVsIHRvIGluY2x1ZGUgdHJlZXMgZnJvbVxuZGlmZmVyZW50IGxhbmd1YWdlcyBpbiBtaXhlZC1sYW5ndWFnZSBwYXJzZXJzLlxuKi9cbk5vZGVQcm9wLm1vdW50ZWQgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLyoqXG5BIG1vdW50ZWQgdHJlZSwgd2hpY2ggY2FuIGJlIFtzdG9yZWRdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgb25cbmEgdHJlZSBub2RlIHRvIGluZGljYXRlIHRoYXQgcGFydHMgb2YgaXRzIGNvbnRlbnQgYXJlXG5yZXByZXNlbnRlZCBieSBhbm90aGVyIHRyZWUuXG4qL1xuY2xhc3MgTW91bnRlZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBpbm5lciB0cmVlLlxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgSWYgdGhpcyBpcyBudWxsLCB0aGlzIHRyZWUgcmVwbGFjZXMgdGhlIGVudGlyZSBub2RlIChpdCB3aWxsXG4gICAgYmUgaW5jbHVkZWQgaW4gdGhlIHJlZ3VsYXIgaXRlcmF0aW9uIGluc3RlYWQgb2YgaXRzIGhvc3RcbiAgICBub2RlKS4gSWYgbm90LCBvbmx5IHRoZSBnaXZlbiByYW5nZXMgYXJlIGNvbnNpZGVyZWQgdG8gYmVcbiAgICBjb3ZlcmVkIGJ5IHRoaXMgdHJlZS4gVGhpcyBpcyB1c2VkIGZvciB0cmVlcyB0aGF0IGFyZSBtaXhlZCBpblxuICAgIGEgd2F5IHRoYXQgaXNuJ3Qgc3RyaWN0bHkgaGllcmFyY2hpY2FsLiBTdWNoIG1vdW50ZWQgdHJlZXMgYXJlXG4gICAgb25seSBlbnRlcmVkIGJ5IFtgcmVzb2x2ZUlubmVyYF0oI2NvbW1vbi5UcmVlLnJlc29sdmVJbm5lcilcbiAgICBhbmQgW2BlbnRlcmBdKCNjb21tb24uU3ludGF4Tm9kZS5lbnRlcikuXG4gICAgKi9cbiAgICBvdmVybGF5LCBcbiAgICAvKipcbiAgICBUaGUgcGFyc2VyIHVzZWQgdG8gY3JlYXRlIHRoaXMgc3VidHJlZS5cbiAgICAqL1xuICAgIHBhcnNlcikge1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0KHRyZWUpIHtcbiAgICAgICAgcmV0dXJuIHRyZWUgJiYgdHJlZS5wcm9wcyAmJiB0cmVlLnByb3BzW05vZGVQcm9wLm1vdW50ZWQuaWRdO1xuICAgIH1cbn1cbmNvbnN0IG5vUHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG5FYWNoIG5vZGUgaW4gYSBzeW50YXggdHJlZSBoYXMgYSBub2RlIHR5cGUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuKi9cbmNsYXNzIE5vZGVUeXBlIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoZSBub2RlIHR5cGUuIE5vdCBuZWNlc3NhcmlseSB1bmlxdWUsIGJ1dCBpZiB0aGVcbiAgICBncmFtbWFyIHdhcyB3cml0dGVuIHByb3Blcmx5LCBkaWZmZXJlbnQgbm9kZSB0eXBlcyB3aXRoIHRoZVxuICAgIHNhbWUgbmFtZSB3aXRoaW4gYSBub2RlIHNldCBzaG91bGQgcGxheSB0aGUgc2FtZSBzZW1hbnRpY1xuICAgIHJvbGUuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHByb3BzLCBcbiAgICAvKipcbiAgICBUaGUgaWQgb2YgdGhpcyBub2RlIGluIGl0cyBzZXQuIENvcnJlc3BvbmRzIHRvIHRoZSB0ZXJtIGlkc1xuICAgIHVzZWQgaW4gdGhlIHBhcnNlci5cbiAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZsYWdzID0gMCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBub2RlIHR5cGUuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKHNwZWMpIHtcbiAgICAgICAgbGV0IHByb3BzID0gc3BlYy5wcm9wcyAmJiBzcGVjLnByb3BzLmxlbmd0aCA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiBub1Byb3BzO1xuICAgICAgICBsZXQgZmxhZ3MgPSAoc3BlYy50b3AgPyAxIC8qIE5vZGVGbGFnLlRvcCAqLyA6IDApIHwgKHNwZWMuc2tpcHBlZCA/IDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLyA6IDApIHxcbiAgICAgICAgICAgIChzcGVjLmVycm9yID8gNCAvKiBOb2RlRmxhZy5FcnJvciAqLyA6IDApIHwgKHNwZWMubmFtZSA9PSBudWxsID8gOCAvKiBOb2RlRmxhZy5Bbm9ueW1vdXMgKi8gOiAwKTtcbiAgICAgICAgbGV0IHR5cGUgPSBuZXcgTm9kZVR5cGUoc3BlYy5uYW1lIHx8IFwiXCIsIHByb3BzLCBzcGVjLmlkLCBmbGFncyk7XG4gICAgICAgIGlmIChzcGVjLnByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgc3JjIG9mIHNwZWMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3JjKSlcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjKHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyY1swXS5wZXJOb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBzdG9yZSBhIHBlci1ub2RlIHByb3Agb24gYSBub2RlIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3NyY1swXS5pZF0gPSBzcmNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmVzIGEgbm9kZSBwcm9wIGZvciB0aGlzIHR5cGUuIFdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGlmXG4gICAgdGhlIHByb3AgaXNuJ3QgcHJlc2VudCBvbiB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHsgcmV0dXJuIHRoaXMucHJvcHNbcHJvcC5pZF07IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gdGhpcyBpcyB0aGUgdG9wIG5vZGUgb2YgYSBncmFtbWFyLlxuICAgICovXG4gICAgZ2V0IGlzVG9wKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAxIC8qIE5vZGVGbGFnLlRvcCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIHRoaXMgbm9kZSBpcyBwcm9kdWNlZCBieSBhIHNraXAgcnVsZS5cbiAgICAqL1xuICAgIGdldCBpc1NraXBwZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhbiBlcnJvciBub2RlLlxuICAgICovXG4gICAgZ2V0IGlzRXJyb3IoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDQgLyogTm9kZUZsYWcuRXJyb3IgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFdoZW4gdHJ1ZSwgdGhpcyBub2RlIHR5cGUgZG9lc24ndCBjb3JyZXNwb25kIHRvIGEgdXNlci1kZWNsYXJlZFxuICAgIG5hbWVkIG5vZGUsIGZvciBleGFtcGxlIGJlY2F1c2UgaXQgaXMgdXNlZCB0byBjYWNoZSByZXBldGl0aW9uLlxuICAgICovXG4gICAgZ2V0IGlzQW5vbnltb3VzKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLykgPiAwOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIHdoZW4gdGhpcyBub2RlJ3MgbmFtZSBvciBvbmUgb2YgaXRzXG4gICAgW2dyb3Vwc10oI2NvbW1vbi5Ob2RlUHJvcF5ncm91cCkgbWF0Y2hlcyB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgaXMobmFtZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUgPT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBncm91cCA9IHRoaXMucHJvcChOb2RlUHJvcC5ncm91cCk7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXAgPyBncm91cC5pbmRleE9mKG5hbWUpID4gLTEgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pZCA9PSBuYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBmdW5jdGlvbiBmcm9tIG5vZGUgdHlwZXMgdG8gYXJiaXRyYXJ5IHZhbHVlcyBieVxuICAgIHNwZWNpZnlpbmcgYW4gb2JqZWN0IHdob3NlIHByb3BlcnR5IG5hbWVzIGFyZSBub2RlIG9yXG4gICAgW2dyb3VwXSgjY29tbW9uLk5vZGVQcm9wXmdyb3VwKSBuYW1lcy4gT2Z0ZW4gdXNlZnVsIHdpdGhcbiAgICBbYE5vZGVQcm9wLmFkZGBdKCNjb21tb24uTm9kZVByb3AuYWRkKS4gWW91IGNhbiBwdXQgbXVsdGlwbGVcbiAgICBuYW1lcywgc2VwYXJhdGVkIGJ5IHNwYWNlcywgaW4gYSBzaW5nbGUgcHJvcGVydHkgbmFtZSB0byBtYXBcbiAgICBtdWx0aXBsZSBub2RlIG5hbWVzIHRvIGEgc2luZ2xlIHZhbHVlLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoKG1hcCkge1xuICAgICAgICBsZXQgZGlyZWN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtYXApXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgICAgIGRpcmVjdFtuYW1lXSA9IG1hcFtwcm9wXTtcbiAgICAgICAgcmV0dXJuIChub2RlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cHMgPSBub2RlLnByb3AoTm9kZVByb3AuZ3JvdXApLCBpID0gLTE7IGkgPCAoZ3JvdXBzID8gZ3JvdXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBkaXJlY3RbaSA8IDAgPyBub2RlLm5hbWUgOiBncm91cHNbaV1dO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuQW4gZW1wdHkgZHVtbXkgbm9kZSB0eXBlIHRvIHVzZSB3aGVuIG5vIGFjdHVhbCB0eXBlIGlzIGF2YWlsYWJsZS5cbiovXG5Ob2RlVHlwZS5ub25lID0gbmV3IE5vZGVUeXBlKFwiXCIsIE9iamVjdC5jcmVhdGUobnVsbCksIDAsIDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovKTtcbi8qKlxuQSBub2RlIHNldCBob2xkcyBhIGNvbGxlY3Rpb24gb2Ygbm9kZSB0eXBlcy4gSXQgaXMgdXNlZCB0b1xuY29tcGFjdGx5IHJlcHJlc2VudCB0cmVlcyBieSBzdG9yaW5nIHRoZWlyIHR5cGUgaWRzLCByYXRoZXIgdGhhbiBhXG5mdWxsIHBvaW50ZXIgdG8gdGhlIHR5cGUgb2JqZWN0LCBpbiBhIG51bWVyaWMgYXJyYXkuIEVhY2ggcGFyc2VyXG5baGFzXSgjbHIuTFJQYXJzZXIubm9kZVNldCkgYSBub2RlIHNldCwgYW5kIFt0cmVlXG5idWZmZXJzXSgjY29tbW9uLlRyZWVCdWZmZXIpIGNhbiBvbmx5IHN0b3JlIGNvbGxlY3Rpb25zIG9mIG5vZGVzXG5mcm9tIHRoZSBzYW1lIHNldC4gQSBzZXQgY2FuIGhhdmUgYSBtYXhpbXVtIG9mIDIqKjE2ICg2NTUzNikgbm9kZVxudHlwZXMgaW4gaXQsIHNvIHRoYXQgdGhlIGlkcyBmaXQgaW50byAxNi1iaXQgdHlwZWQgYXJyYXkgc2xvdHMuXG4qL1xuY2xhc3MgTm9kZVNldCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IHdpdGggdGhlIGdpdmVuIHR5cGVzLiBUaGUgYGlkYCBwcm9wZXJ0eSBvZiBlYWNoXG4gICAgdHlwZSBzaG91bGQgY29ycmVzcG9uZCB0byBpdHMgcG9zaXRpb24gd2l0aGluIHRoZSBhcnJheS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2V0LCBieSBpZC5cbiAgICAqL1xuICAgIHR5cGVzKSB7XG4gICAgICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICh0eXBlc1tpXS5pZCAhPSBpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm9kZSB0eXBlIGlkcyBzaG91bGQgY29ycmVzcG9uZCB0byBhcnJheSBwb3NpdGlvbnMgd2hlbiBjcmVhdGluZyBhIG5vZGUgc2V0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgc2V0IHdpdGggc29tZSBub2RlIHByb3BlcnRpZXMgYWRkZWQuIFRoZVxuICAgIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCBjYW4gYmUgY3JlYXRlZCB3aXRoXG4gICAgW2BOb2RlUHJvcC5hZGRgXSgjY29tbW9uLk5vZGVQcm9wLmFkZCkuXG4gICAgKi9cbiAgICBleHRlbmQoLi4ucHJvcHMpIHtcbiAgICAgICAgbGV0IG5ld1R5cGVzID0gW107XG4gICAgICAgIGZvciAobGV0IHR5cGUgb2YgdGhpcy50eXBlcykge1xuICAgICAgICAgICAgbGV0IG5ld1Byb3BzID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IHNvdXJjZSBvZiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBhZGQgPSBzb3VyY2UodHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1Byb3BzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0eXBlLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbYWRkWzBdLmlkXSA9IGFkZFsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdUeXBlcy5wdXNoKG5ld1Byb3BzID8gbmV3IE5vZGVUeXBlKHR5cGUubmFtZSwgbmV3UHJvcHMsIHR5cGUuaWQsIHR5cGUuZmxhZ3MpIDogdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlU2V0KG5ld1R5cGVzKTtcbiAgICB9XG59XG5jb25zdCBDYWNoZWROb2RlID0gbmV3IFdlYWtNYXAoKSwgQ2FjaGVkSW5uZXJOb2RlID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuT3B0aW9ucyB0aGF0IGNvbnRyb2wgaXRlcmF0aW9uLiBDYW4gYmUgY29tYmluZWQgd2l0aCB0aGUgYHxgXG5vcGVyYXRvciB0byBlbmFibGUgbXVsdGlwbGUgb25lcy5cbiovXG52YXIgSXRlck1vZGU7XG4oZnVuY3Rpb24gKEl0ZXJNb2RlKSB7XG4gICAgLyoqXG4gICAgV2hlbiBlbmFibGVkLCBpdGVyYXRpb24gd2lsbCBvbmx5IHZpc2l0IFtgVHJlZWBdKCNjb21tb24uVHJlZSlcbiAgICBvYmplY3RzLCBub3Qgbm9kZXMgcGFja2VkIGludG9cbiAgICBbYFRyZWVCdWZmZXJgXSgjY29tbW9uLlRyZWVCdWZmZXIpcy5cbiAgICAqL1xuICAgIEl0ZXJNb2RlW0l0ZXJNb2RlW1wiRXhjbHVkZUJ1ZmZlcnNcIl0gPSAxXSA9IFwiRXhjbHVkZUJ1ZmZlcnNcIjtcbiAgICAvKipcbiAgICBFbmFibGUgdGhpcyB0byBtYWtlIGl0ZXJhdGlvbiBpbmNsdWRlIGFub255bW91cyBub2RlcyAoc3VjaCBhc1xuICAgIHRoZSBub2RlcyB0aGF0IHdyYXAgcmVwZWF0ZWQgZ3JhbW1hciBjb25zdHJ1Y3RzIGludG8gYSBiYWxhbmNlZFxuICAgIHRyZWUpLlxuICAgICovXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJbmNsdWRlQW5vbnltb3VzXCJdID0gMl0gPSBcIkluY2x1ZGVBbm9ueW1vdXNcIjtcbiAgICAvKipcbiAgICBCeSBkZWZhdWx0LCByZWd1bGFyIFttb3VudGVkXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIG5vZGVzXG4gICAgcmVwbGFjZSB0aGVpciBiYXNlIG5vZGUgaW4gaXRlcmF0aW9uLiBFbmFibGUgdGhpcyB0byBpZ25vcmUgdGhlbVxuICAgIGluc3RlYWQuXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIklnbm9yZU1vdW50c1wiXSA9IDRdID0gXCJJZ25vcmVNb3VudHNcIjtcbiAgICAvKipcbiAgICBUaGlzIG9wdGlvbiBvbmx5IGFwcGxpZXMgaW5cbiAgICBbYGVudGVyYF0oI2NvbW1vbi5TeW50YXhOb2RlLmVudGVyKS1zdHlsZSBtZXRob2RzLiBJdCB0ZWxscyB0aGVcbiAgICBsaWJyYXJ5IHRvIG5vdCBlbnRlciBtb3VudGVkIG92ZXJsYXlzIGlmIG9uZSBjb3ZlcnMgdGhlIGdpdmVuXG4gICAgcG9zaXRpb24uXG4gICAgKi9cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIklnbm9yZU92ZXJsYXlzXCJdID0gOF0gPSBcIklnbm9yZU92ZXJsYXlzXCI7XG59KShJdGVyTW9kZSB8fCAoSXRlck1vZGUgPSB7fSkpO1xuLyoqXG5BIHBpZWNlIG9mIHN5bnRheCB0cmVlLiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gYXBwcm9hY2ggdGhlc2VcbnRyZWVzOiB0aGUgd2F5IHRoZXkgYXJlIGFjdHVhbGx5IHN0b3JlZCBpbiBtZW1vcnksIGFuZCB0aGVcbmNvbnZlbmllbnQgd2F5LlxuXG5TeW50YXggdHJlZXMgYXJlIHN0b3JlZCBhcyBhIHRyZWUgb2YgYFRyZWVgIGFuZCBgVHJlZUJ1ZmZlcmBcbm9iamVjdHMuIEJ5IHBhY2tpbmcgZGV0YWlsIGluZm9ybWF0aW9uIGludG8gYFRyZWVCdWZmZXJgIGxlYWZcbm5vZGVzLCB0aGUgcmVwcmVzZW50YXRpb24gaXMgbWFkZSBhIGxvdCBtb3JlIG1lbW9yeS1lZmZpY2llbnQuXG5cbkhvd2V2ZXIsIHdoZW4geW91IHdhbnQgdG8gYWN0dWFsbHkgd29yayB3aXRoIHRyZWUgbm9kZXMsIHRoaXNcbnJlcHJlc2VudGF0aW9uIGlzIHZlcnkgYXdrd2FyZCwgc28gbW9zdCBjbGllbnQgY29kZSB3aWxsIHdhbnQgdG9cbnVzZSB0aGUgW2BUcmVlQ3Vyc29yYF0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBvclxuW2BTeW50YXhOb2RlYF0oI2NvbW1vbi5TeW50YXhOb2RlKSBpbnRlcmZhY2UgaW5zdGVhZCwgd2hpY2ggcHJvdmlkZXNcbmEgdmlldyBvbiBzb21lIHBhcnQgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSwgYW5kIGNhbiBiZSB1c2VkIHRvXG5tb3ZlIGFyb3VuZCB0byBhZGphY2VudCBub2Rlcy5cbiovXG5jbGFzcyBUcmVlIHtcbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSBuZXcgdHJlZS4gU2VlIGFsc28gW2BUcmVlLmJ1aWxkYF0oI2NvbW1vbi5UcmVlXmJ1aWxkKS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIHRoZSB0b3Agbm9kZS5cbiAgICAqL1xuICAgIHR5cGUsIFxuICAgIC8qKlxuICAgIFRoaXMgbm9kZSdzIGNoaWxkIG5vZGVzLlxuICAgICovXG4gICAgY2hpbGRyZW4sIFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbnMgKG9mZnNldHMgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoaXMgdHJlZSkgb2ZcbiAgICB0aGUgY2hpbGRyZW4uXG4gICAgKi9cbiAgICBwb3NpdGlvbnMsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhpcyB0cmVlXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFBlci1ub2RlIFtub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wKSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIG5vZGUuXG4gICAgKi9cbiAgICBwcm9wcykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBmb3IgKGxldCBbcHJvcCwgdmFsdWVdIG9mIHByb3BzKVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHNbdHlwZW9mIHByb3AgPT0gXCJudW1iZXJcIiA/IHByb3AgOiBwcm9wLmlkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBtb3VudGVkID0gTW91bnRlZFRyZWUuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAobW91bnRlZCAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgcmV0dXJuIG1vdW50ZWQudHJlZS50b1N0cmluZygpO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBjaCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgc3RyID0gY2gudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMudHlwZS5uYW1lID8gY2hpbGRyZW4gOlxuICAgICAgICAgICAgKC9cXFcvLnRlc3QodGhpcy50eXBlLm5hbWUpICYmICF0aGlzLnR5cGUuaXNFcnJvciA/IEpTT04uc3RyaW5naWZ5KHRoaXMudHlwZS5uYW1lKSA6IHRoaXMudHlwZS5uYW1lKSArXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgY2hpbGRyZW4gKyBcIilcIiA6IFwiXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbdHJlZSBjdXJzb3JdKCNjb21tb24uVHJlZUN1cnNvcikgcG9zaXRpb25lZCBhdCB0aGUgdG9wIG9mXG4gICAgdGhlIHRyZWUuIE1vZGUgY2FuIGJlIHVzZWQgdG8gW2NvbnRyb2xdKCNjb21tb24uSXRlck1vZGUpIHdoaWNoXG4gICAgbm9kZXMgdGhlIGN1cnNvciB2aXNpdHMuXG4gICAgKi9cbiAgICBjdXJzb3IobW9kZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQ3Vyc29yKHRoaXMudG9wTm9kZSwgbW9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFt0cmVlIGN1cnNvcl0oI2NvbW1vbi5UcmVlQ3Vyc29yKSBwb2ludGluZyBpbnRvIHRoaXMgdHJlZVxuICAgIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgc2lkZSAoc2VlXG4gICAgW2Btb3ZlVG9gXSgjY29tbW9uLlRyZWVDdXJzb3IubW92ZVRvKS5cbiAgICAqL1xuICAgIGN1cnNvckF0KHBvcywgc2lkZSA9IDAsIG1vZGUgPSAwKSB7XG4gICAgICAgIGxldCBzY29wZSA9IENhY2hlZE5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZTtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKHNjb3BlKTtcbiAgICAgICAgY3Vyc29yLm1vdmVUbyhwb3MsIHNpZGUpO1xuICAgICAgICBDYWNoZWROb2RlLnNldCh0aGlzLCBjdXJzb3IuX3RyZWUpO1xuICAgICAgICByZXR1cm4gY3Vyc29yO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgb2JqZWN0IGZvciB0aGUgdG9wIG9mIHRoZVxuICAgIHRyZWUuXG4gICAgKi9cbiAgICBnZXQgdG9wTm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlTm9kZSh0aGlzLCAwLCAwLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgIElmIGBzaWRlYCBpcyAtMSwgdGhpcyB3aWxsIG1vdmUgaW50byBub2RlcyB0aGF0IGVuZCBhdCB0aGVcbiAgICBwb3NpdGlvbi4gSWYgMSwgaXQnbGwgbW92ZSBpbnRvIG5vZGVzIHRoYXQgc3RhcnQgYXQgdGhlXG4gICAgcG9zaXRpb24uIFdpdGggMCwgaXQnbGwgb25seSBlbnRlciBub2RlcyB0aGF0IGNvdmVyIHRoZSBwb3NpdGlvblxuICAgIGZyb20gYm90aCBzaWRlcy5cbiAgICBcbiAgICBOb3RlIHRoYXQgdGhpcyB3aWxsIG5vdCBlbnRlclxuICAgIFtvdmVybGF5c10oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KSwgYW5kIHlvdSBvZnRlbiB3YW50XG4gICAgW2ByZXNvbHZlSW5uZXJgXSgjY29tbW9uLlRyZWUucmVzb2x2ZUlubmVyKSBpbnN0ZWFkLlxuICAgICovXG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICAgICAgQ2FjaGVkTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBMaWtlIFtgcmVzb2x2ZWBdKCNjb21tb24uVHJlZS5yZXNvbHZlKSwgYnV0IHdpbGwgZW50ZXJcbiAgICBbb3ZlcmxhaWRdKCNjb21tb24uTW91bnRlZFRyZWUub3ZlcmxheSkgbm9kZXMsIHByb2R1Y2luZyBhIHN5bnRheCBub2RlXG4gICAgcG9pbnRpbmcgaW50byB0aGUgaW5uZXJtb3N0IG92ZXJsYWlkIHRyZWUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uXG4gICAgKHdpdGggcGFyZW50IGxpbmtzIGdvaW5nIHRocm91Z2ggYWxsIHBhcmVudCBzdHJ1Y3R1cmUsIGluY2x1ZGluZ1xuICAgIHRoZSBob3N0IHRyZWVzKS5cbiAgICAqL1xuICAgIHJlc29sdmVJbm5lcihwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzb2x2ZU5vZGUoQ2FjaGVkSW5uZXJOb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGUsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgICAgIENhY2hlZElubmVyTm9kZS5zZXQodGhpcywgbm9kZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICBJbiBzb21lIHNpdHVhdGlvbnMsIGl0IGNhbiBiZSB1c2VmdWwgdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbFxuICAgIG5vZGVzIGFyb3VuZCBhIHBvc2l0aW9uLCBpbmNsdWRpbmcgdGhvc2UgaW4gb3ZlcmxheXMgdGhhdCBkb24ndFxuICAgIGRpcmVjdGx5IGNvdmVyIHRoZSBwb3NpdGlvbi4gVGhpcyBtZXRob2QgZ2l2ZXMgeW91IGFuIGl0ZXJhdG9yXG4gICAgdGhhdCB3aWxsIHByb2R1Y2UgYWxsIG5vZGVzLCBmcm9tIHNtYWxsIHRvIGJpZywgYXJvdW5kIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uLlxuICAgICovXG4gICAgcmVzb2x2ZVN0YWNrKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrSXRlcmF0b3IodGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGFuZCBpdHMgY2hpbGRyZW4sIGNhbGxpbmcgYGVudGVyYCBmb3IgYW55XG4gICAgbm9kZSB0aGF0IHRvdWNoZXMgdGhlIGBmcm9tYC9gdG9gIHJlZ2lvbiAoaWYgZ2l2ZW4pIGJlZm9yZVxuICAgIHJ1bm5pbmcgb3ZlciBzdWNoIGEgbm9kZSdzIGNoaWxkcmVuLCBhbmQgYGxlYXZlYCAoaWYgZ2l2ZW4pIHdoZW5cbiAgICBsZWF2aW5nIHRoZSBub2RlLiBXaGVuIGBlbnRlcmAgcmV0dXJucyBgZmFsc2VgLCB0aGF0IG5vZGUgd2lsbFxuICAgIG5vdCBoYXZlIGl0cyBjaGlsZHJlbiBpdGVyYXRlZCBvdmVyIChvciBgbGVhdmVgIGNhbGxlZCkuXG4gICAgKi9cbiAgICBpdGVyYXRlKHNwZWMpIHtcbiAgICAgICAgbGV0IHsgZW50ZXIsIGxlYXZlLCBmcm9tID0gMCwgdG8gPSB0aGlzLmxlbmd0aCB9ID0gc3BlYztcbiAgICAgICAgbGV0IG1vZGUgPSBzcGVjLm1vZGUgfHwgMCwgYW5vbiA9IChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPiAwO1xuICAgICAgICBmb3IgKGxldCBjID0gdGhpcy5jdXJzb3IobW9kZSB8IEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpOzspIHtcbiAgICAgICAgICAgIGxldCBlbnRlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYy5mcm9tIDw9IHRvICYmIGMudG8gPj0gZnJvbSAmJiAoIWFub24gJiYgYy50eXBlLmlzQW5vbnltb3VzIHx8IGVudGVyKGMpICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5maXJzdENoaWxkKCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVudGVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChlbnRlcmVkICYmIGxlYXZlICYmIChhbm9uIHx8ICFjLnR5cGUuaXNBbm9ueW1vdXMpKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZShjKTtcbiAgICAgICAgICAgICAgICBpZiAoYy5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoIWMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBlbnRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBbbm9kZSBwcm9wXSgjY29tbW9uLk5vZGVQcm9wKSBmb3IgdGhpc1xuICAgIG5vZGUuIFdvcmtzIHdpdGggYm90aCBwZXItbm9kZSBhbmQgcGVyLXR5cGUgcHJvcHMuXG4gICAgKi9cbiAgICBwcm9wKHByb3ApIHtcbiAgICAgICAgcmV0dXJuICFwcm9wLnBlck5vZGUgPyB0aGlzLnR5cGUucHJvcChwcm9wKSA6IHRoaXMucHJvcHMgPyB0aGlzLnByb3BzW3Byb3AuaWRdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRoZSBub2RlJ3MgW3Blci1ub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wLnBlck5vZGUpIGluIGFcbiAgICBmb3JtYXQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBbYFRyZWVgXSgjY29tbW9uLlRyZWUpXG4gICAgY29uc3RydWN0b3IuXG4gICAgKi9cbiAgICBnZXQgcHJvcFZhbHVlcygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAodGhpcy5wcm9wcylcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMucHJvcHMpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goWytpZCwgdGhpcy5wcm9wc1tpZF1dKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQmFsYW5jZSB0aGUgZGlyZWN0IGNoaWxkcmVuIG9mIHRoaXMgdHJlZSwgcHJvZHVjaW5nIGEgY29weSBvZlxuICAgIHdoaWNoIG1heSBoYXZlIGNoaWxkcmVuIGdyb3VwZWQgaW50byBzdWJ0cmVlcyB3aXRoIHR5cGVcbiAgICBbYE5vZGVUeXBlLm5vbmVgXSgjY29tbW9uLk5vZGVUeXBlXm5vbmUpLlxuICAgICovXG4gICAgYmFsYW5jZShjb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyA/IHRoaXMgOlxuICAgICAgICAgICAgYmFsYW5jZVJhbmdlKE5vZGVUeXBlLm5vbmUsIHRoaXMuY2hpbGRyZW4sIHRoaXMucG9zaXRpb25zLCAwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgMCwgdGhpcy5sZW5ndGgsIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCB0aGlzLnByb3BWYWx1ZXMpLCBjb25maWcubWFrZVRyZWUgfHwgKChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSB0cmVlIGZyb20gYSBwb3N0Zml4LW9yZGVyZWQgYnVmZmVyIG9mIG5vZGUgaW5mb3JtYXRpb24sXG4gICAgb3IgYSBjdXJzb3Igb3ZlciBzdWNoIGEgYnVmZmVyLlxuICAgICovXG4gICAgc3RhdGljIGJ1aWxkKGRhdGEpIHsgcmV0dXJuIGJ1aWxkVHJlZShkYXRhKTsgfVxufVxuLyoqXG5UaGUgZW1wdHkgdHJlZVxuKi9cblRyZWUuZW1wdHkgPSBuZXcgVHJlZShOb2RlVHlwZS5ub25lLCBbXSwgW10sIDApO1xuY2xhc3MgRmxhdEJ1ZmZlckN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCBpbmRleCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gNF07IH1cbiAgICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gM107IH1cbiAgICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDJdOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4IC0gMV07IH1cbiAgICBnZXQgcG9zKCkgeyByZXR1cm4gdGhpcy5pbmRleDsgfVxuICAgIG5leHQoKSB7IHRoaXMuaW5kZXggLT0gNDsgfVxuICAgIGZvcmsoKSB7IHJldHVybiBuZXcgRmxhdEJ1ZmZlckN1cnNvcih0aGlzLmJ1ZmZlciwgdGhpcy5pbmRleCk7IH1cbn1cbi8qKlxuVHJlZSBidWZmZXJzIGNvbnRhaW4gKHR5cGUsIHN0YXJ0LCBlbmQsIGVuZEluZGV4KSBxdWFkcyBmb3IgZWFjaFxubm9kZS4gSW4gc3VjaCBhIGJ1ZmZlciwgbm9kZXMgYXJlIHN0b3JlZCBpbiBwcmVmaXggb3JkZXIgKHBhcmVudHNcbmJlZm9yZSBjaGlsZHJlbiwgd2l0aCB0aGUgZW5kSW5kZXggb2YgdGhlIHBhcmVudCBpbmRpY2F0aW5nIHdoaWNoXG5jaGlsZHJlbiBiZWxvbmcgdG8gaXQpLlxuKi9cbmNsYXNzIFRyZWVCdWZmZXIge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRyZWUgYnVmZmVyLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGJ1ZmZlcidzIGNvbnRlbnQuXG4gICAgKi9cbiAgICBidWZmZXIsIFxuICAgIC8qKlxuICAgIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIGdyb3VwIG9mIG5vZGVzIGluIHRoZSBidWZmZXIuXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFRoZSBub2RlIHNldCB1c2VkIGluIHRoaXMgYnVmZmVyLlxuICAgICovXG4gICAgc2V0KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBOb2RlVHlwZS5ub25lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5idWZmZXIubGVuZ3RoOykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jaGlsZFN0cmluZyhpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIixcIik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2hpbGRTdHJpbmcoaW5kZXgpIHtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5idWZmZXJbaW5kZXhdLCBlbmRJbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIGxldCB0eXBlID0gdGhpcy5zZXQudHlwZXNbaWRdLCByZXN1bHQgPSB0eXBlLm5hbWU7XG4gICAgICAgIGlmICgvXFxXLy50ZXN0KHJlc3VsdCkgJiYgIXR5cGUuaXNFcnJvcilcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgIGluZGV4ICs9IDQ7XG4gICAgICAgIGlmIChlbmRJbmRleCA9PSBpbmRleClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkU3RyaW5nKGluZGV4KSk7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIFwiKFwiICsgY2hpbGRyZW4uam9pbihcIixcIikgKyBcIilcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmaW5kQ2hpbGQoc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcywgcGljayA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSAhPSBlbmRJbmRleDsgaSA9IGJ1ZmZlcltpICsgM10pIHtcbiAgICAgICAgICAgIGlmIChjaGVja1NpZGUoc2lkZSwgcG9zLCBidWZmZXJbaSArIDFdLCBidWZmZXJbaSArIDJdKSkge1xuICAgICAgICAgICAgICAgIHBpY2sgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChkaXIgPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGljaztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzbGljZShzdGFydEksIGVuZEksIGZyb20pIHtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgbGV0IGNvcHkgPSBuZXcgVWludDE2QXJyYXkoZW5kSSAtIHN0YXJ0SSksIGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydEksIGogPSAwOyBpIDwgZW5kSTspIHtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXTtcbiAgICAgICAgICAgIGNvcHlbaisrXSA9IGJbaSsrXSAtIGZyb207XG4gICAgICAgICAgICBsZXQgdG8gPSBjb3B5W2orK10gPSBiW2krK10gLSBmcm9tO1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdIC0gc3RhcnRJO1xuICAgICAgICAgICAgbGVuID0gTWF0aC5tYXgobGVuLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlQnVmZmVyKGNvcHksIGxlbiwgdGhpcy5zZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU2lkZShzaWRlLCBwb3MsIGZyb20sIHRvKSB7XG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgLTIgLyogU2lkZS5CZWZvcmUgKi86IHJldHVybiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIC0xIC8qIFNpZGUuQXRPckJlZm9yZSAqLzogcmV0dXJuIHRvID49IHBvcyAmJiBmcm9tIDwgcG9zO1xuICAgICAgICBjYXNlIDAgLyogU2lkZS5Bcm91bmQgKi86IHJldHVybiBmcm9tIDwgcG9zICYmIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDEgLyogU2lkZS5BdE9yQWZ0ZXIgKi86IHJldHVybiBmcm9tIDw9IHBvcyAmJiB0byA+IHBvcztcbiAgICAgICAgY2FzZSAyIC8qIFNpZGUuQWZ0ZXIgKi86IHJldHVybiB0byA+IHBvcztcbiAgICAgICAgY2FzZSA0IC8qIFNpZGUuRG9udENhcmUgKi86IHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVOb2RlKG5vZGUsIHBvcywgc2lkZSwgb3ZlcmxheXMpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgd2hpbGUgKG5vZGUuZnJvbSA9PSBub2RlLnRvIHx8XG4gICAgICAgIChzaWRlIDwgMSA/IG5vZGUuZnJvbSA+PSBwb3MgOiBub2RlLmZyb20gPiBwb3MpIHx8XG4gICAgICAgIChzaWRlID4gLTEgPyBub2RlLnRvIDw9IHBvcyA6IG5vZGUudG8gPCBwb3MpKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSAhb3ZlcmxheXMgJiYgbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIG5vZGUuaW5kZXggPCAwID8gbnVsbCA6IG5vZGUucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgbW9kZSA9IG92ZXJsYXlzID8gMCA6IEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzO1xuICAgIC8vIE11c3QgZ28gdXAgb3V0IG9mIG92ZXJsYXlzIHdoZW4gdGhvc2UgZG8gbm90IG92ZXJsYXAgd2l0aCBwb3NcbiAgICBpZiAob3ZlcmxheXMpXG4gICAgICAgIGZvciAobGV0IHNjYW4gPSBub2RlLCBwYXJlbnQgPSBzY2FuLnBhcmVudDsgcGFyZW50OyBzY2FuID0gcGFyZW50LCBwYXJlbnQgPSBzY2FuLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHNjYW4gaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBzY2FuLmluZGV4IDwgMCAmJiAoKF9hID0gcGFyZW50LmVudGVyKHBvcywgc2lkZSwgbW9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcm9tKSAhPSBzY2FuLmZyb20pXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IGlubmVyID0gbm9kZS5lbnRlcihwb3MsIHNpZGUsIG1vZGUpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBCYXNlTm9kZSB7XG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7IHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLCBtb2RlKTsgfVxuICAgIGdldENoaWxkKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICBsZXQgciA9IGdldENoaWxkcmVuKHRoaXMsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gci5sZW5ndGggPyByWzBdIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0Q2hpbGRyZW4odHlwZSwgYmVmb3JlID0gbnVsbCwgYWZ0ZXIgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICB9XG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBtYXRjaE5vZGVDb250ZXh0KHRoaXMucGFyZW50LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZW50ZXJVbmZpbmlzaGVkTm9kZXNCZWZvcmUocG9zKSB7XG4gICAgICAgIGxldCBzY2FuID0gdGhpcy5jaGlsZEJlZm9yZShwb3MpLCBub2RlID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHNjYW4pIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gc2Nhbi5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoIWxhc3QgfHwgbGFzdC50byAhPSBzY2FuLnRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKGxhc3QudHlwZS5pc0Vycm9yICYmIGxhc3QuZnJvbSA9PSBsYXN0LnRvKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHNjYW47XG4gICAgICAgICAgICAgICAgc2NhbiA9IGxhc3QucHJldlNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY2FuID0gbGFzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZ2V0IG5vZGUoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgZ2V0IG5leHQoKSB7IHJldHVybiB0aGlzLnBhcmVudDsgfVxufVxuY2xhc3MgVHJlZU5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoX3RyZWUsIGZyb20sIFxuICAgIC8vIEluZGV4IGluIHBhcmVudCBub2RlLCBzZXQgdG8gLTEgaWYgdGhlIG5vZGUgaXMgbm90IGEgZGlyZWN0IGNoaWxkIG9mIF9wYXJlbnQubm9kZSAob3ZlcmxheSlcbiAgICBpbmRleCwgX3BhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmVlID0gX3RyZWU7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLl90cmVlLnR5cGU7IH1cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUudHlwZS5uYW1lOyB9XG4gICAgZ2V0IHRvKCkgeyByZXR1cm4gdGhpcy5mcm9tICsgdGhpcy5fdHJlZS5sZW5ndGg7IH1cbiAgICBuZXh0Q2hpbGQoaSwgZGlyLCBwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGZvciAobGV0IHBhcmVudCA9IHRoaXM7Oykge1xuICAgICAgICAgICAgZm9yIChsZXQgeyBjaGlsZHJlbiwgcG9zaXRpb25zIH0gPSBwYXJlbnQuX3RyZWUsIGUgPSBkaXIgPiAwID8gY2hpbGRyZW4ubGVuZ3RoIDogLTE7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGNoaWxkcmVuW2ldLCBzdGFydCA9IHBvc2l0aW9uc1tpXSArIHBhcmVudC5mcm9tO1xuICAgICAgICAgICAgICAgIGlmICghY2hlY2tTaWRlKHNpZGUsIHBvcywgc3RhcnQsIHN0YXJ0ICsgbmV4dC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBuZXh0LmZpbmRDaGlsZCgwLCBuZXh0LmJ1ZmZlci5sZW5ndGgsIGRpciwgcG9zIC0gc3RhcnQsIHNpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZShuZXcgQnVmZmVyQ29udGV4dChwYXJlbnQsIG5leHQsIGksIHN0YXJ0KSwgbnVsbCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICghbmV4dC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW91bnRlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobW9kZSAmIEl0ZXJNb2RlLklnbm9yZU1vdW50cykgJiYgKG1vdW50ZWQgPSBNb3VudGVkVHJlZS5nZXQobmV4dCkpICYmICFtb3VudGVkLm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKG1vdW50ZWQudHJlZSwgc3RhcnQsIGksIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lciA9IG5ldyBUcmVlTm9kZShuZXh0LCBzdGFydCwgaSwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgIWlubmVyLnR5cGUuaXNBbm9ueW1vdXMgPyBpbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbm5lci5uZXh0Q2hpbGQoZGlyIDwgMCA/IG5leHQuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDAsIGRpciwgcG9zLCBzaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAhcGFyZW50LnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocGFyZW50LmluZGV4ID49IDApXG4gICAgICAgICAgICAgICAgaSA9IHBhcmVudC5pbmRleCArIGRpcjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpID0gZGlyIDwgMCA/IC0xIDogcGFyZW50Ll9wYXJlbnQuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQodGhpcy5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxLCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKHRoaXMuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSwgLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBsZXQgbW91bnRlZDtcbiAgICAgICAgaWYgKCEobW9kZSAmIEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzKSAmJiAobW91bnRlZCA9IE1vdW50ZWRUcmVlLmdldCh0aGlzLl90cmVlKSkgJiYgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgclBvcyA9IHBvcyAtIHRoaXMuZnJvbTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiBtb3VudGVkLm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpZGUgPiAwID8gZnJvbSA8PSByUG9zIDogZnJvbSA8IHJQb3MpICYmXG4gICAgICAgICAgICAgICAgICAgIChzaWRlIDwgMCA/IHRvID49IHJQb3MgOiB0byA+IHJQb3MpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKG1vdW50ZWQudHJlZSwgbW91bnRlZC5vdmVybGF5WzBdLmZyb20gKyB0aGlzLmZyb20sIC0xLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2hpbGQoMCwgMSwgcG9zLCBzaWRlLCBtb2RlKTtcbiAgICB9XG4gICAgbmV4dFNpZ25pZmljYW50UGFyZW50KCkge1xuICAgICAgICBsZXQgdmFsID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHZhbC50eXBlLmlzQW5vbnltb3VzICYmIHZhbC5fcGFyZW50KVxuICAgICAgICAgICAgdmFsID0gdmFsLl9wYXJlbnQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyB0aGlzLl9wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbmV4dFNpYmxpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgJiYgdGhpcy5pbmRleCA+PSAwID8gdGhpcy5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLmluZGV4ICsgMSwgMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBwcmV2U2libGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCAmJiB0aGlzLmluZGV4ID49IDAgPyB0aGlzLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuaW5kZXggLSAxLCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCB0cmVlKCkgeyByZXR1cm4gdGhpcy5fdHJlZTsgfVxuICAgIHRvVHJlZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWU7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5fdHJlZS50b1N0cmluZygpOyB9XG59XG5mdW5jdGlvbiBnZXRDaGlsZHJlbihub2RlLCB0eXBlLCBiZWZvcmUsIGFmdGVyKSB7XG4gICAgbGV0IGN1ciA9IG5vZGUuY3Vyc29yKCksIHJlc3VsdCA9IFtdO1xuICAgIGlmICghY3VyLmZpcnN0Q2hpbGQoKSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoYmVmb3JlICE9IG51bGwpXG4gICAgICAgIGZvciAobGV0IGZvdW5kID0gZmFsc2U7ICFmb3VuZDspIHtcbiAgICAgICAgICAgIGZvdW5kID0gY3VyLnR5cGUuaXMoYmVmb3JlKTtcbiAgICAgICAgICAgIGlmICghY3VyLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKGFmdGVyICE9IG51bGwgJiYgY3VyLnR5cGUuaXMoYWZ0ZXIpKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKGN1ci50eXBlLmlzKHR5cGUpKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VyLm5vZGUpO1xuICAgICAgICBpZiAoIWN1ci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgcmV0dXJuIGFmdGVyID09IG51bGwgPyByZXN1bHQgOiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaE5vZGVDb250ZXh0KG5vZGUsIGNvbnRleHQsIGkgPSBjb250ZXh0Lmxlbmd0aCAtIDEpIHtcbiAgICBmb3IgKGxldCBwID0gbm9kZTsgaSA+PSAwOyBwID0gcC5wYXJlbnQpIHtcbiAgICAgICAgaWYgKCFwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXAudHlwZS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgaWYgKGNvbnRleHRbaV0gJiYgY29udGV4dFtpXSAhPSBwLm5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuY2xhc3MgQnVmZmVyQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCBidWZmZXIsIGluZGV4LCBzdGFydCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIH1cbn1cbmNsYXNzIEJ1ZmZlck5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLnR5cGUubmFtZTsgfVxuICAgIGdldCBmcm9tKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0LnN0YXJ0ICsgdGhpcy5jb250ZXh0LmJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDFdOyB9XG4gICAgZ2V0IHRvKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0LnN0YXJ0ICsgdGhpcy5jb250ZXh0LmJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDJdOyB9XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgX3BhcmVudCwgaW5kZXgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnR5cGUgPSBjb250ZXh0LmJ1ZmZlci5zZXQudHlwZXNbY29udGV4dC5idWZmZXIuYnVmZmVyW2luZGV4XV07XG4gICAgfVxuICAgIGNoaWxkKGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgZGlyLCBwb3MgLSB0aGlzLmNvbnRleHQuc3RhcnQsIHNpZGUpO1xuICAgICAgICByZXR1cm4gaW5kZXggPCAwID8gbnVsbCA6IG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY2hpbGQoMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGdldCBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNoaWxkKC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgY2hpbGRBZnRlcihwb3MpIHsgcmV0dXJuIHRoaXMuY2hpbGQoMSwgcG9zLCAyIC8qIFNpZGUuQWZ0ZXIgKi8pOyB9XG4gICAgY2hpbGRCZWZvcmUocG9zKSB7IHJldHVybiB0aGlzLmNoaWxkKC0xLCBwb3MsIC0yIC8qIFNpZGUuQmVmb3JlICovKTsgfVxuICAgIGVudGVyKHBvcywgc2lkZSwgbW9kZSA9IDApIHtcbiAgICAgICAgaWYgKG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIHNpZGUgPiAwID8gMSA6IC0xLCBwb3MgLSB0aGlzLmNvbnRleHQuc3RhcnQsIHNpZGUpO1xuICAgICAgICByZXR1cm4gaW5kZXggPCAwID8gbnVsbCA6IG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50IHx8IHRoaXMuY29udGV4dC5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgfVxuICAgIGV4dGVybmFsU2libGluZyhkaXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCA/IG51bGwgOiB0aGlzLmNvbnRleHQucGFyZW50Lm5leHRDaGlsZCh0aGlzLmNvbnRleHQuaW5kZXggKyBkaXIsIGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTtcbiAgICB9XG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IGFmdGVyID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgIGlmIChhZnRlciA8ICh0aGlzLl9wYXJlbnQgPyBidWZmZXIuYnVmZmVyW3RoaXMuX3BhcmVudC5pbmRleCArIDNdIDogYnVmZmVyLmJ1ZmZlci5sZW5ndGgpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcy5fcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVybmFsU2libGluZygxKTtcbiAgICB9XG4gICAgZ2V0IHByZXZTaWJsaW5nKCkge1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHBhcmVudFN0YXJ0ID0gdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50LmluZGV4ICsgNCA6IDA7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IHBhcmVudFN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZXJuYWxTaWJsaW5nKC0xKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJOb2RlKHRoaXMuY29udGV4dCwgdGhpcy5fcGFyZW50LCBidWZmZXIuZmluZENoaWxkKHBhcmVudFN0YXJ0LCB0aGlzLmluZGV4LCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSk7XG4gICAgfVxuICAgIGdldCB0cmVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHRvVHJlZSgpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHN0YXJ0SSA9IHRoaXMuaW5kZXggKyA0LCBlbmRJID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgIGlmIChlbmRJID4gc3RhcnRJKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDFdO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChidWZmZXIuc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSk7XG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodGhpcy50eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCB0aGlzLnRvIC0gdGhpcy5mcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5idWZmZXIuY2hpbGRTdHJpbmcodGhpcy5pbmRleCk7IH1cbn1cbmZ1bmN0aW9uIGl0ZXJTdGFjayhoZWFkcykge1xuICAgIGlmICghaGVhZHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgcGljayA9IDAsIHBpY2tlZCA9IGhlYWRzWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaGVhZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5vZGUgPSBoZWFkc1tpXTtcbiAgICAgICAgaWYgKG5vZGUuZnJvbSA+IHBpY2tlZC5mcm9tIHx8IG5vZGUudG8gPCBwaWNrZWQudG8pIHtcbiAgICAgICAgICAgIHBpY2tlZCA9IG5vZGU7XG4gICAgICAgICAgICBwaWNrID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV4dCA9IHBpY2tlZCBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIHBpY2tlZC5pbmRleCA8IDAgPyBudWxsIDogcGlja2VkLnBhcmVudDtcbiAgICBsZXQgbmV3SGVhZHMgPSBoZWFkcy5zbGljZSgpO1xuICAgIGlmIChuZXh0KVxuICAgICAgICBuZXdIZWFkc1twaWNrXSA9IG5leHQ7XG4gICAgZWxzZVxuICAgICAgICBuZXdIZWFkcy5zcGxpY2UocGljaywgMSk7XG4gICAgcmV0dXJuIG5ldyBTdGFja0l0ZXJhdG9yKG5ld0hlYWRzLCBwaWNrZWQpO1xufVxuY2xhc3MgU3RhY2tJdGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoaGVhZHMsIG5vZGUpIHtcbiAgICAgICAgdGhpcy5oZWFkcyA9IGhlYWRzO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIH1cbiAgICBnZXQgbmV4dCgpIHsgcmV0dXJuIGl0ZXJTdGFjayh0aGlzLmhlYWRzKTsgfVxufVxuZnVuY3Rpb24gc3RhY2tJdGVyYXRvcih0cmVlLCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgaW5uZXIgPSB0cmVlLnJlc29sdmVJbm5lcihwb3MsIHNpZGUpLCBsYXllcnMgPSBudWxsO1xuICAgIGZvciAobGV0IHNjYW4gPSBpbm5lciBpbnN0YW5jZW9mIFRyZWVOb2RlID8gaW5uZXIgOiBpbm5lci5jb250ZXh0LnBhcmVudDsgc2Nhbjsgc2NhbiA9IHNjYW4ucGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FuLmluZGV4IDwgMCkgeyAvLyBUaGlzIGlzIGFuIG92ZXJsYXkgcm9vdFxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHNjYW4ucGFyZW50O1xuICAgICAgICAgICAgKGxheWVycyB8fCAobGF5ZXJzID0gW2lubmVyXSkpLnB1c2gocGFyZW50LnJlc29sdmUocG9zLCBzaWRlKSk7XG4gICAgICAgICAgICBzY2FuID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1vdW50ID0gTW91bnRlZFRyZWUuZ2V0KHNjYW4udHJlZSk7XG4gICAgICAgICAgICAvLyBSZWxldmFudCBvdmVybGF5IGJyYW5jaGluZyBvZmZcbiAgICAgICAgICAgIGlmIChtb3VudCAmJiBtb3VudC5vdmVybGF5ICYmIG1vdW50Lm92ZXJsYXlbMF0uZnJvbSA8PSBwb3MgJiYgbW91bnQub3ZlcmxheVttb3VudC5vdmVybGF5Lmxlbmd0aCAtIDFdLnRvID49IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCByb290ID0gbmV3IFRyZWVOb2RlKG1vdW50LnRyZWUsIG1vdW50Lm92ZXJsYXlbMF0uZnJvbSArIHNjYW4uZnJvbSwgLTEsIHNjYW4pO1xuICAgICAgICAgICAgICAgIChsYXllcnMgfHwgKGxheWVycyA9IFtpbm5lcl0pKS5wdXNoKHJlc29sdmVOb2RlKHJvb3QsIHBvcywgc2lkZSwgZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGF5ZXJzID8gaXRlclN0YWNrKGxheWVycykgOiBpbm5lcjtcbn1cbi8qKlxuQSB0cmVlIGN1cnNvciBvYmplY3QgZm9jdXNlcyBvbiBhIGdpdmVuIG5vZGUgaW4gYSBzeW50YXggdHJlZSwgYW5kXG5hbGxvd3MgeW91IHRvIG1vdmUgdG8gYWRqYWNlbnQgbm9kZXMuXG4qL1xuY2xhc3MgVHJlZUN1cnNvciB7XG4gICAgLyoqXG4gICAgU2hvcnRoYW5kIGZvciBgLnR5cGUubmFtZWAuXG4gICAgKi9cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1vZGUgPSAwKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMueWllbGROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdHJlZSA9IG5vZGUuY29udGV4dC5wYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSBub2RlLl9wYXJlbnQ7IG47IG4gPSBuLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjay51bnNoaWZ0KG4uaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMueWllbGRCdWYobm9kZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLl90cmVlID0gbm9kZTtcbiAgICAgICAgdGhpcy50eXBlID0gbm9kZS50eXBlO1xuICAgICAgICB0aGlzLmZyb20gPSBub2RlLmZyb207XG4gICAgICAgIHRoaXMudG8gPSBub2RlLnRvO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgeWllbGRCdWYoaW5kZXgsIHR5cGUpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQgeyBzdGFydCwgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBidWZmZXIuc2V0LnR5cGVzW2J1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICAgICAgdGhpcy5mcm9tID0gc3RhcnQgKyBidWZmZXIuYnVmZmVyW2luZGV4ICsgMV07XG4gICAgICAgIHRoaXMudG8gPSBzdGFydCArIGJ1ZmZlci5idWZmZXJbaW5kZXggKyAyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgeWllbGQobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkTm9kZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5vZGUuY29udGV4dDtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYobm9kZS5pbmRleCwgbm9kZS50eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID8gdGhpcy5idWZmZXIuYnVmZmVyLmNoaWxkU3RyaW5nKHRoaXMuaW5kZXgpIDogdGhpcy5fdHJlZS50b1N0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVudGVyQ2hpbGQoZGlyLCBwb3MsIHNpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpZWxkKHRoaXMuX3RyZWUubmV4dENoaWxkKGRpciA8IDAgPyB0aGlzLl90cmVlLl90cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDEgOiAwLCBkaXIsIHBvcywgc2lkZSwgdGhpcy5tb2RlKSk7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5idWZmZXI7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBkaXIsIHBvcyAtIHRoaXMuYnVmZmVyLnN0YXJ0LCBzaWRlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHRoaXMuaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1ZihpbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdGhlIGN1cnNvciB0byB0aGlzIG5vZGUncyBmaXJzdCBjaGlsZC4gV2hlbiB0aGlzIHJldHVybnNcbiAgICBmYWxzZSwgdGhlIG5vZGUgaGFzIG5vIGNoaWxkLCBhbmQgdGhlIGN1cnNvciBoYXMgbm90IGJlZW4gbW92ZWQuXG4gICAgKi9cbiAgICBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5lbnRlckNoaWxkKDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhpcyBub2RlJ3MgbGFzdCBjaGlsZC5cbiAgICAqL1xuICAgIGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdGhlIGN1cnNvciB0byB0aGUgZmlyc3QgY2hpbGQgdGhhdCBlbmRzIGFmdGVyIGBwb3NgLlxuICAgICovXG4gICAgY2hpbGRBZnRlcihwb3MpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBsYXN0IGNoaWxkIHRoYXQgc3RhcnRzIGJlZm9yZSBgcG9zYC5cbiAgICAqL1xuICAgIGNoaWxkQmVmb3JlKHBvcykgeyByZXR1cm4gdGhpcy5lbnRlckNoaWxkKC0xLCBwb3MsIC0yIC8qIFNpZGUuQmVmb3JlICovKTsgfVxuICAgIC8qKlxuICAgIE1vdmUgdGhlIGN1cnNvciB0byB0aGUgY2hpbGQgYXJvdW5kIGBwb3NgLiBJZiBzaWRlIGlzIC0xIHRoZVxuICAgIGNoaWxkIG1heSBlbmQgYXQgdGhhdCBwb3NpdGlvbiwgd2hlbiAxIGl0IG1heSBzdGFydCB0aGVyZS4gVGhpc1xuICAgIHdpbGwgYWxzbyBlbnRlciBbb3ZlcmxhaWRdKCNjb21tb24uTW91bnRlZFRyZWUub3ZlcmxheSlcbiAgICBbbW91bnRlZF0oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSB0cmVlcyB1bmxlc3MgYG92ZXJsYXlzYCBpc1xuICAgIHNldCB0byBmYWxzZS5cbiAgICAqL1xuICAgIGVudGVyKHBvcywgc2lkZSwgbW9kZSA9IHRoaXMubW9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGQodGhpcy5fdHJlZS5lbnRlcihwb3MsIHNpZGUsIG1vZGUpKTtcbiAgICAgICAgcmV0dXJuIG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycyA/IGZhbHNlIDogdGhpcy5lbnRlckNoaWxkKDEsIHBvcywgc2lkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIG5vZGUncyBwYXJlbnQgbm9kZSwgaWYgdGhpcyBpc24ndCB0aGUgdG9wIG5vZGUuXG4gICAgKi9cbiAgICBwYXJlbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUoKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpID8gdGhpcy5fdHJlZS5fcGFyZW50IDogdGhpcy5fdHJlZS5wYXJlbnQpO1xuICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1Zih0aGlzLnN0YWNrLnBvcCgpKTtcbiAgICAgICAgbGV0IHBhcmVudCA9ICh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA/IHRoaXMuYnVmZmVyLnBhcmVudCA6IHRoaXMuYnVmZmVyLnBhcmVudC5uZXh0U2lnbmlmaWNhbnRQYXJlbnQoKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUocGFyZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzaWJsaW5nKGRpcikge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl90cmVlLl9wYXJlbnQgPyBmYWxzZVxuICAgICAgICAgICAgICAgIDogdGhpcy55aWVsZCh0aGlzLl90cmVlLmluZGV4IDwgMCA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl90cmVlLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuX3RyZWUuaW5kZXggKyBkaXIsIGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovLCB0aGlzLm1vZGUpKTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlciwgZCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGRpciA8IDApIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRTdGFydCA9IGQgPCAwID8gMCA6IHRoaXMuc3RhY2tbZF0gKyA0O1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggIT0gcGFyZW50U3RhcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoYnVmZmVyLmZpbmRDaGlsZChwYXJlbnRTdGFydCwgdGhpcy5pbmRleCwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFmdGVyID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgICAgICBpZiAoYWZ0ZXIgPCAoZCA8IDAgPyBidWZmZXIuYnVmZmVyLmxlbmd0aCA6IGJ1ZmZlci5idWZmZXJbdGhpcy5zdGFja1tkXSArIDNdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1ZihhZnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGQgPCAwID8gdGhpcy55aWVsZCh0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dENoaWxkKHRoaXMuYnVmZmVyLmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLywgdGhpcy5tb2RlKSkgOiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGlzIG5vZGUncyBuZXh0IHNpYmxpbmcsIGlmIGFueS5cbiAgICAqL1xuICAgIG5leHRTaWJsaW5nKCkgeyByZXR1cm4gdGhpcy5zaWJsaW5nKDEpOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byB0aGlzIG5vZGUncyBwcmV2aW91cyBzaWJsaW5nLCBpZiBhbnkuXG4gICAgKi9cbiAgICBwcmV2U2libGluZygpIHsgcmV0dXJuIHRoaXMuc2libGluZygtMSk7IH1cbiAgICBhdExhc3ROb2RlKGRpcikge1xuICAgICAgICBsZXQgaW5kZXgsIHBhcmVudCwgeyBidWZmZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPCBidWZmZXIuYnVmZmVyLmJ1ZmZlci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRleDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmJ1ZmZlci5idWZmZXJbaSArIDNdIDwgdGhpcy5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICh7IGluZGV4LCBwYXJlbnQgfSA9IGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoeyBpbmRleCwgX3BhcmVudDogcGFyZW50IH0gPSB0aGlzLl90cmVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgcGFyZW50OyB7IGluZGV4LCBfcGFyZW50OiBwYXJlbnQgfSA9IHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgZGlyLCBlID0gZGlyIDwgMCA/IC0xIDogcGFyZW50Ll90cmVlLmNoaWxkcmVuLmxlbmd0aDsgaSAhPSBlOyBpICs9IGRpcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSBwYXJlbnQuX3RyZWUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkIGluc3RhbmNlb2YgVHJlZUJ1ZmZlciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWNoaWxkLnR5cGUuaXNBbm9ueW1vdXMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoaWxkKGNoaWxkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1vdmUoZGlyLCBlbnRlcikge1xuICAgICAgICBpZiAoZW50ZXIgJiYgdGhpcy5lbnRlckNoaWxkKGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaWJsaW5nKGRpcikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5hdExhc3ROb2RlKGRpcikgfHwgIXRoaXMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIG5leHQgbm9kZSBpbiBhXG4gICAgW3ByZS1vcmRlcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVHJlZV90cmF2ZXJzYWwjUHJlLW9yZGVyLF9OTFIpXG4gICAgdHJhdmVyc2FsLCBnb2luZyBmcm9tIGEgbm9kZSB0byBpdHMgZmlyc3QgY2hpbGQgb3IsIGlmIHRoZVxuICAgIGN1cnJlbnQgbm9kZSBpcyBlbXB0eSBvciBgZW50ZXJgIGlzIGZhbHNlLCBpdHMgbmV4dCBzaWJsaW5nIG9yXG4gICAgdGhlIG5leHQgc2libGluZyBvZiB0aGUgZmlyc3QgcGFyZW50IG5vZGUgdGhhdCBoYXMgb25lLlxuICAgICovXG4gICAgbmV4dChlbnRlciA9IHRydWUpIHsgcmV0dXJuIHRoaXMubW92ZSgxLCBlbnRlcik7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IG5vZGUgaW4gYSBsYXN0LXRvLWZpcnN0IHByZS1vcmRlciB0cmF2ZXJzYWwuIEFcbiAgICBub2RlIGlzIGZvbGxvd2VkIGJ5IGl0cyBsYXN0IGNoaWxkIG9yLCBpZiBpdCBoYXMgbm9uZSwgaXRzXG4gICAgcHJldmlvdXMgc2libGluZyBvciB0aGUgcHJldmlvdXMgc2libGluZyBvZiB0aGUgZmlyc3QgcGFyZW50XG4gICAgbm9kZSB0aGF0IGhhcyBvbmUuXG4gICAgKi9cbiAgICBwcmV2KGVudGVyID0gdHJ1ZSkgeyByZXR1cm4gdGhpcy5tb3ZlKC0xLCBlbnRlcik7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGlubmVybW9zdCBub2RlIHRoYXQgY292ZXJzIGBwb3NgLiBJZlxuICAgIGBzaWRlYCBpcyAtMSwgaXQgd2lsbCBlbnRlciBub2RlcyB0aGF0IGVuZCBhdCBgcG9zYC4gSWYgaXQgaXMgMSxcbiAgICBpdCB3aWxsIGVudGVyIG5vZGVzIHRoYXQgc3RhcnQgYXQgYHBvc2AuXG4gICAgKi9cbiAgICBtb3ZlVG8ocG9zLCBzaWRlID0gMCkge1xuICAgICAgICAvLyBNb3ZlIHVwIHRvIGEgbm9kZSB0aGF0IGFjdHVhbGx5IGhvbGRzIHRoZSBwb3NpdGlvbiwgaWYgcG9zc2libGVcbiAgICAgICAgd2hpbGUgKHRoaXMuZnJvbSA9PSB0aGlzLnRvIHx8XG4gICAgICAgICAgICAoc2lkZSA8IDEgPyB0aGlzLmZyb20gPj0gcG9zIDogdGhpcy5mcm9tID4gcG9zKSB8fFxuICAgICAgICAgICAgKHNpZGUgPiAtMSA/IHRoaXMudG8gPD0gcG9zIDogdGhpcy50byA8IHBvcykpXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRoZW4gc2NhbiBkb3duIGludG8gY2hpbGQgbm9kZXMgYXMgZmFyIGFzIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCBzaWRlKSkgeyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGN1cnNvcidzIGN1cnJlbnRcbiAgICBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCBub2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyZWU7XG4gICAgICAgIGxldCBjYWNoZSA9IHRoaXMuYnVmZmVyTm9kZSwgcmVzdWx0ID0gbnVsbCwgZGVwdGggPSAwO1xuICAgICAgICBpZiAoY2FjaGUgJiYgY2FjaGUuY29udGV4dCA9PSB0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgc2NhbjogZm9yIChsZXQgaW5kZXggPSB0aGlzLmluZGV4LCBkID0gdGhpcy5zdGFjay5sZW5ndGg7IGQgPj0gMDspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gY2FjaGU7IGM7IGMgPSBjLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCA9IGQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5zdGFja1stLWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBkZXB0aDsgaSA8IHRoaXMuc3RhY2subGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLnN0YWNrW2ldKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyTm9kZSA9IG5ldyBCdWZmZXJOb2RlKHRoaXMuYnVmZmVyLCByZXN1bHQsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIFt0cmVlXSgjY29tbW9uLlRyZWUpIHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCBub2RlLCBpZlxuICAgIGFueS4gV2lsbCByZXR1cm4gbnVsbCB3aGVuIHRoZSBub2RlIGlzIGluIGEgW3RyZWVcbiAgICBidWZmZXJdKCNjb21tb24uVHJlZUJ1ZmZlcikuXG4gICAgKi9cbiAgICBnZXQgdHJlZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID8gbnVsbCA6IHRoaXMuX3RyZWUuX3RyZWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBub2RlIGFuZCBhbGwgaXRzIGRlc2NlbmRhbnRzLCBjYWxsaW5nXG4gICAgYGVudGVyYCB3aGVuIGVudGVyaW5nIGEgbm9kZSBhbmQgYGxlYXZlYCwgaWYgZ2l2ZW4sIHdoZW4gbGVhdmluZ1xuICAgIG9uZS4gV2hlbiBgZW50ZXJgIHJldHVybnMgYGZhbHNlYCwgYW55IGNoaWxkcmVuIG9mIHRoYXQgbm9kZSBhcmVcbiAgICBza2lwcGVkLCBhbmQgYGxlYXZlYCBpc24ndCBjYWxsZWQgZm9yIGl0LlxuICAgICovXG4gICAgaXRlcmF0ZShlbnRlciwgbGVhdmUpIHtcbiAgICAgICAgZm9yIChsZXQgZGVwdGggPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBtdXN0TGVhdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUuaXNBbm9ueW1vdXMgfHwgZW50ZXIodGhpcykgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudHlwZS5pc0Fub255bW91cylcbiAgICAgICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAobXVzdExlYXZlICYmIGxlYXZlKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0aGlzLnR5cGUuaXNBbm9ueW1vdXM7XG4gICAgICAgICAgICAgICAgaWYgKCFkZXB0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBub2RlIG1hdGNoZXMgYSBnaXZlbiBjb250ZXh04oCUYSBzZXF1ZW5jZVxuICAgIG9mIGRpcmVjdCBwYXJlbnQgbm9kZSBuYW1lcy4gRW1wdHkgc3RyaW5ncyBpbiB0aGUgY29udGV4dCBhcnJheVxuICAgIGFyZSB0cmVhdGVkIGFzIHdpbGRjYXJkcy5cbiAgICAqL1xuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLm5vZGUucGFyZW50LCBjb250ZXh0KTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlciwgeyB0eXBlcyB9ID0gYnVmZmVyLnNldDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbnRleHQubGVuZ3RoIC0gMSwgZCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBkLS0pIHtcbiAgICAgICAgICAgIGlmIChkIDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLl90cmVlLCBjb250ZXh0LCBpKTtcbiAgICAgICAgICAgIGxldCB0eXBlID0gdHlwZXNbYnVmZmVyLmJ1ZmZlclt0aGlzLnN0YWNrW2RdXV07XG4gICAgICAgICAgICBpZiAoIXR5cGUuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dFtpXSAmJiBjb250ZXh0W2ldICE9IHR5cGUubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYXNDaGlsZCh0cmVlKSB7XG4gICAgcmV0dXJuIHRyZWUuY2hpbGRyZW4uc29tZShjaCA9PiBjaCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHwgIWNoLnR5cGUuaXNBbm9ueW1vdXMgfHwgaGFzQ2hpbGQoY2gpKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkVHJlZShkYXRhKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCB7IGJ1ZmZlciwgbm9kZVNldCwgbWF4QnVmZmVyTGVuZ3RoID0gRGVmYXVsdEJ1ZmZlckxlbmd0aCwgcmV1c2VkID0gW10sIG1pblJlcGVhdFR5cGUgPSBub2RlU2V0LnR5cGVzLmxlbmd0aCB9ID0gZGF0YTtcbiAgICBsZXQgY3Vyc29yID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gbmV3IEZsYXRCdWZmZXJDdXJzb3IoYnVmZmVyLCBidWZmZXIubGVuZ3RoKSA6IGJ1ZmZlcjtcbiAgICBsZXQgdHlwZXMgPSBub2RlU2V0LnR5cGVzO1xuICAgIGxldCBjb250ZXh0SGFzaCA9IDAsIGxvb2tBaGVhZCA9IDA7XG4gICAgZnVuY3Rpb24gdGFrZU5vZGUocGFyZW50U3RhcnQsIG1pblBvcywgY2hpbGRyZW4sIHBvc2l0aW9ucywgaW5SZXBlYXQsIGRlcHRoKSB7XG4gICAgICAgIGxldCB7IGlkLCBzdGFydCwgZW5kLCBzaXplIH0gPSBjdXJzb3I7XG4gICAgICAgIGxldCBsb29rQWhlYWRBdFN0YXJ0ID0gbG9va0FoZWFkLCBjb250ZXh0QXRTdGFydCA9IGNvbnRleHRIYXNoO1xuICAgICAgICB3aGlsZSAoc2l6ZSA8IDApIHtcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoc2l6ZSA9PSAtMSAvKiBTcGVjaWFsUmVjb3JkLlJldXNlICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSByZXVzZWRbaWRdO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnQgLSBwYXJlbnRTdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pIHsgLy8gQ29udGV4dCBjaGFuZ2VcbiAgICAgICAgICAgICAgICBjb250ZXh0SGFzaCA9IGlkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTQgLyogU3BlY2lhbFJlY29yZC5Mb29rQWhlYWQgKi8pIHtcbiAgICAgICAgICAgICAgICBsb29rQWhlYWQgPSBpZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVW5yZWNvZ25pemVkIHJlY29yZCBzaXplOiAke3NpemV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpZF0sIG5vZGUsIGJ1ZmZlcjtcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gc3RhcnQgLSBwYXJlbnRTdGFydDtcbiAgICAgICAgaWYgKGVuZCAtIHN0YXJ0IDw9IG1heEJ1ZmZlckxlbmd0aCAmJiAoYnVmZmVyID0gZmluZEJ1ZmZlclNpemUoY3Vyc29yLnBvcyAtIG1pblBvcywgaW5SZXBlYXQpKSkge1xuICAgICAgICAgICAgLy8gU21hbGwgZW5vdWdoIGZvciBhIGJ1ZmZlciwgYW5kIG5vIHJldXNlZCBub2RlcyBpbnNpZGVcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlci5zaXplIC0gYnVmZmVyLnNraXApO1xuICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSBidWZmZXIuc2l6ZSwgaW5kZXggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJzb3IucG9zID4gZW5kUG9zKVxuICAgICAgICAgICAgICAgIGluZGV4ID0gY29weVRvQnVmZmVyKGJ1ZmZlci5zdGFydCwgZGF0YSwgaW5kZXgpO1xuICAgICAgICAgICAgbm9kZSA9IG5ldyBUcmVlQnVmZmVyKGRhdGEsIGVuZCAtIGJ1ZmZlci5zdGFydCwgbm9kZVNldCk7XG4gICAgICAgICAgICBzdGFydFBvcyA9IGJ1ZmZlci5zdGFydCAtIHBhcmVudFN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBNYWtlIGl0IGEgbm9kZVxuICAgICAgICAgICAgbGV0IGVuZFBvcyA9IGN1cnNvci5wb3MgLSBzaXplO1xuICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgICAgICAgICBsZXQgbG9jYWxJblJlcGVhdCA9IGlkID49IG1pblJlcGVhdFR5cGUgPyBpZCA6IC0xO1xuICAgICAgICAgICAgbGV0IGxhc3RHcm91cCA9IDAsIGxhc3RFbmQgPSBlbmQ7XG4gICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcykge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID49IDAgJiYgY3Vyc29yLmlkID09IGxvY2FsSW5SZXBlYXQgJiYgY3Vyc29yLnNpemUgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLmVuZCA8PSBsYXN0RW5kIC0gbWF4QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlUmVwZWF0TGVhZihsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgc3RhcnQsIGxhc3RHcm91cCwgY3Vyc29yLmVuZCwgbGFzdEVuZCwgbG9jYWxJblJlcGVhdCwgbG9va0FoZWFkQXRTdGFydCwgY29udGV4dEF0U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdyb3VwID0gbG9jYWxDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0RW5kID0gY3Vyc29yLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXB0aCA+IDI1MDAgLyogQ3V0T2ZmLkRlcHRoICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHRha2VGbGF0Tm9kZShzdGFydCwgZW5kUG9zLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YWtlTm9kZShzdGFydCwgZW5kUG9zLCBsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgbG9jYWxJblJlcGVhdCwgZGVwdGggKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+PSAwICYmIGxhc3RHcm91cCA+IDAgJiYgbGFzdEdyb3VwIDwgbG9jYWxDaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgbWFrZVJlcGVhdExlYWYobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIHN0YXJ0LCBsYXN0R3JvdXAsIHN0YXJ0LCBsYXN0RW5kLCBsb2NhbEluUmVwZWF0LCBsb29rQWhlYWRBdFN0YXJ0LCBjb250ZXh0QXRTdGFydCk7XG4gICAgICAgICAgICBsb2NhbENoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID4gLTEgJiYgbGFzdEdyb3VwID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBtYWtlID0gbWFrZUJhbGFuY2VkKHR5cGUsIGNvbnRleHRBdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBub2RlID0gYmFsYW5jZVJhbmdlKHR5cGUsIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCAwLCBsb2NhbENoaWxkcmVuLmxlbmd0aCwgMCwgZW5kIC0gc3RhcnQsIG1ha2UsIG1ha2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG1ha2VUcmVlKHR5cGUsIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBlbmQgLSBzdGFydCwgbG9va0FoZWFkQXRTdGFydCAtIGVuZCwgY29udGV4dEF0U3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKHN0YXJ0UG9zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGFrZUZsYXROb2RlKHBhcmVudFN0YXJ0LCBtaW5Qb3MsIGNoaWxkcmVuLCBwb3NpdGlvbnMpIHtcbiAgICAgICAgbGV0IG5vZGVzID0gW107IC8vIFRlbXBvcmFyeSwgaW52ZXJ0ZWQgYXJyYXkgb2YgbGVhZiBub2RlcyBmb3VuZCwgd2l0aCBhYnNvbHV0ZSBwb3NpdGlvbnNcbiAgICAgICAgbGV0IG5vZGVDb3VudCA9IDAsIHN0b3BBdCA9IC0xO1xuICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IG1pblBvcykge1xuICAgICAgICAgICAgbGV0IHsgaWQsIHN0YXJ0LCBlbmQsIHNpemUgfSA9IGN1cnNvcjtcbiAgICAgICAgICAgIGlmIChzaXplID4gNCkgeyAvLyBOb3QgYSBsZWFmXG4gICAgICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0b3BBdCA+IC0xICYmIHN0YXJ0IDwgc3RvcEF0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcEF0IDwgMClcbiAgICAgICAgICAgICAgICAgICAgc3RvcEF0ID0gZW5kIC0gbWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goaWQsIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgICAgIG5vZGVDb3VudCsrO1xuICAgICAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGVDb3VudCkge1xuICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShub2RlQ291bnQgKiA0KTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmxlbmd0aCAtIDMsIGogPSAwOyBpID49IDA7IGkgLT0gMykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltqKytdID0gbm9kZXNbaV07XG4gICAgICAgICAgICAgICAgYnVmZmVyW2orK10gPSBub2Rlc1tpICsgMV0gLSBzdGFydDtcbiAgICAgICAgICAgICAgICBidWZmZXJbaisrXSA9IG5vZGVzW2kgKyAyXSAtIHN0YXJ0O1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltqKytdID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobmV3IFRyZWVCdWZmZXIoYnVmZmVyLCBub2Rlc1syXSAtIHN0YXJ0LCBub2RlU2V0KSk7XG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaChzdGFydCAtIHBhcmVudFN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlQmFsYW5jZWQodHlwZSwgY29udGV4dEhhc2gpIHtcbiAgICAgICAgcmV0dXJuIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IHtcbiAgICAgICAgICAgIGxldCBsb29rQWhlYWQgPSAwLCBsYXN0SSA9IGNoaWxkcmVuLmxlbmd0aCAtIDEsIGxhc3QsIGxvb2tBaGVhZFByb3A7XG4gICAgICAgICAgICBpZiAobGFzdEkgPj0gMCAmJiAobGFzdCA9IGNoaWxkcmVuW2xhc3RJXSkgaW5zdGFuY2VvZiBUcmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0SSAmJiBsYXN0LnR5cGUgPT0gdHlwZSAmJiBsYXN0Lmxlbmd0aCA9PSBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0O1xuICAgICAgICAgICAgICAgIGlmIChsb29rQWhlYWRQcm9wID0gbGFzdC5wcm9wKE5vZGVQcm9wLmxvb2tBaGVhZCkpXG4gICAgICAgICAgICAgICAgICAgIGxvb2tBaGVhZCA9IHBvc2l0aW9uc1tsYXN0SV0gKyBsYXN0Lmxlbmd0aCArIGxvb2tBaGVhZFByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWFrZVRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBsb29rQWhlYWQsIGNvbnRleHRIYXNoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVJlcGVhdExlYWYoY2hpbGRyZW4sIHBvc2l0aW9ucywgYmFzZSwgaSwgZnJvbSwgdG8sIHR5cGUsIGxvb2tBaGVhZCwgY29udGV4dEhhc2gpIHtcbiAgICAgICAgbGV0IGxvY2FsQ2hpbGRyZW4gPSBbXSwgbG9jYWxQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgd2hpbGUgKGNoaWxkcmVuLmxlbmd0aCA+IGkpIHtcbiAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChjaGlsZHJlbi5wb3AoKSk7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5wdXNoKHBvc2l0aW9ucy5wb3AoKSArIGJhc2UgLSBmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG1ha2VUcmVlKG5vZGVTZXQudHlwZXNbdHlwZV0sIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCB0byAtIGZyb20sIGxvb2tBaGVhZCAtIHRvLCBjb250ZXh0SGFzaCkpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gYmFzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgbG9va0FoZWFkLCBjb250ZXh0SGFzaCwgcHJvcHMpIHtcbiAgICAgICAgaWYgKGNvbnRleHRIYXNoKSB7XG4gICAgICAgICAgICBsZXQgcGFpciA9IFtOb2RlUHJvcC5jb250ZXh0SGFzaCwgY29udGV4dEhhc2hdO1xuICAgICAgICAgICAgcHJvcHMgPSBwcm9wcyA/IFtwYWlyXS5jb25jYXQocHJvcHMpIDogW3BhaXJdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb29rQWhlYWQgPiAyNSkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSBbTm9kZVByb3AubG9va0FoZWFkLCBsb29rQWhlYWRdO1xuICAgICAgICAgICAgcHJvcHMgPSBwcm9wcyA/IFtwYWlyXS5jb25jYXQocHJvcHMpIDogW3BhaXJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIHByb3BzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEJ1ZmZlclNpemUobWF4U2l6ZSwgaW5SZXBlYXQpIHtcbiAgICAgICAgLy8gU2NhbiB0aHJvdWdoIHRoZSBidWZmZXIgdG8gZmluZCBwcmV2aW91cyBzaWJsaW5ncyB0aGF0IGZpdFxuICAgICAgICAvLyB0b2dldGhlciBpbiBhIFRyZWVCdWZmZXIsIGFuZCBkb24ndCBjb250YWluIGFueSByZXVzZWQgbm9kZXNcbiAgICAgICAgLy8gKHdoaWNoIGNhbid0IGJlIHN0b3JlZCBpbiBhIGJ1ZmZlcikuXG4gICAgICAgIC8vIElmIGBpblJlcGVhdGAgaXMgPiAtMSwgaWdub3JlIG5vZGUgYm91bmRhcmllcyBvZiB0aGF0IHR5cGUgZm9yXG4gICAgICAgIC8vIG5lc3RpbmcsIGJ1dCBtYWtlIHN1cmUgdGhlIGVuZCBmYWxscyBlaXRoZXIgYXQgdGhlIHN0YXJ0XG4gICAgICAgIC8vIChgbWF4U2l6ZWApIG9yIGJlZm9yZSBzdWNoIGEgbm9kZS5cbiAgICAgICAgbGV0IGZvcmsgPSBjdXJzb3IuZm9yaygpO1xuICAgICAgICBsZXQgc2l6ZSA9IDAsIHN0YXJ0ID0gMCwgc2tpcCA9IDAsIG1pblN0YXJ0ID0gZm9yay5lbmQgLSBtYXhCdWZmZXJMZW5ndGg7XG4gICAgICAgIGxldCByZXN1bHQgPSB7IHNpemU6IDAsIHN0YXJ0OiAwLCBza2lwOiAwIH07XG4gICAgICAgIHNjYW46IGZvciAobGV0IG1pblBvcyA9IGZvcmsucG9zIC0gbWF4U2l6ZTsgZm9yay5wb3MgPiBtaW5Qb3M7KSB7XG4gICAgICAgICAgICBsZXQgbm9kZVNpemUgPSBmb3JrLnNpemU7XG4gICAgICAgICAgICAvLyBQcmV0ZW5kIG5lc3RlZCByZXBlYXQgbm9kZXMgb2YgdGhlIHNhbWUgdHlwZSBkb24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKGZvcmsuaWQgPT0gaW5SZXBlYXQgJiYgbm9kZVNpemUgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEV4Y2VwdCB0aGF0IHdlIHN0b3JlIHRoZSBjdXJyZW50IHN0YXRlIGFzIGEgdmFsaWQgcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdmFsdWUuXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNpemUgPSBzaXplO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHJlc3VsdC5za2lwID0gc2tpcDtcbiAgICAgICAgICAgICAgICBza2lwICs9IDQ7XG4gICAgICAgICAgICAgICAgc2l6ZSArPSA0O1xuICAgICAgICAgICAgICAgIGZvcmsubmV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gZm9yay5wb3MgLSBub2RlU2l6ZTtcbiAgICAgICAgICAgIGlmIChub2RlU2l6ZSA8IDAgfHwgc3RhcnRQb3MgPCBtaW5Qb3MgfHwgZm9yay5zdGFydCA8IG1pblN0YXJ0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IGxvY2FsU2tpcHBlZCA9IGZvcmsuaWQgPj0gbWluUmVwZWF0VHlwZSA/IDQgOiAwO1xuICAgICAgICAgICAgbGV0IG5vZGVTdGFydCA9IGZvcmsuc3RhcnQ7XG4gICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgIHdoaWxlIChmb3JrLnBvcyA+IHN0YXJ0UG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmsuc2l6ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmsuc2l6ZSA9PSAtMyAvKiBTcGVjaWFsUmVjb3JkLkNvbnRleHRDaGFuZ2UgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFNraXBwZWQgKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9yay5pZCA+PSBtaW5SZXBlYXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU2tpcHBlZCArPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3JrLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gbm9kZVN0YXJ0O1xuICAgICAgICAgICAgc2l6ZSArPSBub2RlU2l6ZTtcbiAgICAgICAgICAgIHNraXAgKz0gbG9jYWxTa2lwcGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpblJlcGVhdCA8IDAgfHwgc2l6ZSA9PSBtYXhTaXplKSB7XG4gICAgICAgICAgICByZXN1bHQuc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICByZXN1bHQuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIHJlc3VsdC5za2lwID0gc2tpcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnNpemUgPiA0ID8gcmVzdWx0IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5VG9CdWZmZXIoYnVmZmVyU3RhcnQsIGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHsgaWQsIHN0YXJ0LCBlbmQsIHNpemUgfSA9IGN1cnNvcjtcbiAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgaWYgKHNpemUgPj0gMCAmJiBpZCA8IG1pblJlcGVhdFR5cGUpIHtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICBpZiAoc2l6ZSA+IDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kUG9zID0gY3Vyc29yLnBvcyAtIChzaXplIC0gNCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29weVRvQnVmZmVyKGJ1ZmZlclN0YXJ0LCBidWZmZXIsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IHN0YXJ0SW5kZXg7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBlbmQgLSBidWZmZXJTdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IHN0YXJ0IC0gYnVmZmVyU3RhcnQ7XG4gICAgICAgICAgICBidWZmZXJbLS1pbmRleF0gPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09IC0zIC8qIFNwZWNpYWxSZWNvcmQuQ29udGV4dENoYW5nZSAqLykge1xuICAgICAgICAgICAgY29udGV4dEhhc2ggPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplID09IC00IC8qIFNwZWNpYWxSZWNvcmQuTG9va0FoZWFkICovKSB7XG4gICAgICAgICAgICBsb29rQWhlYWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IDApXG4gICAgICAgIHRha2VOb2RlKGRhdGEuc3RhcnQgfHwgMCwgZGF0YS5idWZmZXJTdGFydCB8fCAwLCBjaGlsZHJlbiwgcG9zaXRpb25zLCAtMSwgMCk7XG4gICAgbGV0IGxlbmd0aCA9IChfYSA9IGRhdGEubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoY2hpbGRyZW4ubGVuZ3RoID8gcG9zaXRpb25zWzBdICsgY2hpbGRyZW5bMF0ubGVuZ3RoIDogMCk7XG4gICAgcmV0dXJuIG5ldyBUcmVlKHR5cGVzW2RhdGEudG9wSURdLCBjaGlsZHJlbi5yZXZlcnNlKCksIHBvc2l0aW9ucy5yZXZlcnNlKCksIGxlbmd0aCk7XG59XG5jb25zdCBub2RlU2l6ZUNhY2hlID0gbmV3IFdlYWtNYXA7XG5mdW5jdGlvbiBub2RlU2l6ZShiYWxhbmNlVHlwZSwgbm9kZSkge1xuICAgIGlmICghYmFsYW5jZVR5cGUuaXNBbm9ueW1vdXMgfHwgbm9kZSBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHwgbm9kZS50eXBlICE9IGJhbGFuY2VUeXBlKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBsZXQgc2l6ZSA9IG5vZGVTaXplQ2FjaGUuZ2V0KG5vZGUpO1xuICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9IGJhbGFuY2VUeXBlIHx8ICEoY2hpbGQgaW5zdGFuY2VvZiBUcmVlKSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2l6ZSArPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVTaXplQ2FjaGUuc2V0KG5vZGUsIHNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn1cbmZ1bmN0aW9uIGJhbGFuY2VSYW5nZShcbi8vIFRoZSB0eXBlIHRoZSBiYWxhbmNlZCB0cmVlJ3MgaW5uZXIgbm9kZXMuXG5iYWxhbmNlVHlwZSwgXG4vLyBUaGUgZGlyZWN0IGNoaWxkcmVuIGFuZCB0aGVpciBwb3NpdGlvbnNcbmNoaWxkcmVuLCBwb3NpdGlvbnMsIFxuLy8gVGhlIGluZGV4IHJhbmdlIGluIGNoaWxkcmVuL3Bvc2l0aW9ucyB0byB1c2VcbmZyb20sIHRvLCBcbi8vIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgbm9kZXMsIHJlbGF0aXZlIHRvIHRoZWlyIHBhcmVudC5cbnN0YXJ0LCBcbi8vIExlbmd0aCBvZiB0aGUgb3V0ZXIgbm9kZVxubGVuZ3RoLCBcbi8vIEZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSB0b3Agbm9kZSBvZiB0aGUgYmFsYW5jZWQgdHJlZVxubWtUb3AsIFxuLy8gRnVuY3Rpb24gdG8gYnVpbGQgaW50ZXJuYWwgbm9kZXMgZm9yIHRoZSBiYWxhbmNlZCB0cmVlXG5ta1RyZWUpIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKylcbiAgICAgICAgdG90YWwgKz0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICBsZXQgbWF4Q2hpbGQgPSBNYXRoLmNlaWwoKHRvdGFsICogMS41KSAvIDggLyogQmFsYW5jZS5CcmFuY2hGYWN0b3IgKi8pO1xuICAgIGxldCBsb2NhbENoaWxkcmVuID0gW10sIGxvY2FsUG9zaXRpb25zID0gW107XG4gICAgZnVuY3Rpb24gZGl2aWRlKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGZyb20sIHRvLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzspIHtcbiAgICAgICAgICAgIGxldCBncm91cEZyb20gPSBpLCBncm91cFN0YXJ0ID0gcG9zaXRpb25zW2ldLCBncm91cFNpemUgPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgZm9yICg7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRTaXplID0gbm9kZVNpemUoYmFsYW5jZVR5cGUsIGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBTaXplICsgbmV4dFNpemUgPj0gbWF4Q2hpbGQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZSArPSBuZXh0U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID09IGdyb3VwRnJvbSArIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBTaXplID4gbWF4Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9ubHkgPSBjaGlsZHJlbltncm91cEZyb21dOyAvLyBPbmx5IHRyZWVzIGNhbiBoYXZlIGEgc2l6ZSA+IDFcbiAgICAgICAgICAgICAgICAgICAgZGl2aWRlKG9ubHkuY2hpbGRyZW4sIG9ubHkucG9zaXRpb25zLCAwLCBvbmx5LmNoaWxkcmVuLmxlbmd0aCwgcG9zaXRpb25zW2dyb3VwRnJvbV0gKyBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5wdXNoKGNoaWxkcmVuW2dyb3VwRnJvbV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IHBvc2l0aW9uc1tpIC0gMV0gKyBjaGlsZHJlbltpIC0gMV0ubGVuZ3RoIC0gZ3JvdXBTdGFydDtcbiAgICAgICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goYmFsYW5jZVJhbmdlKGJhbGFuY2VUeXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBncm91cEZyb20sIGksIGdyb3VwU3RhcnQsIGxlbmd0aCwgbnVsbCwgbWtUcmVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5wdXNoKGdyb3VwU3RhcnQgKyBvZmZzZXQgLSBzdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGl2aWRlKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGZyb20sIHRvLCAwKTtcbiAgICByZXR1cm4gKG1rVG9wIHx8IG1rVHJlZSkobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxlbmd0aCk7XG59XG4vKipcblByb3ZpZGVzIGEgd2F5IHRvIGFzc29jaWF0ZSB2YWx1ZXMgd2l0aCBwaWVjZXMgb2YgdHJlZXMuIEFzIGxvbmdcbmFzIHRoYXQgcGFydCBvZiB0aGUgdHJlZSBpcyByZXVzZWQsIHRoZSBhc3NvY2lhdGVkIHZhbHVlcyBjYW4gYmVcbnJldHJpZXZlZCBmcm9tIGFuIHVwZGF0ZWQgdHJlZS5cbiovXG5jbGFzcyBOb2RlV2Vha01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgc2V0QnVmZmVyKGJ1ZmZlciwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMubWFwLmdldChidWZmZXIpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KGJ1ZmZlciwgaW5uZXIgPSBuZXcgTWFwKTtcbiAgICAgICAgaW5uZXIuc2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldEJ1ZmZlcihidWZmZXIsIGluZGV4KSB7XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMubWFwLmdldChidWZmZXIpO1xuICAgICAgICByZXR1cm4gaW5uZXIgJiYgaW5uZXIuZ2V0KGluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2V0IHRoZSB2YWx1ZSBmb3IgdGhpcyBzeW50YXggbm9kZS5cbiAgICAqL1xuICAgIHNldChub2RlLCB2YWx1ZSkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJ1ZmZlck5vZGUpXG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihub2RlLmNvbnRleHQuYnVmZmVyLCBub2RlLmluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBUcmVlTm9kZSlcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChub2RlLnRyZWUsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdmFsdWUgZm9yIHRoaXMgc3ludGF4IG5vZGUsIGlmIGl0IGV4aXN0cyBpbiB0aGUgbWFwLlxuICAgICovXG4gICAgZ2V0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlID8gdGhpcy5nZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleClcbiAgICAgICAgICAgIDogbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlID8gdGhpcy5tYXAuZ2V0KG5vZGUudHJlZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFNldCB0aGUgdmFsdWUgZm9yIHRoZSBub2RlIHRoYXQgYSBjdXJzb3IgY3VycmVudGx5IHBvaW50cyB0by5cbiAgICAqL1xuICAgIGN1cnNvclNldChjdXJzb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChjdXJzb3IuYnVmZmVyKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIoY3Vyc29yLmJ1ZmZlci5idWZmZXIsIGN1cnNvci5pbmRleCwgdmFsdWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoY3Vyc29yLnRyZWUsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHNcbiAgICB0by5cbiAgICAqL1xuICAgIGN1cnNvckdldChjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuIGN1cnNvci5idWZmZXIgPyB0aGlzLmdldEJ1ZmZlcihjdXJzb3IuYnVmZmVyLmJ1ZmZlciwgY3Vyc29yLmluZGV4KSA6IHRoaXMubWFwLmdldChjdXJzb3IudHJlZSk7XG4gICAgfVxufVxuXG4vKipcblRyZWUgZnJhZ21lbnRzIGFyZSB1c2VkIGR1cmluZyBbaW5jcmVtZW50YWxcbnBhcnNpbmddKCNjb21tb24uUGFyc2VyLnN0YXJ0UGFyc2UpIHRvIHRyYWNrIHBhcnRzIG9mIG9sZCB0cmVlc1xudGhhdCBjYW4gYmUgcmV1c2VkIGluIGEgbmV3IHBhcnNlLiBBbiBhcnJheSBvZiBmcmFnbWVudHMgaXMgdXNlZFxudG8gdHJhY2sgcmVnaW9ucyBvZiBhbiBvbGQgdHJlZSB3aG9zZSBub2RlcyBtaWdodCBiZSByZXVzZWQgaW4gbmV3XG5wYXJzZXMuIFVzZSB0aGUgc3RhdGljXG5bYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgbWV0aG9kIHRvXG51cGRhdGUgZnJhZ21lbnRzIGZvciBkb2N1bWVudCBjaGFuZ2VzLlxuKi9cbmNsYXNzIFRyZWVGcmFnbWVudCB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgdHJlZSBmcmFnbWVudC4gWW91J2xsIHVzdWFsbHkgd2FudCB0byB1c2VcbiAgICBbYGFkZFRyZWVgXSgjY29tbW9uLlRyZWVGcmFnbWVudF5hZGRUcmVlKSBhbmRcbiAgICBbYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgaW5zdGVhZCBvZlxuICAgIGNhbGxpbmcgdGhpcyBkaXJlY3RseS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGFydCBvZiB0aGUgdW5jaGFuZ2VkIHJhbmdlIHBvaW50ZWQgdG8gYnkgdGhpcyBmcmFnbWVudC5cbiAgICBUaGlzIHJlZmVycyB0byBhbiBvZmZzZXQgaW4gdGhlIF91cGRhdGVkXyBkb2N1bWVudCAoYXMgb3Bwb3NlZFxuICAgIHRvIHRoZSBvcmlnaW5hbCB0cmVlKS5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIHVuY2hhbmdlZCByYW5nZS5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBUaGUgdHJlZSB0aGF0IHRoaXMgZnJhZ21lbnQgaXMgYmFzZWQgb24uXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBUaGUgb2Zmc2V0IGJldHdlZW4gdGhlIGZyYWdtZW50J3MgdHJlZSBhbmQgdGhlIGRvY3VtZW50IHRoYXRcbiAgICB0aGlzIGZyYWdtZW50IGNhbiBiZSB1c2VkIGFnYWluc3QuIEFkZCB0aGlzIHdoZW4gZ29pbmcgZnJvbVxuICAgIGRvY3VtZW50IHRvIHRyZWUgcG9zaXRpb25zLCBzdWJ0cmFjdCBpdCB0byBnbyBmcm9tIHRyZWUgdG9cbiAgICBkb2N1bWVudCBwb3NpdGlvbnMuXG4gICAgKi9cbiAgICBvZmZzZXQsIG9wZW5TdGFydCA9IGZhbHNlLCBvcGVuRW5kID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5vcGVuID0gKG9wZW5TdGFydCA/IDEgLyogT3Blbi5TdGFydCAqLyA6IDApIHwgKG9wZW5FbmQgPyAyIC8qIE9wZW4uRW5kICovIDogMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHN0YXJ0IG9mIHRoZSBmcmFnbWVudCByZXByZXNlbnRzIHRoZSBzdGFydCBvZiBhXG4gICAgcGFyc2UsIG9yIHRoZSBlbmQgb2YgYSBjaGFuZ2UuIChJbiB0aGUgc2Vjb25kIGNhc2UsIGl0IG1heSBub3RcbiAgICBiZSBzYWZlIHRvIHJldXNlIHNvbWUgbm9kZXMgYXQgdGhlIHN0YXJ0LCBkZXBlbmRpbmcgb24gdGhlXG4gICAgcGFyc2luZyBhbGdvcml0aG0uKVxuICAgICovXG4gICAgZ2V0IG9wZW5TdGFydCgpIHsgcmV0dXJuICh0aGlzLm9wZW4gJiAxIC8qIE9wZW4uU3RhcnQgKi8pID4gMDsgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgZW5kIG9mIGFcbiAgICBmdWxsLWRvY3VtZW50IHBhcnNlLCBvciB0aGUgc3RhcnQgb2YgYSBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgb3BlbkVuZCgpIHsgcmV0dXJuICh0aGlzLm9wZW4gJiAyIC8qIE9wZW4uRW5kICovKSA+IDA7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZXQgb2YgZnJhZ21lbnRzIGZyb20gYSBmcmVzaGx5IHBhcnNlZCB0cmVlLCBvciB1cGRhdGVcbiAgICBhbiBleGlzdGluZyBzZXQgb2YgZnJhZ21lbnRzIGJ5IHJlcGxhY2luZyB0aGUgb25lcyB0aGF0IG92ZXJsYXBcbiAgICB3aXRoIGEgdHJlZSB3aXRoIGNvbnRlbnQgZnJvbSB0aGUgbmV3IHRyZWUuIFdoZW4gYHBhcnRpYWxgIGlzXG4gICAgdHJ1ZSwgdGhlIHBhcnNlIGlzIHRyZWF0ZWQgYXMgaW5jb21wbGV0ZSwgYW5kIHRoZSByZXN1bHRpbmdcbiAgICBmcmFnbWVudCBoYXMgW2BvcGVuRW5kYF0oI2NvbW1vbi5UcmVlRnJhZ21lbnQub3BlbkVuZCkgc2V0IHRvXG4gICAgdHJ1ZS5cbiAgICAqL1xuICAgIHN0YXRpYyBhZGRUcmVlKHRyZWUsIGZyYWdtZW50cyA9IFtdLCBwYXJ0aWFsID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtuZXcgVHJlZUZyYWdtZW50KDAsIHRyZWUubGVuZ3RoLCB0cmVlLCAwLCBmYWxzZSwgcGFydGlhbCldO1xuICAgICAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cylcbiAgICAgICAgICAgIGlmIChmLnRvID4gdHJlZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEFwcGx5IGEgc2V0IG9mIGVkaXRzIHRvIGFuIGFycmF5IG9mIGZyYWdtZW50cywgcmVtb3Zpbmcgb3JcbiAgICBzcGxpdHRpbmcgZnJhZ21lbnRzIGFzIG5lY2Vzc2FyeSB0byByZW1vdmUgZWRpdGVkIHJhbmdlcywgYW5kXG4gICAgYWRqdXN0aW5nIG9mZnNldHMgZm9yIGZyYWdtZW50cyB0aGF0IG1vdmVkLlxuICAgICovXG4gICAgc3RhdGljIGFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIGNoYW5nZXMsIG1pbkdhcCA9IDEyOCkge1xuICAgICAgICBpZiAoIWNoYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgZkkgPSAxLCBuZXh0RiA9IGZyYWdtZW50cy5sZW5ndGggPyBmcmFnbWVudHNbMF0gOiBudWxsO1xuICAgICAgICBmb3IgKGxldCBjSSA9IDAsIHBvcyA9IDAsIG9mZiA9IDA7OyBjSSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dEMgPSBjSSA8IGNoYW5nZXMubGVuZ3RoID8gY2hhbmdlc1tjSV0gOiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHRQb3MgPSBuZXh0QyA/IG5leHRDLmZyb21BIDogMWU5O1xuICAgICAgICAgICAgaWYgKG5leHRQb3MgLSBwb3MgPj0gbWluR2FwKVxuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0RiAmJiBuZXh0Ri5mcm9tIDwgbmV4dFBvcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3V0ID0gbmV4dEY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gY3V0LmZyb20gfHwgbmV4dFBvcyA8PSBjdXQudG8gfHwgb2ZmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZkZyb20gPSBNYXRoLm1heChjdXQuZnJvbSwgcG9zKSAtIG9mZiwgZlRvID0gTWF0aC5taW4oY3V0LnRvLCBuZXh0UG9zKSAtIG9mZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1dCA9IGZGcm9tID49IGZUbyA/IG51bGwgOiBuZXcgVHJlZUZyYWdtZW50KGZGcm9tLCBmVG8sIGN1dC50cmVlLCBjdXQub2Zmc2V0ICsgb2ZmLCBjSSA+IDAsICEhbmV4dEMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEYudG8gPiBuZXh0UG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIG5leHRGID0gZkkgPCBmcmFnbWVudHMubGVuZ3RoID8gZnJhZ21lbnRzW2ZJKytdIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHRDKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gbmV4dEMudG9BO1xuICAgICAgICAgICAgb2ZmID0gbmV4dEMudG9BIC0gbmV4dEMudG9CO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5BIHN1cGVyY2xhc3MgdGhhdCBwYXJzZXJzIHNob3VsZCBleHRlbmQuXG4qL1xuY2xhc3MgUGFyc2VyIHtcbiAgICAvKipcbiAgICBTdGFydCBhIHBhcnNlLCByZXR1cm5pbmcgYSBbcGFydGlhbCBwYXJzZV0oI2NvbW1vbi5QYXJ0aWFsUGFyc2UpXG4gICAgb2JqZWN0LiBbYGZyYWdtZW50c2BdKCNjb21tb24uVHJlZUZyYWdtZW50KSBjYW4gYmUgcGFzc2VkIGluIHRvXG4gICAgbWFrZSB0aGUgcGFyc2UgaW5jcmVtZW50YWwuXG4gICAgXG4gICAgQnkgZGVmYXVsdCwgdGhlIGVudGlyZSBpbnB1dCBpcyBwYXJzZWQuIFlvdSBjYW4gcGFzcyBgcmFuZ2VzYCxcbiAgICB3aGljaCBzaG91bGQgYmUgYSBzb3J0ZWQgYXJyYXkgb2Ygbm9uLWVtcHR5LCBub24tb3ZlcmxhcHBpbmdcbiAgICByYW5nZXMsIHRvIHBhcnNlIG9ubHkgdGhvc2UgcmFuZ2VzLiBUaGUgdHJlZSByZXR1cm5lZCBpbiB0aGF0XG4gICAgY2FzZSB3aWxsIHN0YXJ0IGF0IGByYW5nZXNbMF0uZnJvbWAuXG4gICAgKi9cbiAgICBzdGFydFBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBpbnB1dCA9IG5ldyBTdHJpbmdJbnB1dChpbnB1dCk7XG4gICAgICAgIHJhbmdlcyA9ICFyYW5nZXMgPyBbbmV3IFJhbmdlKDAsIGlucHV0Lmxlbmd0aCldIDogcmFuZ2VzLmxlbmd0aCA/IHJhbmdlcy5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tLCByLnRvKSkgOiBbbmV3IFJhbmdlKDAsIDApXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUGFyc2UoaW5wdXQsIGZyYWdtZW50cyB8fCBbXSwgcmFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUnVuIGEgZnVsbCBwYXJzZSwgcmV0dXJuaW5nIHRoZSByZXN1bHRpbmcgdHJlZS5cbiAgICAqL1xuICAgIHBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBsZXQgcGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBwYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFN0cmluZ0lucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICBjaHVuayhmcm9tKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tKTsgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICByZWFkKGZyb20sIHRvKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tLCB0byk7IH1cbn1cblxuLyoqXG5DcmVhdGUgYSBwYXJzZSB3cmFwcGVyIHRoYXQsIGFmdGVyIHRoZSBpbm5lciBwYXJzZSBjb21wbGV0ZXMsXG5zY2FucyBpdHMgdHJlZSBmb3IgbWl4ZWQgbGFuZ3VhZ2UgcmVnaW9ucyB3aXRoIHRoZSBgbmVzdGBcbmZ1bmN0aW9uLCBydW5zIHRoZSByZXN1bHRpbmcgW2lubmVyIHBhcnNlc10oI2NvbW1vbi5OZXN0ZWRQYXJzZSksXG5hbmQgdGhlbiBbbW91bnRzXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIHRoZWlyIHJlc3VsdHMgb250byB0aGVcbnRyZWUuXG4qL1xuZnVuY3Rpb24gcGFyc2VNaXhlZChuZXN0KSB7XG4gICAgcmV0dXJuIChwYXJzZSwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSA9PiBuZXcgTWl4ZWRQYXJzZShwYXJzZSwgbmVzdCwgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbn1cbmNsYXNzIElubmVyUGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgcGFyc2UsIG92ZXJsYXksIHRhcmdldCwgZnJvbSkge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHBhcnNlO1xuICAgICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1JhbmdlcyhyYW5nZXMpIHtcbiAgICBpZiAoIXJhbmdlcy5sZW5ndGggfHwgcmFuZ2VzLnNvbWUociA9PiByLmZyb20gPj0gci50bykpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbm5lciBwYXJzZSByYW5nZXMgZ2l2ZW46IFwiICsgSlNPTi5zdHJpbmdpZnkocmFuZ2VzKSk7XG59XG5jbGFzcyBBY3RpdmVPdmVybGF5IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIHByZWRpY2F0ZSwgbW91bnRzLCBpbmRleCwgc3RhcnQsIHRhcmdldCwgcHJldikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMubW91bnRzID0gbW91bnRzO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgICAgIHRoaXMuZGVwdGggPSAwO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IFtdO1xuICAgIH1cbn1cbmNvbnN0IHN0b3BwZWRJbm5lciA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG5jbGFzcyBNaXhlZFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBuZXN0LCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5uZXN0ID0gbmVzdDtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBbXTtcbiAgICAgICAgdGhpcy5pbm5lckRvbmUgPSAwO1xuICAgICAgICB0aGlzLmJhc2VUcmVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VQYXJzZSA9IGJhc2U7XG4gICAgfVxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VQYXJzZSkge1xuICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLmJhc2VQYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICBpZiAoIWRvbmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXJzZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJhc2VUcmVlID0gZG9uZTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRJbm5lcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5uZXIgb2YgdGhpcy5pbm5lcilcbiAgICAgICAgICAgICAgICAgICAgaW5uZXIucGFyc2Uuc3RvcEF0KHRoaXMuc3RvcHBlZEF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbm5lckRvbmUgPT0gdGhpcy5pbm5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmJhc2VUcmVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZEF0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRyZWUocmVzdWx0LnR5cGUsIHJlc3VsdC5jaGlsZHJlbiwgcmVzdWx0LnBvc2l0aW9ucywgcmVzdWx0Lmxlbmd0aCwgcmVzdWx0LnByb3BWYWx1ZXMuY29uY2F0KFtbc3RvcHBlZElubmVyLCB0aGlzLnN0b3BwZWRBdF1dKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbm5lciA9IHRoaXMuaW5uZXJbdGhpcy5pbm5lckRvbmVdLCBkb25lID0gaW5uZXIucGFyc2UuYWR2YW5jZSgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5pbm5lckRvbmUrKztcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBzb21ld2hhdCBkb2RneSBidXQgc3VwZXIgaGVscGZ1bCBoYWNrIHdoZXJlIHdlXG4gICAgICAgICAgICAvLyBwYXRjaCB1cCBub2RlcyBjcmVhdGVkIGJ5IHRoZSBpbm5lciBwYXJzZSAoYW5kIHRodXNcbiAgICAgICAgICAgIC8vIHByZXN1bWFibHkgbm90IGFsaWFzZWQgYW55d2hlcmUgZWxzZSkgdG8gaG9sZCB0aGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIC8vIGFib3V0IHRoZSBpbm5lciBwYXJzZS5cbiAgICAgICAgICAgIGxldCBwcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgaW5uZXIudGFyZ2V0LnByb3BzKTtcbiAgICAgICAgICAgIHByb3BzW05vZGVQcm9wLm1vdW50ZWQuaWRdID0gbmV3IE1vdW50ZWRUcmVlKGRvbmUsIGlubmVyLm92ZXJsYXksIGlubmVyLnBhcnNlcik7XG4gICAgICAgICAgICBpbm5lci50YXJnZXQucHJvcHMgPSBwcm9wcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHBhcnNlZFBvcygpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmlucHV0Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5uZXJEb25lOyBpIDwgdGhpcy5pbm5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5uZXJbaV0uZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1pbihwb3MsIHRoaXMuaW5uZXJbaV0ucGFyc2UucGFyc2VkUG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdG9wQXQocG9zKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpXG4gICAgICAgICAgICB0aGlzLmJhc2VQYXJzZS5zdG9wQXQocG9zKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5uZXJEb25lOyBpIDwgdGhpcy5pbm5lci5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyW2ldLnBhcnNlLnN0b3BBdChwb3MpO1xuICAgIH1cbiAgICBzdGFydElubmVyKCkge1xuICAgICAgICBsZXQgZnJhZ21lbnRDdXJzb3IgPSBuZXcgRnJhZ21lbnRDdXJzb3IodGhpcy5mcmFnbWVudHMpO1xuICAgICAgICBsZXQgb3ZlcmxheSA9IG51bGw7XG4gICAgICAgIGxldCBjb3ZlcmVkID0gbnVsbDtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKG5ldyBUcmVlTm9kZSh0aGlzLmJhc2VUcmVlLCB0aGlzLnJhbmdlc1swXS5mcm9tLCAwLCBudWxsKSwgSXRlck1vZGUuSW5jbHVkZUFub255bW91cyB8IEl0ZXJNb2RlLklnbm9yZU1vdW50cyk7XG4gICAgICAgIHNjYW46IGZvciAobGV0IG5lc3QsIGlzQ292ZXJlZDs7KSB7XG4gICAgICAgICAgICBsZXQgZW50ZXIgPSB0cnVlLCByYW5nZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsICYmIGN1cnNvci5mcm9tID49IHRoaXMuc3RvcHBlZEF0KSB7XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyYWdtZW50Q3Vyc29yLmhhc05vZGUoY3Vyc29yKSkge1xuICAgICAgICAgICAgICAgIGlmIChvdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaCA9IG92ZXJsYXkubW91bnRzLmZpbmQobSA9PiBtLmZyYWcuZnJvbSA8PSBjdXJzb3IuZnJvbSAmJiBtLmZyYWcudG8gPj0gY3Vyc29yLnRvICYmIG0ubW91bnQub3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2YgbWF0Y2gubW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcm9tID0gci5mcm9tICsgbWF0Y2gucG9zLCB0byA9IHIudG8gKyBtYXRjaC5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPj0gY3Vyc29yLmZyb20gJiYgdG8gPD0gY3Vyc29yLnRvICYmICFvdmVybGF5LnJhbmdlcy5zb21lKHIgPT4gci5mcm9tIDwgdG8gJiYgci50byA+IGZyb20pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb3ZlcmVkICYmIChpc0NvdmVyZWQgPSBjaGVja0NvdmVyKGNvdmVyZWQucmFuZ2VzLCBjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKSkpIHtcbiAgICAgICAgICAgICAgICBlbnRlciA9IGlzQ292ZXJlZCAhPSAyIC8qIENvdmVyLkZ1bGwgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY3Vyc29yLnR5cGUuaXNBbm9ueW1vdXMgJiYgKG5lc3QgPSB0aGlzLm5lc3QoY3Vyc29yLCB0aGlzLmlucHV0KSkgJiZcbiAgICAgICAgICAgICAgICAoY3Vyc29yLmZyb20gPCBjdXJzb3IudG8gfHwgIW5lc3Qub3ZlcmxheSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnNvci50cmVlKVxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbGl6ZShjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGxldCBvbGRNb3VudHMgPSBmcmFnbWVudEN1cnNvci5maW5kTW91bnRzKGN1cnNvci5mcm9tLCBuZXN0LnBhcnNlcik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXN0Lm92ZXJsYXkgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkgPSBuZXcgQWN0aXZlT3ZlcmxheShuZXN0LnBhcnNlciwgbmVzdC5vdmVybGF5LCBvbGRNb3VudHMsIHRoaXMuaW5uZXIubGVuZ3RoLCBjdXJzb3IuZnJvbSwgY3Vyc29yLnRyZWUsIG92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlcyA9IHB1bmNoUmFuZ2VzKHRoaXMucmFuZ2VzLCBuZXN0Lm92ZXJsYXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChjdXJzb3IuZnJvbSA8IGN1cnNvci50byA/IFtuZXcgUmFuZ2UoY3Vyc29yLmZyb20sIGN1cnNvci50byldIDogW10pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1JhbmdlcyhyYW5nZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCB8fCAhbmVzdC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lci5wdXNoKG5ldyBJbm5lclBhcnNlKG5lc3QucGFyc2VyLCByYW5nZXMubGVuZ3RoID8gbmVzdC5wYXJzZXIuc3RhcnRQYXJzZSh0aGlzLmlucHV0LCBlbnRlckZyYWdtZW50cyhvbGRNb3VudHMsIHJhbmdlcyksIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5lc3QucGFyc2VyLnN0YXJ0UGFyc2UoXCJcIiksIG5lc3Qub3ZlcmxheSA/IG5lc3Qub3ZlcmxheS5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tIC0gY3Vyc29yLmZyb20sIHIudG8gLSBjdXJzb3IuZnJvbSkpIDogbnVsbCwgY3Vyc29yLnRyZWUsIHJhbmdlcy5sZW5ndGggPyByYW5nZXNbMF0uZnJvbSA6IGN1cnNvci5mcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmVzdC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSB7IHJhbmdlcywgZGVwdGg6IDAsIHByZXY6IGNvdmVyZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvdmVybGF5ICYmIChyYW5nZSA9IG92ZXJsYXkucHJlZGljYXRlKGN1cnNvcikpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA8IHJhbmdlLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gb3ZlcmxheS5yYW5nZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3QgPj0gMCAmJiBvdmVybGF5LnJhbmdlc1tsYXN0XS50byA9PSByYW5nZS5mcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yYW5nZXNbbGFzdF0gPSB7IGZyb206IG92ZXJsYXkucmFuZ2VzW2xhc3RdLmZyb20sIHRvOiByYW5nZS50byB9O1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW50ZXIgJiYgY3Vyc29yLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgICAgIGlmIChvdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LmRlcHRoKys7XG4gICAgICAgICAgICAgICAgaWYgKGNvdmVyZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvdmVyZWQuZGVwdGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJsYXkgJiYgIS0tb3ZlcmxheS5kZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlcyA9IHB1bmNoUmFuZ2VzKHRoaXMucmFuZ2VzLCBvdmVybGF5LnJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrUmFuZ2VzKHJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lci5zcGxpY2Uob3ZlcmxheS5pbmRleCwgMCwgbmV3IElubmVyUGFyc2Uob3ZlcmxheS5wYXJzZXIsIG92ZXJsYXkucGFyc2VyLnN0YXJ0UGFyc2UodGhpcy5pbnB1dCwgZW50ZXJGcmFnbWVudHMob3ZlcmxheS5tb3VudHMsIHJhbmdlcyksIHJhbmdlcyksIG92ZXJsYXkucmFuZ2VzLm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gLSBvdmVybGF5LnN0YXJ0LCByLnRvIC0gb3ZlcmxheS5zdGFydCkpLCBvdmVybGF5LnRhcmdldCwgcmFuZ2VzWzBdLmZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXkgPSBvdmVybGF5LnByZXY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdmVyZWQgJiYgIS0tY292ZXJlZC5kZXB0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBjb3ZlcmVkLnByZXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tDb3Zlcihjb3ZlcmVkLCBmcm9tLCB0bykge1xuICAgIGZvciAobGV0IHJhbmdlIG9mIGNvdmVyZWQpIHtcbiAgICAgICAgaWYgKHJhbmdlLmZyb20gPj0gdG8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKHJhbmdlLnRvID4gZnJvbSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5mcm9tIDw9IGZyb20gJiYgcmFuZ2UudG8gPj0gdG8gPyAyIC8qIENvdmVyLkZ1bGwgKi8gOiAxIC8qIENvdmVyLlBhcnRpYWwgKi87XG4gICAgfVxuICAgIHJldHVybiAwIC8qIENvdmVyLk5vbmUgKi87XG59XG4vLyBUYWtlIGEgcGllY2Ugb2YgYnVmZmVyIGFuZCBjb252ZXJ0IGl0IGludG8gYSBzdGFuZC1hbG9uZVxuLy8gVHJlZUJ1ZmZlci5cbmZ1bmN0aW9uIHNsaWNlQnVmKGJ1Ziwgc3RhcnRJLCBlbmRJLCBub2RlcywgcG9zaXRpb25zLCBvZmYpIHtcbiAgICBpZiAoc3RhcnRJIDwgZW5kSSkge1xuICAgICAgICBsZXQgZnJvbSA9IGJ1Zi5idWZmZXJbc3RhcnRJICsgMV07XG4gICAgICAgIG5vZGVzLnB1c2goYnVmLnNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gb2ZmKTtcbiAgICB9XG59XG4vLyBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgbm9kZSB0aGF0J3MgaW4gYSBidWZmZXIsIGFuZCBjb252ZXJ0cyBpdCwgYW5kXG4vLyBpdHMgcGFyZW50IGJ1ZmZlciBub2RlcywgaW50byBhIFRyZWUuIFRoaXMgaXMgYWdhaW4gYWN0aW5nIG9uIHRoZVxuLy8gYXNzdW1wdGlvbiB0aGF0IHRoZSB0cmVlcyBhbmQgYnVmZmVycyBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYnkgdGhlXG4vLyBwYXJzZSB0aGF0IHdhcyByYW4gdmlhIHRoZSBtaXggcGFyc2VyLCBhbmQgdGh1cyBhcmVuJ3Qgc2hhcmVkIHdpdGhcbi8vIGFueSBvdGhlciBjb2RlLCBtYWtpbmcgdmlvbGF0aW9ucyBvZiB0aGUgaW1tdXRhYmlsaXR5IHNhZmUuXG5mdW5jdGlvbiBtYXRlcmlhbGl6ZShjdXJzb3IpIHtcbiAgICBsZXQgeyBub2RlIH0gPSBjdXJzb3IsIHN0YWNrID0gW107XG4gICAgbGV0IGJ1ZmZlciA9IG5vZGUuY29udGV4dC5idWZmZXI7XG4gICAgLy8gU2NhbiB1cCB0byB0aGUgbmVhcmVzdCB0cmVlXG4gICAgZG8ge1xuICAgICAgICBzdGFjay5wdXNoKGN1cnNvci5pbmRleCk7XG4gICAgICAgIGN1cnNvci5wYXJlbnQoKTtcbiAgICB9IHdoaWxlICghY3Vyc29yLnRyZWUpO1xuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBidWZmZXIgaW4gdGhhdCB0cmVlXG4gICAgbGV0IGJhc2UgPSBjdXJzb3IudHJlZSwgaSA9IGJhc2UuY2hpbGRyZW4uaW5kZXhPZihidWZmZXIpO1xuICAgIGxldCBidWYgPSBiYXNlLmNoaWxkcmVuW2ldLCBiID0gYnVmLmJ1ZmZlciwgbmV3U3RhY2sgPSBbaV07XG4gICAgLy8gU3BsaXQgYSBsZXZlbCBpbiB0aGUgYnVmZmVyLCBwdXR0aW5nIHRoZSBub2RlcyBiZWZvcmUgYW5kIGFmdGVyXG4gICAgLy8gdGhlIGNoaWxkIHRoYXQgY29udGFpbnMgYG5vZGVgIGludG8gbmV3IGJ1ZmZlcnMuXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RhcnRJLCBlbmRJLCB0eXBlLCBpbm5lck9mZnNldCwgbGVuZ3RoLCBzdGFja1Bvcykge1xuICAgICAgICBsZXQgdGFyZ2V0SSA9IHN0YWNrW3N0YWNrUG9zXTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBzbGljZUJ1ZihidWYsIHN0YXJ0SSwgdGFyZ2V0SSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgaW5uZXJPZmZzZXQpO1xuICAgICAgICBsZXQgZnJvbSA9IGJbdGFyZ2V0SSArIDFdLCB0byA9IGJbdGFyZ2V0SSArIDJdO1xuICAgICAgICBuZXdTdGFjay5wdXNoKGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIGxldCBjaGlsZCA9IHN0YWNrUG9zXG4gICAgICAgICAgICA/IHNwbGl0KHRhcmdldEkgKyA0LCBiW3RhcmdldEkgKyAzXSwgYnVmLnNldC50eXBlc1tiW3RhcmdldEldXSwgZnJvbSwgdG8gLSBmcm9tLCBzdGFja1BvcyAtIDEpXG4gICAgICAgICAgICA6IG5vZGUudG9UcmVlKCk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gaW5uZXJPZmZzZXQpO1xuICAgICAgICBzbGljZUJ1ZihidWYsIGJbdGFyZ2V0SSArIDNdLCBlbmRJLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpbm5lck9mZnNldCk7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpO1xuICAgIH1cbiAgICBiYXNlLmNoaWxkcmVuW2ldID0gc3BsaXQoMCwgYi5sZW5ndGgsIE5vZGVUeXBlLm5vbmUsIDAsIGJ1Zi5sZW5ndGgsIHN0YWNrLmxlbmd0aCAtIDEpO1xuICAgIC8vIE1vdmUgdGhlIGN1cnNvciBiYWNrIHRvIHRoZSB0YXJnZXQgbm9kZVxuICAgIGZvciAobGV0IGluZGV4IG9mIG5ld1N0YWNrKSB7XG4gICAgICAgIGxldCB0cmVlID0gY3Vyc29yLnRyZWUuY2hpbGRyZW5baW5kZXhdLCBwb3MgPSBjdXJzb3IudHJlZS5wb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICBjdXJzb3IueWllbGQobmV3IFRyZWVOb2RlKHRyZWUsIHBvcyArIGN1cnNvci5mcm9tLCBpbmRleCwgY3Vyc29yLl90cmVlKSk7XG4gICAgfVxufVxuY2xhc3MgU3RydWN0dXJlQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290LCBvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnNvciA9IHJvb3QuY3Vyc29yKEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMgfCBJdGVyTW9kZS5JZ25vcmVNb3VudHMpO1xuICAgIH1cbiAgICAvLyBNb3ZlIHRvIHRoZSBmaXJzdCBub2RlIChpbiBwcmUtb3JkZXIpIHRoYXQgc3RhcnRzIGF0IG9yIGFmdGVyIGBwb3NgLlxuICAgIG1vdmVUbyhwb3MpIHtcbiAgICAgICAgbGV0IHsgY3Vyc29yIH0gPSB0aGlzLCBwID0gcG9zIC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIHdoaWxlICghdGhpcy5kb25lICYmIGN1cnNvci5mcm9tIDwgcCkge1xuICAgICAgICAgICAgaWYgKGN1cnNvci50byA+PSBwb3MgJiYgY3Vyc29yLmVudGVyKHAsIDEsIEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzIHwgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpKSA7XG4gICAgICAgICAgICBlbHNlIGlmICghY3Vyc29yLm5leHQoZmFsc2UpKVxuICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzTm9kZShjdXJzb3IpIHtcbiAgICAgICAgdGhpcy5tb3ZlVG8oY3Vyc29yLmZyb20pO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSAmJiB0aGlzLmN1cnNvci5mcm9tICsgdGhpcy5vZmZzZXQgPT0gY3Vyc29yLmZyb20gJiYgdGhpcy5jdXJzb3IudHJlZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgdHJlZSA9IHRoaXMuY3Vyc29yLnRyZWU7Oykge1xuICAgICAgICAgICAgICAgIGlmICh0cmVlID09IGN1cnNvci50cmVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJlZS5jaGlsZHJlbi5sZW5ndGggJiYgdHJlZS5wb3NpdGlvbnNbMF0gPT0gMCAmJiB0cmVlLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgVHJlZSlcbiAgICAgICAgICAgICAgICAgICAgdHJlZSA9IHRyZWUuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY2xhc3MgRnJhZ21lbnRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzO1xuICAgICAgICB0aGlzLmN1clRvID0gMDtcbiAgICAgICAgdGhpcy5mcmFnSSA9IDA7XG4gICAgICAgIGlmIChmcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLmN1ckZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgICAgICB0aGlzLmN1clRvID0gKF9hID0gZmlyc3QudHJlZS5wcm9wKHN0b3BwZWRJbm5lcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZpcnN0LnRvO1xuICAgICAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBTdHJ1Y3R1cmVDdXJzb3IoZmlyc3QudHJlZSwgLWZpcnN0Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1ckZyYWcgPSB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNOb2RlKG5vZGUpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VyRnJhZyAmJiBub2RlLmZyb20gPj0gdGhpcy5jdXJUbylcbiAgICAgICAgICAgIHRoaXMubmV4dEZyYWcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyRnJhZyAmJiB0aGlzLmN1ckZyYWcuZnJvbSA8PSBub2RlLmZyb20gJiYgdGhpcy5jdXJUbyA+PSBub2RlLnRvICYmIHRoaXMuaW5uZXIuaGFzTm9kZShub2RlKTtcbiAgICB9XG4gICAgbmV4dEZyYWcoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5mcmFnSSsrO1xuICAgICAgICBpZiAodGhpcy5mcmFnSSA9PSB0aGlzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyRnJhZyA9IHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZyYWcgPSB0aGlzLmN1ckZyYWcgPSB0aGlzLmZyYWdtZW50c1t0aGlzLmZyYWdJXTtcbiAgICAgICAgICAgIHRoaXMuY3VyVG8gPSAoX2EgPSBmcmFnLnRyZWUucHJvcChzdG9wcGVkSW5uZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmcmFnLnRvO1xuICAgICAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBTdHJ1Y3R1cmVDdXJzb3IoZnJhZy50cmVlLCAtZnJhZy5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmRNb3VudHMocG9zLCBwYXJzZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh0aGlzLmlubmVyKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyLmN1cnNvci5tb3ZlVG8ocG9zLCAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IHRoaXMuaW5uZXIuY3Vyc29yLm5vZGU7IHBvczsgcG9zID0gcG9zLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGxldCBtb3VudCA9IChfYSA9IHBvcy50cmVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgICAgICAgICBpZiAobW91bnQgJiYgbW91bnQucGFyc2VyID09IHBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5mcmFnSTsgaSA8IHRoaXMuZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJhZyA9IHRoaXMuZnJhZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcuZnJvbSA+PSBwb3MudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy50cmVlID09IHRoaXMuY3VyRnJhZy50cmVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MuZnJvbSAtIGZyYWcub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcHVuY2hSYW5nZXMob3V0ZXIsIHJhbmdlcykge1xuICAgIGxldCBjb3B5ID0gbnVsbCwgY3VycmVudCA9IHJhbmdlcztcbiAgICBmb3IgKGxldCBpID0gMSwgaiA9IDA7IGkgPCBvdXRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZ2FwRnJvbSA9IG91dGVyW2kgLSAxXS50bywgZ2FwVG8gPSBvdXRlcltpXS5mcm9tO1xuICAgICAgICBmb3IgKDsgaiA8IGN1cnJlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCByID0gY3VycmVudFtqXTtcbiAgICAgICAgICAgIGlmIChyLmZyb20gPj0gZ2FwVG8pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoci50byA8PSBnYXBGcm9tKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFjb3B5KVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjb3B5ID0gcmFuZ2VzLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAoci5mcm9tIDwgZ2FwRnJvbSkge1xuICAgICAgICAgICAgICAgIGNvcHlbal0gPSBuZXcgUmFuZ2Uoci5mcm9tLCBnYXBGcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoci50byA+IGdhcFRvKVxuICAgICAgICAgICAgICAgICAgICBjb3B5LnNwbGljZShqICsgMSwgMCwgbmV3IFJhbmdlKGdhcFRvLCByLnRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyLnRvID4gZ2FwVG8pIHtcbiAgICAgICAgICAgICAgICBjb3B5W2otLV0gPSBuZXcgUmFuZ2UoZ2FwVG8sIHIudG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29weS5zcGxpY2Uoai0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudDtcbn1cbmZ1bmN0aW9uIGZpbmRDb3ZlckNoYW5nZXMoYSwgYiwgZnJvbSwgdG8pIHtcbiAgICBsZXQgaUEgPSAwLCBpQiA9IDAsIGluQSA9IGZhbHNlLCBpbkIgPSBmYWxzZSwgcG9zID0gLTFlOTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yICg7Oykge1xuICAgICAgICBsZXQgbmV4dEEgPSBpQSA9PSBhLmxlbmd0aCA/IDFlOSA6IGluQSA/IGFbaUFdLnRvIDogYVtpQV0uZnJvbTtcbiAgICAgICAgbGV0IG5leHRCID0gaUIgPT0gYi5sZW5ndGggPyAxZTkgOiBpbkIgPyBiW2lCXS50byA6IGJbaUJdLmZyb207XG4gICAgICAgIGlmIChpbkEgIT0gaW5CKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChwb3MsIGZyb20pLCBlbmQgPSBNYXRoLm1pbihuZXh0QSwgbmV4dEIsIHRvKTtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGVuZClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgUmFuZ2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IE1hdGgubWluKG5leHRBLCBuZXh0Qik7XG4gICAgICAgIGlmIChwb3MgPT0gMWU5KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChuZXh0QSA9PSBwb3MpIHtcbiAgICAgICAgICAgIGlmICghaW5BKVxuICAgICAgICAgICAgICAgIGluQSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbkEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpQSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0QiA9PSBwb3MpIHtcbiAgICAgICAgICAgIGlmICghaW5CKVxuICAgICAgICAgICAgICAgIGluQiA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbkIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpQisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBHaXZlbiBhIG51bWJlciBvZiBmcmFnbWVudHMgZm9yIHRoZSBvdXRlciB0cmVlLCBhbmQgYSBzZXQgb2YgcmFuZ2VzXG4vLyB0byBwYXJzZSwgZmluZCBmcmFnbWVudHMgZm9yIGlubmVyIHRyZWVzIG1vdW50ZWQgYXJvdW5kIHRob3NlXG4vLyByYW5nZXMsIGlmIGFueS5cbmZ1bmN0aW9uIGVudGVyRnJhZ21lbnRzKG1vdW50cywgcmFuZ2VzKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IHsgcG9zLCBtb3VudCwgZnJhZyB9IG9mIG1vdW50cykge1xuICAgICAgICBsZXQgc3RhcnRQb3MgPSBwb3MgKyAobW91bnQub3ZlcmxheSA/IG1vdW50Lm92ZXJsYXlbMF0uZnJvbSA6IDApLCBlbmRQb3MgPSBzdGFydFBvcyArIG1vdW50LnRyZWUubGVuZ3RoO1xuICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KGZyYWcuZnJvbSwgc3RhcnRQb3MpLCB0byA9IE1hdGgubWluKGZyYWcudG8sIGVuZFBvcyk7XG4gICAgICAgIGlmIChtb3VudC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgb3ZlcmxheSA9IG1vdW50Lm92ZXJsYXkubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSArIHBvcywgci50byArIHBvcykpO1xuICAgICAgICAgICAgbGV0IGNoYW5nZXMgPSBmaW5kQ292ZXJDaGFuZ2VzKHJhbmdlcywgb3ZlcmxheSwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IGZyb207OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGkgPT0gY2hhbmdlcy5sZW5ndGgsIGVuZCA9IGxhc3QgPyB0byA6IGNoYW5nZXNbaV0uZnJvbTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVHJlZUZyYWdtZW50KHBvcywgZW5kLCBtb3VudC50cmVlLCAtc3RhcnRQb3MsIGZyYWcuZnJvbSA+PSBwb3MgfHwgZnJhZy5vcGVuU3RhcnQsIGZyYWcudG8gPD0gZW5kIHx8IGZyYWcub3BlbkVuZCkpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MgPSBjaGFuZ2VzW2ldLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFRyZWVGcmFnbWVudChmcm9tLCB0bywgbW91bnQudHJlZSwgLXN0YXJ0UG9zLCBmcmFnLmZyb20gPj0gc3RhcnRQb3MgfHwgZnJhZy5vcGVuU3RhcnQsIGZyYWcudG8gPD0gZW5kUG9zIHx8IGZyYWcub3BlbkVuZCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IERlZmF1bHRCdWZmZXJMZW5ndGgsIEl0ZXJNb2RlLCBNb3VudGVkVHJlZSwgTm9kZVByb3AsIE5vZGVTZXQsIE5vZGVUeXBlLCBOb2RlV2Vha01hcCwgUGFyc2VyLCBUcmVlLCBUcmVlQnVmZmVyLCBUcmVlQ3Vyc29yLCBUcmVlRnJhZ21lbnQsIHBhcnNlTWl4ZWQgfTtcbiIsImltcG9ydCB7IE5vZGVQcm9wIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbmxldCBuZXh0VGFnSUQgPSAwO1xuLyoqXG5IaWdobGlnaHRpbmcgdGFncyBhcmUgbWFya2VycyB0aGF0IGRlbm90ZSBhIGhpZ2hsaWdodGluZyBjYXRlZ29yeS5cblRoZXkgYXJlIFthc3NvY2lhdGVkXSgjaGlnaGxpZ2h0LnN0eWxlVGFncykgd2l0aCBwYXJ0cyBvZiBhIHN5bnRheFxudHJlZSBieSBhIGxhbmd1YWdlIG1vZGUsIGFuZCB0aGVuIG1hcHBlZCB0byBhbiBhY3R1YWwgQ1NTIHN0eWxlIGJ5XG5hIFtoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikuXG5cbkJlY2F1c2Ugc3ludGF4IHRyZWUgbm9kZSB0eXBlcyBhbmQgaGlnaGxpZ2h0IHN0eWxlcyBoYXZlIHRvIGJlXG5hYmxlIHRvIHRhbGsgdGhlIHNhbWUgbGFuZ3VhZ2UsIENvZGVNaXJyb3IgdXNlcyBhIG1vc3RseSBfY2xvc2VkX1xuW3ZvY2FidWxhcnldKCNoaWdobGlnaHQudGFncykgb2Ygc3ludGF4IHRhZ3MgKGFzIG9wcG9zZWQgdG9cbnRyYWRpdGlvbmFsIG9wZW4gc3RyaW5nLWJhc2VkIHN5c3RlbXMsIHdoaWNoIG1ha2UgaXQgaGFyZCBmb3JcbmhpZ2hsaWdodGluZyB0aGVtZXMgdG8gY292ZXIgYWxsIHRoZSB0b2tlbnMgcHJvZHVjZWQgYnkgdGhlXG52YXJpb3VzIGxhbmd1YWdlcykuXG5cbkl0IF9pc18gcG9zc2libGUgdG8gW2RlZmluZV0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lKSB5b3VyIG93blxuaGlnaGxpZ2h0aW5nIHRhZ3MgZm9yIHN5c3RlbS1pbnRlcm5hbCB1c2UgKHdoZXJlIHlvdSBjb250cm9sIGJvdGhcbnRoZSBsYW5ndWFnZSBwYWNrYWdlIGFuZCB0aGUgaGlnaGxpZ2h0ZXIpLCBidXQgc3VjaCB0YWdzIHdpbGwgbm90XG5iZSBwaWNrZWQgdXAgYnkgcmVndWxhciBoaWdobGlnaHRlcnMgKHRob3VnaCB5b3UgY2FuIGRlcml2ZSB0aGVtXG5mcm9tIHN0YW5kYXJkIHRhZ3MgdG8gYWxsb3cgaGlnaGxpZ2h0ZXJzIHRvIGZhbGwgYmFjayB0byB0aG9zZSkuXG4qL1xuY2xhc3MgVGFnIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBvcHRpb25hbCBuYW1lIG9mIHRoZSBiYXNlIHRhZyBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG5hbWUsIFxuICAgIC8qKlxuICAgIFRoZSBzZXQgb2YgdGhpcyB0YWcgYW5kIGFsbCBpdHMgcGFyZW50IHRhZ3MsIHN0YXJ0aW5nIHdpdGhcbiAgICB0aGlzIG9uZSBpdHNlbGYgYW5kIHNvcnRlZCBpbiBvcmRlciBvZiBkZWNyZWFzaW5nIHNwZWNpZmljaXR5LlxuICAgICovXG4gICAgc2V0LCBcbiAgICAvKipcbiAgICBUaGUgYmFzZSB1bm1vZGlmaWVkIHRhZyB0aGF0IHRoaXMgb25lIGlzIGJhc2VkIG9uLCBpZiBpdCdzXG4gICAgbW9kaWZpZWQgQGludGVybmFsXG4gICAgKi9cbiAgICBiYXNlLCBcbiAgICAvKipcbiAgICBUaGUgbW9kaWZpZXJzIGFwcGxpZWQgdG8gdGhpcy5iYXNlIEBpbnRlcm5hbFxuICAgICovXG4gICAgbW9kaWZpZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgICAgIHRoaXMubW9kaWZpZWQgPSBtb2RpZmllZDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gbmV4dFRhZ0lEKys7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgeyBuYW1lIH0gPSB0aGlzO1xuICAgICAgICBmb3IgKGxldCBtb2Qgb2YgdGhpcy5tb2RpZmllZClcbiAgICAgICAgICAgIGlmIChtb2QubmFtZSlcbiAgICAgICAgICAgICAgICBuYW1lID0gYCR7bW9kLm5hbWV9KCR7bmFtZX0pYDtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIHN0YXRpYyBkZWZpbmUobmFtZU9yUGFyZW50LCBwYXJlbnQpIHtcbiAgICAgICAgbGV0IG5hbWUgPSB0eXBlb2YgbmFtZU9yUGFyZW50ID09IFwic3RyaW5nXCIgPyBuYW1lT3JQYXJlbnQgOiBcIj9cIjtcbiAgICAgICAgaWYgKG5hbWVPclBhcmVudCBpbnN0YW5jZW9mIFRhZylcbiAgICAgICAgICAgIHBhcmVudCA9IG5hbWVPclBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5iYXNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBkZXJpdmUgZnJvbSBhIG1vZGlmaWVkIHRhZ1wiKTtcbiAgICAgICAgbGV0IHRhZyA9IG5ldyBUYWcobmFtZSwgW10sIG51bGwsIFtdKTtcbiAgICAgICAgdGFnLnNldC5wdXNoKHRhZyk7XG4gICAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHBhcmVudC5zZXQpXG4gICAgICAgICAgICAgICAgdGFnLnNldC5wdXNoKHQpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSB0YWcgX21vZGlmaWVyXywgd2hpY2ggaXMgYSBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIHRhZyxcbiAgICB3aWxsIHJldHVybiBhIHRhZyB0aGF0IGlzIGEgc3VidGFnIG9mIHRoZSBvcmlnaW5hbC4gQXBwbHlpbmcgdGhlXG4gICAgc2FtZSBtb2RpZmllciB0byBhIHR3aWNlIHRhZyB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZSAoYG0xKHQxKVxuICAgID09IG0xKHQxKWApIGFuZCBhcHBseWluZyBtdWx0aXBsZSBtb2RpZmllcnMgd2lsbCwgcmVnYXJkbGVzcyBvclxuICAgIG9yZGVyLCBwcm9kdWNlIHRoZSBzYW1lIHRhZyAoYG0xKG0yKHQxKSkgPT0gbTIobTEodDEpKWApLlxuICAgIFxuICAgIFdoZW4gbXVsdGlwbGUgbW9kaWZpZXJzIGFyZSBhcHBsaWVkIHRvIGEgZ2l2ZW4gYmFzZSB0YWcsIGVhY2hcbiAgICBzbWFsbGVyIHNldCBvZiBtb2RpZmllcnMgaXMgcmVnaXN0ZXJlZCBhcyBhIHBhcmVudCwgc28gdGhhdCBmb3JcbiAgICBleGFtcGxlIGBtMShtMihtMyh0MSkpKWAgaXMgYSBzdWJ0eXBlIG9mIGBtMShtMih0MSkpYCxcbiAgICBgbTEobTModDEpYCwgYW5kIHNvIG9uLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZU1vZGlmaWVyKG5hbWUpIHtcbiAgICAgICAgbGV0IG1vZCA9IG5ldyBNb2RpZmllcihuYW1lKTtcbiAgICAgICAgcmV0dXJuICh0YWcpID0+IHtcbiAgICAgICAgICAgIGlmICh0YWcubW9kaWZpZWQuaW5kZXhPZihtb2QpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgIHJldHVybiBNb2RpZmllci5nZXQodGFnLmJhc2UgfHwgdGFnLCB0YWcubW9kaWZpZWQuY29uY2F0KG1vZCkuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5sZXQgbmV4dE1vZGlmaWVySUQgPSAwO1xuY2xhc3MgTW9kaWZpZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBbXTtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRNb2RpZmllcklEKys7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQoYmFzZSwgbW9kcykge1xuICAgICAgICBpZiAoIW1vZHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgIGxldCBleGlzdHMgPSBtb2RzWzBdLmluc3RhbmNlcy5maW5kKHQgPT4gdC5iYXNlID09IGJhc2UgJiYgc2FtZUFycmF5KG1vZHMsIHQubW9kaWZpZWQpKTtcbiAgICAgICAgaWYgKGV4aXN0cylcbiAgICAgICAgICAgIHJldHVybiBleGlzdHM7XG4gICAgICAgIGxldCBzZXQgPSBbXSwgdGFnID0gbmV3IFRhZyhiYXNlLm5hbWUsIHNldCwgYmFzZSwgbW9kcyk7XG4gICAgICAgIGZvciAobGV0IG0gb2YgbW9kcylcbiAgICAgICAgICAgIG0uaW5zdGFuY2VzLnB1c2godGFnKTtcbiAgICAgICAgbGV0IGNvbmZpZ3MgPSBwb3dlclNldChtb2RzKTtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50IG9mIGJhc2Uuc2V0KVxuICAgICAgICAgICAgaWYgKCFwYXJlbnQubW9kaWZpZWQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdzKVxuICAgICAgICAgICAgICAgICAgICBzZXQucHVzaChNb2RpZmllci5nZXQocGFyZW50LCBjb25maWcpKTtcbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG59XG5mdW5jdGlvbiBzYW1lQXJyYXkoYSwgYikge1xuICAgIHJldHVybiBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KCh4LCBpKSA9PiB4ID09IGJbaV0pO1xufVxuZnVuY3Rpb24gcG93ZXJTZXQoYXJyYXkpIHtcbiAgICBsZXQgc2V0cyA9IFtbXV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgZSA9IHNldHMubGVuZ3RoOyBqIDwgZTsgaisrKSB7XG4gICAgICAgICAgICBzZXRzLnB1c2goc2V0c1tqXS5jb25jYXQoYXJyYXlbaV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2V0cy5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKTtcbn1cbi8qKlxuVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGFkZCBhIHNldCBvZiB0YWdzIHRvIGEgbGFuZ3VhZ2Ugc3ludGF4XG52aWEgW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG5bYExSUGFyc2VyLmNvbmZpZ3VyZWBdKCNsci5MUlBhcnNlci5jb25maWd1cmUpLlxuXG5UaGUgYXJndW1lbnQgb2JqZWN0IG1hcHMgbm9kZSBzZWxlY3RvcnMgdG8gW2hpZ2hsaWdodGluZ1xudGFnc10oI2hpZ2hsaWdodC5UYWcpIG9yIGFycmF5cyBvZiB0YWdzLlxuXG5Ob2RlIHNlbGVjdG9ycyBtYXkgaG9sZCBvbmUgb3IgbW9yZSAoc3BhY2Utc2VwYXJhdGVkKSBub2RlIHBhdGhzLlxuU3VjaCBhIHBhdGggY2FuIGJlIGEgW25vZGUgbmFtZV0oI2NvbW1vbi5Ob2RlVHlwZS5uYW1lKSwgb3Jcbm11bHRpcGxlIG5vZGUgbmFtZXMgKG9yIGAqYCB3aWxkY2FyZHMpIHNlcGFyYXRlZCBieSBzbGFzaFxuY2hhcmFjdGVycywgYXMgaW4gYFwiQmxvY2svRGVjbGFyYXRpb24vVmFyaWFibGVOYW1lXCJgLiBTdWNoIGEgcGF0aFxubWF0Y2hlcyB0aGUgZmluYWwgbm9kZSBidXQgb25seSBpZiBpdHMgZGlyZWN0IHBhcmVudCBub2RlcyBhcmUgdGhlXG5vdGhlciBub2RlcyBtZW50aW9uZWQuIEEgYCpgIGluIHN1Y2ggYSBwYXRoIG1hdGNoZXMgYW55IHBhcmVudCxcbmJ1dCBvbmx5IGEgc2luZ2xlIGxldmVs4oCUd2lsZGNhcmRzIHRoYXQgbWF0Y2ggbXVsdGlwbGUgcGFyZW50c1xuYXJlbid0IHN1cHBvcnRlZCwgYm90aCBmb3IgZWZmaWNpZW5jeSByZWFzb25zIGFuZCBiZWNhdXNlIExlemVyXG50cmVlcyBtYWtlIGl0IHJhdGhlciBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGF0IHRoZXkgd291bGQgbWF0Y2guKVxuXG5BIHBhdGggY2FuIGJlIGVuZGVkIHdpdGggYC8uLi5gIHRvIGluZGljYXRlIHRoYXQgdGhlIHRhZyBhc3NpZ25lZFxudG8gdGhlIG5vZGUgc2hvdWxkIGFsc28gYXBwbHkgdG8gYWxsIGNoaWxkIG5vZGVzLCBldmVuIGlmIHRoZXlcbm1hdGNoIHRoZWlyIG93biBzdHlsZSAoYnkgZGVmYXVsdCwgb25seSB0aGUgaW5uZXJtb3N0IHN0eWxlIGlzXG51c2VkKS5cblxuV2hlbiBhIHBhdGggZW5kcyBpbiBgIWAsIGFzIGluIGBBdHRyaWJ1dGUhYCwgbm8gZnVydGhlciBtYXRjaGluZ1xuaGFwcGVucyBmb3IgdGhlIG5vZGUncyBjaGlsZCBub2RlcywgYW5kIHRoZSBlbnRpcmUgbm9kZSBnZXRzIHRoZVxuZ2l2ZW4gc3R5bGUuXG5cbkluIHRoaXMgbm90YXRpb24sIG5vZGUgbmFtZXMgdGhhdCBjb250YWluIGAvYCwgYCFgLCBgKmAsIG9yIGAuLi5gXG5tdXN0IGJlIHF1b3RlZCBhcyBKU09OIHN0cmluZ3MuXG5cbkZvciBleGFtcGxlOlxuXG5gYGBqYXZhc2NyaXB0XG5wYXJzZXIud2l0aFByb3BzKFxuICBzdHlsZVRhZ3Moe1xuICAgIC8vIFN0eWxlIE51bWJlciBhbmQgQmlnTnVtYmVyIG5vZGVzXG4gICAgXCJOdW1iZXIgQmlnTnVtYmVyXCI6IHRhZ3MubnVtYmVyLFxuICAgIC8vIFN0eWxlIEVzY2FwZSBub2RlcyB3aG9zZSBwYXJlbnQgaXMgU3RyaW5nXG4gICAgXCJTdHJpbmcvRXNjYXBlXCI6IHRhZ3MuZXNjYXBlLFxuICAgIC8vIFN0eWxlIGFueXRoaW5nIGluc2lkZSBBdHRyaWJ1dGVzIG5vZGVzXG4gICAgXCJBdHRyaWJ1dGVzIVwiOiB0YWdzLm1ldGEsXG4gICAgLy8gQWRkIGEgc3R5bGUgdG8gYWxsIGNvbnRlbnQgaW5zaWRlIEl0YWxpYyBub2Rlc1xuICAgIFwiSXRhbGljLy4uLlwiOiB0YWdzLmVtcGhhc2lzLFxuICAgIC8vIFN0eWxlIEludmFsaWRTdHJpbmcgbm9kZXMgYXMgYm90aCBgc3RyaW5nYCBhbmQgYGludmFsaWRgXG4gICAgXCJJbnZhbGlkU3RyaW5nXCI6IFt0YWdzLnN0cmluZywgdGFncy5pbnZhbGlkXSxcbiAgICAvLyBTdHlsZSB0aGUgbm9kZSBuYW1lZCBcIi9cIiBhcyBwdW5jdHVhdGlvblxuICAgICdcIi9cIic6IHRhZ3MucHVuY3R1YXRpb25cbiAgfSlcbilcbmBgYFxuKi9cbmZ1bmN0aW9uIHN0eWxlVGFncyhzcGVjKSB7XG4gICAgbGV0IGJ5TmFtZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzcGVjKSB7XG4gICAgICAgIGxldCB0YWdzID0gc3BlY1twcm9wXTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRhZ3MpKVxuICAgICAgICAgICAgdGFncyA9IFt0YWdzXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBwcm9wLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlcyA9IFtdLCBtb2RlID0gMiAvKiBNb2RlLk5vcm1hbCAqLywgcmVzdCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gMDs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN0ID09IFwiLi4uXCIgJiYgcG9zID4gMCAmJiBwb3MgKyAzID09IHBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMSAvKiBNb2RlLkluaGVyaXQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgbSA9IC9eXCIoPzpbXlwiXFxcXF18XFxcXC4pKj9cInxbXlxcLyFdKy8uZXhlYyhyZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlcy5wdXNoKG1bMF0gPT0gXCIqXCIgPyBcIlwiIDogbVswXVswXSA9PSAnXCInID8gSlNPTi5wYXJzZShtWzBdKSA6IG1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPT0gcGFydC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwYXJ0W3BvcysrXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA9PSBwYXJ0Lmxlbmd0aCAmJiBuZXh0ID09IFwiIVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gMCAvKiBNb2RlLk9wYXF1ZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IFwiL1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3QgPSBwYXJ0LnNsaWNlKHBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gcGllY2VzLmxlbmd0aCAtIDEsIGlubmVyID0gcGllY2VzW2xhc3RdO1xuICAgICAgICAgICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgIGxldCBydWxlID0gbmV3IFJ1bGUodGFncywgbW9kZSwgbGFzdCA+IDAgPyBwaWVjZXMuc2xpY2UoMCwgbGFzdCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBieU5hbWVbaW5uZXJdID0gcnVsZS5zb3J0KGJ5TmFtZVtpbm5lcl0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZU5vZGVQcm9wLmFkZChieU5hbWUpO1xufVxuY29uc3QgcnVsZU5vZGVQcm9wID0gbmV3IE5vZGVQcm9wKCk7XG5jbGFzcyBSdWxlIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdzLCBtb2RlLCBjb250ZXh0LCBuZXh0KSB7XG4gICAgICAgIHRoaXMudGFncyA9IHRhZ3M7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuICAgIGdldCBvcGFxdWUoKSB7IHJldHVybiB0aGlzLm1vZGUgPT0gMCAvKiBNb2RlLk9wYXF1ZSAqLzsgfVxuICAgIGdldCBpbmhlcml0KCkgeyByZXR1cm4gdGhpcy5tb2RlID09IDEgLyogTW9kZS5Jbmhlcml0ICovOyB9XG4gICAgc29ydChvdGhlcikge1xuICAgICAgICBpZiAoIW90aGVyIHx8IG90aGVyLmRlcHRoIDwgdGhpcy5kZXB0aCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gb3RoZXI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBvdGhlci5uZXh0ID0gdGhpcy5zb3J0KG90aGVyLm5leHQpO1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgfVxuICAgIGdldCBkZXB0aCgpIHsgcmV0dXJuIHRoaXMuY29udGV4dCA/IHRoaXMuY29udGV4dC5sZW5ndGggOiAwOyB9XG59XG5SdWxlLmVtcHR5ID0gbmV3IFJ1bGUoW10sIDIgLyogTW9kZS5Ob3JtYWwgKi8sIG51bGwpO1xuLyoqXG5EZWZpbmUgYSBbaGlnaGxpZ2h0ZXJdKCNoaWdobGlnaHQuSGlnaGxpZ2h0ZXIpIGZyb20gYW4gYXJyYXkgb2ZcbnRhZy9jbGFzcyBwYWlycy4gQ2xhc3NlcyBhc3NvY2lhdGVkIHdpdGggbW9yZSBzcGVjaWZpYyB0YWdzIHdpbGxcbnRha2UgcHJlY2VkZW5jZS5cbiovXG5mdW5jdGlvbiB0YWdIaWdobGlnaHRlcih0YWdzLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgc3R5bGUgb2YgdGFncykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUudGFnKSlcbiAgICAgICAgICAgIG1hcFtzdHlsZS50YWcuaWRdID0gc3R5bGUuY2xhc3M7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiBzdHlsZS50YWcpXG4gICAgICAgICAgICAgICAgbWFwW3RhZy5pZF0gPSBzdHlsZS5jbGFzcztcbiAgICB9XG4gICAgbGV0IHsgc2NvcGUsIGFsbCA9IG51bGwgfSA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3R5bGU6ICh0YWdzKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xzID0gYWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWIgb2YgdGFnLnNldCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFnQ2xhc3MgPSBtYXBbc3ViLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgPSBjbHMgPyBjbHMgKyBcIiBcIiArIHRhZ0NsYXNzIDogdGFnQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhpZ2hsaWdodFRhZ3MoaGlnaGxpZ2h0ZXJzLCB0YWdzKSB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgZm9yIChsZXQgaGlnaGxpZ2h0ZXIgb2YgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGhpZ2hsaWdodGVyLnN0eWxlKHRhZ3MpO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPyByZXN1bHQgKyBcIiBcIiArIHZhbHVlIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkhpZ2hsaWdodCB0aGUgZ2l2ZW4gW3RyZWVdKCNjb21tb24uVHJlZSkgd2l0aCB0aGUgZ2l2ZW5cbltoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikuIE9mdGVuLCB0aGUgaGlnaGVyLWxldmVsXG5bYGhpZ2hsaWdodENvZGVgXSgjaGlnaGxpZ2h0LmhpZ2hsaWdodENvZGUpIGZ1bmN0aW9uIGlzIGVhc2llciB0b1xudXNlLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFRyZWUodHJlZSwgaGlnaGxpZ2h0ZXIsIFxuLyoqXG5Bc3NpZ24gc3R5bGluZyB0byBhIHJlZ2lvbiBvZiB0aGUgdGV4dC4gV2lsbCBiZSBjYWxsZWQsIGluIG9yZGVyXG5vZiBwb3NpdGlvbiwgZm9yIGFueSByYW5nZXMgd2hlcmUgbW9yZSB0aGFuIHplcm8gY2xhc3NlcyBhcHBseS5cbmBjbGFzc2VzYCBpcyBhIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2YgQ1NTIGNsYXNzZXMuXG4qL1xucHV0U3R5bGUsIFxuLyoqXG5UaGUgc3RhcnQgb2YgdGhlIHJhbmdlIHRvIGhpZ2hsaWdodC5cbiovXG5mcm9tID0gMCwgXG4vKipcblRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuKi9cbnRvID0gdHJlZS5sZW5ndGgpIHtcbiAgICBsZXQgYnVpbGRlciA9IG5ldyBIaWdobGlnaHRCdWlsZGVyKGZyb20sIEFycmF5LmlzQXJyYXkoaGlnaGxpZ2h0ZXIpID8gaGlnaGxpZ2h0ZXIgOiBbaGlnaGxpZ2h0ZXJdLCBwdXRTdHlsZSk7XG4gICAgYnVpbGRlci5oaWdobGlnaHRSYW5nZSh0cmVlLmN1cnNvcigpLCBmcm9tLCB0bywgXCJcIiwgYnVpbGRlci5oaWdobGlnaHRlcnMpO1xuICAgIGJ1aWxkZXIuZmx1c2godG8pO1xufVxuLyoqXG5IaWdobGlnaHQgdGhlIGdpdmVuIHRyZWUgd2l0aCB0aGUgZ2l2ZW4gaGlnaGxpZ2h0ZXIsIGNhbGxpbmdcbmBwdXRUZXh0YCBmb3IgZXZlcnkgcGllY2Ugb2YgdGV4dCwgZWl0aGVyIHdpdGggYSBzZXQgb2YgY2xhc3NlcyBvclxud2l0aCB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gdW5zdHlsZWQsIGFuZCBgcHV0QnJlYWtgIGZvciBldmVyeSBsaW5lXG5icmVhay5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRDb2RlKGNvZGUsIHRyZWUsIGhpZ2hsaWdodGVyLCBwdXRUZXh0LCBwdXRCcmVhaywgZnJvbSA9IDAsIHRvID0gY29kZS5sZW5ndGgpIHtcbiAgICBsZXQgcG9zID0gZnJvbTtcbiAgICBmdW5jdGlvbiB3cml0ZVRvKHAsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKHAgPD0gcG9zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCB0ZXh0ID0gY29kZS5zbGljZShwb3MsIHApLCBpID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dEJyZWFrID0gdGV4dC5pbmRleE9mKFwiXFxuXCIsIGkpO1xuICAgICAgICAgICAgbGV0IHVwdG8gPSBuZXh0QnJlYWsgPCAwID8gdGV4dC5sZW5ndGggOiBuZXh0QnJlYWs7XG4gICAgICAgICAgICBpZiAodXB0byA+IGkpXG4gICAgICAgICAgICAgICAgcHV0VGV4dCh0ZXh0LnNsaWNlKGksIHVwdG8pLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIGlmIChuZXh0QnJlYWsgPCAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcHV0QnJlYWsoKTtcbiAgICAgICAgICAgIGkgPSBuZXh0QnJlYWsgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IHA7XG4gICAgfVxuICAgIGhpZ2hsaWdodFRyZWUodHJlZSwgaGlnaGxpZ2h0ZXIsIChmcm9tLCB0bywgY2xhc3NlcykgPT4ge1xuICAgICAgICB3cml0ZVRvKGZyb20sIFwiXCIpO1xuICAgICAgICB3cml0ZVRvKHRvLCBjbGFzc2VzKTtcbiAgICB9LCBmcm9tLCB0byk7XG4gICAgd3JpdGVUbyh0bywgXCJcIik7XG59XG5jbGFzcyBIaWdobGlnaHRCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhdCwgaGlnaGxpZ2h0ZXJzLCBzcGFuKSB7XG4gICAgICAgIHRoaXMuYXQgPSBhdDtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRlcnMgPSBoaWdobGlnaHRlcnM7XG4gICAgICAgIHRoaXMuc3BhbiA9IHNwYW47XG4gICAgICAgIHRoaXMuY2xhc3MgPSBcIlwiO1xuICAgIH1cbiAgICBzdGFydFNwYW4oYXQsIGNscykge1xuICAgICAgICBpZiAoY2xzICE9IHRoaXMuY2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goYXQpO1xuICAgICAgICAgICAgaWYgKGF0ID4gdGhpcy5hdClcbiAgICAgICAgICAgICAgICB0aGlzLmF0ID0gYXQ7XG4gICAgICAgICAgICB0aGlzLmNsYXNzID0gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZsdXNoKHRvKSB7XG4gICAgICAgIGlmICh0byA+IHRoaXMuYXQgJiYgdGhpcy5jbGFzcylcbiAgICAgICAgICAgIHRoaXMuc3Bhbih0aGlzLmF0LCB0bywgdGhpcy5jbGFzcyk7XG4gICAgfVxuICAgIGhpZ2hsaWdodFJhbmdlKGN1cnNvciwgZnJvbSwgdG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpIHtcbiAgICAgICAgbGV0IHsgdHlwZSwgZnJvbTogc3RhcnQsIHRvOiBlbmQgfSA9IGN1cnNvcjtcbiAgICAgICAgaWYgKHN0YXJ0ID49IHRvIHx8IGVuZCA8PSBmcm9tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZS5pc1RvcClcbiAgICAgICAgICAgIGhpZ2hsaWdodGVycyA9IHRoaXMuaGlnaGxpZ2h0ZXJzLmZpbHRlcihoID0+ICFoLnNjb3BlIHx8IGguc2NvcGUodHlwZSkpO1xuICAgICAgICBsZXQgY2xzID0gaW5oZXJpdGVkQ2xhc3M7XG4gICAgICAgIGxldCBydWxlID0gZ2V0U3R5bGVUYWdzKGN1cnNvcikgfHwgUnVsZS5lbXB0eTtcbiAgICAgICAgbGV0IHRhZ0NscyA9IGhpZ2hsaWdodFRhZ3MoaGlnaGxpZ2h0ZXJzLCBydWxlLnRhZ3MpO1xuICAgICAgICBpZiAodGFnQ2xzKSB7XG4gICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgIGNscyArPSBcIiBcIjtcbiAgICAgICAgICAgIGNscyArPSB0YWdDbHM7XG4gICAgICAgICAgICBpZiAocnVsZS5tb2RlID09IDEgLyogTW9kZS5Jbmhlcml0ICovKVxuICAgICAgICAgICAgICAgIGluaGVyaXRlZENsYXNzICs9IChpbmhlcml0ZWRDbGFzcyA/IFwiIFwiIDogXCJcIikgKyB0YWdDbHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFNwYW4oTWF0aC5tYXgoZnJvbSwgc3RhcnQpLCBjbHMpO1xuICAgICAgICBpZiAocnVsZS5vcGFxdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBtb3VudGVkID0gY3Vyc29yLnRyZWUgJiYgY3Vyc29yLnRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgaWYgKG1vdW50ZWQgJiYgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgaW5uZXIgPSBjdXJzb3Iubm9kZS5lbnRlcihtb3VudGVkLm92ZXJsYXlbMF0uZnJvbSArIHN0YXJ0LCAxKTtcbiAgICAgICAgICAgIGxldCBpbm5lckhpZ2hsaWdodGVycyA9IHRoaXMuaGlnaGxpZ2h0ZXJzLmZpbHRlcihoID0+ICFoLnNjb3BlIHx8IGguc2NvcGUobW91bnRlZC50cmVlLnR5cGUpKTtcbiAgICAgICAgICAgIGxldCBoYXNDaGlsZCA9IGN1cnNvci5maXJzdENoaWxkKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gc3RhcnQ7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGkgPCBtb3VudGVkLm92ZXJsYXkubGVuZ3RoID8gbW91bnRlZC5vdmVybGF5W2ldIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFBvcyA9IG5leHQgPyBuZXh0LmZyb20gKyBzdGFydCA6IGVuZDtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VGcm9tID0gTWF0aC5tYXgoZnJvbSwgcG9zKSwgcmFuZ2VUbyA9IE1hdGgubWluKHRvLCBuZXh0UG9zKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VGcm9tIDwgcmFuZ2VUbyAmJiBoYXNDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3Vyc29yLmZyb20gPCByYW5nZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgcmFuZ2VGcm9tLCByYW5nZVRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHJhbmdlVG8sIGN1cnNvci50byksIGNscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnRvID49IG5leHRQb3MgfHwgIWN1cnNvci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbmV4dCB8fCBuZXh0UG9zID4gdG8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcyA9IG5leHQudG8gKyBzdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGlubmVyLmN1cnNvcigpLCBNYXRoLm1heChmcm9tLCBuZXh0LmZyb20gKyBzdGFydCksIE1hdGgubWluKHRvLCBwb3MpLCBcIlwiLCBpbm5lckhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBwb3MpLCBjbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDaGlsZClcbiAgICAgICAgICAgICAgICBjdXJzb3IucGFyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yLmZpcnN0Q2hpbGQoKSkge1xuICAgICAgICAgICAgaWYgKG1vdW50ZWQpXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPD0gZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvci5mcm9tID49IHRvKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFJhbmdlKGN1cnNvciwgZnJvbSwgdG8sIGluaGVyaXRlZENsYXNzLCBoaWdobGlnaHRlcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKE1hdGgubWluKHRvLCBjdXJzb3IudG8pLCBjbHMpO1xuICAgICAgICAgICAgfSB3aGlsZSAoY3Vyc29yLm5leHRTaWJsaW5nKCkpO1xuICAgICAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5NYXRjaCBhIHN5bnRheCBub2RlJ3MgW2hpZ2hsaWdodCBydWxlc10oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpLiBJZlxudGhlcmUncyBhIG1hdGNoLCByZXR1cm4gaXRzIHNldCBvZiB0YWdzLCBhbmQgd2hldGhlciBpdCBpc1xub3BhcXVlICh1c2VzIGEgYCFgKSBvciBhcHBsaWVzIHRvIGFsbCBjaGlsZCBub2RlcyAoYC8uLi5gKS5cbiovXG5mdW5jdGlvbiBnZXRTdHlsZVRhZ3Mobm9kZSkge1xuICAgIGxldCBydWxlID0gbm9kZS50eXBlLnByb3AocnVsZU5vZGVQcm9wKTtcbiAgICB3aGlsZSAocnVsZSAmJiBydWxlLmNvbnRleHQgJiYgIW5vZGUubWF0Y2hDb250ZXh0KHJ1bGUuY29udGV4dCkpXG4gICAgICAgIHJ1bGUgPSBydWxlLm5leHQ7XG4gICAgcmV0dXJuIHJ1bGUgfHwgbnVsbDtcbn1cbmNvbnN0IHQgPSBUYWcuZGVmaW5lO1xuY29uc3QgY29tbWVudCA9IHQoKSwgbmFtZSA9IHQoKSwgdHlwZU5hbWUgPSB0KG5hbWUpLCBwcm9wZXJ0eU5hbWUgPSB0KG5hbWUpLCBsaXRlcmFsID0gdCgpLCBzdHJpbmcgPSB0KGxpdGVyYWwpLCBudW1iZXIgPSB0KGxpdGVyYWwpLCBjb250ZW50ID0gdCgpLCBoZWFkaW5nID0gdChjb250ZW50KSwga2V5d29yZCA9IHQoKSwgb3BlcmF0b3IgPSB0KCksIHB1bmN0dWF0aW9uID0gdCgpLCBicmFja2V0ID0gdChwdW5jdHVhdGlvbiksIG1ldGEgPSB0KCk7XG4vKipcblRoZSBkZWZhdWx0IHNldCBvZiBoaWdobGlnaHRpbmcgW3RhZ3NdKCNoaWdobGlnaHQuVGFnKS5cblxuVGhpcyBjb2xsZWN0aW9uIGlzIGhlYXZpbHkgYmlhc2VkIHRvd2FyZHMgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2VzLFxuYW5kIG5lY2Vzc2FyaWx5IGluY29tcGxldGUuIEEgZnVsbCBvbnRvbG9neSBvZiBzeW50YWN0aWNcbmNvbnN0cnVjdHMgd291bGQgZmlsbCBhIHN0YWNrIG9mIGJvb2tzLCBhbmQgYmUgaW1wcmFjdGljYWwgdG9cbndyaXRlIHRoZW1lcyBmb3IuIFNvIHRyeSB0byBtYWtlIGRvIHdpdGggdGhpcyBzZXQuIElmIGFsbCBlbHNlXG5mYWlscywgW29wZW4gYW5cbmlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9jb2RlbWlycm9yLm5leHQpIHRvIHByb3Bvc2UgYVxubmV3IHRhZywgb3IgW2RlZmluZV0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lKSBhIGxvY2FsIGN1c3RvbSB0YWcgZm9yXG55b3VyIHVzZSBjYXNlLlxuXG5Ob3RlIHRoYXQgaXQgaXMgbm90IG9ibGlnYXRvcnkgdG8gYWx3YXlzIGF0dGFjaCB0aGUgbW9zdCBzcGVjaWZpY1xudGFnIHBvc3NpYmxlIHRvIGFuIGVsZW1lbnTigJRpZiB5b3VyIGdyYW1tYXIgY2FuJ3QgZWFzaWx5XG5kaXN0aW5ndWlzaCBhIGNlcnRhaW4gdHlwZSBvZiBlbGVtZW50IChzdWNoIGFzIGEgbG9jYWwgdmFyaWFibGUpLFxuaXQgaXMgb2theSB0byBzdHlsZSBpdCBhcyBpdHMgbW9yZSBnZW5lcmFsIHZhcmlhbnQgKGEgdmFyaWFibGUpLlxuXG5Gb3IgdGFncyB0aGF0IGV4dGVuZCBzb21lIHBhcmVudCB0YWcsIHRoZSBkb2N1bWVudGF0aW9uIGxpbmtzIHRvXG50aGUgcGFyZW50LlxuKi9cbmNvbnN0IHRhZ3MgPSB7XG4gICAgLyoqXG4gICAgQSBjb21tZW50LlxuICAgICovXG4gICAgY29tbWVudCxcbiAgICAvKipcbiAgICBBIGxpbmUgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGxpbmVDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8qKlxuICAgIEEgYmxvY2sgW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGJsb2NrQ29tbWVudDogdChjb21tZW50KSxcbiAgICAvKipcbiAgICBBIGRvY3VtZW50YXRpb24gW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICAqL1xuICAgIGRvY0NvbW1lbnQ6IHQoY29tbWVudCksXG4gICAgLyoqXG4gICAgQW55IGtpbmQgb2YgaWRlbnRpZmllci5cbiAgICAqL1xuICAgIG5hbWUsXG4gICAgLyoqXG4gICAgVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSB2YXJpYWJsZS5cbiAgICAqL1xuICAgIHZhcmlhYmxlTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIHR5cGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIHR5cGVOYW1lOiB0eXBlTmFtZSxcbiAgICAvKipcbiAgICBBIHRhZyBuYW1lIChzdWJ0YWcgb2YgW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSkpLlxuICAgICovXG4gICAgdGFnTmFtZTogdCh0eXBlTmFtZSksXG4gICAgLyoqXG4gICAgQSBwcm9wZXJ0eSBvciBmaWVsZCBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgLyoqXG4gICAgQW4gYXR0cmlidXRlIG5hbWUgKHN1YnRhZyBvZiBbYHByb3BlcnR5TmFtZWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpKS5cbiAgICAqL1xuICAgIGF0dHJpYnV0ZU5hbWU6IHQocHJvcGVydHlOYW1lKSxcbiAgICAvKipcbiAgICBUaGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKSBvZiBhIGNsYXNzLlxuICAgICovXG4gICAgY2xhc3NOYW1lOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIEEgbGFiZWwgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICAqL1xuICAgIGxhYmVsTmFtZTogdChuYW1lKSxcbiAgICAvKipcbiAgICBBIG5hbWVzcGFjZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgICovXG4gICAgbmFtZXNwYWNlOiB0KG5hbWUpLFxuICAgIC8qKlxuICAgIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgbWFjcm8uXG4gICAgKi9cbiAgICBtYWNyb05hbWU6IHQobmFtZSksXG4gICAgLyoqXG4gICAgQSBsaXRlcmFsIHZhbHVlLlxuICAgICovXG4gICAgbGl0ZXJhbCxcbiAgICAvKipcbiAgICBBIHN0cmluZyBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgc3RyaW5nLFxuICAgIC8qKlxuICAgIEEgZG9jdW1lbnRhdGlvbiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKS5cbiAgICAqL1xuICAgIGRvY1N0cmluZzogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgY2hhcmFjdGVyIGxpdGVyYWwgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBjaGFyYWN0ZXI6IHQoc3RyaW5nKSxcbiAgICAvKipcbiAgICBBbiBhdHRyaWJ1dGUgdmFsdWUgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgKi9cbiAgICBhdHRyaWJ1dGVWYWx1ZTogdChzdHJpbmcpLFxuICAgIC8qKlxuICAgIEEgbnVtYmVyIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBudW1iZXIsXG4gICAgLyoqXG4gICAgQW4gaW50ZWdlciBbbnVtYmVyXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKSBsaXRlcmFsLlxuICAgICovXG4gICAgaW50ZWdlcjogdChudW1iZXIpLFxuICAgIC8qKlxuICAgIEEgZmxvYXRpbmctcG9pbnQgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICAqL1xuICAgIGZsb2F0OiB0KG51bWJlciksXG4gICAgLyoqXG4gICAgQSBib29sZWFuIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBib29sOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIFJlZ3VsYXIgZXhwcmVzc2lvbiBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgcmVnZXhwOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEFuIGVzY2FwZSBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLCBmb3IgZXhhbXBsZSBhXG4gICAgYmFja3NsYXNoIGVzY2FwZSBpbiBhIHN0cmluZy5cbiAgICAqL1xuICAgIGVzY2FwZTogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIGNvbG9yIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgKi9cbiAgICBjb2xvcjogdChsaXRlcmFsKSxcbiAgICAvKipcbiAgICBBIFVSTCBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgICovXG4gICAgdXJsOiB0KGxpdGVyYWwpLFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2Uga2V5d29yZC5cbiAgICAqL1xuICAgIGtleXdvcmQsXG4gICAgLyoqXG4gICAgVGhlIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZm9yIHRoZSBzZWxmIG9yIHRoaXNcbiAgICBvYmplY3QuXG4gICAgKi9cbiAgICBzZWxmOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIFRoZSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGZvciBudWxsLlxuICAgICovXG4gICAgbnVsbDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZGVub3Rpbmcgc29tZSBhdG9taWMgdmFsdWUuXG4gICAgKi9cbiAgICBhdG9tOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IHJlcHJlc2VudHMgYSB1bml0LlxuICAgICovXG4gICAgdW5pdDogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIG1vZGlmaWVyIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgKi9cbiAgICBtb2RpZmllcjogdChrZXl3b3JkKSxcbiAgICAvKipcbiAgICBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCBhY3RzIGFzIGFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3JLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgY29udHJvbC1mbG93IHJlbGF0ZWQgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKS5cbiAgICAqL1xuICAgIGNvbnRyb2xLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgICovXG4gICAgZGVmaW5pdGlvbktleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLyoqXG4gICAgQSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIHJlbGF0ZWQgdG8gZGVmaW5pbmcgb3JcbiAgICBpbnRlcmZhY2luZyB3aXRoIG1vZHVsZXMuXG4gICAgKi9cbiAgICBtb2R1bGVLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8qKlxuICAgIEFuIG9wZXJhdG9yLlxuICAgICovXG4gICAgb3BlcmF0b3IsXG4gICAgLyoqXG4gICAgQW4gW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVyZWZlcmVuY2VzIHNvbWV0aGluZy5cbiAgICAqL1xuICAgIGRlcmVmT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIEFyaXRobWV0aWMtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBhcml0aG1ldGljT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIExvZ2ljYWwgW29wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpLlxuICAgICovXG4gICAgbG9naWNPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQml0IFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICAqL1xuICAgIGJpdHdpc2VPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgQ29tcGFyaXNvbiBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb21wYXJlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFtPcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IHVwZGF0ZXMgaXRzIG9wZXJhbmQuXG4gICAgKi9cbiAgICB1cGRhdGVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLyoqXG4gICAgW09wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgZGVmaW5lcyBzb21ldGhpbmcuXG4gICAgKi9cbiAgICBkZWZpbml0aW9uT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFR5cGUtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICB0eXBlT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIENvbnRyb2wtZmxvdyBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgKi9cbiAgICBjb250cm9sT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8qKlxuICAgIFByb2dyYW0gb3IgbWFya3VwIHB1bmN0dWF0aW9uLlxuICAgICovXG4gICAgcHVuY3R1YXRpb24sXG4gICAgLyoqXG4gICAgW1B1bmN0dWF0aW9uXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pIHRoYXQgc2VwYXJhdGVzXG4gICAgdGhpbmdzLlxuICAgICovXG4gICAgc2VwYXJhdG9yOiB0KHB1bmN0dWF0aW9uKSxcbiAgICAvKipcbiAgICBCcmFja2V0LXN0eWxlIFtwdW5jdHVhdGlvbl0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKS5cbiAgICAqL1xuICAgIGJyYWNrZXQsXG4gICAgLyoqXG4gICAgQW5nbGUgW2JyYWNrZXRzXSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkgKHVzdWFsbHkgYDxgIGFuZCBgPmBcbiAgICB0b2tlbnMpLlxuICAgICovXG4gICAgYW5nbGVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFNxdWFyZSBbYnJhY2tldHNdKCNoaWdobGlnaHQudGFncy5icmFja2V0KSAodXN1YWxseSBgW2AgYW5kIGBdYFxuICAgIHRva2VucykuXG4gICAgKi9cbiAgICBzcXVhcmVCcmFja2V0OiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIFBhcmVudGhlc2VzICh1c3VhbGx5IGAoYCBhbmQgYClgIHRva2VucykuIFN1YnRhZyBvZlxuICAgIFticmFja2V0XSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkuXG4gICAgKi9cbiAgICBwYXJlbjogdChicmFja2V0KSxcbiAgICAvKipcbiAgICBCcmFjZXMgKHVzdWFsbHkgYHtgIGFuZCBgfWAgdG9rZW5zKS4gU3VidGFnIG9mXG4gICAgW2JyYWNrZXRdKCNoaWdobGlnaHQudGFncy5icmFja2V0KS5cbiAgICAqL1xuICAgIGJyYWNlOiB0KGJyYWNrZXQpLFxuICAgIC8qKlxuICAgIENvbnRlbnQsIGZvciBleGFtcGxlIHBsYWluIHRleHQgaW4gWE1MIG9yIG1hcmt1cCBkb2N1bWVudHMuXG4gICAgKi9cbiAgICBjb250ZW50LFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgaGVhZGluZy5cbiAgICAqL1xuICAgIGhlYWRpbmcsXG4gICAgLyoqXG4gICAgQSBsZXZlbCAxIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nMTogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDIgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmcyOiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgMyBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzM6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBsZXZlbCA0IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgKi9cbiAgICBoZWFkaW5nNDogdChoZWFkaW5nKSxcbiAgICAvKipcbiAgICBBIGxldmVsIDUgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICAqL1xuICAgIGhlYWRpbmc1OiB0KGhlYWRpbmcpLFxuICAgIC8qKlxuICAgIEEgbGV2ZWwgNiBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgICovXG4gICAgaGVhZGluZzY6IHQoaGVhZGluZyksXG4gICAgLyoqXG4gICAgQSBwcm9zZSBbY29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHNlcGFyYXRvciAoc3VjaCBhcyBhIGhvcml6b250YWwgcnVsZSkuXG4gICAgKi9cbiAgICBjb250ZW50U2VwYXJhdG9yOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgbGlzdC5cbiAgICAqL1xuICAgIGxpc3Q6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IHJlcHJlc2VudHMgYSBxdW90ZS5cbiAgICAqL1xuICAgIHF1b3RlOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBpcyBlbXBoYXNpemVkLlxuICAgICovXG4gICAgZW1waGFzaXM6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBzdHJvbmcuXG4gICAgKi9cbiAgICBzdHJvbmc6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHBhcnQgb2YgYSBsaW5rLlxuICAgICovXG4gICAgbGluazogdChjb250ZW50KSxcbiAgICAvKipcbiAgICBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgc3R5bGVkIGFzIGNvZGUgb3JcbiAgICBtb25vc3BhY2UuXG4gICAgKi9cbiAgICBtb25vc3BhY2U6IHQoY29udGVudCksXG4gICAgLyoqXG4gICAgW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGhhcyBhIHN0cmlrZS10aHJvdWdoXG4gICAgc3R5bGUuXG4gICAgKi9cbiAgICBzdHJpa2V0aHJvdWdoOiB0KGNvbnRlbnQpLFxuICAgIC8qKlxuICAgIEluc2VydGVkIHRleHQgaW4gYSBjaGFuZ2UtdHJhY2tpbmcgZm9ybWF0LlxuICAgICovXG4gICAgaW5zZXJ0ZWQ6IHQoKSxcbiAgICAvKipcbiAgICBEZWxldGVkIHRleHQuXG4gICAgKi9cbiAgICBkZWxldGVkOiB0KCksXG4gICAgLyoqXG4gICAgQ2hhbmdlZCB0ZXh0LlxuICAgICovXG4gICAgY2hhbmdlZDogdCgpLFxuICAgIC8qKlxuICAgIEFuIGludmFsaWQgb3IgdW5zeW50YWN0aWMgZWxlbWVudC5cbiAgICAqL1xuICAgIGludmFsaWQ6IHQoKSxcbiAgICAvKipcbiAgICBNZXRhZGF0YSBvciBtZXRhLWluc3RydWN0aW9uLlxuICAgICovXG4gICAgbWV0YSxcbiAgICAvKipcbiAgICBbTWV0YWRhdGFdKCNoaWdobGlnaHQudGFncy5tZXRhKSB0aGF0IGFwcGxpZXMgdG8gdGhlIGVudGlyZVxuICAgIGRvY3VtZW50LlxuICAgICovXG4gICAgZG9jdW1lbnRNZXRhOiB0KG1ldGEpLFxuICAgIC8qKlxuICAgIFtNZXRhZGF0YV0oI2hpZ2hsaWdodC50YWdzLm1ldGEpIHRoYXQgYW5ub3RhdGVzIG9yIGFkZHNcbiAgICBhdHRyaWJ1dGVzIHRvIGEgZ2l2ZW4gc3ludGFjdGljIGVsZW1lbnQuXG4gICAgKi9cbiAgICBhbm5vdGF0aW9uOiB0KG1ldGEpLFxuICAgIC8qKlxuICAgIFByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gb3IgcHJlcHJvY2Vzc29yIGRpcmVjdGl2ZS4gU3VidGFnIG9mXG4gICAgW21ldGFdKCNoaWdobGlnaHQudGFncy5tZXRhKS5cbiAgICAqL1xuICAgIHByb2Nlc3NpbmdJbnN0cnVjdGlvbjogdChtZXRhKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGluZGljYXRlcyB0aGF0IGFcbiAgICBnaXZlbiBlbGVtZW50IGlzIGJlaW5nIGRlZmluZWQuIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCB0aGVcbiAgICB2YXJpb3VzIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgdGFncy5cbiAgICAqL1xuICAgIGRlZmluaXRpb246IFRhZy5kZWZpbmVNb2RpZmllcihcImRlZmluaXRpb25cIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgdGhhdFxuICAgIHNvbWV0aGluZyBpcyBjb25zdGFudC4gTW9zdGx5IGV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aFxuICAgIFt2YXJpYWJsZSBuYW1lc10oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkuXG4gICAgKi9cbiAgICBjb25zdGFudDogVGFnLmRlZmluZU1vZGlmaWVyKFwiY29uc3RhbnRcIiksXG4gICAgLyoqXG4gICAgW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdXNlZCB0byBpbmRpY2F0ZSB0aGF0XG4gICAgYSBbdmFyaWFibGVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIG9yIFtwcm9wZXJ0eVxuICAgIG5hbWVdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpIGlzIGJlaW5nIGNhbGxlZCBvciBkZWZpbmVkXG4gICAgYXMgYSBmdW5jdGlvbi5cbiAgICAqL1xuICAgIGZ1bmN0aW9uOiBUYWcuZGVmaW5lTW9kaWZpZXIoXCJmdW5jdGlvblwiKSxcbiAgICAvKipcbiAgICBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvXG4gICAgW25hbWVzXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgdG8gaW5kaWNhdGUgdGhhdCB0aGV5IGJlbG9uZyB0b1xuICAgIHRoZSBsYW5ndWFnZSdzIHN0YW5kYXJkIGVudmlyb25tZW50LlxuICAgICovXG4gICAgc3RhbmRhcmQ6IFRhZy5kZWZpbmVNb2RpZmllcihcInN0YW5kYXJkXCIpLFxuICAgIC8qKlxuICAgIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIGEgZ2l2ZW5cbiAgICBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSBpcyBsb2NhbCB0byBzb21lIHNjb3BlLlxuICAgICovXG4gICAgbG9jYWw6IFRhZy5kZWZpbmVNb2RpZmllcihcImxvY2FsXCIpLFxuICAgIC8qKlxuICAgIEEgZ2VuZXJpYyB2YXJpYW50IFttb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXRcbiAgICBjYW4gYmUgdXNlZCB0byB0YWcgbGFuZ3VhZ2Utc3BlY2lmaWMgYWx0ZXJuYXRpdmUgdmFyaWFudHMgb2ZcbiAgICBzb21lIGNvbW1vbiB0YWcuIEl0IGlzIHJlY29tbWVuZGVkIGZvciB0aGVtZXMgdG8gZGVmaW5lIHNwZWNpYWxcbiAgICBmb3JtcyBvZiBhdCBsZWFzdCB0aGUgW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykgYW5kXG4gICAgW3ZhcmlhYmxlIG5hbWVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIHRhZ3MsIHNpbmNlIHRob3NlXG4gICAgY29tZSB1cCBhIGxvdC5cbiAgICAqL1xuICAgIHNwZWNpYWw6IFRhZy5kZWZpbmVNb2RpZmllcihcInNwZWNpYWxcIilcbn07XG5mb3IgKGxldCBuYW1lIGluIHRhZ3MpIHtcbiAgICBsZXQgdmFsID0gdGFnc1tuYW1lXTtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgVGFnKVxuICAgICAgICB2YWwubmFtZSA9IG5hbWU7XG59XG4vKipcblRoaXMgaXMgYSBoaWdobGlnaHRlciB0aGF0IGFkZHMgc3RhYmxlLCBwcmVkaWN0YWJsZSBjbGFzc2VzIHRvXG50b2tlbnMsIGZvciBzdHlsaW5nIHdpdGggZXh0ZXJuYWwgQ1NTLlxuXG5UaGUgZm9sbG93aW5nIHRhZ3MgYXJlIG1hcHBlZCB0byB0aGVpciBuYW1lIHByZWZpeGVkIHdpdGggYFwidG9rLVwiYFxuKGZvciBleGFtcGxlIGBcInRvay1jb21tZW50XCJgKTpcblxuKiBbYGxpbmtgXSgjaGlnaGxpZ2h0LnRhZ3MubGluaylcbiogW2BoZWFkaW5nYF0oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpXG4qIFtgZW1waGFzaXNgXSgjaGlnaGxpZ2h0LnRhZ3MuZW1waGFzaXMpXG4qIFtgc3Ryb25nYF0oI2hpZ2hsaWdodC50YWdzLnN0cm9uZylcbiogW2BrZXl3b3JkYF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpXG4qIFtgYXRvbWBdKCNoaWdobGlnaHQudGFncy5hdG9tKVxuKiBbYGJvb2xgXSgjaGlnaGxpZ2h0LnRhZ3MuYm9vbClcbiogW2B1cmxgXSgjaGlnaGxpZ2h0LnRhZ3MudXJsKVxuKiBbYGxhYmVsTmFtZWBdKCNoaWdobGlnaHQudGFncy5sYWJlbE5hbWUpXG4qIFtgaW5zZXJ0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuaW5zZXJ0ZWQpXG4qIFtgZGVsZXRlZGBdKCNoaWdobGlnaHQudGFncy5kZWxldGVkKVxuKiBbYGxpdGVyYWxgXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbClcbiogW2BzdHJpbmdgXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKVxuKiBbYG51bWJlcmBdKCNoaWdobGlnaHQudGFncy5udW1iZXIpXG4qIFtgdmFyaWFibGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiogW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSlcbiogW2BuYW1lc3BhY2VgXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZXNwYWNlKVxuKiBbYGNsYXNzTmFtZWBdKCNoaWdobGlnaHQudGFncy5jbGFzc05hbWUpXG4qIFtgbWFjcm9OYW1lYF0oI2hpZ2hsaWdodC50YWdzLm1hY3JvTmFtZSlcbiogW2Bwcm9wZXJ0eU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKVxuKiBbYG9wZXJhdG9yYF0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKVxuKiBbYGNvbW1lbnRgXSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudClcbiogW2BtZXRhYF0oI2hpZ2hsaWdodC50YWdzLm1ldGEpXG4qIFtgcHVuY3R1YXRpb25gXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pXG4qIFtgaW52YWxpZGBdKCNoaWdobGlnaHQudGFncy5pbnZhbGlkKVxuXG5JbiBhZGRpdGlvbiwgdGhlc2UgbWFwcGluZ3MgYXJlIHByb3ZpZGVkOlxuXG4qIFtgcmVnZXhwYF0oI2hpZ2hsaWdodC50YWdzLnJlZ2V4cCksXG4gIFtgZXNjYXBlYF0oI2hpZ2hsaWdodC50YWdzLmVzY2FwZSksIGFuZFxuICBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYChzdHJpbmcpYF0oI2hpZ2hsaWdodC50YWdzLnN0cmluZylcbiAgYXJlIG1hcHBlZCB0byBgXCJ0b2stc3RyaW5nMlwiYFxuKiBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZTJcImBcbiogW2Bsb2NhbGBdKCNoaWdobGlnaHQudGFncy5sb2NhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbiAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stbG9jYWxcImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AodmFyaWFibGVOYW1lKWBdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpXG4gIHRvIGBcInRvay12YXJpYWJsZU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AocHJvcGVydHlOYW1lKWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpXG4gIHRvIGBcInRvay1wcm9wZXJ0eU5hbWUgdG9rLWRlZmluaXRpb25cImBcbiovXG5jb25zdCBjbGFzc0hpZ2hsaWdodGVyID0gdGFnSGlnaGxpZ2h0ZXIoW1xuICAgIHsgdGFnOiB0YWdzLmxpbmssIGNsYXNzOiBcInRvay1saW5rXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLCBjbGFzczogXCJ0b2staGVhZGluZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsIGNsYXNzOiBcInRvay1lbXBoYXNpc1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3Ryb25nLCBjbGFzczogXCJ0b2stc3Ryb25nXCIgfSxcbiAgICB7IHRhZzogdGFncy5rZXl3b3JkLCBjbGFzczogXCJ0b2sta2V5d29yZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuYXRvbSwgY2xhc3M6IFwidG9rLWF0b21cIiB9LFxuICAgIHsgdGFnOiB0YWdzLmJvb2wsIGNsYXNzOiBcInRvay1ib29sXCIgfSxcbiAgICB7IHRhZzogdGFncy51cmwsIGNsYXNzOiBcInRvay11cmxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxhYmVsTmFtZSwgY2xhc3M6IFwidG9rLWxhYmVsTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW5zZXJ0ZWQsIGNsYXNzOiBcInRvay1pbnNlcnRlZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVsZXRlZCwgY2xhc3M6IFwidG9rLWRlbGV0ZWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpdGVyYWwsIGNsYXNzOiBcInRvay1saXRlcmFsXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpbmcsIGNsYXNzOiBcInRvay1zdHJpbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm51bWJlciwgY2xhc3M6IFwidG9rLW51bWJlclwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnJlZ2V4cCwgdGFncy5lc2NhcGUsIHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLCBjbGFzczogXCJ0b2stc3RyaW5nMlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudmFyaWFibGVOYW1lLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUgdG9rLWxvY2FsXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUyXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSwgY2xhc3M6IFwidG9rLXByb3BlcnR5TmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudHlwZU5hbWUsIGNsYXNzOiBcInRvay10eXBlTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubmFtZXNwYWNlLCBjbGFzczogXCJ0b2stbmFtZXNwYWNlXCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsIGNsYXNzOiBcInRvay1jbGFzc05hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm1hY3JvTmFtZSwgY2xhc3M6IFwidG9rLW1hY3JvTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucHJvcGVydHlOYW1lLCBjbGFzczogXCJ0b2stcHJvcGVydHlOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5vcGVyYXRvciwgY2xhc3M6IFwidG9rLW9wZXJhdG9yXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LCBjbGFzczogXCJ0b2stY29tbWVudFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubWV0YSwgY2xhc3M6IFwidG9rLW1ldGFcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmludmFsaWQsIGNsYXNzOiBcInRvay1pbnZhbGlkXCIgfSxcbiAgICB7IHRhZzogdGFncy5wdW5jdHVhdGlvbiwgY2xhc3M6IFwidG9rLXB1bmN0dWF0aW9uXCIgfVxuXSk7XG5cbmV4cG9ydCB7IFRhZywgY2xhc3NIaWdobGlnaHRlciwgZ2V0U3R5bGVUYWdzLCBoaWdobGlnaHRDb2RlLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCB0YWdzIH07XG4iLCJpbXBvcnQgeyBOb2RlUHJvcCwgSXRlck1vZGUsIFRyZWUsIFRyZWVGcmFnbWVudCwgUGFyc2VyLCBOb2RlVHlwZSwgTm9kZVNldCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuaW1wb3J0IHsgU3RhdGVFZmZlY3QsIFN0YXRlRmllbGQsIEZhY2V0LCBFZGl0b3JTdGF0ZSwgY291bnRDb2x1bW4sIGNvbWJpbmVDb25maWcsIFJhbmdlU2V0LCBSYW5nZVNldEJ1aWxkZXIsIFByZWMgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBWaWV3UGx1Z2luLCBsb2dFeGNlcHRpb24sIEVkaXRvclZpZXcsIERlY29yYXRpb24sIFdpZGdldFR5cGUsIGd1dHRlciwgR3V0dGVyTWFya2VyLCBEaXJlY3Rpb24gfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcbmltcG9ydCB7IFN0eWxlTW9kdWxlIH0gZnJvbSAnc3R5bGUtbW9kJztcblxudmFyIF9hO1xuLyoqXG5Ob2RlIHByb3Agc3RvcmVkIGluIGEgcGFyc2VyJ3MgdG9wIHN5bnRheCBub2RlIHRvIHByb3ZpZGUgdGhlXG5mYWNldCB0aGF0IHN0b3JlcyBsYW5ndWFnZS1zcGVjaWZpYyBkYXRhIGZvciB0aGF0IGxhbmd1YWdlLlxuKi9cbmNvbnN0IGxhbmd1YWdlRGF0YVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkhlbHBlciBmdW5jdGlvbiB0byBkZWZpbmUgYSBmYWNldCAodG8gYmUgYWRkZWQgdG8gdGhlIHRvcCBzeW50YXhcbm5vZGUocykgZm9yIGEgbGFuZ3VhZ2UgdmlhXG5bYGxhbmd1YWdlRGF0YVByb3BgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApKSwgdGhhdCB3aWxsIGJlXG51c2VkIHRvIGFzc29jaWF0ZSBsYW5ndWFnZSBkYXRhIHdpdGggdGhlIGxhbmd1YWdlLiBZb3VcbnByb2JhYmx5IG9ubHkgbmVlZCB0aGlzIHdoZW4gc3ViY2xhc3NpbmdcbltgTGFuZ3VhZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlKS5cbiovXG5mdW5jdGlvbiBkZWZpbmVMYW5ndWFnZUZhY2V0KGJhc2VEYXRhKSB7XG4gICAgcmV0dXJuIEZhY2V0LmRlZmluZSh7XG4gICAgICAgIGNvbWJpbmU6IGJhc2VEYXRhID8gdmFsdWVzID0+IHZhbHVlcy5jb25jYXQoYmFzZURhdGEpIDogdW5kZWZpbmVkXG4gICAgfSk7XG59XG4vKipcblN5bnRheCBub2RlIHByb3AgdXNlZCB0byByZWdpc3RlciBzdWJsYW5ndWFnZXMuIFNob3VsZCBiZSBhZGRlZCB0b1xudGhlIHRvcCBsZXZlbCBub2RlIHR5cGUgZm9yIHRoZSBsYW5ndWFnZS5cbiovXG5jb25zdCBzdWJsYW5ndWFnZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbkEgbGFuZ3VhZ2Ugb2JqZWN0IG1hbmFnZXMgcGFyc2luZyBhbmQgcGVyLWxhbmd1YWdlXG5bbWV0YWRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpLiBQYXJzZSBkYXRhIGlzXG5tYW5hZ2VkIGFzIGEgW0xlemVyXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0KSB0cmVlLiBUaGUgY2xhc3NcbmNhbiBiZSB1c2VkIGRpcmVjdGx5LCB2aWEgdGhlIFtgTFJMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTFJMYW5ndWFnZSlcbnN1YmNsYXNzIGZvciBbTGV6ZXJdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvKSBMUiBwYXJzZXJzLCBvclxudmlhIHRoZSBbYFN0cmVhbUxhbmd1YWdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1MYW5ndWFnZSkgc3ViY2xhc3NcbmZvciBzdHJlYW0gcGFyc2Vycy5cbiovXG5jbGFzcyBMYW5ndWFnZSB7XG4gICAgLyoqXG4gICAgQ29uc3RydWN0IGEgbGFuZ3VhZ2Ugb2JqZWN0LiBJZiB5b3UgbmVlZCB0byBpbnZva2UgdGhpc1xuICAgIGRpcmVjdGx5LCBmaXJzdCBkZWZpbmUgYSBkYXRhIGZhY2V0IHdpdGhcbiAgICBbYGRlZmluZUxhbmd1YWdlRmFjZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmRlZmluZUxhbmd1YWdlRmFjZXQpLCBhbmQgdGhlblxuICAgIGNvbmZpZ3VyZSB5b3VyIHBhcnNlciB0byBbYXR0YWNoXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlRGF0YVByb3ApIGl0XG4gICAgdG8gdGhlIGxhbmd1YWdlJ3Mgb3V0ZXIgc3ludGF4IG5vZGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgW2xhbmd1YWdlIGRhdGFdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhQXQpIGZhY2V0XG4gICAgdXNlZCBmb3IgdGhpcyBsYW5ndWFnZS5cbiAgICAqL1xuICAgIGRhdGEsIHBhcnNlciwgZXh0cmFFeHRlbnNpb25zID0gW10sIFxuICAgIC8qKlxuICAgIEEgbGFuZ3VhZ2UgbmFtZS5cbiAgICAqL1xuICAgIG5hbWUgPSBcIlwiKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIC8vIEtsdWRnZSB0byBkZWZpbmUgRWRpdG9yU3RhdGUudHJlZSBhcyBhIGRlYnVnZ2luZyBoZWxwZXIsXG4gICAgICAgIC8vIHdpdGhvdXQgdGhlIEVkaXRvclN0YXRlIHBhY2thZ2UgYWN0dWFsbHkga25vd2luZyBhYm91dFxuICAgICAgICAvLyBsYW5ndWFnZXMgYW5kIGxlemVyIHRyZWVzLlxuICAgICAgICBpZiAoIUVkaXRvclN0YXRlLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInRyZWVcIikpXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWRpdG9yU3RhdGUucHJvdG90eXBlLCBcInRyZWVcIiwgeyBnZXQoKSB7IHJldHVybiBzeW50YXhUcmVlKHRoaXMpOyB9IH0pO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSBbXG4gICAgICAgICAgICBsYW5ndWFnZS5vZih0aGlzKSxcbiAgICAgICAgICAgIEVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YS5vZigoc3RhdGUsIHBvcywgc2lkZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0b3AgPSB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSksIGRhdGEgPSB0b3AudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gc3RhdGUuZmFjZXQoZGF0YSksIHN1YiA9IHRvcC50eXBlLnByb3Aoc3VibGFuZ3VhZ2VQcm9wKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lck5vZGUgPSB0b3AucmVzb2x2ZShwb3MgLSB0b3AuZnJvbSwgc2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1Ymxhbmcgb2Ygc3ViKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmxhbmcudGVzdChpbm5lck5vZGUsIHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gc3RhdGUuZmFjZXQoc3VibGFuZy5mYWNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmxhbmcudHlwZSA9PSBcInJlcGxhY2VcIiA/IGRhdGEgOiBkYXRhLmNvbmNhdChiYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICBdLmNvbmNhdChleHRyYUV4dGVuc2lvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBRdWVyeSB3aGV0aGVyIHRoaXMgbGFuZ3VhZ2UgaXMgYWN0aXZlIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGlzQWN0aXZlQXQoc3RhdGUsIHBvcywgc2lkZSA9IC0xKSB7XG4gICAgICAgIHJldHVybiB0b3BOb2RlQXQoc3RhdGUsIHBvcywgc2lkZSkudHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHRoaXMuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgZG9jdW1lbnQgcmVnaW9ucyB0aGF0IHdlcmUgcGFyc2VkIHVzaW5nIHRoaXMgbGFuZ3VhZ2UuXG4gICAgVGhlIHJldHVybmVkIHJlZ2lvbnMgd2lsbCBfaW5jbHVkZV8gYW55IG5lc3RlZCBsYW5ndWFnZXMgcm9vdGVkXG4gICAgaW4gdGhpcyBsYW5ndWFnZSwgd2hlbiB0aG9zZSBleGlzdC5cbiAgICAqL1xuICAgIGZpbmRSZWdpb25zKHN0YXRlKSB7XG4gICAgICAgIGxldCBsYW5nID0gc3RhdGUuZmFjZXQobGFuZ3VhZ2UpO1xuICAgICAgICBpZiAoKGxhbmcgPT09IG51bGwgfHwgbGFuZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFuZy5kYXRhKSA9PSB0aGlzLmRhdGEpXG4gICAgICAgICAgICByZXR1cm4gW3sgZnJvbTogMCwgdG86IHN0YXRlLmRvYy5sZW5ndGggfV07XG4gICAgICAgIGlmICghbGFuZyB8fCAhbGFuZy5hbGxvd3NOZXN0aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBleHBsb3JlID0gKHRyZWUsIGZyb20pID0+IHtcbiAgICAgICAgICAgIGlmICh0cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tLCB0bzogZnJvbSArIHRyZWUubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtb3VudCA9IHRyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKTtcbiAgICAgICAgICAgIGlmIChtb3VudCkge1xuICAgICAgICAgICAgICAgIGlmIChtb3VudC50cmVlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBtb3VudC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbTogci5mcm9tICsgZnJvbSwgdG86IHIudG8gKyBmcm9tIH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGZyb206IGZyb20sIHRvOiBmcm9tICsgdHJlZS5sZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW91bnQub3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUobW91bnQudHJlZSwgbW91bnQub3ZlcmxheVswXS5mcm9tICsgZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gc2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2ggPSB0cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaCBpbnN0YW5jZW9mIFRyZWUpXG4gICAgICAgICAgICAgICAgICAgIGV4cGxvcmUoY2gsIHRyZWUucG9zaXRpb25zW2ldICsgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGV4cGxvcmUoc3ludGF4VHJlZShzdGF0ZSksIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGxhbmd1YWdlIGFsbG93cyBuZXN0ZWQgbGFuZ3VhZ2VzLiBUaGVcbiAgICBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZS5cbiAgICAqL1xuICAgIGdldCBhbGxvd3NOZXN0aW5nKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuLyoqXG5AaW50ZXJuYWxcbiovXG5MYW5ndWFnZS5zZXRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmZ1bmN0aW9uIHRvcE5vZGVBdChzdGF0ZSwgcG9zLCBzaWRlKSB7XG4gICAgbGV0IHRvcExhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSksIHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKS50b3BOb2RlO1xuICAgIGlmICghdG9wTGFuZyB8fCB0b3BMYW5nLmFsbG93c05lc3RpbmcpIHtcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHRyZWU7IG5vZGU7IG5vZGUgPSBub2RlLmVudGVyKHBvcywgc2lkZSwgSXRlck1vZGUuRXhjbHVkZUJ1ZmZlcnMpKVxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZS5pc1RvcClcbiAgICAgICAgICAgICAgICB0cmVlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWU7XG59XG4vKipcbkEgc3ViY2xhc3Mgb2YgW2BMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGZvciB1c2Ugd2l0aCBMZXplclxuW0xSIHBhcnNlcnNdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjbHIuTFJQYXJzZXIpXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExSTGFuZ3VhZ2UgZXh0ZW5kcyBMYW5ndWFnZSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcGFyc2VyLCBuYW1lKSB7XG4gICAgICAgIHN1cGVyKGRhdGEsIHBhcnNlciwgW10sIG5hbWUpO1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbGFuZ3VhZ2UgZnJvbSBhIHBhcnNlci5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQoc3BlYy5sYW5ndWFnZURhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UoZGF0YSwgc3BlYy5wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgICAgIHByb3BzOiBbbGFuZ3VhZ2VEYXRhUHJvcC5hZGQodHlwZSA9PiB0eXBlLmlzVG9wID8gZGF0YSA6IHVuZGVmaW5lZCldXG4gICAgICAgIH0pLCBzcGVjLm5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhpcyBsYW5ndWFnZSB3aXRoIGEgcmVjb25maWd1cmVkXG4gICAgdmVyc2lvbiBvZiBpdHMgcGFyc2VyIGFuZCBvcHRpb25hbGx5IGEgbmV3IG5hbWUuXG4gICAgKi9cbiAgICBjb25maWd1cmUob3B0aW9ucywgbmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IExSTGFuZ3VhZ2UodGhpcy5kYXRhLCB0aGlzLnBhcnNlci5jb25maWd1cmUob3B0aW9ucyksIG5hbWUgfHwgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiB0aGlzLnBhcnNlci5oYXNXcmFwcGVycygpOyB9XG59XG4vKipcbkdldCB0aGUgc3ludGF4IHRyZWUgZm9yIGEgc3RhdGUsIHdoaWNoIGlzIHRoZSBjdXJyZW50IChwb3NzaWJseVxuaW5jb21wbGV0ZSkgcGFyc2UgdHJlZSBvZiB0aGUgYWN0aXZlXG5bbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpLCBvciB0aGUgZW1wdHkgdHJlZSBpZiB0aGVyZSBpcyBub1xubGFuZ3VhZ2UgYXZhaWxhYmxlLlxuKi9cbmZ1bmN0aW9uIHN5bnRheFRyZWUoc3RhdGUpIHtcbiAgICBsZXQgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpO1xuICAgIHJldHVybiBmaWVsZCA/IGZpZWxkLnRyZWUgOiBUcmVlLmVtcHR5O1xufVxuLyoqXG5UcnkgdG8gZ2V0IGEgcGFyc2UgdHJlZSB0aGF0IHNwYW5zIGF0IGxlYXN0IHVwIHRvIGB1cHRvYC4gVGhlXG5tZXRob2Qgd2lsbCBkbyBhdCBtb3N0IGB0aW1lb3V0YCBtaWxsaXNlY29uZHMgb2Ygd29yayB0byBwYXJzZVxudXAgdG8gdGhhdCBwb2ludCBpZiB0aGUgdHJlZSBpc24ndCBhbHJlYWR5IGF2YWlsYWJsZS5cbiovXG5mdW5jdGlvbiBlbnN1cmVTeW50YXhUcmVlKHN0YXRlLCB1cHRvLCB0aW1lb3V0ID0gNTApIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHBhcnNlID0gKF9hID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUsIGZhbHNlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRleHQ7XG4gICAgaWYgKCFwYXJzZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IG9sZFZpZXBvcnQgPSBwYXJzZS52aWV3cG9ydDtcbiAgICBwYXJzZS51cGRhdGVWaWV3cG9ydCh7IGZyb206IDAsIHRvOiB1cHRvIH0pO1xuICAgIGxldCByZXN1bHQgPSBwYXJzZS5pc0RvbmUodXB0bykgfHwgcGFyc2Uud29yayh0aW1lb3V0LCB1cHRvKSA/IHBhcnNlLnRyZWUgOiBudWxsO1xuICAgIHBhcnNlLnVwZGF0ZVZpZXdwb3J0KG9sZFZpZXBvcnQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcblF1ZXJpZXMgd2hldGhlciB0aGVyZSBpcyBhIGZ1bGwgc3ludGF4IHRyZWUgYXZhaWxhYmxlIHVwIHRvIHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIElmIHRoZXJlIGlzbid0LCB0aGUgYmFja2dyb3VuZCBwYXJzZVxucHJvY2VzcyBfbWlnaHRfIHN0aWxsIGJlIHdvcmtpbmcgYW5kIHVwZGF0ZSB0aGUgdHJlZSBmdXJ0aGVyLCBidXRcbnRoZXJlIGlzIG5vIGd1YXJhbnRlZSBvZiB0aGF04oCUdGhlIHBhcnNlciB3aWxsIFtzdG9wXG53b3JraW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFBhcnNlclJ1bm5pbmcpIHdoZW4gaXQgaGFzIHNwZW50IGFcbmNlcnRhaW4gYW1vdW50IG9mIHRpbWUgb3IgaGFzIG1vdmVkIGJleW9uZCB0aGUgdmlzaWJsZSB2aWV3cG9ydC5cbkFsd2F5cyByZXR1cm5zIGZhbHNlIGlmIG5vIGxhbmd1YWdlIGhhcyBiZWVuIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4VHJlZUF2YWlsYWJsZShzdGF0ZSwgdXB0byA9IHN0YXRlLmRvYy5sZW5ndGgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGV4dC5pc0RvbmUodXB0bykpIHx8IGZhbHNlO1xufVxuLyoqXG5Nb3ZlIHBhcnNpbmcgZm9yd2FyZCwgYW5kIHVwZGF0ZSB0aGUgZWRpdG9yIHN0YXRlIGFmdGVyd2FyZHMgdG9cbnJlZmxlY3QgdGhlIG5ldyB0cmVlLiBXaWxsIHdvcmsgZm9yIGF0IG1vc3QgYHRpbWVvdXRgXG5taWxsaXNlY29uZHMuIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyc2VyIG1hbmFnZWQgZ2V0IHRvIHRoZSBnaXZlblxucG9zaXRpb24gaW4gdGhhdCB0aW1lLlxuKi9cbmZ1bmN0aW9uIGZvcmNlUGFyc2luZyh2aWV3LCB1cHRvID0gdmlldy52aWV3cG9ydC50bywgdGltZW91dCA9IDEwMCkge1xuICAgIGxldCBzdWNjZXNzID0gZW5zdXJlU3ludGF4VHJlZSh2aWV3LnN0YXRlLCB1cHRvLCB0aW1lb3V0KTtcbiAgICBpZiAoc3VjY2VzcyAhPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHt9KTtcbiAgICByZXR1cm4gISFzdWNjZXNzO1xufVxuLyoqXG5UZWxscyB5b3Ugd2hldGhlciB0aGUgbGFuZ3VhZ2UgcGFyc2VyIGlzIHBsYW5uaW5nIHRvIGRvIG1vcmVcbnBhcnNpbmcgd29yayAoaW4gYSBgcmVxdWVzdElkbGVDYWxsYmFja2AgcHNldWRvLXRocmVhZCkgb3IgaGFzXG5zdG9wcGVkIHJ1bm5pbmcsIGVpdGhlciBiZWNhdXNlIGl0IHBhcnNlZCB0aGUgZW50aXJlIGRvY3VtZW50LFxuYmVjYXVzZSBpdCBzcGVudCB0b28gbXVjaCB0aW1lIGFuZCB3YXMgY3V0IG9mZiwgb3IgYmVjYXVzZSB0aGVyZVxuaXMgbm8gbGFuZ3VhZ2UgcGFyc2VyIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4UGFyc2VyUnVubmluZyh2aWV3KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGFyc2VXb3JrZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNXb3JraW5nKCkpIHx8IGZhbHNlO1xufVxuLyoqXG5MZXplci1zdHlsZVxuW2BJbnB1dGBdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQvZG9jcy9yZWYjY29tbW9uLklucHV0KVxub2JqZWN0IGZvciBhIFtgVGV4dGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dCkgb2JqZWN0LlxuKi9cbmNsYXNzIERvY0lucHV0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5wdXQgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAgICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gMDtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBcIlwiO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmRvYy5sZW5ndGg7IH1cbiAgICBzeW5jVG8ocG9zKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nID0gdGhpcy5jdXJzb3IubmV4dChwb3MgLSB0aGlzLmN1cnNvclBvcykudmFsdWU7XG4gICAgICAgIHRoaXMuY3Vyc29yUG9zID0gcG9zICsgdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNodW5rKHBvcykge1xuICAgICAgICB0aGlzLnN5bmNUbyhwb3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmc7XG4gICAgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIHJlYWQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IHN0cmluZ1N0YXJ0ID0gdGhpcy5jdXJzb3JQb3MgLSB0aGlzLnN0cmluZy5sZW5ndGg7XG4gICAgICAgIGlmIChmcm9tIDwgc3RyaW5nU3RhcnQgfHwgdG8gPj0gdGhpcy5jdXJzb3JQb3MpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UoZnJvbSAtIHN0cmluZ1N0YXJ0LCB0byAtIHN0cmluZ1N0YXJ0KTtcbiAgICB9XG59XG5sZXQgY3VycmVudENvbnRleHQgPSBudWxsO1xuLyoqXG5BIHBhcnNlIGNvbnRleHQgcHJvdmlkZWQgdG8gcGFyc2VycyB3b3JraW5nIG9uIHRoZSBlZGl0b3IgY29udGVudC5cbiovXG5jbGFzcyBQYXJzZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8qKlxuICAgIFRyZWUgZnJhZ21lbnRzIHRoYXQgY2FuIGJlIHJldXNlZCBieSBpbmNyZW1lbnRhbCByZS1wYXJzZXMuXG4gICAgKi9cbiAgICBmcmFnbWVudHMgPSBbXSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0cmVlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRyZWVMZW4sIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciB2aWV3cG9ydCAob3Igc29tZSBvdmVyYXBwcm94aW1hdGlvblxuICAgIHRoZXJlb2YpLiBJbnRlbmRlZCB0byBiZSB1c2VkIGZvciBvcHBvcnR1bmlzdGljYWxseSBhdm9pZGluZ1xuICAgIHdvcmsgKGluIHdoaWNoIGNhc2VcbiAgICBbYHNraXBVbnRpbEluVmlld2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuUGFyc2VDb250ZXh0LnNraXBVbnRpbEluVmlldylcbiAgICBzaG91bGQgYmUgY2FsbGVkIHRvIG1ha2Ugc3VyZSB0aGUgcGFyc2VyIGlzIHJlc3RhcnRlZCB3aGVuIHRoZVxuICAgIHNraXBwZWQgcmVnaW9uIGJlY29tZXMgdmlzaWJsZSkuXG4gICAgKi9cbiAgICB2aWV3cG9ydCwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBza2lwcGVkLCBcbiAgICAvKipcbiAgICBUaGlzIGlzIHdoZXJlIHNraXBwaW5nIHBhcnNlcnMgY2FuIHJlZ2lzdGVyIGEgcHJvbWlzZSB0aGF0LFxuICAgIHdoZW4gcmVzb2x2ZWQsIHdpbGwgc2NoZWR1bGUgYSBuZXcgcGFyc2UuIEl0IGlzIGNsZWFyZWQgd2hlblxuICAgIHRoZSBwYXJzZSB3b3JrZXIgcGlja3MgdXAgdGhlIHByb21pc2UuIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2NoZWR1bGVPbikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgdGhpcy50cmVlTGVuID0gdHJlZUxlbjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB0aGlzLnNraXBwZWQgPSBza2lwcGVkO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT24gPSBzY2hlZHVsZU9uO1xuICAgICAgICB0aGlzLnBhcnNlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBTa2lwcGVkID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShwYXJzZXIsIHN0YXRlLCB2aWV3cG9ydCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dChwYXJzZXIsIHN0YXRlLCBbXSwgVHJlZS5lbXB0eSwgMCwgdmlld3BvcnQsIFtdLCBudWxsKTtcbiAgICB9XG4gICAgc3RhcnRQYXJzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLnN0YXJ0UGFyc2UobmV3IERvY0lucHV0KHRoaXMuc3RhdGUuZG9jKSwgdGhpcy5mcmFnbWVudHMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHdvcmsodW50aWwsIHVwdG8pIHtcbiAgICAgICAgaWYgKHVwdG8gIT0gbnVsbCAmJiB1cHRvID49IHRoaXMuc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHVwdG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLnRyZWUgIT0gVHJlZS5lbXB0eSAmJiB0aGlzLmlzRG9uZSh1cHRvICE9PSBudWxsICYmIHVwdG8gIT09IHZvaWQgMCA/IHVwdG8gOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpKSB7XG4gICAgICAgICAgICB0aGlzLnRha2VUcmVlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoQ29udGV4dCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVudGlsID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZW5kVGltZSA9IERhdGUubm93KCkgKyB1bnRpbDtcbiAgICAgICAgICAgICAgICB1bnRpbCA9ICgpID0+IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcnNlKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoKTtcbiAgICAgICAgICAgIGlmICh1cHRvICE9IG51bGwgJiYgKHRoaXMucGFyc2Uuc3RvcHBlZEF0ID09IG51bGwgfHwgdGhpcy5wYXJzZS5zdG9wcGVkQXQgPiB1cHRvKSAmJlxuICAgICAgICAgICAgICAgIHVwdG8gPCB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZS5zdG9wQXQodXB0byk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLnBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50cyA9IHRoaXMud2l0aG91dFRlbXBTa2lwcGVkKFRyZWVGcmFnbWVudC5hZGRUcmVlKGRvbmUsIHRoaXMuZnJhZ21lbnRzLCB0aGlzLnBhcnNlLnN0b3BwZWRBdCAhPSBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZUxlbiA9IChfYSA9IHRoaXMucGFyc2Uuc3RvcHBlZEF0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJlZSA9IGRvbmU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmVlTGVuIDwgKHVwdG8gIT09IG51bGwgJiYgdXB0byAhPT0gdm9pZCAwID8gdXB0byA6IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5zdGFydFBhcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodW50aWwoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0YWtlVHJlZSgpIHtcbiAgICAgICAgbGV0IHBvcywgdHJlZTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2UgJiYgKHBvcyA9IHRoaXMucGFyc2UucGFyc2VkUG9zKSA+PSB0aGlzLnRyZWVMZW4pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnNlLnN0b3BwZWRBdCA9PSBudWxsIHx8IHRoaXMucGFyc2Uuc3RvcHBlZEF0ID4gcG9zKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2Uuc3RvcEF0KHBvcyk7XG4gICAgICAgICAgICB0aGlzLndpdGhDb250ZXh0KCgpID0+IHsgd2hpbGUgKCEodHJlZSA9IHRoaXMucGFyc2UuYWR2YW5jZSgpKSkgeyB9IH0pO1xuICAgICAgICAgICAgdGhpcy50cmVlTGVuID0gcG9zO1xuICAgICAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gdGhpcy53aXRob3V0VGVtcFNraXBwZWQoVHJlZUZyYWdtZW50LmFkZFRyZWUodGhpcy50cmVlLCB0aGlzLmZyYWdtZW50cywgdHJ1ZSkpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2l0aENvbnRleHQoZikge1xuICAgICAgICBsZXQgcHJldiA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgICBjdXJyZW50Q29udGV4dCA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZigpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY3VycmVudENvbnRleHQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpdGhvdXRUZW1wU2tpcHBlZChmcmFnbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgcjsgciA9IHRoaXMudGVtcFNraXBwZWQucG9wKCk7KVxuICAgICAgICAgICAgZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgci5mcm9tLCByLnRvKTtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjaGFuZ2VzKGNoYW5nZXMsIG5ld1N0YXRlKSB7XG4gICAgICAgIGxldCB7IGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQgfSA9IHRoaXM7XG4gICAgICAgIHRoaXMudGFrZVRyZWUoKTtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgICAgICBjaGFuZ2VzLml0ZXJDaGFuZ2VkUmFuZ2VzKChmcm9tQSwgdG9BLCBmcm9tQiwgdG9CKSA9PiByYW5nZXMucHVzaCh7IGZyb21BLCB0b0EsIGZyb21CLCB0b0IgfSkpO1xuICAgICAgICAgICAgZnJhZ21lbnRzID0gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB0cmVlID0gVHJlZS5lbXB0eTtcbiAgICAgICAgICAgIHRyZWVMZW4gPSAwO1xuICAgICAgICAgICAgdmlld3BvcnQgPSB7IGZyb206IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG86IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LnRvLCAxKSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tpcHBlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnNraXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyhyLmZyb20sIDEpLCB0byA9IGNoYW5nZXMubWFwUG9zKHIudG8sIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb20gPCB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBwZWQucHVzaCh7IGZyb20sIHRvIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBhcnNlQ29udGV4dCh0aGlzLnBhcnNlciwgbmV3U3RhdGUsIGZyYWdtZW50cywgdHJlZSwgdHJlZUxlbiwgdmlld3BvcnQsIHNraXBwZWQsIHRoaXMuc2NoZWR1bGVPbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdXBkYXRlVmlld3BvcnQodmlld3BvcnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZnJvbSA9PSB2aWV3cG9ydC5mcm9tICYmIHRoaXMudmlld3BvcnQudG8gPT0gdmlld3BvcnQudG8pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgbGV0IHN0YXJ0TGVuID0gdGhpcy5za2lwcGVkLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNraXBwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLnNraXBwZWRbaV07XG4gICAgICAgICAgICBpZiAoZnJvbSA8IHZpZXdwb3J0LnRvICYmIHRvID4gdmlld3BvcnQuZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRzID0gY3V0RnJhZ21lbnRzKHRoaXMuZnJhZ21lbnRzLCBmcm9tLCB0byk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwcGVkLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNraXBwZWQubGVuZ3RoID49IHN0YXJ0TGVuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAodGhpcy5wYXJzZSkge1xuICAgICAgICAgICAgdGhpcy50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgTm90aWZ5IHRoZSBwYXJzZSBzY2hlZHVsZXIgdGhhdCB0aGUgZ2l2ZW4gcmVnaW9uIHdhcyBza2lwcGVkXG4gICAgYmVjYXVzZSBpdCB3YXNuJ3QgaW4gdmlldywgYW5kIHRoZSBwYXJzZSBzaG91bGQgYmUgcmVzdGFydGVkXG4gICAgd2hlbiBpdCBjb21lcyBpbnRvIHZpZXcuXG4gICAgKi9cbiAgICBza2lwVW50aWxJblZpZXcoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5za2lwcGVkLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhIHBhcnNlciBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIHBsYWNlaG9sZGVyIHdoZW5cbiAgICBhc3luY2hyb25vdXNseSBsb2FkaW5nIGEgbmVzdGVkIHBhcnNlci4gSXQnbGwgc2tpcCBpdHMgaW5wdXQgYW5kXG4gICAgbWFyayBpdCBhcyBub3QtcmVhbGx5LXBhcnNlZCwgc28gdGhhdCB0aGUgbmV4dCB1cGRhdGUgd2lsbCBwYXJzZVxuICAgIGl0IGFnYWluLlxuICAgIFxuICAgIFdoZW4gYHVudGlsYCBpcyBnaXZlbiwgYSByZXBhcnNlIHdpbGwgYmUgc2NoZWR1bGVkIHdoZW4gdGhhdFxuICAgIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0U2tpcHBpbmdQYXJzZXIodW50aWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1swXS5mcm9tLCB0byA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkUG9zOiBmcm9tLFxuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN4ID0gY3VycmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIHJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3gudGVtcFNraXBwZWQucHVzaChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodW50aWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LnNjaGVkdWxlT24gPSBjeC5zY2hlZHVsZU9uID8gUHJvbWlzZS5hbGwoW2N4LnNjaGVkdWxlT24sIHVudGlsXSkgOiB1bnRpbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkUG9zID0gdG87XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgW10sIFtdLCB0byAtIGZyb20pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkQXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BBdCgpIHsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpc0RvbmUodXB0bykge1xuICAgICAgICB1cHRvID0gTWF0aC5taW4odXB0bywgdGhpcy5zdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IGZyYWdzID0gdGhpcy5mcmFnbWVudHM7XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVMZW4gPj0gdXB0byAmJiBmcmFncy5sZW5ndGggJiYgZnJhZ3NbMF0uZnJvbSA9PSAwICYmIGZyYWdzWzBdLnRvID49IHVwdG87XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgcGFyc2UsIG9yIGBudWxsYCBpZiBubyBlZGl0b3JcbiAgICBwYXJzZSBpcyBpbiBwcm9ncmVzcy5cbiAgICAqL1xuICAgIHN0YXRpYyBnZXQoKSB7IHJldHVybiBjdXJyZW50Q29udGV4dDsgfVxufVxuZnVuY3Rpb24gY3V0RnJhZ21lbnRzKGZyYWdtZW50cywgZnJvbSwgdG8pIHtcbiAgICByZXR1cm4gVHJlZUZyYWdtZW50LmFwcGx5Q2hhbmdlcyhmcmFnbWVudHMsIFt7IGZyb21BOiBmcm9tLCB0b0E6IHRvLCBmcm9tQjogZnJvbSwgdG9COiB0byB9XSk7XG59XG5jbGFzcyBMYW5ndWFnZVN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBBIG11dGFibGUgcGFyc2Ugc3RhdGUgdGhhdCBpcyB1c2VkIHRvIHByZXNlcnZlIHdvcmsgZG9uZSBkdXJpbmdcbiAgICAvLyB0aGUgbGlmZXRpbWUgb2YgYSBzdGF0ZSB3aGVuIG1vdmluZyB0byB0aGUgbmV4dCBzdGF0ZS5cbiAgICBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHJlZSA9IGNvbnRleHQudHJlZTtcbiAgICB9XG4gICAgYXBwbHkodHIpIHtcbiAgICAgICAgaWYgKCF0ci5kb2NDaGFuZ2VkICYmIHRoaXMudHJlZSA9PSB0aGlzLmNvbnRleHQudHJlZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgbmV3Q3ggPSB0aGlzLmNvbnRleHQuY2hhbmdlcyh0ci5jaGFuZ2VzLCB0ci5zdGF0ZSk7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBwYXJzZSB3YXNuJ3QgZG9uZSwgZ28gZm9yd2FyZCBvbmx5IHVwIHRvIGl0c1xuICAgICAgICAvLyBlbmQgcG9zaXRpb24gb3IgdGhlIGVuZCBvZiB0aGUgdmlld3BvcnQsIHRvIGF2b2lkIHNsb3dpbmcgZG93blxuICAgICAgICAvLyBzdGF0ZSB1cGRhdGVzIHdpdGggcGFyc2Ugd29yayBiZXlvbmQgdGhlIHZpZXdwb3J0LlxuICAgICAgICBsZXQgdXB0byA9IHRoaXMuY29udGV4dC50cmVlTGVuID09IHRyLnN0YXJ0U3RhdGUuZG9jLmxlbmd0aCA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBNYXRoLm1heCh0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmNvbnRleHQudHJlZUxlbiksIG5ld0N4LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgaWYgKCFuZXdDeC53b3JrKDIwIC8qIFdvcmsuQXBwbHkgKi8sIHVwdG8pKVxuICAgICAgICAgICAgbmV3Q3gudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKG5ld0N4KTtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoc3RhdGUpIHtcbiAgICAgICAgbGV0IHZwVG8gPSBNYXRoLm1pbigzMDAwIC8qIFdvcmsuSW5pdFZpZXdwb3J0ICovLCBzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgbGV0IHBhcnNlU3RhdGUgPSBQYXJzZUNvbnRleHQuY3JlYXRlKHN0YXRlLmZhY2V0KGxhbmd1YWdlKS5wYXJzZXIsIHN0YXRlLCB7IGZyb206IDAsIHRvOiB2cFRvIH0pO1xuICAgICAgICBpZiAoIXBhcnNlU3RhdGUud29yaygyMCAvKiBXb3JrLkFwcGx5ICovLCB2cFRvKSlcbiAgICAgICAgICAgIHBhcnNlU3RhdGUudGFrZVRyZWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN0YXRlKHBhcnNlU3RhdGUpO1xuICAgIH1cbn1cbkxhbmd1YWdlLnN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGU6IExhbmd1YWdlU3RhdGUuaW5pdCxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlLmlzKExhbmd1YWdlLnNldFN0YXRlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZTtcbiAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHRyLnN0YXRlLmZhY2V0KGxhbmd1YWdlKSlcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZVN0YXRlLmluaXQodHIuc3RhdGUpO1xuICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodHIpO1xuICAgIH1cbn0pO1xubGV0IHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgbGV0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKCksIDUwMCAvKiBXb3JrLk1heFBhdXNlICovKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufTtcbmlmICh0eXBlb2YgcmVxdWVzdElkbGVDYWxsYmFjayAhPSBcInVuZGVmaW5lZFwiKVxuICAgIHJlcXVlc3RJZGxlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGxldCBpZGxlID0gLTEsIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlkbGUgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGNhbGxiYWNrLCB7IHRpbWVvdXQ6IDUwMCAvKiBXb3JrLk1heFBhdXNlICovIC0gMTAwIC8qIFdvcmsuTWluUGF1c2UgKi8gfSk7XG4gICAgICAgIH0sIDEwMCAvKiBXb3JrLk1pblBhdXNlICovKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGlkbGUgPCAwID8gY2xlYXJUaW1lb3V0KHRpbWVvdXQpIDogY2FuY2VsSWRsZUNhbGxiYWNrKGlkbGUpO1xuICAgIH07XG5jb25zdCBpc0lucHV0UGVuZGluZyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAoKF9hID0gbmF2aWdhdG9yLnNjaGVkdWxpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0lucHV0UGVuZGluZylcbiAgICA/ICgpID0+IG5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nKCkgOiBudWxsO1xuY29uc3QgcGFyc2VXb3JrZXIgPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3MgUGFyc2VXb3JrZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy53b3JraW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkID0gMDtcbiAgICAgICAgLy8gRW5kIG9mIHRoZSBjdXJyZW50IHRpbWUgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0VuZCA9IC0xO1xuICAgICAgICAvLyBNaWxsaXNlY29uZHMgb2YgYnVkZ2V0IGxlZnQgZm9yIHRoaXMgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVua0J1ZGdldCA9IC0xO1xuICAgICAgICB0aGlzLndvcmsgPSB0aGlzLndvcmsuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgY3ggPSB0aGlzLnZpZXcuc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpLmNvbnRleHQ7XG4gICAgICAgIGlmIChjeC51cGRhdGVWaWV3cG9ydCh1cGRhdGUudmlldy52aWV3cG9ydCkgfHwgdGhpcy52aWV3LnZpZXdwb3J0LnRvID4gY3gudHJlZUxlbilcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3Lmhhc0ZvY3VzKVxuICAgICAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgKz0gNTAgLyogV29yay5DaGFuZ2VCb251cyAqLztcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoY3gpO1xuICAgIH1cbiAgICBzY2hlZHVsZVdvcmsoKSB7XG4gICAgICAgIGlmICh0aGlzLndvcmtpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0aGlzLnZpZXcsIGZpZWxkID0gc3RhdGUuZmllbGQoTGFuZ3VhZ2Uuc3RhdGUpO1xuICAgICAgICBpZiAoZmllbGQudHJlZSAhPSBmaWVsZC5jb250ZXh0LnRyZWUgfHwgIWZpZWxkLmNvbnRleHQuaXNEb25lKHN0YXRlLmRvYy5sZW5ndGgpKVxuICAgICAgICAgICAgdGhpcy53b3JraW5nID0gcmVxdWVzdElkbGUodGhpcy53b3JrKTtcbiAgICB9XG4gICAgd29yayhkZWFkbGluZSkge1xuICAgICAgICB0aGlzLndvcmtpbmcgPSBudWxsO1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuY2h1bmtFbmQgPCBub3cgJiYgKHRoaXMuY2h1bmtFbmQgPCAwIHx8IHRoaXMudmlldy5oYXNGb2N1cykpIHsgLy8gU3RhcnQgYSBuZXcgY2h1bmtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtFbmQgPSBub3cgKyAzMDAwMCAvKiBXb3JrLkNodW5rVGltZSAqLztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgPSAzMDAwIC8qIFdvcmsuQ2h1bmtCdWRnZXQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtCdWRnZXQgPD0gMClcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm8gbW9yZSBidWRnZXRcbiAgICAgICAgbGV0IHsgc3RhdGUsIHZpZXdwb3J0OiB7IHRvOiB2cFRvIH0gfSA9IHRoaXMudmlldywgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSk7XG4gICAgICAgIGlmIChmaWVsZC50cmVlID09IGZpZWxkLmNvbnRleHQudHJlZSAmJiBmaWVsZC5jb250ZXh0LmlzRG9uZSh2cFRvICsgMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBlbmRUaW1lID0gRGF0ZS5ub3coKSArIE1hdGgubWluKHRoaXMuY2h1bmtCdWRnZXQsIDEwMCAvKiBXb3JrLlNsaWNlICovLCBkZWFkbGluZSAmJiAhaXNJbnB1dFBlbmRpbmcgPyBNYXRoLm1heCgyNSAvKiBXb3JrLk1pblNsaWNlICovLCBkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgLSA1KSA6IDFlOSk7XG4gICAgICAgIGxldCB2aWV3cG9ydEZpcnN0ID0gZmllbGQuY29udGV4dC50cmVlTGVuIDwgdnBUbyAmJiBzdGF0ZS5kb2MubGVuZ3RoID4gdnBUbyArIDEwMDA7XG4gICAgICAgIGxldCBkb25lID0gZmllbGQuY29udGV4dC53b3JrKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpc0lucHV0UGVuZGluZyAmJiBpc0lucHV0UGVuZGluZygpIHx8IERhdGUubm93KCkgPiBlbmRUaW1lO1xuICAgICAgICB9LCB2cFRvICsgKHZpZXdwb3J0Rmlyc3QgPyAwIDogMTAwMDAwIC8qIFdvcmsuTWF4UGFyc2VBaGVhZCAqLykpO1xuICAgICAgICB0aGlzLmNodW5rQnVkZ2V0IC09IERhdGUubm93KCkgLSBub3c7XG4gICAgICAgIGlmIChkb25lIHx8IHRoaXMuY2h1bmtCdWRnZXQgPD0gMCkge1xuICAgICAgICAgICAgZmllbGQuY29udGV4dC50YWtlVHJlZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogTGFuZ3VhZ2Uuc2V0U3RhdGUub2YobmV3IExhbmd1YWdlU3RhdGUoZmllbGQuY29udGV4dCkpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNodW5rQnVkZ2V0ID4gMCAmJiAhKGRvbmUgJiYgIXZpZXdwb3J0Rmlyc3QpKVxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICAgICAgdGhpcy5jaGVja0FzeW5jU2NoZWR1bGUoZmllbGQuY29udGV4dCk7XG4gICAgfVxuICAgIGNoZWNrQXN5bmNTY2hlZHVsZShjeCkge1xuICAgICAgICBpZiAoY3guc2NoZWR1bGVPbikge1xuICAgICAgICAgICAgdGhpcy53b3JrU2NoZWR1bGVkKys7XG4gICAgICAgICAgICBjeC5zY2hlZHVsZU9uXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zY2hlZHVsZVdvcmsoKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGVycikpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy53b3JrU2NoZWR1bGVkLS0pO1xuICAgICAgICAgICAgY3guc2NoZWR1bGVPbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZylcbiAgICAgICAgICAgIHRoaXMud29ya2luZygpO1xuICAgIH1cbiAgICBpc1dvcmtpbmcoKSB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLndvcmtpbmcgfHwgdGhpcy53b3JrU2NoZWR1bGVkID4gMCk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50SGFuZGxlcnM6IHsgZm9jdXMoKSB7IHRoaXMuc2NoZWR1bGVXb3JrKCk7IH0gfVxufSk7XG4vKipcblRoZSBmYWNldCB1c2VkIHRvIGFzc29jaWF0ZSBhIGxhbmd1YWdlIHdpdGggYW4gZWRpdG9yIHN0YXRlLiBVc2VkXG5ieSBgTGFuZ3VhZ2VgIG9iamVjdCdzIGBleHRlbnNpb25gIHByb3BlcnR5IChzbyB5b3UgZG9uJ3QgbmVlZCB0b1xubWFudWFsbHkgd3JhcCB5b3VyIGxhbmd1YWdlcyBpbiB0aGlzKS4gQ2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZVxuY3VycmVudCBsYW5ndWFnZSBvbiBhIHN0YXRlLlxuKi9cbmNvbnN0IGxhbmd1YWdlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShsYW5ndWFnZXMpIHsgcmV0dXJuIGxhbmd1YWdlcy5sZW5ndGggPyBsYW5ndWFnZXNbMF0gOiBudWxsOyB9LFxuICAgIGVuYWJsZXM6IGxhbmd1YWdlID0+IFtcbiAgICAgICAgTGFuZ3VhZ2Uuc3RhdGUsXG4gICAgICAgIHBhcnNlV29ya2VyLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLmNvbXB1dGUoW2xhbmd1YWdlXSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgbGV0IGxhbmcgPSBzdGF0ZS5mYWNldChsYW5ndWFnZSk7XG4gICAgICAgICAgICByZXR1cm4gbGFuZyAmJiBsYW5nLm5hbWUgPyB7IFwiZGF0YS1sYW5ndWFnZVwiOiBsYW5nLm5hbWUgfSA6IHt9O1xuICAgICAgICB9KVxuICAgIF1cbn0pO1xuLyoqXG5UaGlzIGNsYXNzIGJ1bmRsZXMgYSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIHdpdGggYW5cbm9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIExhbmd1YWdlIHBhY2thZ2VzIGFyZVxuZW5jb3VyYWdlZCB0byBleHBvcnQgYSBmdW5jdGlvbiB0aGF0IG9wdGlvbmFsbHkgdGFrZXMgYVxuY29uZmlndXJhdGlvbiBvYmplY3QgYW5kIHJldHVybnMgYSBgTGFuZ3VhZ2VTdXBwb3J0YCBpbnN0YW5jZSwgYXNcbnRoZSBtYWluIHdheSBmb3IgY2xpZW50IGNvZGUgdG8gdXNlIHRoZSBwYWNrYWdlLlxuKi9cbmNsYXNzIExhbmd1YWdlU3VwcG9ydCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2Ugc3VwcG9ydCBvYmplY3QuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbGFuZ3VhZ2Ugb2JqZWN0LlxuICAgICovXG4gICAgbGFuZ3VhZ2UsIFxuICAgIC8qKlxuICAgIEFuIG9wdGlvbmFsIHNldCBvZiBzdXBwb3J0aW5nIGV4dGVuc2lvbnMuIFdoZW4gbmVzdGluZyBhXG4gICAgbGFuZ3VhZ2UgaW4gYW5vdGhlciBsYW5ndWFnZSwgdGhlIG91dGVyIGxhbmd1YWdlIGlzIGVuY291cmFnZWRcbiAgICB0byBpbmNsdWRlIHRoZSBzdXBwb3J0aW5nIGV4dGVuc2lvbnMgZm9yIGl0cyBpbm5lciBsYW5ndWFnZXNcbiAgICBpbiBpdHMgb3duIHNldCBvZiBzdXBwb3J0IGV4dGVuc2lvbnMuXG4gICAgKi9cbiAgICBzdXBwb3J0ID0gW10pIHtcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0O1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IFtsYW5ndWFnZSwgc3VwcG9ydF07XG4gICAgfVxufVxuLyoqXG5MYW5ndWFnZSBkZXNjcmlwdGlvbnMgYXJlIHVzZWQgdG8gc3RvcmUgbWV0YWRhdGEgYWJvdXQgbGFuZ3VhZ2VzXG5hbmQgdG8gZHluYW1pY2FsbHkgbG9hZCB0aGVtLiBUaGVpciBtYWluIHJvbGUgaXMgZmluZGluZyB0aGVcbmFwcHJvcHJpYXRlIGxhbmd1YWdlIGZvciBhIGZpbGVuYW1lIG9yIGR5bmFtaWNhbGx5IGxvYWRpbmcgbmVzdGVkXG5wYXJzZXJzLlxuKi9cbmNsYXNzIExhbmd1YWdlRGVzY3JpcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBuYW1lIG9mIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBuYW1lLCBcbiAgICAvKipcbiAgICBBbHRlcm5hdGl2ZSBuYW1lcyBmb3IgdGhlIG1vZGUgKGxvd2VyY2FzZWQsIGluY2x1ZGVzIGB0aGlzLm5hbWVgKS5cbiAgICAqL1xuICAgIGFsaWFzLCBcbiAgICAvKipcbiAgICBGaWxlIGV4dGVuc2lvbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBleHRlbnNpb25zLCBcbiAgICAvKipcbiAgICBPcHRpb25hbCBmaWxlbmFtZSBwYXR0ZXJuIHRoYXQgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGlzXG4gICAgbGFuZ3VhZ2UuXG4gICAgKi9cbiAgICBmaWxlbmFtZSwgbG9hZEZ1bmMsIFxuICAgIC8qKlxuICAgIElmIHRoZSBsYW5ndWFnZSBoYXMgYmVlbiBsb2FkZWQsIHRoaXMgd2lsbCBob2xkIGl0cyB2YWx1ZS5cbiAgICAqL1xuICAgIHN1cHBvcnQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubG9hZEZ1bmMgPSBsb2FkRnVuYztcbiAgICAgICAgdGhpcy5zdXBwb3J0ID0gc3VwcG9ydDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgU3RhcnQgbG9hZGluZyB0aGUgdGhlIGxhbmd1YWdlLiBXaWxsIHJldHVybiBhIHByb21pc2UgdGhhdFxuICAgIHJlc29sdmVzIHRvIGEgW2BMYW5ndWFnZVN1cHBvcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlU3VwcG9ydClcbiAgICBvYmplY3Qgd2hlbiB0aGUgbGFuZ3VhZ2Ugc3VjY2Vzc2Z1bGx5IGxvYWRzLlxuICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyB8fCAodGhpcy5sb2FkaW5nID0gdGhpcy5sb2FkRnVuYygpLnRoZW4oc3VwcG9ydCA9PiB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0LCBlcnIgPT4geyB0aGlzLmxvYWRpbmcgPSBudWxsOyB0aHJvdyBlcnI7IH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbGFuZ3VhZ2UgZGVzY3JpcHRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgb2Yoc3BlYykge1xuICAgICAgICBsZXQgeyBsb2FkLCBzdXBwb3J0IH0gPSBzcGVjO1xuICAgICAgICBpZiAoIWxvYWQpIHtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk11c3QgcGFzcyBlaXRoZXIgJ2xvYWQnIG9yICdzdXBwb3J0JyB0byBMYW5ndWFnZURlc2NyaXB0aW9uLm9mXCIpO1xuICAgICAgICAgICAgbG9hZCA9ICgpID0+IFByb21pc2UucmVzb2x2ZShzdXBwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExhbmd1YWdlRGVzY3JpcHRpb24oc3BlYy5uYW1lLCAoc3BlYy5hbGlhcyB8fCBbXSkuY29uY2F0KHNwZWMubmFtZSkubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKSwgc3BlYy5leHRlbnNpb25zIHx8IFtdLCBzcGVjLmZpbGVuYW1lLCBsb2FkLCBzdXBwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgTG9vayBmb3IgYSBsYW5ndWFnZSBpbiB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVzY3JpcHRpb25zIHRoYXRcbiAgICBtYXRjaGVzIHRoZSBmaWxlbmFtZS4gV2lsbCBmaXJzdCBtYXRjaFxuICAgIFtgZmlsZW5hbWVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZmlsZW5hbWUpIHBhdHRlcm5zLFxuICAgIGFuZCB0aGVuIFtleHRlbnNpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlRGVzY3JpcHRpb24uZXh0ZW5zaW9ucyksXG4gICAgYW5kIHJldHVybiB0aGUgZmlyc3QgbGFuZ3VhZ2UgdGhhdCBtYXRjaGVzLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoRmlsZW5hbWUoZGVzY3MsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICBpZiAoZC5maWxlbmFtZSAmJiBkLmZpbGVuYW1lLnRlc3QoZmlsZW5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBsZXQgZXh0ID0gL1xcLihbXi5dKykkLy5leGVjKGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGV4dClcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICAgICAgaWYgKGQuZXh0ZW5zaW9ucy5pbmRleE9mKGV4dFsxXSkgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBMb29rIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWUgb3IgYWxpYXMgbWF0Y2hlcyB0aGUgdGhlIGdpdmVuXG4gICAgbmFtZSAoY2FzZS1pbnNlbnNpdGl2ZWx5KS4gSWYgYGZ1enp5YCBpcyB0cnVlLCBhbmQgbm8gZGlyZWN0XG4gICAgbWF0Y2hzIGlzIGZvdW5kLCB0aGlzJ2xsIGFsc28gc2VhcmNoIGZvciBhIGxhbmd1YWdlIHdob3NlIG5hbWVcbiAgICBvciBhbGlhcyBvY2N1cnMgaW4gdGhlIHN0cmluZyAoZm9yIG5hbWVzIHNob3J0ZXIgdGhhbiB0aHJlZVxuICAgIGNoYXJhY3RlcnMsIG9ubHkgd2hlbiBzdXJyb3VuZGVkIGJ5IG5vbi13b3JkIGNoYXJhY3RlcnMpLlxuICAgICovXG4gICAgc3RhdGljIG1hdGNoTGFuZ3VhZ2VOYW1lKGRlc2NzLCBuYW1lLCBmdXp6eSA9IHRydWUpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZm9yIChsZXQgZCBvZiBkZXNjcylcbiAgICAgICAgICAgIGlmIChkLmFsaWFzLnNvbWUoYSA9PiBhID09IG5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICBpZiAoZnV6enkpXG4gICAgICAgICAgICBmb3IgKGxldCBkIG9mIGRlc2NzKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGEgb2YgZC5hbGlhcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBuYW1lLmluZGV4T2YoYSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IC0xICYmIChhLmxlbmd0aCA+IDIgfHwgIS9cXHcvLnRlc3QobmFtZVtmb3VuZCAtIDFdKSAmJiAhL1xcdy8udGVzdChuYW1lW2ZvdW5kICsgYS5sZW5ndGhdKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLyoqXG5GYWNldCB0aGF0IGRlZmluZXMgYSB3YXkgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgdGhlXG5hcHByb3ByaWF0ZSBpbmRlbnRhdGlvbiBkZXB0aCwgYXMgYSBjb2x1bW4gbnVtYmVyIChzZWVcbltgaW5kZW50U3RyaW5nYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTdHJpbmcpKSwgYXQgdGhlIHN0YXJ0IG9mIGEgZ2l2ZW5cbmxpbmUuIEEgcmV0dXJuIHZhbHVlIG9mIGBudWxsYCBpbmRpY2F0ZXMgbm8gaW5kZW50YXRpb24gY2FuIGJlXG5kZXRlcm1pbmVkLCBhbmQgdGhlIGxpbmUgc2hvdWxkIGluaGVyaXQgdGhlIGluZGVudGF0aW9uIG9mIHRoZSBvbmVcbmFib3ZlIGl0LiBBIHJldHVybiB2YWx1ZSBvZiBgdW5kZWZpbmVkYCBkZWZlcnMgdG8gdGhlIG5leHQgaW5kZW50XG5zZXJ2aWNlLlxuKi9cbmNvbnN0IGluZGVudFNlcnZpY2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IGZvciBvdmVycmlkaW5nIHRoZSB1bml0IGJ5IHdoaWNoIGluZGVudGF0aW9uIGhhcHBlbnMuIFNob3VsZFxuYmUgYSBzdHJpbmcgY29uc2lzdGluZyBlaXRoZXIgZW50aXJlbHkgb2YgdGhlIHNhbWUgd2hpdGVzcGFjZVxuY2hhcmFjdGVyLiBXaGVuIG5vdCBzZXQsIHRoaXMgZGVmYXVsdHMgdG8gMiBzcGFjZXMuXG4qL1xuY29uc3QgaW5kZW50VW5pdCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB7XG4gICAgICAgIGlmICghdmFsdWVzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBcIiAgXCI7XG4gICAgICAgIGxldCB1bml0ID0gdmFsdWVzWzBdO1xuICAgICAgICBpZiAoIXVuaXQgfHwgL1xcUy8udGVzdCh1bml0KSB8fCBBcnJheS5mcm9tKHVuaXQpLnNvbWUoZSA9PiBlICE9IHVuaXRbMF0pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRlbnQgdW5pdDogXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZXNbMF0pKTtcbiAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxufSk7XG4vKipcblJldHVybiB0aGUgX2NvbHVtbiB3aWR0aF8gb2YgYW4gaW5kZW50IHVuaXQgaW4gdGhlIHN0YXRlLlxuRGV0ZXJtaW5lZCBieSB0aGUgW2BpbmRlbnRVbml0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KVxuZmFjZXQsIGFuZCBbYHRhYlNpemVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRhYlNpemUpIHdoZW4gdGhhdFxuY29udGFpbnMgdGFicy5cbiovXG5mdW5jdGlvbiBnZXRJbmRlbnRVbml0KHN0YXRlKSB7XG4gICAgbGV0IHVuaXQgPSBzdGF0ZS5mYWNldChpbmRlbnRVbml0KTtcbiAgICByZXR1cm4gdW5pdC5jaGFyQ29kZUF0KDApID09IDkgPyBzdGF0ZS50YWJTaXplICogdW5pdC5sZW5ndGggOiB1bml0Lmxlbmd0aDtcbn1cbi8qKlxuQ3JlYXRlIGFuIGluZGVudGF0aW9uIHN0cmluZyB0aGF0IGNvdmVycyBjb2x1bW5zIDAgdG8gYGNvbHNgLlxuV2lsbCB1c2UgdGFicyBmb3IgYXMgbXVjaCBvZiB0aGUgY29sdW1ucyBhcyBwb3NzaWJsZSB3aGVuIHRoZVxuW2BpbmRlbnRVbml0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KSBmYWNldCBjb250YWluc1xudGFicy5cbiovXG5mdW5jdGlvbiBpbmRlbnRTdHJpbmcoc3RhdGUsIGNvbHMpIHtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIiwgdHMgPSBzdGF0ZS50YWJTaXplLCBjaCA9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpWzBdO1xuICAgIGlmIChjaCA9PSBcIlxcdFwiKSB7XG4gICAgICAgIHdoaWxlIChjb2xzID49IHRzKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXHRcIjtcbiAgICAgICAgICAgIGNvbHMgLT0gdHM7XG4gICAgICAgIH1cbiAgICAgICAgY2ggPSBcIiBcIjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyBpKyspXG4gICAgICAgIHJlc3VsdCArPSBjaDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG5HZXQgdGhlIGluZGVudGF0aW9uLCBhcyBhIGNvbHVtbiBudW1iZXIsIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbldpbGwgZmlyc3QgY29uc3VsdCBhbnkgW2luZGVudCBzZXJ2aWNlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTZXJ2aWNlKVxudGhhdCBhcmUgcmVnaXN0ZXJlZCwgYW5kIGlmIG5vbmUgb2YgdGhvc2UgcmV0dXJuIGFuIGluZGVudGF0aW9uLFxudGhpcyB3aWxsIGNoZWNrIHRoZSBzeW50YXggdHJlZSBmb3IgdGhlIFtpbmRlbnQgbm9kZVxucHJvcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnROb2RlUHJvcCkgYW5kIHVzZSB0aGF0IGlmIGZvdW5kLiBSZXR1cm5zIGFcbm51bWJlciB3aGVuIGFuIGluZGVudGF0aW9uIGNvdWxkIGJlIGRldGVybWluZWQsIGFuZCBudWxsXG5vdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gZ2V0SW5kZW50YXRpb24oY29udGV4dCwgcG9zKSB7XG4gICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBFZGl0b3JTdGF0ZSlcbiAgICAgICAgY29udGV4dCA9IG5ldyBJbmRlbnRDb250ZXh0KGNvbnRleHQpO1xuICAgIGZvciAobGV0IHNlcnZpY2Ugb2YgY29udGV4dC5zdGF0ZS5mYWNldChpbmRlbnRTZXJ2aWNlKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc2VydmljZShjb250ZXh0LCBwb3MpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoY29udGV4dC5zdGF0ZSk7XG4gICAgcmV0dXJuIHRyZWUubGVuZ3RoID49IHBvcyA/IHN5bnRheEluZGVudGF0aW9uKGNvbnRleHQsIHRyZWUsIHBvcykgOiBudWxsO1xufVxuLyoqXG5DcmVhdGUgYSBjaGFuZ2Ugc2V0IHRoYXQgYXV0by1pbmRlbnRzIGFsbCBsaW5lcyB0b3VjaGVkIGJ5IHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcmFuZ2UuXG4qL1xuZnVuY3Rpb24gaW5kZW50UmFuZ2Uoc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgbGV0IHVwZGF0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb250ZXh0ID0gbmV3IEluZGVudENvbnRleHQoc3RhdGUsIHsgb3ZlcnJpZGVJbmRlbnRhdGlvbjogc3RhcnQgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB1cGRhdGVkW3N0YXJ0XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTE7IH0gfSk7XG4gICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBwb3MgPSBmcm9tOyBwb3MgPD0gdG87KSB7XG4gICAgICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKGNvbnRleHQsIGxpbmUuZnJvbSk7XG4gICAgICAgIGlmIChpbmRlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIS9cXFMvLnRlc3QobGluZS50ZXh0KSlcbiAgICAgICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgIGxldCBjdXIgPSAvXlxccyovLmV4ZWMobGluZS50ZXh0KVswXTtcbiAgICAgICAgbGV0IG5vcm0gPSBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCk7XG4gICAgICAgIGlmIChjdXIgIT0gbm9ybSkge1xuICAgICAgICAgICAgdXBkYXRlZFtsaW5lLmZyb21dID0gaW5kZW50O1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogbGluZS5mcm9tICsgY3VyLmxlbmd0aCwgaW5zZXJ0OiBub3JtIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5jaGFuZ2VzKGNoYW5nZXMpO1xufVxuLyoqXG5JbmRlbnRhdGlvbiBjb250ZXh0cyBhcmUgdXNlZCB3aGVuIGNhbGxpbmcgW2luZGVudGF0aW9uXG5zZXJ2aWNlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTZXJ2aWNlKS4gVGhleSBwcm92aWRlIGhlbHBlciB1dGlsaXRpZXNcbnVzZWZ1bCBpbiBpbmRlbnRhdGlvbiBsb2dpYywgYW5kIGNhbiBzZWxlY3RpdmVseSBvdmVycmlkZSB0aGVcbmluZGVudGF0aW9uIHJlcG9ydGVkIGZvciBzb21lIGxpbmVzLlxuKi9cbmNsYXNzIEluZGVudENvbnRleHQge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBpbmRlbnQgY29udGV4dC5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBzdGF0ZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnVuaXQgPSBnZXRJbmRlbnRVbml0KHN0YXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgZGVzY3JpcHRpb24gb2YgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCB0YWtpbmdcbiAgICBbc2ltdWxhdGVkIGxpbmVcbiAgICBicmVha3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuSW5kZW50Q29udGV4dC5jb25zdHJ1Y3Rvcl5vcHRpb25zLnNpbXVsYXRlQnJlYWspXG4gICAgaW50byBhY2NvdW50LiBJZiB0aGVyZSBpcyBzdWNoIGEgYnJlYWsgYXQgYHBvc2AsIHRoZSBgYmlhc2BcbiAgICBhcmd1bWVudCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBhcnQgb2YgdGhlIGxpbmUgbGluZSBiZWZvcmUgb3JcbiAgICBhZnRlciB0aGUgYnJlYWsgaXMgdXNlZC5cbiAgICAqL1xuICAgIGxpbmVBdChwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCB7IHNpbXVsYXRlQnJlYWssIHNpbXVsYXRlRG91YmxlQnJlYWsgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKHNpbXVsYXRlQnJlYWsgIT0gbnVsbCAmJiBzaW11bGF0ZUJyZWFrID49IGxpbmUuZnJvbSAmJiBzaW11bGF0ZUJyZWFrIDw9IGxpbmUudG8pIHtcbiAgICAgICAgICAgIGlmIChzaW11bGF0ZURvdWJsZUJyZWFrICYmIHNpbXVsYXRlQnJlYWsgPT0gcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IFwiXCIsIGZyb206IHBvcyB9O1xuICAgICAgICAgICAgZWxzZSBpZiAoYmlhcyA8IDAgPyBzaW11bGF0ZUJyZWFrIDwgcG9zIDogc2ltdWxhdGVCcmVhayA8PSBwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogbGluZS50ZXh0LnNsaWNlKHNpbXVsYXRlQnJlYWsgLSBsaW5lLmZyb20pLCBmcm9tOiBzaW11bGF0ZUJyZWFrIH07XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogbGluZS50ZXh0LnNsaWNlKDAsIHNpbXVsYXRlQnJlYWsgLSBsaW5lLmZyb20pLCBmcm9tOiBsaW5lLmZyb20gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB0ZXh0IGRpcmVjdGx5IGFmdGVyIGBwb3NgLCBlaXRoZXIgdGhlIGVudGlyZSBsaW5lXG4gICAgb3IgdGhlIG5leHQgMTAwIGNoYXJhY3RlcnMsIHdoaWNoZXZlciBpcyBzaG9ydGVyLlxuICAgICovXG4gICAgdGV4dEFmdGVyUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaW11bGF0ZURvdWJsZUJyZWFrICYmIHBvcyA9PSB0aGlzLm9wdGlvbnMuc2ltdWxhdGVCcmVhaylcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBsZXQgeyB0ZXh0LCBmcm9tIH0gPSB0aGlzLmxpbmVBdChwb3MsIGJpYXMpO1xuICAgICAgICByZXR1cm4gdGV4dC5zbGljZShwb3MgLSBmcm9tLCBNYXRoLm1pbih0ZXh0Lmxlbmd0aCwgcG9zICsgMTAwIC0gZnJvbSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBjb2x1bW4gZm9yIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGNvbHVtbihwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHBvcyAtIGZyb20pO1xuICAgICAgICBsZXQgb3ZlcnJpZGUgPSB0aGlzLm9wdGlvbnMub3ZlcnJpZGVJbmRlbnRhdGlvbiA/IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uKGZyb20pIDogLTE7XG4gICAgICAgIGlmIChvdmVycmlkZSA+IC0xKVxuICAgICAgICAgICAgcmVzdWx0ICs9IG92ZXJyaWRlIC0gdGhpcy5jb3VudENvbHVtbih0ZXh0LCB0ZXh0LnNlYXJjaCgvXFxTfCQvKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGNvbHVtbiBwb3NpdGlvbiAodGFraW5nIHRhYnMgaW50byBhY2NvdW50KSBvZiB0aGUgZ2l2ZW5cbiAgICBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gc3RyaW5nLlxuICAgICovXG4gICAgY291bnRDb2x1bW4obGluZSwgcG9zID0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNvdW50Q29sdW1uKGxpbmUsIHRoaXMuc3RhdGUudGFiU2l6ZSwgcG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgaW5kZW50YXRpb24gY29sdW1uIG9mIHRoZSBsaW5lIGF0IHRoZSBnaXZlbiBwb2ludC5cbiAgICAqL1xuICAgIGxpbmVJbmRlbnQocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBsZXQgeyB0ZXh0LCBmcm9tIH0gPSB0aGlzLmxpbmVBdChwb3MsIGJpYXMpO1xuICAgICAgICBsZXQgb3ZlcnJpZGUgPSB0aGlzLm9wdGlvbnMub3ZlcnJpZGVJbmRlbnRhdGlvbjtcbiAgICAgICAgaWYgKG92ZXJyaWRlKSB7XG4gICAgICAgICAgICBsZXQgb3ZlcnJpZGVuID0gb3ZlcnJpZGUoZnJvbSk7XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGVuID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb3VudENvbHVtbih0ZXh0LCB0ZXh0LnNlYXJjaCgvXFxTfCQvKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIFtzaW11bGF0ZWQgbGluZVxuICAgIGJyZWFrXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkluZGVudENvbnRleHQuY29uc3RydWN0b3Jeb3B0aW9ucy5zaW11bGF0ZUJyZWFrKVxuICAgIGZvciB0aGlzIGNvbnRleHQsIGlmIGFueS5cbiAgICAqL1xuICAgIGdldCBzaW11bGF0ZWRCcmVhaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zaW11bGF0ZUJyZWFrIHx8IG51bGw7XG4gICAgfVxufVxuLyoqXG5BIHN5bnRheCB0cmVlIG5vZGUgcHJvcCB1c2VkIHRvIGFzc29jaWF0ZSBpbmRlbnRhdGlvbiBzdHJhdGVnaWVzXG53aXRoIG5vZGUgdHlwZXMuIFN1Y2ggYSBzdHJhdGVneSBpcyBhIGZ1bmN0aW9uIGZyb20gYW4gaW5kZW50YXRpb25cbmNvbnRleHQgdG8gYSBjb2x1bW4gbnVtYmVyIChzZWUgYWxzb1xuW2BpbmRlbnRTdHJpbmdgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFN0cmluZykpIG9yIG51bGwsIHdoZXJlIG51bGxcbmluZGljYXRlcyB0aGF0IG5vIGRlZmluaXRpdmUgaW5kZW50YXRpb24gY2FuIGJlIGRldGVybWluZWQuXG4qL1xuY29uc3QgaW5kZW50Tm9kZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vLyBDb21wdXRlIHRoZSBpbmRlbnRhdGlvbiBmb3IgYSBnaXZlbiBwb3NpdGlvbiBmcm9tIHRoZSBzeW50YXggdHJlZS5cbmZ1bmN0aW9uIHN5bnRheEluZGVudGF0aW9uKGN4LCBhc3QsIHBvcykge1xuICAgIGxldCBzdGFjayA9IGFzdC5yZXNvbHZlU3RhY2socG9zKTtcbiAgICBsZXQgaW5uZXIgPSBhc3QucmVzb2x2ZUlubmVyKHBvcywgLTEpLnJlc29sdmUocG9zLCAwKS5lbnRlclVuZmluaXNoZWROb2Rlc0JlZm9yZShwb3MpO1xuICAgIGlmIChpbm5lciAhPSBzdGFjay5ub2RlKSB7XG4gICAgICAgIGxldCBhZGQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgY3VyID0gaW5uZXI7IGN1ciAmJiAhKGN1ci5mcm9tID09IHN0YWNrLm5vZGUuZnJvbSAmJiBjdXIudHlwZSA9PSBzdGFjay5ub2RlLnR5cGUpOyBjdXIgPSBjdXIucGFyZW50KVxuICAgICAgICAgICAgYWRkLnB1c2goY3VyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFkZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIHN0YWNrID0geyBub2RlOiBhZGRbaV0sIG5leHQ6IHN0YWNrIH07XG4gICAgfVxuICAgIHJldHVybiBpbmRlbnRGb3Ioc3RhY2ssIGN4LCBwb3MpO1xufVxuZnVuY3Rpb24gaW5kZW50Rm9yKHN0YWNrLCBjeCwgcG9zKSB7XG4gICAgZm9yIChsZXQgY3VyID0gc3RhY2s7IGN1cjsgY3VyID0gY3VyLm5leHQpIHtcbiAgICAgICAgbGV0IHN0cmF0ZWd5ID0gaW5kZW50U3RyYXRlZ3koY3VyLm5vZGUpO1xuICAgICAgICBpZiAoc3RyYXRlZ3kpXG4gICAgICAgICAgICByZXR1cm4gc3RyYXRlZ3koVHJlZUluZGVudENvbnRleHQuY3JlYXRlKGN4LCBwb3MsIGN1cikpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGlnbm9yZUNsb3NlZChjeCkge1xuICAgIHJldHVybiBjeC5wb3MgPT0gY3gub3B0aW9ucy5zaW11bGF0ZUJyZWFrICYmIGN4Lm9wdGlvbnMuc2ltdWxhdGVEb3VibGVCcmVhaztcbn1cbmZ1bmN0aW9uIGluZGVudFN0cmF0ZWd5KHRyZWUpIHtcbiAgICBsZXQgc3RyYXRlZ3kgPSB0cmVlLnR5cGUucHJvcChpbmRlbnROb2RlUHJvcCk7XG4gICAgaWYgKHN0cmF0ZWd5KVxuICAgICAgICByZXR1cm4gc3RyYXRlZ3k7XG4gICAgbGV0IGZpcnN0ID0gdHJlZS5maXJzdENoaWxkLCBjbG9zZTtcbiAgICBpZiAoZmlyc3QgJiYgKGNsb3NlID0gZmlyc3QudHlwZS5wcm9wKE5vZGVQcm9wLmNsb3NlZEJ5KSkpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0cmVlLmxhc3RDaGlsZCwgY2xvc2VkID0gbGFzdCAmJiBjbG9zZS5pbmRleE9mKGxhc3QubmFtZSkgPiAtMTtcbiAgICAgICAgcmV0dXJuIGN4ID0+IGRlbGltaXRlZFN0cmF0ZWd5KGN4LCB0cnVlLCAxLCB1bmRlZmluZWQsIGNsb3NlZCAmJiAhaWdub3JlQ2xvc2VkKGN4KSA/IGxhc3QuZnJvbSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cmVlLnBhcmVudCA9PSBudWxsID8gdG9wSW5kZW50IDogbnVsbDtcbn1cbmZ1bmN0aW9uIHRvcEluZGVudCgpIHsgcmV0dXJuIDA7IH1cbi8qKlxuT2JqZWN0cyBvZiB0aGlzIHR5cGUgcHJvdmlkZSBjb250ZXh0IGluZm9ybWF0aW9uIGFuZCBoZWxwZXJcbm1ldGhvZHMgdG8gaW5kZW50YXRpb24gZnVuY3Rpb25zIHJlZ2lzdGVyZWQgb24gc3ludGF4IG5vZGVzLlxuKi9cbmNsYXNzIFRyZWVJbmRlbnRDb250ZXh0IGV4dGVuZHMgSW5kZW50Q29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgXG4gICAgLyoqXG4gICAgVGhlIHBvc2l0aW9uIGF0IHdoaWNoIGluZGVudGF0aW9uIGlzIGJlaW5nIGNvbXB1dGVkLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoYmFzZS5zdGF0ZSwgYmFzZS5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzeW50YXggdHJlZSBub2RlIHRvIHdoaWNoIHRoZSBpbmRlbnRhdGlvbiBzdHJhdGVneVxuICAgIGFwcGxpZXMuXG4gICAgKi9cbiAgICBnZXQgbm9kZSgpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5ub2RlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGJhc2UsIHBvcywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWVJbmRlbnRDb250ZXh0KGJhc2UsIHBvcywgY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdGV4dCBkaXJlY3RseSBhZnRlciBgdGhpcy5wb3NgLCBlaXRoZXIgdGhlIGVudGlyZSBsaW5lXG4gICAgb3IgdGhlIG5leHQgMTAwIGNoYXJhY3RlcnMsIHdoaWNoZXZlciBpcyBzaG9ydGVyLlxuICAgICovXG4gICAgZ2V0IHRleHRBZnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEFmdGVyUG9zKHRoaXMucG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBpbmRlbnRhdGlvbiBhdCB0aGUgcmVmZXJlbmNlIGxpbmUgZm9yIGB0aGlzLm5vZGVgLCB3aGljaFxuICAgIGlzIHRoZSBsaW5lIG9uIHdoaWNoIGl0IHN0YXJ0cywgdW5sZXNzIHRoZXJlIGlzIGEgbm9kZSB0aGF0IGlzXG4gICAgX25vdF8gYSBwYXJlbnQgb2YgdGhpcyBub2RlIGNvdmVyaW5nIHRoZSBzdGFydCBvZiB0aGF0IGxpbmUuIElmXG4gICAgc28sIHRoZSBsaW5lIGF0IHRoZSBzdGFydCBvZiB0aGF0IG5vZGUgaXMgdHJpZWQsIGFnYWluIHNraXBwaW5nXG4gICAgb24gaWYgaXQgaXMgY292ZXJlZCBieSBhbm90aGVyIHN1Y2ggbm9kZS5cbiAgICAqL1xuICAgIGdldCBiYXNlSW5kZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlSW5kZW50Rm9yKHRoaXMubm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgaW5kZW50YXRpb24gZm9yIHRoZSByZWZlcmVuY2UgbGluZSBvZiB0aGUgZ2l2ZW4gbm9kZVxuICAgIChzZWUgW2BiYXNlSW5kZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5UcmVlSW5kZW50Q29udGV4dC5iYXNlSW5kZW50KSkuXG4gICAgKi9cbiAgICBiYXNlSW5kZW50Rm9yKG5vZGUpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnN0YXRlLmRvYy5saW5lQXQobm9kZS5mcm9tKTtcbiAgICAgICAgLy8gU2tpcCBsaW5lIHN0YXJ0cyB0aGF0IGFyZSBjb3ZlcmVkIGJ5IGEgc2libGluZyAob3IgY291c2luLCBldGMpXG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBhdEJyZWFrID0gbm9kZS5yZXNvbHZlKGxpbmUuZnJvbSk7XG4gICAgICAgICAgICB3aGlsZSAoYXRCcmVhay5wYXJlbnQgJiYgYXRCcmVhay5wYXJlbnQuZnJvbSA9PSBhdEJyZWFrLmZyb20pXG4gICAgICAgICAgICAgICAgYXRCcmVhayA9IGF0QnJlYWsucGFyZW50O1xuICAgICAgICAgICAgaWYgKGlzUGFyZW50KGF0QnJlYWssIG5vZGUpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdChhdEJyZWFrLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVJbmRlbnQobGluZS5mcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29udGludWUgbG9va2luZyBmb3IgaW5kZW50YXRpb25zIGluIHRoZSBub2RlJ3MgcGFyZW50IG5vZGVzLFxuICAgIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGF0LlxuICAgICovXG4gICAgY29udGludWUoKSB7XG4gICAgICAgIHJldHVybiBpbmRlbnRGb3IodGhpcy5jb250ZXh0Lm5leHQsIHRoaXMuYmFzZSwgdGhpcy5wb3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUGFyZW50KHBhcmVudCwgb2YpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBvZjsgY3VyOyBjdXIgPSBjdXIucGFyZW50KVxuICAgICAgICBpZiAocGFyZW50ID09IGN1cilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIENoZWNrIHdoZXRoZXIgYSBkZWxpbWl0ZWQgbm9kZSBpcyBhbGlnbmVkIChtZWFuaW5nIHRoZXJlIGFyZVxuLy8gbm9uLXNraXBwZWQgbm9kZXMgb24gdGhlIHNhbWUgbGluZSBhcyB0aGUgb3BlbmluZyBkZWxpbWl0ZXIpLiBBbmRcbi8vIGlmIHNvLCByZXR1cm4gdGhlIG9wZW5pbmcgdG9rZW4uXG5mdW5jdGlvbiBicmFja2V0ZWRBbGlnbmVkKGNvbnRleHQpIHtcbiAgICBsZXQgdHJlZSA9IGNvbnRleHQubm9kZTtcbiAgICBsZXQgb3BlblRva2VuID0gdHJlZS5jaGlsZEFmdGVyKHRyZWUuZnJvbSksIGxhc3QgPSB0cmVlLmxhc3RDaGlsZDtcbiAgICBpZiAoIW9wZW5Ub2tlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHNpbSA9IGNvbnRleHQub3B0aW9ucy5zaW11bGF0ZUJyZWFrO1xuICAgIGxldCBvcGVuTGluZSA9IGNvbnRleHQuc3RhdGUuZG9jLmxpbmVBdChvcGVuVG9rZW4uZnJvbSk7XG4gICAgbGV0IGxpbmVFbmQgPSBzaW0gPT0gbnVsbCB8fCBzaW0gPD0gb3BlbkxpbmUuZnJvbSA/IG9wZW5MaW5lLnRvIDogTWF0aC5taW4ob3BlbkxpbmUudG8sIHNpbSk7XG4gICAgZm9yIChsZXQgcG9zID0gb3BlblRva2VuLnRvOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSB0cmVlLmNoaWxkQWZ0ZXIocG9zKTtcbiAgICAgICAgaWYgKCFuZXh0IHx8IG5leHQgPT0gbGFzdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIW5leHQudHlwZS5pc1NraXBwZWQpIHtcbiAgICAgICAgICAgIGlmIChuZXh0LmZyb20gPj0gbGluZUVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCBzcGFjZSA9IC9eICovLmV4ZWMob3BlbkxpbmUudGV4dC5zbGljZShvcGVuVG9rZW4udG8gLSBvcGVuTGluZS5mcm9tKSlbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogb3BlblRva2VuLmZyb20sIHRvOiBvcGVuVG9rZW4udG8gKyBzcGFjZSB9O1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IG5leHQudG87XG4gICAgfVxufVxuLyoqXG5BbiBpbmRlbnRhdGlvbiBzdHJhdGVneSBmb3IgZGVsaW1pdGVkICh1c3VhbGx5IGJyYWNrZXRlZCkgbm9kZXMuXG5XaWxsLCBieSBkZWZhdWx0LCBpbmRlbnQgb25lIHVuaXQgbW9yZSB0aGFuIHRoZSBwYXJlbnQncyBiYXNlXG5pbmRlbnQgdW5sZXNzIHRoZSBsaW5lIHN0YXJ0cyB3aXRoIGEgY2xvc2luZyB0b2tlbi4gV2hlbiBgYWxpZ25gXG5pcyB0cnVlIGFuZCB0aGVyZSBhcmUgbm9uLXNraXBwZWQgbm9kZXMgb24gdGhlIG5vZGUncyBvcGVuaW5nXG5saW5lLCB0aGUgY29udGVudCBvZiB0aGUgbm9kZSB3aWxsIGJlIGFsaWduZWQgd2l0aCB0aGUgZW5kIG9mIHRoZVxub3BlbmluZyBub2RlLCBsaWtlIHRoaXM6XG5cbiAgICBmb28oYmFyLFxuICAgICAgICBiYXopXG4qL1xuZnVuY3Rpb24gZGVsaW1pdGVkSW5kZW50KHsgY2xvc2luZywgYWxpZ24gPSB0cnVlLCB1bml0cyA9IDEgfSkge1xuICAgIHJldHVybiAoY29udGV4dCkgPT4gZGVsaW1pdGVkU3RyYXRlZ3koY29udGV4dCwgYWxpZ24sIHVuaXRzLCBjbG9zaW5nKTtcbn1cbmZ1bmN0aW9uIGRlbGltaXRlZFN0cmF0ZWd5KGNvbnRleHQsIGFsaWduLCB1bml0cywgY2xvc2luZywgY2xvc2VkQXQpIHtcbiAgICBsZXQgYWZ0ZXIgPSBjb250ZXh0LnRleHRBZnRlciwgc3BhY2UgPSBhZnRlci5tYXRjaCgvXlxccyovKVswXS5sZW5ndGg7XG4gICAgbGV0IGNsb3NlZCA9IGNsb3NpbmcgJiYgYWZ0ZXIuc2xpY2Uoc3BhY2UsIHNwYWNlICsgY2xvc2luZy5sZW5ndGgpID09IGNsb3NpbmcgfHwgY2xvc2VkQXQgPT0gY29udGV4dC5wb3MgKyBzcGFjZTtcbiAgICBsZXQgYWxpZ25lZCA9IGFsaWduID8gYnJhY2tldGVkQWxpZ25lZChjb250ZXh0KSA6IG51bGw7XG4gICAgaWYgKGFsaWduZWQpXG4gICAgICAgIHJldHVybiBjbG9zZWQgPyBjb250ZXh0LmNvbHVtbihhbGlnbmVkLmZyb20pIDogY29udGV4dC5jb2x1bW4oYWxpZ25lZC50byk7XG4gICAgcmV0dXJuIGNvbnRleHQuYmFzZUluZGVudCArIChjbG9zZWQgPyAwIDogY29udGV4dC51bml0ICogdW5pdHMpO1xufVxuLyoqXG5BbiBpbmRlbnRhdGlvbiBzdHJhdGVneSB0aGF0IGFsaWducyBhIG5vZGUncyBjb250ZW50IHRvIGl0cyBiYXNlXG5pbmRlbnRhdGlvbi5cbiovXG5jb25zdCBmbGF0SW5kZW50ID0gKGNvbnRleHQpID0+IGNvbnRleHQuYmFzZUluZGVudDtcbi8qKlxuQ3JlYXRlcyBhbiBpbmRlbnRhdGlvbiBzdHJhdGVneSB0aGF0LCBieSBkZWZhdWx0LCBpbmRlbnRzXG5jb250aW51ZWQgbGluZXMgb25lIHVuaXQgbW9yZSB0aGFuIHRoZSBub2RlJ3MgYmFzZSBpbmRlbnRhdGlvbi5cbllvdSBjYW4gcHJvdmlkZSBgZXhjZXB0YCB0byBwcmV2ZW50IGluZGVudGF0aW9uIG9mIGxpbmVzIHRoYXRcbm1hdGNoIGEgcGF0dGVybiAoZm9yIGV4YW1wbGUgYC9eZWxzZVxcYi9gIGluIGBpZmAvYGVsc2VgXG5jb25zdHJ1Y3RzKSwgYW5kIHlvdSBjYW4gY2hhbmdlIHRoZSBhbW91bnQgb2YgdW5pdHMgdXNlZCB3aXRoIHRoZVxuYHVuaXRzYCBvcHRpb24uXG4qL1xuZnVuY3Rpb24gY29udGludWVkSW5kZW50KHsgZXhjZXB0LCB1bml0cyA9IDEgfSA9IHt9KSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGxldCBtYXRjaEV4Y2VwdCA9IGV4Y2VwdCAmJiBleGNlcHQudGVzdChjb250ZXh0LnRleHRBZnRlcik7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmJhc2VJbmRlbnQgKyAobWF0Y2hFeGNlcHQgPyAwIDogdW5pdHMgKiBjb250ZXh0LnVuaXQpO1xuICAgIH07XG59XG5jb25zdCBEb250SW5kZW50QmV5b25kID0gMjAwO1xuLyoqXG5FbmFibGVzIHJlaW5kZW50YXRpb24gb24gaW5wdXQuIFdoZW4gYSBsYW5ndWFnZSBkZWZpbmVzIGFuXG5gaW5kZW50T25JbnB1dGAgZmllbGQgaW4gaXRzIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCksIHdoaWNoIG11c3QgaG9sZCBhIHJlZ3VsYXJcbmV4cHJlc3Npb24sIHRoZSBsaW5lIGF0IHRoZSBjdXJzb3Igd2lsbCBiZSByZWluZGVudGVkIHdoZW5ldmVyIG5ld1xudGV4dCBpcyB0eXBlZCBhbmQgdGhlIGlucHV0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBsaW5lIHVwIHRvIHRoZVxuY3Vyc29yIG1hdGNoZXMgdGhhdCByZWdleHAuXG5cblRvIGF2b2lkIHVubmVjY2VzYXJ5IHJlaW5kZW50cywgaXQgaXMgcmVjb21tZW5kZWQgdG8gc3RhcnQgdGhlXG5yZWdleHAgd2l0aCBgXmAgKHVzdWFsbHkgZm9sbG93ZWQgYnkgYFxccypgKSwgYW5kIGVuZCBpdCB3aXRoIGAkYC5cbkZvciBleGFtcGxlLCBgL15cXHMqXFx9JC9gIHdpbGwgcmVpbmRlbnQgd2hlbiBhIGNsb3NpbmcgYnJhY2UgaXNcbmFkZGVkIGF0IHRoZSBzdGFydCBvZiBhIGxpbmUuXG4qL1xuZnVuY3Rpb24gaW5kZW50T25JbnB1dCgpIHtcbiAgICByZXR1cm4gRWRpdG9yU3RhdGUudHJhbnNhY3Rpb25GaWx0ZXIub2YodHIgPT4ge1xuICAgICAgICBpZiAoIXRyLmRvY0NoYW5nZWQgfHwgIXRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKSAmJiAhdHIuaXNVc2VyRXZlbnQoXCJpbnB1dC5jb21wbGV0ZVwiKSlcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IHJ1bGVzID0gdHIuc3RhcnRTdGF0ZS5sYW5ndWFnZURhdGFBdChcImluZGVudE9uSW5wdXRcIiwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgaWYgKCFydWxlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCBkb2MgPSB0ci5uZXdEb2MsIHsgaGVhZCB9ID0gdHIubmV3U2VsZWN0aW9uLm1haW4sIGxpbmUgPSBkb2MubGluZUF0KGhlYWQpO1xuICAgICAgICBpZiAoaGVhZCA+IGxpbmUuZnJvbSArIERvbnRJbmRlbnRCZXlvbmQpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCBsaW5lU3RhcnQgPSBkb2Muc2xpY2VTdHJpbmcobGluZS5mcm9tLCBoZWFkKTtcbiAgICAgICAgaWYgKCFydWxlcy5zb21lKHIgPT4gci50ZXN0KGxpbmVTdGFydCkpKVxuICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdHIsIGxhc3QgPSAtMSwgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGhlYWQgfSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoaGVhZCk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID09IGxhc3QpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsYXN0ID0gbGluZS5mcm9tO1xuICAgICAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKHN0YXRlLCBsaW5lLmZyb20pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICAgICAgbGV0IG5vcm0gPSBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCk7XG4gICAgICAgICAgICBpZiAoY3VyICE9IG5vcm0pXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogbGluZS5mcm9tICsgY3VyLmxlbmd0aCwgaW5zZXJ0OiBub3JtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmxlbmd0aCA/IFt0ciwgeyBjaGFuZ2VzLCBzZXF1ZW50aWFsOiB0cnVlIH1dIDogdHI7XG4gICAgfSk7XG59XG5cbi8qKlxuQSBmYWNldCB0aGF0IHJlZ2lzdGVycyBhIGNvZGUgZm9sZGluZyBzZXJ2aWNlLiBXaGVuIGNhbGxlZCB3aXRoXG50aGUgZXh0ZW50IG9mIGEgbGluZSwgc3VjaCBhIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBmb2xkYWJsZVxucmFuZ2UgdGhhdCBzdGFydHMgb24gdGhhdCBsaW5lIChidXQgY29udGludWVzIGJleW9uZCBpdCksIGlmIG9uZVxuY2FuIGJlIGZvdW5kLlxuKi9cbmNvbnN0IGZvbGRTZXJ2aWNlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5UaGlzIG5vZGUgcHJvcCBpcyB1c2VkIHRvIGFzc29jaWF0ZSBmb2xkaW5nIGluZm9ybWF0aW9uIHdpdGhcbnN5bnRheCBub2RlIHR5cGVzLiBHaXZlbiBhIHN5bnRheCBub2RlLCBpdCBzaG91bGQgY2hlY2sgd2hldGhlclxudGhhdCB0cmVlIGlzIGZvbGRhYmxlIGFuZCByZXR1cm4gdGhlIHJhbmdlIHRoYXQgY2FuIGJlIGNvbGxhcHNlZFxud2hlbiBpdCBpcy5cbiovXG5jb25zdCBmb2xkTm9kZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbltGb2xkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGROb2RlUHJvcCkgZnVuY3Rpb24gdGhhdCBmb2xkcyBldmVyeXRoaW5nIGJ1dFxudGhlIGZpcnN0IGFuZCB0aGUgbGFzdCBjaGlsZCBvZiBhIHN5bnRheCBub2RlLiBVc2VmdWwgZm9yIG5vZGVzXG50aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCBkZWxpbWl0ZXJzLlxuKi9cbmZ1bmN0aW9uIGZvbGRJbnNpZGUobm9kZSkge1xuICAgIGxldCBmaXJzdCA9IG5vZGUuZmlyc3RDaGlsZCwgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgIHJldHVybiBmaXJzdCAmJiBmaXJzdC50byA8IGxhc3QuZnJvbSA/IHsgZnJvbTogZmlyc3QudG8sIHRvOiBsYXN0LnR5cGUuaXNFcnJvciA/IG5vZGUudG8gOiBsYXN0LmZyb20gfSA6IG51bGw7XG59XG5mdW5jdGlvbiBzeW50YXhGb2xkaW5nKHN0YXRlLCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKTtcbiAgICBpZiAodHJlZS5sZW5ndGggPCBlbmQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBzdGFjayA9IHRyZWUucmVzb2x2ZVN0YWNrKGVuZCwgMSk7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICBmb3IgKGxldCBpdGVyID0gc3RhY2s7IGl0ZXI7IGl0ZXIgPSBpdGVyLm5leHQpIHtcbiAgICAgICAgbGV0IGN1ciA9IGl0ZXIubm9kZTtcbiAgICAgICAgaWYgKGN1ci50byA8PSBlbmQgfHwgY3VyLmZyb20gPiBlbmQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKGZvdW5kICYmIGN1ci5mcm9tIDwgc3RhcnQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgbGV0IHByb3AgPSBjdXIudHlwZS5wcm9wKGZvbGROb2RlUHJvcCk7XG4gICAgICAgIGlmIChwcm9wICYmIChjdXIudG8gPCB0cmVlLmxlbmd0aCAtIDUwIHx8IHRyZWUubGVuZ3RoID09IHN0YXRlLmRvYy5sZW5ndGggfHwgIWlzVW5maW5pc2hlZChjdXIpKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcChjdXIsIHN0YXRlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5mcm9tIDw9IGVuZCAmJiB2YWx1ZS5mcm9tID49IHN0YXJ0ICYmIHZhbHVlLnRvID4gZW5kKVxuICAgICAgICAgICAgICAgIGZvdW5kID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZnVuY3Rpb24gaXNVbmZpbmlzaGVkKG5vZGUpIHtcbiAgICBsZXQgY2ggPSBub2RlLmxhc3RDaGlsZDtcbiAgICByZXR1cm4gY2ggJiYgY2gudG8gPT0gbm9kZS50byAmJiBjaC50eXBlLmlzRXJyb3I7XG59XG4vKipcbkNoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIGxpbmUgaXMgZm9sZGFibGUuIEZpcnN0IGFza3MgYW55IGZvbGRcbnNlcnZpY2VzIHJlZ2lzdGVyZWQgdGhyb3VnaFxuW2Bmb2xkU2VydmljZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZFNlcnZpY2UpLCBhbmQgaWYgbm9uZSBvZiB0aGVtIHJldHVyblxuYSByZXN1bHQsIHRyaWVzIHRvIHF1ZXJ5IHRoZSBbZm9sZCBub2RlXG5wcm9wXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGROb2RlUHJvcCkgb2Ygc3ludGF4IG5vZGVzIHRoYXQgY292ZXIgdGhlIGVuZFxub2YgdGhlIGxpbmUuXG4qL1xuZnVuY3Rpb24gZm9sZGFibGUoc3RhdGUsIGxpbmVTdGFydCwgbGluZUVuZCkge1xuICAgIGZvciAobGV0IHNlcnZpY2Ugb2Ygc3RhdGUuZmFjZXQoZm9sZFNlcnZpY2UpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzZXJ2aWNlKHN0YXRlLCBsaW5lU3RhcnQsIGxpbmVFbmQpO1xuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHN5bnRheEZvbGRpbmcoc3RhdGUsIGxpbmVTdGFydCwgbGluZUVuZCk7XG59XG5mdW5jdGlvbiBtYXBSYW5nZShyYW5nZSwgbWFwcGluZykge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBQb3MocmFuZ2UuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBQb3MocmFuZ2UudG8sIC0xKTtcbiAgICByZXR1cm4gZnJvbSA+PSB0byA/IHVuZGVmaW5lZCA6IHsgZnJvbSwgdG8gfTtcbn1cbi8qKlxuU3RhdGUgZWZmZWN0IHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIGEgdHJhbnNhY3Rpb24gdG8gZm9sZCB0aGVcbmdpdmVuIHJhbmdlLiAoWW91IHByb2JhYmx5IG9ubHkgbmVlZCB0aGlzIGluIGV4Y2VwdGlvbmFsXG5jaXJjdW1zdGFuY2Vz4oCUdXN1YWxseSB5b3UnbGwganVzdCB3YW50IHRvIGxldFxuW2Bmb2xkQ29kZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZENvZGUpIGFuZCB0aGUgW2ZvbGRcbmd1dHRlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkR3V0dGVyKSBjcmVhdGUgdGhlIHRyYW5zYWN0aW9ucy4pXG4qL1xuY29uc3QgZm9sZEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoeyBtYXA6IG1hcFJhbmdlIH0pO1xuLyoqXG5TdGF0ZSBlZmZlY3QgdGhhdCB1bmZvbGRzIHRoZSBnaXZlbiByYW5nZSAoaWYgaXQgd2FzIGZvbGRlZCkuXG4qL1xuY29uc3QgdW5mb2xkRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7IG1hcDogbWFwUmFuZ2UgfSk7XG5mdW5jdGlvbiBzZWxlY3RlZExpbmVzKHZpZXcpIHtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBmb3IgKGxldCB7IGhlYWQgfSBvZiB2aWV3LnN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgaWYgKGxpbmVzLnNvbWUobCA9PiBsLmZyb20gPD0gaGVhZCAmJiBsLnRvID49IGhlYWQpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGxpbmVzLnB1c2godmlldy5saW5lQmxvY2tBdChoZWFkKSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbi8qKlxuVGhlIHN0YXRlIGZpZWxkIHRoYXQgc3RvcmVzIHRoZSBmb2xkZWQgcmFuZ2VzIChhcyBhIFtkZWNvcmF0aW9uXG5zZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uU2V0KSkuIENhbiBiZSBwYXNzZWQgdG9cbltgRWRpdG9yU3RhdGUudG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS50b0pTT04pIGFuZFxuW2Bmcm9tSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVeZnJvbUpTT04pIHRvIHNlcmlhbGl6ZSB0aGUgZm9sZFxuc3RhdGUuXG4qL1xuY29uc3QgZm9sZFN0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfSxcbiAgICB1cGRhdGUoZm9sZGVkLCB0cikge1xuICAgICAgICBmb2xkZWQgPSBmb2xkZWQubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICBmb3IgKGxldCBlIG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlLmlzKGZvbGRFZmZlY3QpICYmICFmb2xkRXhpc3RzKGZvbGRlZCwgZS52YWx1ZS5mcm9tLCBlLnZhbHVlLnRvKSkge1xuICAgICAgICAgICAgICAgIGxldCB7IHByZXBhcmVQbGFjZWhvbGRlciB9ID0gdHIuc3RhdGUuZmFjZXQoZm9sZENvbmZpZyk7XG4gICAgICAgICAgICAgICAgbGV0IHdpZGdldCA9ICFwcmVwYXJlUGxhY2Vob2xkZXIgPyBmb2xkV2lkZ2V0IDpcbiAgICAgICAgICAgICAgICAgICAgRGVjb3JhdGlvbi5yZXBsYWNlKHsgd2lkZ2V0OiBuZXcgUHJlcGFyZWRGb2xkV2lkZ2V0KHByZXBhcmVQbGFjZWhvbGRlcih0ci5zdGF0ZSwgZS52YWx1ZSkpIH0pO1xuICAgICAgICAgICAgICAgIGZvbGRlZCA9IGZvbGRlZC51cGRhdGUoeyBhZGQ6IFt3aWRnZXQucmFuZ2UoZS52YWx1ZS5mcm9tLCBlLnZhbHVlLnRvKV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLmlzKHVuZm9sZEVmZmVjdCkpIHtcbiAgICAgICAgICAgICAgICBmb2xkZWQgPSBmb2xkZWQudXBkYXRlKHsgZmlsdGVyOiAoZnJvbSwgdG8pID0+IGUudmFsdWUuZnJvbSAhPSBmcm9tIHx8IGUudmFsdWUudG8gIT0gdG8sXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckZyb206IGUudmFsdWUuZnJvbSwgZmlsdGVyVG86IGUudmFsdWUudG8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYXIgZm9sZGVkIHJhbmdlcyB0aGF0IGNvdmVyIHRoZSBzZWxlY3Rpb24gaGVhZFxuICAgICAgICBpZiAodHIuc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBsZXQgb25TZWxlY3Rpb24gPSBmYWxzZSwgeyBoZWFkIH0gPSB0ci5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgICAgIGZvbGRlZC5iZXR3ZWVuKGhlYWQsIGhlYWQsIChhLCBiKSA9PiB7IGlmIChhIDwgaGVhZCAmJiBiID4gaGVhZClcbiAgICAgICAgICAgICAgICBvblNlbGVjdGlvbiA9IHRydWU7IH0pO1xuICAgICAgICAgICAgaWYgKG9uU2VsZWN0aW9uKVxuICAgICAgICAgICAgICAgIGZvbGRlZCA9IGZvbGRlZC51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcm9tOiBoZWFkLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJUbzogaGVhZCxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiAoYSwgYikgPT4gYiA8PSBoZWFkIHx8IGEgPj0gaGVhZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb2xkZWQ7XG4gICAgfSxcbiAgICBwcm92aWRlOiBmID0+IEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuZnJvbShmKSxcbiAgICB0b0pTT04oZm9sZGVkLCBzdGF0ZSkge1xuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIGZvbGRlZC5iZXR3ZWVuKDAsIHN0YXRlLmRvYy5sZW5ndGgsIChmcm9tLCB0bykgPT4geyByYW5nZXMucHVzaChmcm9tLCB0byk7IH0pO1xuICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgIH0sXG4gICAgZnJvbUpTT04odmFsdWUpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggJSAyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gZm9yIGZvbGQgc3RhdGVcIik7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHZhbHVlW2krK10sIHRvID0gdmFsdWVbaSsrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiB0byAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIGZvciBmb2xkIHN0YXRlXCIpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goZm9sZFdpZGdldC5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChyYW5nZXMsIHRydWUpO1xuICAgIH1cbn0pO1xuLyoqXG5HZXQgYSBbcmFuZ2Ugc2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlU2V0KSBjb250YWluaW5nIHRoZSBmb2xkZWQgcmFuZ2VzXG5pbiB0aGUgZ2l2ZW4gc3RhdGUuXG4qL1xuZnVuY3Rpb24gZm9sZGVkUmFuZ2VzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpIHx8IFJhbmdlU2V0LmVtcHR5O1xufVxuZnVuY3Rpb24gZmluZEZvbGQoc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBmb3VuZCA9IG51bGw7XG4gICAgKF9hID0gc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iZXR3ZWVuKGZyb20sIHRvLCAoZnJvbSwgdG8pID0+IHtcbiAgICAgICAgaWYgKCFmb3VuZCB8fCBmb3VuZC5mcm9tID4gZnJvbSlcbiAgICAgICAgICAgIGZvdW5kID0geyBmcm9tLCB0byB9O1xuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIGZvbGRFeGlzdHMoZm9sZGVkLCBmcm9tLCB0bykge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgIGZvbGRlZC5iZXR3ZWVuKGZyb20sIGZyb20sIChhLCBiKSA9PiB7IGlmIChhID09IGZyb20gJiYgYiA9PSB0bylcbiAgICAgICAgZm91bmQgPSB0cnVlOyB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBtYXliZUVuYWJsZShzdGF0ZSwgb3RoZXIpIHtcbiAgICByZXR1cm4gc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgPyBvdGhlciA6IG90aGVyLmNvbmNhdChTdGF0ZUVmZmVjdC5hcHBlbmRDb25maWcub2YoY29kZUZvbGRpbmcoKSkpO1xufVxuLyoqXG5Gb2xkIHRoZSBsaW5lcyB0aGF0IGFyZSBzZWxlY3RlZCwgaWYgcG9zc2libGUuXG4qL1xuY29uc3QgZm9sZENvZGUgPSB2aWV3ID0+IHtcbiAgICBmb3IgKGxldCBsaW5lIG9mIHNlbGVjdGVkTGluZXModmlldykpIHtcbiAgICAgICAgbGV0IHJhbmdlID0gZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogbWF5YmVFbmFibGUodmlldy5zdGF0ZSwgW2ZvbGRFZmZlY3Qub2YocmFuZ2UpLCBhbm5vdW5jZUZvbGQodmlldywgcmFuZ2UpXSkgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuLyoqXG5VbmZvbGQgZm9sZGVkIHJhbmdlcyBvbiBzZWxlY3RlZCBsaW5lcy5cbiovXG5jb25zdCB1bmZvbGRDb2RlID0gdmlldyA9PiB7XG4gICAgaWYgKCF2aWV3LnN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGVmZmVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBsaW5lIG9mIHNlbGVjdGVkTGluZXModmlldykpIHtcbiAgICAgICAgbGV0IGZvbGRlZCA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChmb2xkZWQpXG4gICAgICAgICAgICBlZmZlY3RzLnB1c2godW5mb2xkRWZmZWN0Lm9mKGZvbGRlZCksIGFubm91bmNlRm9sZCh2aWV3LCBmb2xkZWQsIGZhbHNlKSk7XG4gICAgfVxuICAgIGlmIChlZmZlY3RzLmxlbmd0aClcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHMgfSk7XG4gICAgcmV0dXJuIGVmZmVjdHMubGVuZ3RoID4gMDtcbn07XG5mdW5jdGlvbiBhbm5vdW5jZUZvbGQodmlldywgcmFuZ2UsIGZvbGQgPSB0cnVlKSB7XG4gICAgbGV0IGxpbmVGcm9tID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pLm51bWJlciwgbGluZVRvID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHJhbmdlLnRvKS5udW1iZXI7XG4gICAgcmV0dXJuIEVkaXRvclZpZXcuYW5ub3VuY2Uub2YoYCR7dmlldy5zdGF0ZS5waHJhc2UoZm9sZCA/IFwiRm9sZGVkIGxpbmVzXCIgOiBcIlVuZm9sZGVkIGxpbmVzXCIpfSAke2xpbmVGcm9tfSAke3ZpZXcuc3RhdGUucGhyYXNlKFwidG9cIil9ICR7bGluZVRvfS5gKTtcbn1cbi8qKlxuRm9sZCBhbGwgdG9wLWxldmVsIGZvbGRhYmxlIHJhbmdlcy4gTm90ZSB0aGF0LCBpbiBtb3N0IGNhc2VzLFxuZm9sZGluZyBpbmZvcm1hdGlvbiB3aWxsIGRlcGVuZCBvbiB0aGUgW3N5bnRheFxudHJlZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5zeW50YXhUcmVlKSwgYW5kIGZvbGRpbmcgZXZlcnl0aGluZyBtYXkgbm90IHdvcmtcbnJlbGlhYmx5IHdoZW4gdGhlIGRvY3VtZW50IGhhc24ndCBiZWVuIGZ1bGx5IHBhcnNlZCAoZWl0aGVyXG5iZWNhdXNlIHRoZSBlZGl0b3Igc3RhdGUgd2FzIG9ubHkganVzdCBpbml0aWFsaXplZCwgb3IgYmVjYXVzZSB0aGVcbmRvY3VtZW50IGlzIHNvIGJpZyB0aGF0IHRoZSBwYXJzZXIgZGVjaWRlZCBub3QgdG8gcGFyc2UgaXRcbmVudGlyZWx5KS5cbiovXG5jb25zdCBmb2xkQWxsID0gdmlldyA9PiB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGVmZmVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCBzdGF0ZS5kb2MubGVuZ3RoOykge1xuICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQocG9zKSwgcmFuZ2UgPSBmb2xkYWJsZShzdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgaWYgKHJhbmdlKVxuICAgICAgICAgICAgZWZmZWN0cy5wdXNoKGZvbGRFZmZlY3Qub2YocmFuZ2UpKTtcbiAgICAgICAgcG9zID0gKHJhbmdlID8gdmlldy5saW5lQmxvY2tBdChyYW5nZS50bykgOiBsaW5lKS50byArIDE7XG4gICAgfVxuICAgIGlmIChlZmZlY3RzLmxlbmd0aClcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IG1heWJlRW5hYmxlKHZpZXcuc3RhdGUsIGVmZmVjdHMpIH0pO1xuICAgIHJldHVybiAhIWVmZmVjdHMubGVuZ3RoO1xufTtcbi8qKlxuVW5mb2xkIGFsbCBmb2xkZWQgY29kZS5cbiovXG5jb25zdCB1bmZvbGRBbGwgPSB2aWV3ID0+IHtcbiAgICBsZXQgZmllbGQgPSB2aWV3LnN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpO1xuICAgIGlmICghZmllbGQgfHwgIWZpZWxkLnNpemUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZWZmZWN0cyA9IFtdO1xuICAgIGZpZWxkLmJldHdlZW4oMCwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoLCAoZnJvbSwgdG8pID0+IHsgZWZmZWN0cy5wdXNoKHVuZm9sZEVmZmVjdC5vZih7IGZyb20sIHRvIH0pKTsgfSk7XG4gICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHMgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8gRmluZCB0aGUgZm9sZGFibGUgcmVnaW9uIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGxpbmUsIGlmIG9uZSBleGlzdHNcbmZ1bmN0aW9uIGZvbGRhYmxlQ29udGFpbmVyKHZpZXcsIGxpbmVCbG9jaykge1xuICAgIC8vIExvb2sgYmFja3dhcmRzIHRocm91Z2ggbGluZSBibG9ja3MgdW50aWwgd2UgZmluZCBhIGZvbGRhYmxlIHJlZ2lvbiB0aGF0XG4gICAgLy8gaW50ZXJzZWN0cyB3aXRoIHRoZSBsaW5lXG4gICAgZm9yIChsZXQgbGluZSA9IGxpbmVCbG9jazs7KSB7XG4gICAgICAgIGxldCBmb2xkYWJsZVJlZ2lvbiA9IGZvbGRhYmxlKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChmb2xkYWJsZVJlZ2lvbiAmJiBmb2xkYWJsZVJlZ2lvbi50byA+IGxpbmVCbG9jay5mcm9tKVxuICAgICAgICAgICAgcmV0dXJuIGZvbGRhYmxlUmVnaW9uO1xuICAgICAgICBpZiAoIWxpbmUuZnJvbSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsaW5lID0gdmlldy5saW5lQmxvY2tBdChsaW5lLmZyb20gLSAxKTtcbiAgICB9XG59XG4vKipcblRvZ2dsZSBmb2xkaW5nIGF0IGN1cnNvcnMuIFVuZm9sZHMgaWYgdGhlcmUgaXMgYW4gZXhpc3RpbmcgZm9sZFxuc3RhcnRpbmcgaW4gdGhhdCBsaW5lLCB0cmllcyB0byBmaW5kIGEgZm9sZGFibGUgcmFuZ2UgYXJvdW5kIGl0XG5vdGhlcndpc2UuXG4qL1xuY29uc3QgdG9nZ2xlRm9sZCA9ICh2aWV3KSA9PiB7XG4gICAgbGV0IGVmZmVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBsaW5lIG9mIHNlbGVjdGVkTGluZXModmlldykpIHtcbiAgICAgICAgbGV0IGZvbGRlZCA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChmb2xkZWQpIHtcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaCh1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSwgYW5ub3VuY2VGb2xkKHZpZXcsIGZvbGRlZCwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmb2xkUmFuZ2UgPSBmb2xkYWJsZUNvbnRhaW5lcih2aWV3LCBsaW5lKTtcbiAgICAgICAgICAgIGlmIChmb2xkUmFuZ2UpXG4gICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKGZvbGRFZmZlY3Qub2YoZm9sZFJhbmdlKSwgYW5ub3VuY2VGb2xkKHZpZXcsIGZvbGRSYW5nZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlZmZlY3RzLmxlbmd0aCA+IDApXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBtYXliZUVuYWJsZSh2aWV3LnN0YXRlLCBlZmZlY3RzKSB9KTtcbiAgICByZXR1cm4gISFlZmZlY3RzLmxlbmd0aDtcbn07XG4vKipcbkRlZmF1bHQgZm9sZC1yZWxhdGVkIGtleSBiaW5kaW5ncy5cblxuIC0gQ3RybC1TaGlmdC1bIChDbWQtQWx0LVsgb24gbWFjT1MpOiBbYGZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkQ29kZSkuXG4gLSBDdHJsLVNoaWZ0LV0gKENtZC1BbHQtXSBvbiBtYWNPUyk6IFtgdW5mb2xkQ29kZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UudW5mb2xkQ29kZSkuXG4gLSBDdHJsLUFsdC1bOiBbYGZvbGRBbGxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRBbGwpLlxuIC0gQ3RybC1BbHQtXTogW2B1bmZvbGRBbGxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnVuZm9sZEFsbCkuXG4qL1xuY29uc3QgZm9sZEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJDdHJsLVNoaWZ0LVtcIiwgbWFjOiBcIkNtZC1BbHQtW1wiLCBydW46IGZvbGRDb2RlIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1TaGlmdC1dXCIsIG1hYzogXCJDbWQtQWx0LV1cIiwgcnVuOiB1bmZvbGRDb2RlIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1BbHQtW1wiLCBydW46IGZvbGRBbGwgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1dXCIsIHJ1bjogdW5mb2xkQWxsIH1cbl07XG5jb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICAgIHBsYWNlaG9sZGVyRE9NOiBudWxsLFxuICAgIHByZXBhcmVQbGFjZWhvbGRlcjogbnVsbCxcbiAgICBwbGFjZWhvbGRlclRleHQ6IFwi4oCmXCJcbn07XG5jb25zdCBmb2xkQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZSh2YWx1ZXMpIHsgcmV0dXJuIGNvbWJpbmVDb25maWcodmFsdWVzLCBkZWZhdWx0Q29uZmlnKTsgfVxufSk7XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBjb25maWd1cmVzIGNvZGUgZm9sZGluZy5cbiovXG5mdW5jdGlvbiBjb2RlRm9sZGluZyhjb25maWcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW2ZvbGRTdGF0ZSwgYmFzZVRoZW1lJDFdO1xuICAgIGlmIChjb25maWcpXG4gICAgICAgIHJlc3VsdC5wdXNoKGZvbGRDb25maWcub2YoY29uZmlnKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHdpZGdldFRvRE9NKHZpZXcsIHByZXBhcmVkKSB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNvbmYgPSBzdGF0ZS5mYWNldChmb2xkQ29uZmlnKTtcbiAgICBsZXQgb25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQodmlldy5wb3NBdERPTShldmVudC50YXJnZXQpKTtcbiAgICAgICAgbGV0IGZvbGRlZCA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChmb2xkZWQpXG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdW5mb2xkRWZmZWN0Lm9mKGZvbGRlZCkgfSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICBpZiAoY29uZi5wbGFjZWhvbGRlckRPTSlcbiAgICAgICAgcmV0dXJuIGNvbmYucGxhY2Vob2xkZXJET00odmlldywgb25jbGljaywgcHJlcGFyZWQpO1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGNvbmYucGxhY2Vob2xkZXJUZXh0O1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBzdGF0ZS5waHJhc2UoXCJmb2xkZWQgY29kZVwiKSk7XG4gICAgZWxlbWVudC50aXRsZSA9IHN0YXRlLnBocmFzZShcInVuZm9sZFwiKTtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiY20tZm9sZFBsYWNlaG9sZGVyXCI7XG4gICAgZWxlbWVudC5vbmNsaWNrID0gb25jbGljaztcbiAgICByZXR1cm4gZWxlbWVudDtcbn1cbmNvbnN0IGZvbGRXaWRnZXQgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5yZXBsYWNlKHsgd2lkZ2V0OiAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgICAgIHRvRE9NKHZpZXcpIHsgcmV0dXJuIHdpZGdldFRvRE9NKHZpZXcsIG51bGwpOyB9XG4gICAgfSB9KTtcbmNsYXNzIFByZXBhcmVkRm9sZFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIHRoaXMudmFsdWUgPT0gb3RoZXIudmFsdWU7IH1cbiAgICB0b0RPTSh2aWV3KSB7IHJldHVybiB3aWRnZXRUb0RPTSh2aWV3LCB0aGlzLnZhbHVlKTsgfVxufVxuY29uc3QgZm9sZEd1dHRlckRlZmF1bHRzID0ge1xuICAgIG9wZW5UZXh0OiBcIuKMhFwiLFxuICAgIGNsb3NlZFRleHQ6IFwi4oC6XCIsXG4gICAgbWFya2VyRE9NOiBudWxsLFxuICAgIGRvbUV2ZW50SGFuZGxlcnM6IHt9LFxuICAgIGZvbGRpbmdDaGFuZ2VkOiAoKSA9PiBmYWxzZVxufTtcbmNsYXNzIEZvbGRNYXJrZXIgZXh0ZW5kcyBHdXR0ZXJNYXJrZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgb3Blbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vcGVuID0gb3BlbjtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIHRoaXMuY29uZmlnID09IG90aGVyLmNvbmZpZyAmJiB0aGlzLm9wZW4gPT0gb3RoZXIub3BlbjsgfVxuICAgIHRvRE9NKHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1hcmtlckRPTSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5tYXJrZXJET00odGhpcy5vcGVuKTtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHRoaXMub3BlbiA/IHRoaXMuY29uZmlnLm9wZW5UZXh0IDogdGhpcy5jb25maWcuY2xvc2VkVGV4dDtcbiAgICAgICAgc3Bhbi50aXRsZSA9IHZpZXcuc3RhdGUucGhyYXNlKHRoaXMub3BlbiA/IFwiRm9sZCBsaW5lXCIgOiBcIlVuZm9sZCBsaW5lXCIpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG59XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCByZWdpc3RlcnMgYSBmb2xkIGd1dHRlciwgd2hpY2ggc2hvd3MgYVxuZm9sZCBzdGF0dXMgaW5kaWNhdG9yIGJlZm9yZSBmb2xkYWJsZSBsaW5lcyAod2hpY2ggY2FuIGJlIGNsaWNrZWRcbnRvIGZvbGQgb3IgdW5mb2xkIHRoZSBsaW5lKS5cbiovXG5mdW5jdGlvbiBmb2xkR3V0dGVyKGNvbmZpZyA9IHt9KSB7XG4gICAgbGV0IGZ1bGxDb25maWcgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZvbGRHdXR0ZXJEZWZhdWx0cyksIGNvbmZpZyk7XG4gICAgbGV0IGNhbkZvbGQgPSBuZXcgRm9sZE1hcmtlcihmdWxsQ29uZmlnLCB0cnVlKSwgY2FuVW5mb2xkID0gbmV3IEZvbGRNYXJrZXIoZnVsbENvbmZpZywgZmFsc2UpO1xuICAgIGxldCBtYXJrZXJzID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSB2aWV3LnZpZXdwb3J0LmZyb207XG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMgPSB0aGlzLmJ1aWxkTWFya2Vycyh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fFxuICAgICAgICAgICAgICAgIHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGxhbmd1YWdlKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQobGFuZ3VhZ2UpIHx8XG4gICAgICAgICAgICAgICAgdXBkYXRlLnN0YXJ0U3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgIT0gdXBkYXRlLnN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgc3ludGF4VHJlZSh1cGRhdGUuc3RhcnRTdGF0ZSkgIT0gc3ludGF4VHJlZSh1cGRhdGUuc3RhdGUpIHx8XG4gICAgICAgICAgICAgICAgZnVsbENvbmZpZy5mb2xkaW5nQ2hhbmdlZCh1cGRhdGUpKVxuICAgICAgICAgICAgICAgIHRoaXMubWFya2VycyA9IHRoaXMuYnVpbGRNYXJrZXJzKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICBidWlsZE1hcmtlcnModmlldykge1xuICAgICAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHZpZXcudmlld3BvcnRMaW5lQmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmsgPSBmaW5kRm9sZCh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pID8gY2FuVW5mb2xkXG4gICAgICAgICAgICAgICAgICAgIDogZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKSA/IGNhbkZvbGQgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChtYXJrKVxuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLmFkZChsaW5lLmZyb20sIGxpbmUuZnJvbSwgbWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2goKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCB7IGRvbUV2ZW50SGFuZGxlcnMgfSA9IGZ1bGxDb25maWc7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbWFya2VycyxcbiAgICAgICAgZ3V0dGVyKHtcbiAgICAgICAgICAgIGNsYXNzOiBcImNtLWZvbGRHdXR0ZXJcIixcbiAgICAgICAgICAgIG1hcmtlcnModmlldykgeyB2YXIgX2E7IHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4obWFya2VycykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXJrZXJzKSB8fCBSYW5nZVNldC5lbXB0eTsgfSxcbiAgICAgICAgICAgIGluaXRpYWxTcGFjZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGb2xkTWFya2VyKGZ1bGxDb25maWcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb21FdmVudEhhbmRsZXJzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRvbUV2ZW50SGFuZGxlcnMpLCB7IGNsaWNrOiAodmlldywgbGluZSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbUV2ZW50SGFuZGxlcnMuY2xpY2sgJiYgZG9tRXZlbnRIYW5kbGVycy5jbGljayh2aWV3LCBsaW5lLCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvbGRlZCA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB1bmZvbGRFZmZlY3Qub2YoZm9sZGVkKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGZvbGRhYmxlKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGZvbGRFZmZlY3Qub2YocmFuZ2UpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gfSlcbiAgICAgICAgfSksXG4gICAgICAgIGNvZGVGb2xkaW5nKClcbiAgICBdO1xufVxuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiLmNtLWZvbGRQbGFjZWhvbGRlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZWVlXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2RkZFwiLFxuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIuMmVtXCIsXG4gICAgICAgIG1hcmdpbjogXCIwIDFweFwiLFxuICAgICAgICBwYWRkaW5nOiBcIjAgMXB4XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9LFxuICAgIFwiLmNtLWZvbGRHdXR0ZXIgc3BhblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMCAxcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH1cbn0pO1xuXG4vKipcbkEgaGlnaGxpZ2h0IHN0eWxlIGFzc29jaWF0ZXMgQ1NTIHN0eWxlcyB3aXRoIGhpZ2xpZ2h0aW5nXG5bdGFnc10oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC9kb2NzL3JlZiNoaWdobGlnaHQuVGFnKS5cbiovXG5jbGFzcyBIaWdobGlnaHRTdHlsZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHRhZyBzdHlsZXMgdXNlZCB0byBjcmVhdGUgdGhpcyBoaWdobGlnaHQgc3R5bGUuXG4gICAgKi9cbiAgICBzcGVjcywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgICAgIGxldCBtb2RTcGVjO1xuICAgICAgICBmdW5jdGlvbiBkZWYoc3BlYykge1xuICAgICAgICAgICAgbGV0IGNscyA9IFN0eWxlTW9kdWxlLm5ld05hbWUoKTtcbiAgICAgICAgICAgIChtb2RTcGVjIHx8IChtb2RTcGVjID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW1wiLlwiICsgY2xzXSA9IHNwZWM7XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsbCA9IHR5cGVvZiBvcHRpb25zLmFsbCA9PSBcInN0cmluZ1wiID8gb3B0aW9ucy5hbGwgOiBvcHRpb25zLmFsbCA/IGRlZihvcHRpb25zLmFsbCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHNjb3BlT3B0ID0gb3B0aW9ucy5zY29wZTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlT3B0IGluc3RhbmNlb2YgTGFuZ3VhZ2UgPyAodHlwZSkgPT4gdHlwZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHNjb3BlT3B0LmRhdGFcbiAgICAgICAgICAgIDogc2NvcGVPcHQgPyAodHlwZSkgPT4gdHlwZSA9PSBzY29wZU9wdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHRhZ0hpZ2hsaWdodGVyKHNwZWNzLm1hcChzdHlsZSA9PiAoe1xuICAgICAgICAgICAgdGFnOiBzdHlsZS50YWcsXG4gICAgICAgICAgICBjbGFzczogc3R5bGUuY2xhc3MgfHwgZGVmKE9iamVjdC5hc3NpZ24oe30sIHN0eWxlLCB7IHRhZzogbnVsbCB9KSlcbiAgICAgICAgfSkpLCB7XG4gICAgICAgICAgICBhbGwsXG4gICAgICAgIH0pLnN0eWxlO1xuICAgICAgICB0aGlzLm1vZHVsZSA9IG1vZFNwZWMgPyBuZXcgU3R5bGVNb2R1bGUobW9kU3BlYykgOiBudWxsO1xuICAgICAgICB0aGlzLnRoZW1lVHlwZSA9IG9wdGlvbnMudGhlbWVUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBoaWdobGlnaHRlciBzdHlsZSB0aGF0IGFzc29jaWF0ZXMgdGhlIGdpdmVuIHN0eWxlcyB0b1xuICAgIHRoZSBnaXZlbiB0YWdzLiBUaGUgc3BlY3MgbXVzdCBiZSBvYmplY3RzIHRoYXQgaG9sZCBhIHN0eWxlIHRhZ1xuICAgIG9yIGFycmF5IG9mIHRhZ3MgaW4gdGhlaXIgYHRhZ2AgcHJvcGVydHksIGFuZCBlaXRoZXIgYSBzaW5nbGVcbiAgICBgY2xhc3NgIHByb3BlcnR5IHByb3ZpZGluZyBhIHN0YXRpYyBDU1MgY2xhc3MgKGZvciBoaWdobGlnaHRlclxuICAgIHRoYXQgcmVseSBvbiBleHRlcm5hbCBzdHlsaW5nKSwgb3IgYVxuICAgIFtgc3R5bGUtbW9kYF0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pLXN0eWxlXG4gICAgc2V0IG9mIENTUyBwcm9wZXJ0aWVzICh3aGljaCBkZWZpbmUgdGhlIHN0eWxpbmcgZm9yIHRob3NlIHRhZ3MpLlxuICAgIFxuICAgIFRoZSBDU1MgcnVsZXMgY3JlYXRlZCBmb3IgYSBoaWdobGlnaHRlciB3aWxsIGJlIGVtaXR0ZWQgaW4gdGhlXG4gICAgb3JkZXIgb2YgdGhlIHNwZWMncyBwcm9wZXJ0aWVzLiBUaGF0IG1lYW5zIHRoYXQgZm9yIGVsZW1lbnRzIHRoYXRcbiAgICBoYXZlIG11bHRpcGxlIHRhZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZW0sIHN0eWxlcyBkZWZpbmVkIGZ1cnRoZXJcbiAgICBkb3duIGluIHRoZSBsaXN0IHdpbGwgaGF2ZSBhIGhpZ2hlciBDU1MgcHJlY2VkZW5jZSB0aGFuIHN0eWxlc1xuICAgIGRlZmluZWQgZWFybGllci5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlY3MsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaWdobGlnaHRTdHlsZShzcGVjcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgfVxufVxuY29uc3QgaGlnaGxpZ2h0ZXJGYWNldCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGZhbGxiYWNrSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKHZhbHVlcykgeyByZXR1cm4gdmFsdWVzLmxlbmd0aCA/IFt2YWx1ZXNbMF1dIDogbnVsbDsgfVxufSk7XG5mdW5jdGlvbiBnZXRIaWdobGlnaHRlcnMoc3RhdGUpIHtcbiAgICBsZXQgbWFpbiA9IHN0YXRlLmZhY2V0KGhpZ2hsaWdodGVyRmFjZXQpO1xuICAgIHJldHVybiBtYWluLmxlbmd0aCA/IG1haW4gOiBzdGF0ZS5mYWNldChmYWxsYmFja0hpZ2hsaWdodGVyKTtcbn1cbi8qKlxuV3JhcCBhIGhpZ2hsaWdodGVyIGluIGFuIGVkaXRvciBleHRlbnNpb24gdGhhdCB1c2VzIGl0IHRvIGFwcGx5XG5zeW50YXggaGlnaGxpZ2h0aW5nIHRvIHRoZSBlZGl0b3IgY29udGVudC5cblxuV2hlbiBtdWx0aXBsZSAobm9uLWZhbGxiYWNrKSBzdHlsZXMgYXJlIHByb3ZpZGVkLCB0aGUgc3R5bGluZ1xuYXBwbGllZCBpcyB0aGUgdW5pb24gb2YgdGhlIGNsYXNzZXMgdGhleSBlbWl0LlxuKi9cbmZ1bmN0aW9uIHN5bnRheEhpZ2hsaWdodGluZyhoaWdobGlnaHRlciwgb3B0aW9ucykge1xuICAgIGxldCBleHQgPSBbdHJlZUhpZ2hsaWdodGVyXSwgdGhlbWVUeXBlO1xuICAgIGlmIChoaWdobGlnaHRlciBpbnN0YW5jZW9mIEhpZ2hsaWdodFN0eWxlKSB7XG4gICAgICAgIGlmIChoaWdobGlnaHRlci5tb2R1bGUpXG4gICAgICAgICAgICBleHQucHVzaChFZGl0b3JWaWV3LnN0eWxlTW9kdWxlLm9mKGhpZ2hsaWdodGVyLm1vZHVsZSkpO1xuICAgICAgICB0aGVtZVR5cGUgPSBoaWdobGlnaHRlci50aGVtZVR5cGU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZmFsbGJhY2spXG4gICAgICAgIGV4dC5wdXNoKGZhbGxiYWNrSGlnaGxpZ2h0ZXIub2YoaGlnaGxpZ2h0ZXIpKTtcbiAgICBlbHNlIGlmICh0aGVtZVR5cGUpXG4gICAgICAgIGV4dC5wdXNoKGhpZ2hsaWdodGVyRmFjZXQuY29tcHV0ZU4oW0VkaXRvclZpZXcuZGFya1RoZW1lXSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZhY2V0KEVkaXRvclZpZXcuZGFya1RoZW1lKSA9PSAodGhlbWVUeXBlID09IFwiZGFya1wiKSA/IFtoaWdobGlnaHRlcl0gOiBbXTtcbiAgICAgICAgfSkpO1xuICAgIGVsc2VcbiAgICAgICAgZXh0LnB1c2goaGlnaGxpZ2h0ZXJGYWNldC5vZihoaWdobGlnaHRlcikpO1xuICAgIHJldHVybiBleHQ7XG59XG4vKipcblJldHVybnMgdGhlIENTUyBjbGFzc2VzIChpZiBhbnkpIHRoYXQgdGhlIGhpZ2hsaWdodGVycyBhY3RpdmUgaW5cbnRoZSBzdGF0ZSB3b3VsZCBhc3NpZ24gdG8gdGhlIGdpdmVuIHN0eWxlXG5bdGFnc10oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC9kb2NzL3JlZiNoaWdobGlnaHQuVGFnKSBhbmRcbihvcHRpb25hbCkgbGFuZ3VhZ2VcbltzY29wZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5IaWdobGlnaHRTdHlsZV5kZWZpbmVeb3B0aW9ucy5zY29wZSkuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0aW5nRm9yKHN0YXRlLCB0YWdzLCBzY29wZSkge1xuICAgIGxldCBoaWdobGlnaHRlcnMgPSBnZXRIaWdobGlnaHRlcnMoc3RhdGUpO1xuICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgIGlmIChoaWdobGlnaHRlcnMpXG4gICAgICAgIGZvciAobGV0IGhpZ2hsaWdodGVyIG9mIGhpZ2hsaWdodGVycykge1xuICAgICAgICAgICAgaWYgKCFoaWdobGlnaHRlci5zY29wZSB8fCBzY29wZSAmJiBoaWdobGlnaHRlci5zY29wZShzY29wZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2xzID0gaGlnaGxpZ2h0ZXIuc3R5bGUodGFncyk7XG4gICAgICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID8gcmVzdWx0ICsgXCIgXCIgKyBjbHMgOiBjbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgVHJlZUhpZ2hsaWdodGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMubWFya0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy50cmVlID0gc3ludGF4VHJlZSh2aWV3LnN0YXRlKTtcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuYnVpbGREZWNvKHZpZXcsIGdldEhpZ2hsaWdodGVycyh2aWV3LnN0YXRlKSk7XG4gICAgICAgIHRoaXMuZGVjb3JhdGVkVG8gPSB2aWV3LnZpZXdwb3J0LnRvO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCB0cmVlID0gc3ludGF4VHJlZSh1cGRhdGUuc3RhdGUpLCBoaWdobGlnaHRlcnMgPSBnZXRIaWdobGlnaHRlcnModXBkYXRlLnN0YXRlKTtcbiAgICAgICAgbGV0IHN0eWxlQ2hhbmdlID0gaGlnaGxpZ2h0ZXJzICE9IGdldEhpZ2hsaWdodGVycyh1cGRhdGUuc3RhcnRTdGF0ZSk7XG4gICAgICAgIGxldCB7IHZpZXdwb3J0IH0gPSB1cGRhdGUudmlldywgZGVjb3JhdGVkVG9NYXBwZWQgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5kZWNvcmF0ZWRUbywgMSk7XG4gICAgICAgIGlmICh0cmVlLmxlbmd0aCA8IHZpZXdwb3J0LnRvICYmICFzdHlsZUNoYW5nZSAmJiB0cmVlLnR5cGUgPT0gdGhpcy50cmVlLnR5cGUgJiYgZGVjb3JhdGVkVG9NYXBwZWQgPj0gdmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRpb25zLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRlZFRvID0gZGVjb3JhdGVkVG9NYXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJlZSAhPSB0aGlzLnRyZWUgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fCBzdHlsZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy50cmVlID0gdHJlZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmJ1aWxkRGVjbyh1cGRhdGUudmlldywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGVkVG8gPSB2aWV3cG9ydC50bztcbiAgICAgICAgfVxuICAgIH1cbiAgICBidWlsZERlY28odmlldywgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGlmICghaGlnaGxpZ2h0ZXJzIHx8ICF0aGlzLnRyZWUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiB2aWV3LnZpc2libGVSYW5nZXMpIHtcbiAgICAgICAgICAgIGhpZ2hsaWdodFRyZWUodGhpcy50cmVlLCBoaWdobGlnaHRlcnMsIChmcm9tLCB0bywgc3R5bGUpID0+IHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFkZChmcm9tLCB0bywgdGhpcy5tYXJrQ2FjaGVbc3R5bGVdIHx8ICh0aGlzLm1hcmtDYWNoZVtzdHlsZV0gPSBEZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogc3R5bGUgfSkpKTtcbiAgICAgICAgICAgIH0sIGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2goKTtcbiAgICB9XG59XG5jb25zdCB0cmVlSGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoKC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhUcmVlSGlnaGxpZ2h0ZXIsIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KSk7XG4vKipcbkEgZGVmYXVsdCBoaWdobGlnaHQgc3R5bGUgKHdvcmtzIHdlbGwgd2l0aCBsaWdodCB0aGVtZXMpLlxuKi9cbmNvbnN0IGRlZmF1bHRIaWdobGlnaHRTdHlsZSA9IC8qQF9fUFVSRV9fKi9IaWdobGlnaHRTdHlsZS5kZWZpbmUoW1xuICAgIHsgdGFnOiB0YWdzLm1ldGEsXG4gICAgICAgIGNvbG9yOiBcIiM0MDQ3NDBcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpbmssXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaGVhZGluZyxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsXG4gICAgICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9LFxuICAgIHsgdGFnOiB0YWdzLnN0cm9uZyxcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpa2V0aHJvdWdoLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJsaW5lLXRocm91Z2hcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmtleXdvcmQsXG4gICAgICAgIGNvbG9yOiBcIiM3MDhcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5hdG9tLCB0YWdzLmJvb2wsIHRhZ3MudXJsLCB0YWdzLmNvbnRlbnRTZXBhcmF0b3IsIHRhZ3MubGFiZWxOYW1lXSxcbiAgICAgICAgY29sb3I6IFwiIzIxOVwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLmxpdGVyYWwsIHRhZ3MuaW5zZXJ0ZWRdLFxuICAgICAgICBjb2xvcjogXCIjMTY0XCIgfSxcbiAgICB7IHRhZzogW3RhZ3Muc3RyaW5nLCB0YWdzLmRlbGV0ZWRdLFxuICAgICAgICBjb2xvcjogXCIjYTExXCIgfSxcbiAgICB7IHRhZzogW3RhZ3MucmVnZXhwLCB0YWdzLmVzY2FwZSwgLypAX19QVVJFX18qL3RhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLFxuICAgICAgICBjb2xvcjogXCIjZTQwXCIgfSxcbiAgICB7IHRhZzogLypAX19QVVJFX18qL3RhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksXG4gICAgICAgIGNvbG9yOiBcIiMwMGZcIiB9LFxuICAgIHsgdGFnOiAvKkBfX1BVUkVfXyovdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksXG4gICAgICAgIGNvbG9yOiBcIiMzMGFcIiB9LFxuICAgIHsgdGFnOiBbdGFncy50eXBlTmFtZSwgdGFncy5uYW1lc3BhY2VdLFxuICAgICAgICBjb2xvcjogXCIjMDg1XCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsXG4gICAgICAgIGNvbG9yOiBcIiMxNjdcIiB9LFxuICAgIHsgdGFnOiBbLypAX19QVVJFX18qL3RhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIHRhZ3MubWFjcm9OYW1lXSxcbiAgICAgICAgY29sb3I6IFwiIzI1NlwiIH0sXG4gICAgeyB0YWc6IC8qQF9fUFVSRV9fKi90YWdzLmRlZmluaXRpb24odGFncy5wcm9wZXJ0eU5hbWUpLFxuICAgICAgICBjb2xvcjogXCIjMDBjXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LFxuICAgICAgICBjb2xvcjogXCIjOTQwXCIgfSxcbiAgICB7IHRhZzogdGFncy5pbnZhbGlkLFxuICAgICAgICBjb2xvcjogXCIjZjAwXCIgfVxuXSk7XG5cbmNvbnN0IGJhc2VUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCImLmNtLWZvY3VzZWQgLmNtLW1hdGNoaW5nQnJhY2tldFwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjMzI4YzgyNTJcIiB9LFxuICAgIFwiJi5jbS1mb2N1c2VkIC5jbS1ub25tYXRjaGluZ0JyYWNrZXRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiI2JiNTU1NTQ0XCIgfVxufSk7XG5jb25zdCBEZWZhdWx0U2NhbkRpc3QgPSAxMDAwMCwgRGVmYXVsdEJyYWNrZXRzID0gXCIoKVtde31cIjtcbmNvbnN0IGJyYWNrZXRNYXRjaGluZ0NvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBhZnRlckN1cnNvcjogdHJ1ZSxcbiAgICAgICAgICAgIGJyYWNrZXRzOiBEZWZhdWx0QnJhY2tldHMsXG4gICAgICAgICAgICBtYXhTY2FuRGlzdGFuY2U6IERlZmF1bHRTY2FuRGlzdCxcbiAgICAgICAgICAgIHJlbmRlck1hdGNoOiBkZWZhdWx0UmVuZGVyTWF0Y2hcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCBtYXRjaGluZ01hcmsgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20tbWF0Y2hpbmdCcmFja2V0XCIgfSksIG5vbm1hdGNoaW5nTWFyayA9IC8qQF9fUFVSRV9fKi9EZWNvcmF0aW9uLm1hcmsoeyBjbGFzczogXCJjbS1ub25tYXRjaGluZ0JyYWNrZXRcIiB9KTtcbmZ1bmN0aW9uIGRlZmF1bHRSZW5kZXJNYXRjaChtYXRjaCkge1xuICAgIGxldCBkZWNvcmF0aW9ucyA9IFtdO1xuICAgIGxldCBtYXJrID0gbWF0Y2gubWF0Y2hlZCA/IG1hdGNoaW5nTWFyayA6IG5vbm1hdGNoaW5nTWFyaztcbiAgICBkZWNvcmF0aW9ucy5wdXNoKG1hcmsucmFuZ2UobWF0Y2guc3RhcnQuZnJvbSwgbWF0Y2guc3RhcnQudG8pKTtcbiAgICBpZiAobWF0Y2guZW5kKVxuICAgICAgICBkZWNvcmF0aW9ucy5wdXNoKG1hcmsucmFuZ2UobWF0Y2guZW5kLmZyb20sIG1hdGNoLmVuZC50bykpO1xuICAgIHJldHVybiBkZWNvcmF0aW9ucztcbn1cbmNvbnN0IGJyYWNrZXRNYXRjaGluZ1N0YXRlID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBEZWNvcmF0aW9uLm5vbmU7IH0sXG4gICAgdXBkYXRlKGRlY28sIHRyKSB7XG4gICAgICAgIGlmICghdHIuZG9jQ2hhbmdlZCAmJiAhdHIuc2VsZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGRlY287XG4gICAgICAgIGxldCBkZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgY29uZmlnID0gdHIuc3RhdGUuZmFjZXQoYnJhY2tldE1hdGNoaW5nQ29uZmlnKTtcbiAgICAgICAgZm9yIChsZXQgcmFuZ2Ugb2YgdHIuc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQsIC0xLCBjb25maWcpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLmhlYWQgPiAwICYmIG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQgLSAxLCAxLCBjb25maWcpKVxuICAgICAgICAgICAgICAgIHx8IChjb25maWcuYWZ0ZXJDdXJzb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgKG1hdGNoQnJhY2tldHModHIuc3RhdGUsIHJhbmdlLmhlYWQsIDEsIGNvbmZpZykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYW5nZS5oZWFkIDwgdHIuc3RhdGUuZG9jLmxlbmd0aCAmJiBtYXRjaEJyYWNrZXRzKHRyLnN0YXRlLCByYW5nZS5oZWFkICsgMSwgLTEsIGNvbmZpZykpKSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICAgICAgZGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucy5jb25jYXQoY29uZmlnLnJlbmRlck1hdGNoKG1hdGNoLCB0ci5zdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvcmF0aW9ucywgdHJ1ZSk7XG4gICAgfSxcbiAgICBwcm92aWRlOiBmID0+IEVkaXRvclZpZXcuZGVjb3JhdGlvbnMuZnJvbShmKVxufSk7XG5jb25zdCBicmFja2V0TWF0Y2hpbmdVbmlxdWUgPSBbXG4gICAgYnJhY2tldE1hdGNoaW5nU3RhdGUsXG4gICAgYmFzZVRoZW1lXG5dO1xuLyoqXG5DcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBicmFja2V0IG1hdGNoaW5nLiBXaGVuZXZlciB0aGVcbmN1cnNvciBpcyBuZXh0IHRvIGEgYnJhY2tldCwgdGhhdCBicmFja2V0IGFuZCB0aGUgb25lIGl0IG1hdGNoZXNcbmFyZSBoaWdobGlnaHRlZC4gT3IsIHdoZW4gbm8gbWF0Y2hpbmcgYnJhY2tldCBpcyBmb3VuZCwgYW5vdGhlclxuaGlnaGxpZ2h0aW5nIHN0eWxlIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhpcy5cbiovXG5mdW5jdGlvbiBicmFja2V0TWF0Y2hpbmcoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW2JyYWNrZXRNYXRjaGluZ0NvbmZpZy5vZihjb25maWcpLCBicmFja2V0TWF0Y2hpbmdVbmlxdWVdO1xufVxuLyoqXG5XaGVuIGxhcmdlciBzeW50YXggbm9kZXMsIHN1Y2ggYXMgSFRNTCB0YWdzLCBhcmUgbWFya2VkIGFzXG5vcGVuaW5nL2Nsb3NpbmcsIGl0IGNhbiBiZSBhIGJpdCBtZXNzeSB0byB0cmVhdCB0aGUgd2hvbGUgbm9kZSBhc1xuYSBtYXRjaGFibGUgYnJhY2tldC4gVGhpcyBub2RlIHByb3AgYWxsb3dzIHlvdSB0byBkZWZpbmUsIGZvciBzdWNoXG5hIG5vZGUsIGEg4oCYaGFuZGxl4oCZ4oCUdGhlIHBhcnQgb2YgdGhlIG5vZGUgdGhhdCBpcyBoaWdobGlnaHRlZCwgYW5kXG50aGF0IHRoZSBjdXJzb3IgbXVzdCBiZSBvbiB0byBhY3RpdmF0ZSBoaWdobGlnaHRpbmcgaW4gdGhlIGZpcnN0XG5wbGFjZS5cbiovXG5jb25zdCBicmFja2V0TWF0Y2hpbmdIYW5kbGUgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG5mdW5jdGlvbiBtYXRjaGluZ05vZGVzKG5vZGUsIGRpciwgYnJhY2tldHMpIHtcbiAgICBsZXQgYnlQcm9wID0gbm9kZS5wcm9wKGRpciA8IDAgPyBOb2RlUHJvcC5vcGVuZWRCeSA6IE5vZGVQcm9wLmNsb3NlZEJ5KTtcbiAgICBpZiAoYnlQcm9wKVxuICAgICAgICByZXR1cm4gYnlQcm9wO1xuICAgIGlmIChub2RlLm5hbWUubGVuZ3RoID09IDEpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gYnJhY2tldHMuaW5kZXhPZihub2RlLm5hbWUpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSAmJiBpbmRleCAlIDIgPT0gKGRpciA8IDAgPyAxIDogMCkpXG4gICAgICAgICAgICByZXR1cm4gW2JyYWNrZXRzW2luZGV4ICsgZGlyXV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZmluZEhhbmRsZShub2RlKSB7XG4gICAgbGV0IGhhc0hhbmRsZSA9IG5vZGUudHlwZS5wcm9wKGJyYWNrZXRNYXRjaGluZ0hhbmRsZSk7XG4gICAgcmV0dXJuIGhhc0hhbmRsZSA/IGhhc0hhbmRsZShub2RlLm5vZGUpIDogbm9kZTtcbn1cbi8qKlxuRmluZCB0aGUgbWF0Y2hpbmcgYnJhY2tldCBmb3IgdGhlIHRva2VuIGF0IGBwb3NgLCBzY2FubmluZ1xuZGlyZWN0aW9uIGBkaXJgLiBPbmx5IHRoZSBgYnJhY2tldHNgIGFuZCBgbWF4U2NhbkRpc3RhbmNlYFxucHJvcGVydGllcyBhcmUgdXNlZCBmcm9tIGBjb25maWdgLCBpZiBnaXZlbi4gUmV0dXJucyBudWxsIGlmIG5vXG5icmFja2V0IHdhcyBmb3VuZCBhdCBgcG9zYCwgb3IgYSBtYXRjaCByZXN1bHQgb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcywgZGlyLCBjb25maWcgPSB7fSkge1xuICAgIGxldCBtYXhTY2FuRGlzdGFuY2UgPSBjb25maWcubWF4U2NhbkRpc3RhbmNlIHx8IERlZmF1bHRTY2FuRGlzdCwgYnJhY2tldHMgPSBjb25maWcuYnJhY2tldHMgfHwgRGVmYXVsdEJyYWNrZXRzO1xuICAgIGxldCB0cmVlID0gc3ludGF4VHJlZShzdGF0ZSksIG5vZGUgPSB0cmVlLnJlc29sdmVJbm5lcihwb3MsIGRpcik7XG4gICAgZm9yIChsZXQgY3VyID0gbm9kZTsgY3VyOyBjdXIgPSBjdXIucGFyZW50KSB7XG4gICAgICAgIGxldCBtYXRjaGVzID0gbWF0Y2hpbmdOb2RlcyhjdXIudHlwZSwgZGlyLCBicmFja2V0cyk7XG4gICAgICAgIGlmIChtYXRjaGVzICYmIGN1ci5mcm9tIDwgY3VyLnRvKSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlID0gZmluZEhhbmRsZShjdXIpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZSAmJiAoZGlyID4gMCA/IHBvcyA+PSBoYW5kbGUuZnJvbSAmJiBwb3MgPCBoYW5kbGUudG8gOiBwb3MgPiBoYW5kbGUuZnJvbSAmJiBwb3MgPD0gaGFuZGxlLnRvKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hNYXJrZWRCcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIGN1ciwgaGFuZGxlLCBtYXRjaGVzLCBicmFja2V0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoUGxhaW5CcmFja2V0cyhzdGF0ZSwgcG9zLCBkaXIsIHRyZWUsIG5vZGUudHlwZSwgbWF4U2NhbkRpc3RhbmNlLCBicmFja2V0cyk7XG59XG5mdW5jdGlvbiBtYXRjaE1hcmtlZEJyYWNrZXRzKF9zdGF0ZSwgX3BvcywgZGlyLCB0b2tlbiwgaGFuZGxlLCBtYXRjaGluZywgYnJhY2tldHMpIHtcbiAgICBsZXQgcGFyZW50ID0gdG9rZW4ucGFyZW50LCBmaXJzdFRva2VuID0geyBmcm9tOiBoYW5kbGUuZnJvbSwgdG86IGhhbmRsZS50byB9O1xuICAgIGxldCBkZXB0aCA9IDAsIGN1cnNvciA9IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jdXJzb3IoKTtcbiAgICBpZiAoY3Vyc29yICYmIChkaXIgPCAwID8gY3Vyc29yLmNoaWxkQmVmb3JlKHRva2VuLmZyb20pIDogY3Vyc29yLmNoaWxkQWZ0ZXIodG9rZW4udG8pKSlcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGRpciA8IDAgPyBjdXJzb3IudG8gPD0gdG9rZW4uZnJvbSA6IGN1cnNvci5mcm9tID49IHRva2VuLnRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDAgJiYgbWF0Y2hpbmcuaW5kZXhPZihjdXJzb3IudHlwZS5uYW1lKSA+IC0xICYmIGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRIYW5kbGUgPSBmaW5kSGFuZGxlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBmaXJzdFRva2VuLCBlbmQ6IGVuZEhhbmRsZSA/IHsgZnJvbTogZW5kSGFuZGxlLmZyb20sIHRvOiBlbmRIYW5kbGUudG8gfSA6IHVuZGVmaW5lZCwgbWF0Y2hlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCBkaXIsIGJyYWNrZXRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCAtZGlyLCBicmFja2V0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmRIYW5kbGUgPSBmaW5kSGFuZGxlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmaXJzdFRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZW5kSGFuZGxlICYmIGVuZEhhbmRsZS5mcm9tIDwgZW5kSGFuZGxlLnRvID8geyBmcm9tOiBlbmRIYW5kbGUuZnJvbSwgdG86IGVuZEhhbmRsZS50byB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaXIgPCAwID8gY3Vyc29yLnByZXZTaWJsaW5nKCkgOiBjdXJzb3IubmV4dFNpYmxpbmcoKSk7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IGZpcnN0VG9rZW4sIG1hdGNoZWQ6IGZhbHNlIH07XG59XG5mdW5jdGlvbiBtYXRjaFBsYWluQnJhY2tldHMoc3RhdGUsIHBvcywgZGlyLCB0cmVlLCB0b2tlblR5cGUsIG1heFNjYW5EaXN0YW5jZSwgYnJhY2tldHMpIHtcbiAgICBsZXQgc3RhcnRDaCA9IGRpciA8IDAgPyBzdGF0ZS5zbGljZURvYyhwb3MgLSAxLCBwb3MpIDogc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyAxKTtcbiAgICBsZXQgYnJhY2tldCA9IGJyYWNrZXRzLmluZGV4T2Yoc3RhcnRDaCk7XG4gICAgaWYgKGJyYWNrZXQgPCAwIHx8IChicmFja2V0ICUgMiA9PSAwKSAhPSAoZGlyID4gMCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBzdGFydFRva2VuID0geyBmcm9tOiBkaXIgPCAwID8gcG9zIC0gMSA6IHBvcywgdG86IGRpciA+IDAgPyBwb3MgKyAxIDogcG9zIH07XG4gICAgbGV0IGl0ZXIgPSBzdGF0ZS5kb2MuaXRlclJhbmdlKHBvcywgZGlyID4gMCA/IHN0YXRlLmRvYy5sZW5ndGggOiAwKSwgZGVwdGggPSAwO1xuICAgIGZvciAobGV0IGRpc3RhbmNlID0gMDsgIShpdGVyLm5leHQoKSkuZG9uZSAmJiBkaXN0YW5jZSA8PSBtYXhTY2FuRGlzdGFuY2U7KSB7XG4gICAgICAgIGxldCB0ZXh0ID0gaXRlci52YWx1ZTtcbiAgICAgICAgaWYgKGRpciA8IDApXG4gICAgICAgICAgICBkaXN0YW5jZSArPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGJhc2VQb3MgPSBwb3MgKyBkaXN0YW5jZSAqIGRpcjtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gZGlyID4gMCA/IDAgOiB0ZXh0Lmxlbmd0aCAtIDEsIGVuZCA9IGRpciA+IDAgPyB0ZXh0Lmxlbmd0aCA6IC0xOyBwb3MgIT0gZW5kOyBwb3MgKz0gZGlyKSB7XG4gICAgICAgICAgICBsZXQgZm91bmQgPSBicmFja2V0cy5pbmRleE9mKHRleHRbcG9zXSk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPCAwIHx8IHRyZWUucmVzb2x2ZUlubmVyKGJhc2VQb3MgKyBwb3MsIDEpLnR5cGUgIT0gdG9rZW5UeXBlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKChmb3VuZCAlIDIgPT0gMCkgPT0gKGRpciA+IDApKSB7XG4gICAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRlcHRoID09IDEpIHsgLy8gQ2xvc2luZ1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydFRva2VuLCBlbmQ6IHsgZnJvbTogYmFzZVBvcyArIHBvcywgdG86IGJhc2VQb3MgKyBwb3MgKyAxIH0sIG1hdGNoZWQ6IChmb3VuZCA+PiAxKSA9PSAoYnJhY2tldCA+PiAxKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gaXRlci5kb25lID8geyBzdGFydDogc3RhcnRUb2tlbiwgbWF0Y2hlZDogZmFsc2UgfSA6IG51bGw7XG59XG5cbi8vIENvdW50cyB0aGUgY29sdW1uIG9mZnNldCBpbiBhIHN0cmluZywgdGFraW5nIHRhYnMgaW50byBhY2NvdW50LlxuLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbmZ1bmN0aW9uIGNvdW50Q29sKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4ID0gMCwgc3RhcnRWYWx1ZSA9IDApIHtcbiAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RyaW5nLnNlYXJjaCgvW15cXHNcXHUwMGEwXS8pO1xuICAgICAgICBpZiAoZW5kID09IC0xKVxuICAgICAgICAgICAgZW5kID0gc3RyaW5nLmxlbmd0aDtcbiAgICB9XG4gICAgbGV0IG4gPSBzdGFydFZhbHVlO1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkpXG4gICAgICAgICAgICBuICs9IHRhYlNpemUgLSAobiAlIHRhYlNpemUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBuKys7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG5FbmNhcHN1bGF0ZXMgYSBzaW5nbGUgbGluZSBvZiBpbnB1dC4gR2l2ZW4gdG8gc3RyZWFtIHN5bnRheCBjb2RlLFxud2hpY2ggdXNlcyBpdCB0byB0b2tlbml6ZSB0aGUgY29udGVudC5cbiovXG5jbGFzcyBTdHJpbmdTdHJlYW0ge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIHN0cmVhbS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBsaW5lLlxuICAgICovXG4gICAgc3RyaW5nLCB0YWJTaXplLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBpbmRlbnQgdW5pdCBzaXplLlxuICAgICovXG4gICAgaW5kZW50VW5pdCwgb3ZlcnJpZGVJbmRlbnQpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemU7XG4gICAgICAgIHRoaXMuaW5kZW50VW5pdCA9IGluZGVudFVuaXQ7XG4gICAgICAgIHRoaXMub3ZlcnJpZGVJbmRlbnQgPSBvdmVycmlkZUluZGVudDtcbiAgICAgICAgLyoqXG4gICAgICAgIFRoZSBjdXJyZW50IHBvc2l0aW9uIG9uIHRoZSBsaW5lLlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgdG9rZW4uXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFRydWUgaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBlb2woKSB7IHJldHVybiB0aGlzLnBvcyA+PSB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICAvKipcbiAgICBUcnVlIGlmIHdlIGFyZSBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBzb2woKSB7IHJldHVybiB0aGlzLnBvcyA9PSAwOyB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBuZXh0IGNvZGUgdW5pdCBhZnRlciB0aGUgY3VycmVudCBwb3NpdGlvbiwgb3IgdW5kZWZpbmVkXG4gICAgaWYgd2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIHBlZWsoKSB7IHJldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpIHx8IHVuZGVmaW5lZDsgfVxuICAgIC8qKlxuICAgIFJlYWQgdGhlIG5leHQgY29kZSB1bml0IGFuZCBhZHZhbmNlIGB0aGlzLnBvc2AuXG4gICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5wb3MgPCB0aGlzLnN0cmluZy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXRjaCB0aGUgbmV4dCBjaGFyYWN0ZXIgYWdhaW5zdCB0aGUgZ2l2ZW4gc3RyaW5nLCByZWd1bGFyXG4gICAgZXhwcmVzc2lvbiwgb3IgcHJlZGljYXRlLiBDb25zdW1lIGFuZCByZXR1cm4gaXQgaWYgaXQgbWF0Y2hlcy5cbiAgICAqL1xuICAgIGVhdChtYXRjaCkge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpO1xuICAgICAgICBsZXQgb2s7XG4gICAgICAgIGlmICh0eXBlb2YgbWF0Y2ggPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIG9rID0gY2ggPT0gbWF0Y2g7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG9rID0gY2ggJiYgKG1hdGNoIGluc3RhbmNlb2YgUmVnRXhwID8gbWF0Y2gudGVzdChjaCkgOiBtYXRjaChjaCkpO1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICAgICsrdGhpcy5wb3M7XG4gICAgICAgICAgICByZXR1cm4gY2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ29udGludWUgbWF0Y2hpbmcgY2hhcmFjdGVycyB0aGF0IG1hdGNoIHRoZSBnaXZlbiBzdHJpbmcsXG4gICAgcmVndWxhciBleHByZXNzaW9uLCBvciBwcmVkaWNhdGUgZnVuY3Rpb24uIFJldHVybiB0cnVlIGlmIGFueVxuICAgIGNoYXJhY3RlcnMgd2VyZSBjb25zdW1lZC5cbiAgICAqL1xuICAgIGVhdFdoaWxlKG1hdGNoKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB3aGlsZSAodGhpcy5lYXQobWF0Y2gpKSB7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbnN1bWUgd2hpdGVzcGFjZSBhaGVhZCBvZiBgdGhpcy5wb3NgLiBSZXR1cm4gdHJ1ZSBpZiBhbnkgd2FzXG4gICAgZm91bmQuXG4gICAgKi9cbiAgICBlYXRTcGFjZSgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHdoaWxlICgvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpKVxuICAgICAgICAgICAgKyt0aGlzLnBvcztcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICAqL1xuICAgIHNraXBUb0VuZCgpIHsgdGhpcy5wb3MgPSB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIGRpcmVjdGx5IGJlZm9yZSB0aGUgZ2l2ZW4gY2hhcmFjdGVyLCBpZiBmb3VuZCBvbiB0aGVcbiAgICBjdXJyZW50IGxpbmUuXG4gICAgKi9cbiAgICBza2lwVG8oY2gpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpO1xuICAgICAgICBpZiAoZm91bmQgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBmb3VuZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYmFjayBgbmAgY2hhcmFjdGVycy5cbiAgICAqL1xuICAgIGJhY2tVcChuKSB7IHRoaXMucG9zIC09IG47IH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGNvbHVtbiBwb3NpdGlvbiBhdCBgdGhpcy5wb3NgLlxuICAgICovXG4gICAgY29sdW1uKCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q29sdW1uUG9zIDwgdGhpcy5zdGFydCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSBjb3VudENvbCh0aGlzLnN0cmluZywgdGhpcy5zdGFydCwgdGhpcy50YWJTaXplLCB0aGlzLmxhc3RDb2x1bW5Qb3MsIHRoaXMubGFzdENvbHVtblZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbHVtblZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGluZGVudGF0aW9uIGNvbHVtbiBvZiB0aGUgY3VycmVudCBsaW5lLlxuICAgICovXG4gICAgaW5kZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMub3ZlcnJpZGVJbmRlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvdW50Q29sKHRoaXMuc3RyaW5nLCBudWxsLCB0aGlzLnRhYlNpemUpO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXRjaCB0aGUgaW5wdXQgYWdhaW5zdCB0aGUgZ2l2ZW4gc3RyaW5nIG9yIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgICh3aGljaCBzaG91bGQgc3RhcnQgd2l0aCBhIGBeYCkuIFJldHVybiB0cnVlIG9yIHRoZSByZWdleHAgbWF0Y2hcbiAgICBpZiBpdCBtYXRjaGVzLlxuICAgIFxuICAgIFVubGVzcyBgY29uc3VtZWAgaXMgc2V0IHRvIGBmYWxzZWAsIHRoaXMgd2lsbCBtb3ZlIGB0aGlzLnBvc2BcbiAgICBwYXN0IHRoZSBtYXRjaGVkIHRleHQuXG4gICAgXG4gICAgV2hlbiBtYXRjaGluZyBhIHN0cmluZyBgY2FzZUluc2Vuc2l0aXZlYCBjYW4gYmUgc2V0IHRvIHRydWUgdG9cbiAgICBtYWtlIHRoZSBtYXRjaCBjYXNlLWluc2Vuc2l0aXZlLlxuICAgICovXG4gICAgbWF0Y2gocGF0dGVybiwgY29uc3VtZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF0dGVybiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBsZXQgY2FzZWQgPSAoc3RyKSA9PiBjYXNlSW5zZW5zaXRpdmUgPyBzdHIudG9Mb3dlckNhc2UoKSA6IHN0cjtcbiAgICAgICAgICAgIGxldCBzdWJzdHIgPSB0aGlzLnN0cmluZy5zdWJzdHIodGhpcy5wb3MsIHBhdHRlcm4ubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChjYXNlZChzdWJzdHIpID09IGNhc2VkKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN1bWUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgY3VycmVudCB0b2tlbi5cbiAgICAqL1xuICAgIGN1cnJlbnQoKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLnBvcyk7IH1cbn1cblxuZnVuY3Rpb24gZnVsbFBhcnNlcihzcGVjKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogc3BlYy5uYW1lIHx8IFwiXCIsXG4gICAgICAgIHRva2VuOiBzcGVjLnRva2VuLFxuICAgICAgICBibGFua0xpbmU6IHNwZWMuYmxhbmtMaW5lIHx8ICgoKSA9PiB7IH0pLFxuICAgICAgICBzdGFydFN0YXRlOiBzcGVjLnN0YXJ0U3RhdGUgfHwgKCgpID0+IHRydWUpLFxuICAgICAgICBjb3B5U3RhdGU6IHNwZWMuY29weVN0YXRlIHx8IGRlZmF1bHRDb3B5U3RhdGUsXG4gICAgICAgIGluZGVudDogc3BlYy5pbmRlbnQgfHwgKCgpID0+IG51bGwpLFxuICAgICAgICBsYW5ndWFnZURhdGE6IHNwZWMubGFuZ3VhZ2VEYXRhIHx8IHt9LFxuICAgICAgICB0b2tlblRhYmxlOiBzcGVjLnRva2VuVGFibGUgfHwgbm9Ub2tlbnMsXG4gICAgICAgIG1lcmdlVG9rZW5zOiBzcGVjLm1lcmdlVG9rZW5zICE9PSBmYWxzZVxuICAgIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0Q29weVN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgbGV0IG5ld1N0YXRlID0ge307XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzdGF0ZSkge1xuICAgICAgICBsZXQgdmFsID0gc3RhdGVbcHJvcF07XG4gICAgICAgIG5ld1N0YXRlW3Byb3BdID0gKHZhbCBpbnN0YW5jZW9mIEFycmF5ID8gdmFsLnNsaWNlKCkgOiB2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG59XG5jb25zdCBJbmRlbnRlZEZyb20gPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbi8qKlxuQSBbbGFuZ3VhZ2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpIGNsYXNzIGJhc2VkIG9uIGEgQ29kZU1pcnJvclxuNS1zdHlsZSBbc3RyZWFtaW5nIHBhcnNlcl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5TdHJlYW1QYXJzZXIpLlxuKi9cbmNsYXNzIFN0cmVhbUxhbmd1YWdlIGV4dGVuZHMgTGFuZ3VhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlcikge1xuICAgICAgICBsZXQgZGF0YSA9IGRlZmluZUxhbmd1YWdlRmFjZXQocGFyc2VyLmxhbmd1YWdlRGF0YSk7XG4gICAgICAgIGxldCBwID0gZnVsbFBhcnNlcihwYXJzZXIpLCBzZWxmO1xuICAgICAgICBsZXQgaW1wbCA9IG5ldyBjbGFzcyBleHRlbmRzIFBhcnNlciB7XG4gICAgICAgICAgICBjcmVhdGVQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcnNlKHNlbGYsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyKGRhdGEsIGltcGwsIFtdLCBwYXJzZXIubmFtZSk7XG4gICAgICAgIHRoaXMudG9wTm9kZSA9IGRvY0lEKGRhdGEsIHRoaXMpO1xuICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zdHJlYW1QYXJzZXIgPSBwO1xuICAgICAgICB0aGlzLnN0YXRlQWZ0ZXIgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnRva2VuVGFibGUgPSBwYXJzZXIudG9rZW5UYWJsZSA/IG5ldyBUb2tlblRhYmxlKHAudG9rZW5UYWJsZSkgOiBkZWZhdWx0VG9rZW5UYWJsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgc3RyZWFtIGxhbmd1YWdlLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjKSB7IHJldHVybiBuZXcgU3RyZWFtTGFuZ3VhZ2Uoc3BlYyk7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldEluZGVudChjeCkge1xuICAgICAgICBsZXQgZnJvbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHsgb3ZlcnJpZGVJbmRlbnRhdGlvbiB9ID0gY3gub3B0aW9ucztcbiAgICAgICAgaWYgKG92ZXJyaWRlSW5kZW50YXRpb24pIHtcbiAgICAgICAgICAgIGZyb20gPSBJbmRlbnRlZEZyb20uZ2V0KGN4LnN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmcm9tICE9IG51bGwgJiYgZnJvbSA8IGN4LnBvcyAtIDFlNClcbiAgICAgICAgICAgICAgICBmcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGZpbmRTdGF0ZSh0aGlzLCBjeC5ub2RlLnRyZWUsIGN4Lm5vZGUuZnJvbSwgY3gubm9kZS5mcm9tLCBmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiBjeC5wb3MpLCBzdGF0ZVBvcywgc3RhdGU7XG4gICAgICAgIGlmIChzdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBzdGFydC5zdGF0ZTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gc3RhcnQucG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShjeC51bml0KTtcbiAgICAgICAgICAgIHN0YXRlUG9zID0gY3gubm9kZS5mcm9tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjeC5wb3MgLSBzdGF0ZVBvcyA+IDEwMDAwIC8qIEMuTWF4SW5kZW50U2NhbkRpc3QgKi8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgd2hpbGUgKHN0YXRlUG9zIDwgY3gucG9zKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGN4LnN0YXRlLmRvYy5saW5lQXQoc3RhdGVQb3MpLCBlbmQgPSBNYXRoLm1pbihjeC5wb3MsIGxpbmUudG8pO1xuICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGVudGF0aW9uID0gb3ZlcnJpZGVJbmRlbnRhdGlvbiA/IG92ZXJyaWRlSW5kZW50YXRpb24obGluZS5mcm9tKSA6IC0xO1xuICAgICAgICAgICAgICAgIGxldCBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUudGV4dCwgY3guc3RhdGUudGFiU2l6ZSwgY3gudW5pdCwgaW5kZW50YXRpb24gPCAwID8gdW5kZWZpbmVkIDogaW5kZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdHJlYW0ucG9zIDwgZW5kIC0gbGluZS5mcm9tKVxuICAgICAgICAgICAgICAgICAgICByZWFkVG9rZW4odGhpcy5zdHJlYW1QYXJzZXIudG9rZW4sIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1QYXJzZXIuYmxhbmtMaW5lKHN0YXRlLCBjeC51bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmQgPT0gY3gucG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgc3RhdGVQb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGluZSA9IGN4LmxpbmVBdChjeC5wb3MpO1xuICAgICAgICBpZiAob3ZlcnJpZGVJbmRlbnRhdGlvbiAmJiBmcm9tID09IG51bGwpXG4gICAgICAgICAgICBJbmRlbnRlZEZyb20uc2V0KGN4LnN0YXRlLCBsaW5lLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW1QYXJzZXIuaW5kZW50KHN0YXRlLCAvXlxccyooLiopLy5leGVjKGxpbmUudGV4dClbMV0sIGN4KTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuZnVuY3Rpb24gZmluZFN0YXRlKGxhbmcsIHRyZWUsIG9mZiwgc3RhcnRQb3MsIGJlZm9yZSkge1xuICAgIGxldCBzdGF0ZSA9IG9mZiA+PSBzdGFydFBvcyAmJiBvZmYgKyB0cmVlLmxlbmd0aCA8PSBiZWZvcmUgJiYgdHJlZS5wcm9wKGxhbmcuc3RhdGVBZnRlcik7XG4gICAgaWYgKHN0YXRlKVxuICAgICAgICByZXR1cm4geyBzdGF0ZTogbGFuZy5zdHJlYW1QYXJzZXIuY29weVN0YXRlKHN0YXRlKSwgcG9zOiBvZmYgKyB0cmVlLmxlbmd0aCB9O1xuICAgIGZvciAobGV0IGkgPSB0cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHRyZWUuY2hpbGRyZW5baV0sIHBvcyA9IG9mZiArIHRyZWUucG9zaXRpb25zW2ldO1xuICAgICAgICBsZXQgZm91bmQgPSBjaGlsZCBpbnN0YW5jZW9mIFRyZWUgJiYgcG9zIDwgYmVmb3JlICYmIGZpbmRTdGF0ZShsYW5nLCBjaGlsZCwgcG9zLCBzdGFydFBvcywgYmVmb3JlKTtcbiAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGN1dFRyZWUobGFuZywgdHJlZSwgZnJvbSwgdG8sIGluc2lkZSkge1xuICAgIGlmIChpbnNpZGUgJiYgZnJvbSA8PSAwICYmIHRvID49IHRyZWUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICBpZiAoIWluc2lkZSAmJiBmcm9tID09IDAgJiYgdHJlZS50eXBlID09IGxhbmcudG9wTm9kZSlcbiAgICAgICAgaW5zaWRlID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgcG9zID0gdHJlZS5wb3NpdGlvbnNbaV0sIGNoaWxkID0gdHJlZS5jaGlsZHJlbltpXSwgaW5uZXI7XG4gICAgICAgIGlmIChwb3MgPCB0byAmJiBjaGlsZCBpbnN0YW5jZW9mIFRyZWUpIHtcbiAgICAgICAgICAgIGlmICghKGlubmVyID0gY3V0VHJlZShsYW5nLCBjaGlsZCwgZnJvbSAtIHBvcywgdG8gLSBwb3MsIGluc2lkZSkpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuICFpbnNpZGUgPyBpbm5lclxuICAgICAgICAgICAgICAgIDogbmV3IFRyZWUodHJlZS50eXBlLCB0cmVlLmNoaWxkcmVuLnNsaWNlKDAsIGkpLmNvbmNhdChpbm5lciksIHRyZWUucG9zaXRpb25zLnNsaWNlKDAsIGkgKyAxKSwgcG9zICsgaW5uZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGZpbmRTdGFydEluRnJhZ21lbnRzKGxhbmcsIGZyYWdtZW50cywgc3RhcnRQb3MsIGVuZFBvcywgZWRpdG9yU3RhdGUpIHtcbiAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cykge1xuICAgICAgICBsZXQgZnJvbSA9IGYuZnJvbSArIChmLm9wZW5TdGFydCA/IDI1IDogMCksIHRvID0gZi50byAtIChmLm9wZW5FbmQgPyAyNSA6IDApO1xuICAgICAgICBsZXQgZm91bmQgPSBmcm9tIDw9IHN0YXJ0UG9zICYmIHRvID4gc3RhcnRQb3MgJiYgZmluZFN0YXRlKGxhbmcsIGYudHJlZSwgMCAtIGYub2Zmc2V0LCBzdGFydFBvcywgdG8pLCB0cmVlO1xuICAgICAgICBpZiAoZm91bmQgJiYgZm91bmQucG9zIDw9IGVuZFBvcyAmJiAodHJlZSA9IGN1dFRyZWUobGFuZywgZi50cmVlLCBzdGFydFBvcyArIGYub2Zmc2V0LCBmb3VuZC5wb3MgKyBmLm9mZnNldCwgZmFsc2UpKSlcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBmb3VuZC5zdGF0ZSwgdHJlZSB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzdGF0ZTogbGFuZy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShlZGl0b3JTdGF0ZSA/IGdldEluZGVudFVuaXQoZWRpdG9yU3RhdGUpIDogNCksIHRyZWU6IFRyZWUuZW1wdHkgfTtcbn1cbmNsYXNzIFBhcnNlIHtcbiAgICBjb25zdHJ1Y3RvcihsYW5nLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5sYW5nID0gbGFuZztcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1BvcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtSZXVzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMudG8gPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvO1xuICAgICAgICBsZXQgY29udGV4dCA9IFBhcnNlQ29udGV4dC5nZXQoKSwgZnJvbSA9IHJhbmdlc1swXS5mcm9tO1xuICAgICAgICBsZXQgeyBzdGF0ZSwgdHJlZSB9ID0gZmluZFN0YXJ0SW5GcmFnbWVudHMobGFuZywgZnJhZ21lbnRzLCBmcm9tLCB0aGlzLnRvLCBjb250ZXh0ID09PSBudWxsIHx8IGNvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRleHQuc3RhdGUpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMucGFyc2VkUG9zID0gdGhpcy5jaHVua1N0YXJ0ID0gZnJvbSArIHRyZWUubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyZWUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2godHJlZS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godHJlZS5wb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0ICYmIHRoaXMucGFyc2VkUG9zIDwgY29udGV4dC52aWV3cG9ydC5mcm9tIC0gMTAwMDAwIC8qIEMuTWF4RGlzdGFuY2VCZWZvcmVWaWV3cG9ydCAqLyAmJlxuICAgICAgICAgICAgcmFuZ2VzLnNvbWUociA9PiByLmZyb20gPD0gY29udGV4dC52aWV3cG9ydC5mcm9tICYmIHIudG8gPj0gY29udGV4dC52aWV3cG9ydC5mcm9tKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMubGFuZy5zdHJlYW1QYXJzZXIuc3RhcnRTdGF0ZShnZXRJbmRlbnRVbml0KGNvbnRleHQuc3RhdGUpKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2tpcFVudGlsSW5WaWV3KHRoaXMucGFyc2VkUG9zLCBjb250ZXh0LnZpZXdwb3J0LmZyb20pO1xuICAgICAgICAgICAgdGhpcy5wYXJzZWRQb3MgPSBjb250ZXh0LnZpZXdwb3J0LmZyb207XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlUmFuZ2VJbmRleCgpO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IFBhcnNlQ29udGV4dC5nZXQoKTtcbiAgICAgICAgbGV0IHBhcnNlRW5kID0gdGhpcy5zdG9wcGVkQXQgPT0gbnVsbCA/IHRoaXMudG8gOiBNYXRoLm1pbih0aGlzLnRvLCB0aGlzLnN0b3BwZWRBdCk7XG4gICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbihwYXJzZUVuZCwgdGhpcy5jaHVua1N0YXJ0ICsgMjA0OCAvKiBDLkNodW5rU2l6ZSAqLyk7XG4gICAgICAgIGlmIChjb250ZXh0KVxuICAgICAgICAgICAgZW5kID0gTWF0aC5taW4oZW5kLCBjb250ZXh0LnZpZXdwb3J0LnRvKTtcbiAgICAgICAgd2hpbGUgKHRoaXMucGFyc2VkUG9zIDwgZW5kKVxuICAgICAgICAgICAgdGhpcy5wYXJzZUxpbmUoY29udGV4dCk7XG4gICAgICAgIGlmICh0aGlzLmNodW5rU3RhcnQgPCB0aGlzLnBhcnNlZFBvcylcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyc2VkUG9zID49IHBhcnNlRW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKCk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIHRoaXMucGFyc2VkUG9zID49IGNvbnRleHQudmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2tpcFVudGlsSW5WaWV3KHRoaXMucGFyc2VkUG9zLCBwYXJzZUVuZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IHBvcztcbiAgICB9XG4gICAgbGluZUFmdGVyKHBvcykge1xuICAgICAgICBsZXQgY2h1bmsgPSB0aGlzLmlucHV0LmNodW5rKHBvcyk7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dC5saW5lQ2h1bmtzKSB7XG4gICAgICAgICAgICBsZXQgZW9sID0gY2h1bmsuaW5kZXhPZihcIlxcblwiKTtcbiAgICAgICAgICAgIGlmIChlb2wgPiAtMSlcbiAgICAgICAgICAgICAgICBjaHVuayA9IGNodW5rLnNsaWNlKDAsIGVvbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2h1bmsgPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgY2h1bmsgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3MgKyBjaHVuay5sZW5ndGggPD0gdGhpcy50byA/IGNodW5rIDogY2h1bmsuc2xpY2UoMCwgdGhpcy50byAtIHBvcyk7XG4gICAgfVxuICAgIG5leHRMaW5lKCkge1xuICAgICAgICBsZXQgZnJvbSA9IHRoaXMucGFyc2VkUG9zLCBsaW5lID0gdGhpcy5saW5lQWZ0ZXIoZnJvbSksIGVuZCA9IGZyb20gKyBsaW5lLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSB0aGlzLnJhbmdlSW5kZXg7Oykge1xuICAgICAgICAgICAgbGV0IHJhbmdlRW5kID0gdGhpcy5yYW5nZXNbaW5kZXhdLnRvO1xuICAgICAgICAgICAgaWYgKHJhbmdlRW5kID49IGVuZClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIHJhbmdlRW5kIC0gKGVuZCAtIGxpbmUubGVuZ3RoKSk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHRoaXMucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCByYW5nZVN0YXJ0ID0gdGhpcy5yYW5nZXNbaW5kZXhdLmZyb207XG4gICAgICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmxpbmVBZnRlcihyYW5nZVN0YXJ0KTtcbiAgICAgICAgICAgIGxpbmUgKz0gYWZ0ZXI7XG4gICAgICAgICAgICBlbmQgPSByYW5nZVN0YXJ0ICsgYWZ0ZXIubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGxpbmUsIGVuZCB9O1xuICAgIH1cbiAgICBza2lwR2Fwc1RvKHBvcywgb2Zmc2V0LCBzaWRlKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXhdLnRvLCBvZmZQb3MgPSBwb3MgKyBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoc2lkZSA+IDAgPyBlbmQgPiBvZmZQb3MgOiBlbmQgPj0gb2ZmUG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5yYW5nZXNbKyt0aGlzLnJhbmdlSW5kZXhdLmZyb207XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RhcnQgLSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgbW92ZVJhbmdlSW5kZXgoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXhdLnRvIDwgdGhpcy5wYXJzZWRQb3MpXG4gICAgICAgICAgICB0aGlzLnJhbmdlSW5kZXgrKztcbiAgICB9XG4gICAgZW1pdFRva2VuKGlkLCBmcm9tLCB0bywgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBzaXplID0gNDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuc2tpcEdhcHNUbyhmcm9tLCBvZmZzZXQsIDEpO1xuICAgICAgICAgICAgZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgICBsZXQgbGVuMCA9IHRoaXMuY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5za2lwR2Fwc1RvKHRvLCBvZmZzZXQsIC0xKTtcbiAgICAgICAgICAgIHRvICs9IG9mZnNldDtcbiAgICAgICAgICAgIHNpemUgKz0gdGhpcy5jaHVuay5sZW5ndGggLSBsZW4wO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5jaHVuay5sZW5ndGggLSA0O1xuICAgICAgICBpZiAodGhpcy5sYW5nLnN0cmVhbVBhcnNlci5tZXJnZVRva2VucyAmJiBzaXplID09IDQgJiYgbGFzdCA+PSAwICYmXG4gICAgICAgICAgICB0aGlzLmNodW5rW2xhc3RdID09IGlkICYmIHRoaXMuY2h1bmtbbGFzdCArIDJdID09IGZyb20pXG4gICAgICAgICAgICB0aGlzLmNodW5rW2xhc3QgKyAyXSA9IHRvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmNodW5rLnB1c2goaWQsIGZyb20sIHRvLCBzaXplKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgcGFyc2VMaW5lKGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHsgbGluZSwgZW5kIH0gPSB0aGlzLm5leHRMaW5lKCksIG9mZnNldCA9IDAsIHsgc3RyZWFtUGFyc2VyIH0gPSB0aGlzLmxhbmc7XG4gICAgICAgIGxldCBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUsIGNvbnRleHQgPyBjb250ZXh0LnN0YXRlLnRhYlNpemUgOiA0LCBjb250ZXh0ID8gZ2V0SW5kZW50VW5pdChjb250ZXh0LnN0YXRlKSA6IDIpO1xuICAgICAgICBpZiAoc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgICBzdHJlYW1QYXJzZXIuYmxhbmtMaW5lKHRoaXMuc3RhdGUsIHN0cmVhbS5pbmRlbnRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gcmVhZFRva2VuKHN0cmVhbVBhcnNlci50b2tlbiwgc3RyZWFtLCB0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZW1pdFRva2VuKHRoaXMubGFuZy50b2tlblRhYmxlLnJlc29sdmUodG9rZW4pLCB0aGlzLnBhcnNlZFBvcyArIHN0cmVhbS5zdGFydCwgdGhpcy5wYXJzZWRQb3MgKyBzdHJlYW0ucG9zLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJlYW0uc3RhcnQgPiAxMDAwMCAvKiBDLk1heExpbmVMZW5ndGggKi8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyc2VkUG9zID0gZW5kO1xuICAgICAgICB0aGlzLm1vdmVSYW5nZUluZGV4KCk7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZFBvcyA8IHRoaXMudG8pXG4gICAgICAgICAgICB0aGlzLnBhcnNlZFBvcysrO1xuICAgIH1cbiAgICBmaW5pc2hDaHVuaygpIHtcbiAgICAgICAgbGV0IHRyZWUgPSBUcmVlLmJ1aWxkKHtcbiAgICAgICAgICAgIGJ1ZmZlcjogdGhpcy5jaHVuayxcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNodW5rU3RhcnQsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMucGFyc2VkUG9zIC0gdGhpcy5jaHVua1N0YXJ0LFxuICAgICAgICAgICAgbm9kZVNldCxcbiAgICAgICAgICAgIHRvcElEOiAwLFxuICAgICAgICAgICAgbWF4QnVmZmVyTGVuZ3RoOiAyMDQ4IC8qIEMuQ2h1bmtTaXplICovLFxuICAgICAgICAgICAgcmV1c2VkOiB0aGlzLmNodW5rUmV1c2VkXG4gICAgICAgIH0pO1xuICAgICAgICB0cmVlID0gbmV3IFRyZWUodHJlZS50eXBlLCB0cmVlLmNoaWxkcmVuLCB0cmVlLnBvc2l0aW9ucywgdHJlZS5sZW5ndGgsIFtbdGhpcy5sYW5nLnN0YXRlQWZ0ZXIsIHRoaXMubGFuZy5zdHJlYW1QYXJzZXIuY29weVN0YXRlKHRoaXMuc3RhdGUpXV0pO1xuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRyZWUpO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0IC0gdGhpcy5yYW5nZXNbMF0uZnJvbSk7XG4gICAgICAgIHRoaXMuY2h1bmsgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua1JldXNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gdGhpcy5wYXJzZWRQb3M7XG4gICAgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHRoaXMubGFuZy50b3BOb2RlLCB0aGlzLmNodW5rcywgdGhpcy5jaHVua1BvcywgdGhpcy5wYXJzZWRQb3MgLSB0aGlzLnJhbmdlc1swXS5mcm9tKS5iYWxhbmNlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZFRva2VuKHRva2VuLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICBpZiAoc3RyZWFtLnBvcyA+IHN0cmVhbS5zdGFydClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBwYXJzZXIgZmFpbGVkIHRvIGFkdmFuY2Ugc3RyZWFtLlwiKTtcbn1cbmNvbnN0IG5vVG9rZW5zID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCB0eXBlQXJyYXkgPSBbTm9kZVR5cGUubm9uZV07XG5jb25zdCBub2RlU2V0ID0gLypAX19QVVJFX18qL25ldyBOb2RlU2V0KHR5cGVBcnJheSk7XG5jb25zdCB3YXJuZWQgPSBbXTtcbi8vIENhY2hlIG9mIG5vZGUgdHlwZXMgYnkgbmFtZSBhbmQgdGFnc1xuY29uc3QgYnlUYWcgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGRlZmF1bHRUYWJsZSA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuZm9yIChsZXQgW2xlZ2FjeU5hbWUsIG5hbWVdIG9mIFtcbiAgICBbXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlTmFtZVwiXSxcbiAgICBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGVOYW1lLnNwZWNpYWxcIl0sXG4gICAgW1wic3RyaW5nLTJcIiwgXCJzdHJpbmcuc3BlY2lhbFwiXSxcbiAgICBbXCJkZWZcIiwgXCJ2YXJpYWJsZU5hbWUuZGVmaW5pdGlvblwiXSxcbiAgICBbXCJ0YWdcIiwgXCJ0YWdOYW1lXCJdLFxuICAgIFtcImF0dHJpYnV0ZVwiLCBcImF0dHJpYnV0ZU5hbWVcIl0sXG4gICAgW1widHlwZVwiLCBcInR5cGVOYW1lXCJdLFxuICAgIFtcImJ1aWx0aW5cIiwgXCJ2YXJpYWJsZU5hbWUuc3RhbmRhcmRcIl0sXG4gICAgW1wicXVhbGlmaWVyXCIsIFwibW9kaWZpZXJcIl0sXG4gICAgW1wiZXJyb3JcIiwgXCJpbnZhbGlkXCJdLFxuICAgIFtcImhlYWRlclwiLCBcImhlYWRpbmdcIl0sXG4gICAgW1wicHJvcGVydHlcIiwgXCJwcm9wZXJ0eU5hbWVcIl1cbl0pXG4gICAgZGVmYXVsdFRhYmxlW2xlZ2FjeU5hbWVdID0gLypAX19QVVJFX18qL2NyZWF0ZVRva2VuVHlwZShub1Rva2VucywgbmFtZSk7XG5jbGFzcyBUb2tlblRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihleHRyYSkge1xuICAgICAgICB0aGlzLmV4dHJhID0gZXh0cmE7XG4gICAgICAgIHRoaXMudGFibGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIGRlZmF1bHRUYWJsZSk7XG4gICAgfVxuICAgIHJlc29sdmUodGFnKSB7XG4gICAgICAgIHJldHVybiAhdGFnID8gMCA6IHRoaXMudGFibGVbdGFnXSB8fCAodGhpcy50YWJsZVt0YWddID0gY3JlYXRlVG9rZW5UeXBlKHRoaXMuZXh0cmEsIHRhZykpO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHRUb2tlblRhYmxlID0gLypAX19QVVJFX18qL25ldyBUb2tlblRhYmxlKG5vVG9rZW5zKTtcbmZ1bmN0aW9uIHdhcm5Gb3JQYXJ0KHBhcnQsIG1zZykge1xuICAgIGlmICh3YXJuZWQuaW5kZXhPZihwYXJ0KSA+IC0xKVxuICAgICAgICByZXR1cm47XG4gICAgd2FybmVkLnB1c2gocGFydCk7XG4gICAgY29uc29sZS53YXJuKG1zZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVUb2tlblR5cGUoZXh0cmEsIHRhZ1N0cikge1xuICAgIGxldCB0YWdzJDEgPSBbXTtcbiAgICBmb3IgKGxldCBuYW1lIG9mIHRhZ1N0ci5zcGxpdChcIiBcIikpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gW107XG4gICAgICAgIGZvciAobGV0IHBhcnQgb2YgbmFtZS5zcGxpdChcIi5cIikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IChleHRyYVtwYXJ0XSB8fCB0YWdzW3BhcnRdKTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuRm9yUGFydChwYXJ0LCBgVW5rbm93biBoaWdobGlnaHRpbmcgdGFnICR7cGFydH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclBhcnQocGFydCwgYE1vZGlmaWVyICR7cGFydH0gdXNlZCBhdCBzdGFydCBvZiB0YWdgKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZm91bmQubWFwKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQYXJ0KHBhcnQsIGBUYWcgJHtwYXJ0fSB1c2VkIGFzIG1vZGlmaWVyYCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHRhZyBvZiBmb3VuZClcbiAgICAgICAgICAgIHRhZ3MkMS5wdXNoKHRhZyk7XG4gICAgfVxuICAgIGlmICghdGFncyQxLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgbGV0IG5hbWUgPSB0YWdTdHIucmVwbGFjZSgvIC9nLCBcIl9cIiksIGtleSA9IG5hbWUgKyBcIiBcIiArIHRhZ3MkMS5tYXAodCA9PiB0LmlkKTtcbiAgICBsZXQga25vd24gPSBieVRhZ1trZXldO1xuICAgIGlmIChrbm93bilcbiAgICAgICAgcmV0dXJuIGtub3duLmlkO1xuICAgIGxldCB0eXBlID0gYnlUYWdba2V5XSA9IE5vZGVUeXBlLmRlZmluZSh7XG4gICAgICAgIGlkOiB0eXBlQXJyYXkubGVuZ3RoLFxuICAgICAgICBuYW1lLFxuICAgICAgICBwcm9wczogW3N0eWxlVGFncyh7IFtuYW1lXTogdGFncyQxIH0pXVxuICAgIH0pO1xuICAgIHR5cGVBcnJheS5wdXNoKHR5cGUpO1xuICAgIHJldHVybiB0eXBlLmlkO1xufVxuZnVuY3Rpb24gZG9jSUQoZGF0YSwgbGFuZykge1xuICAgIGxldCB0eXBlID0gTm9kZVR5cGUuZGVmaW5lKHsgaWQ6IHR5cGVBcnJheS5sZW5ndGgsIG5hbWU6IFwiRG9jdW1lbnRcIiwgcHJvcHM6IFtcbiAgICAgICAgICAgIGxhbmd1YWdlRGF0YVByb3AuYWRkKCgpID0+IGRhdGEpLFxuICAgICAgICAgICAgaW5kZW50Tm9kZVByb3AuYWRkKCgpID0+IGN4ID0+IGxhbmcuZ2V0SW5kZW50KGN4KSlcbiAgICAgICAgXSwgdG9wOiB0cnVlIH0pO1xuICAgIHR5cGVBcnJheS5wdXNoKHR5cGUpO1xuICAgIHJldHVybiB0eXBlO1xufVxuXG5mdW5jdGlvbiBidWlsZEZvckxpbmUobGluZSkge1xuICAgIHJldHVybiBsaW5lLmxlbmd0aCA8PSA0MDk2ICYmIC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1ZmI1MC1cXHVmZGZmXS8udGVzdChsaW5lKTtcbn1cbmZ1bmN0aW9uIHRleHRIYXNSVEwodGV4dCkge1xuICAgIGZvciAobGV0IGkgPSB0ZXh0Lml0ZXIoKTsgIWkubmV4dCgpLmRvbmU7KVxuICAgICAgICBpZiAoYnVpbGRGb3JMaW5lKGkudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2hhbmdlQWRkc1JUTChjaGFuZ2UpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBjaGFuZ2UuaXRlckNoYW5nZXMoKGZBLCB0QSwgZkIsIHRCLCBpbnMpID0+IHtcbiAgICAgICAgaWYgKCFhZGRlZCAmJiB0ZXh0SGFzUlRMKGlucykpXG4gICAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFkZGVkO1xufVxuY29uc3QgYWx3YXlzSXNvbGF0ZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KSB9KTtcbi8qKlxuTWFrZSBzdXJlIG5vZGVzXG5bbWFya2VkXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmLyNjb21tb24uTm9kZVByb3BeaXNvbGF0ZSlcbmFzIGlzb2xhdGluZyBmb3IgYmlkaXJlY3Rpb25hbCB0ZXh0IGFyZSByZW5kZXJlZCBpbiBhIHdheSB0aGF0XG5pc29sYXRlcyB0aGVtIGZyb20gdGhlIHN1cnJvdW5kaW5nIHRleHQuXG4qL1xuZnVuY3Rpb24gYmlkaUlzb2xhdGVzKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBleHRlbnNpb25zID0gW2lzb2xhdGVNYXJrc107XG4gICAgaWYgKG9wdGlvbnMuYWx3YXlzSXNvbGF0ZSlcbiAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKGFsd2F5c0lzb2xhdGUub2YodHJ1ZSkpO1xuICAgIHJldHVybiBleHRlbnNpb25zO1xufVxuY29uc3QgaXNvbGF0ZU1hcmtzID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzID0gdmlldy5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdmlldy50ZXh0RGlyZWN0aW9uICE9IERpcmVjdGlvbi5MVFIgfHxcbiAgICAgICAgICAgIHZpZXcuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuaGFzUlRMID0gIXRoaXMuYWx3YXlzICYmIHRleHRIYXNSVEwodmlldy5zdGF0ZS5kb2MpO1xuICAgICAgICB0aGlzLnRyZWUgPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpO1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5hbHdheXMgfHwgdGhpcy5oYXNSVEwgPyBidWlsZERlY28odmlldywgdGhpcy50cmVlLCB0aGlzLmFsd2F5cykgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGFsd2F5cyA9IHVwZGF0ZS5zdGF0ZS5mYWNldChhbHdheXNJc29sYXRlKSB8fFxuICAgICAgICAgICAgdXBkYXRlLnZpZXcudGV4dERpcmVjdGlvbiAhPSBEaXJlY3Rpb24uTFRSIHx8XG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5wZXJMaW5lVGV4dERpcmVjdGlvbik7XG4gICAgICAgIGlmICghYWx3YXlzICYmICF0aGlzLmhhc1JUTCAmJiBjaGFuZ2VBZGRzUlRMKHVwZGF0ZS5jaGFuZ2VzKSlcbiAgICAgICAgICAgIHRoaXMuaGFzUlRMID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbHdheXMgJiYgIXRoaXMuaGFzUlRMKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUodXBkYXRlLnN0YXRlKTtcbiAgICAgICAgaWYgKGFsd2F5cyAhPSB0aGlzLmFsd2F5cyB8fCB0cmVlICE9IHRoaXMudHJlZSB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICAgICAgdGhpcy5hbHdheXMgPSBhbHdheXM7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gYnVpbGREZWNvKHVwZGF0ZS52aWV3LCB0cmVlLCBhbHdheXMpO1xuICAgICAgICB9XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIGFjY2Vzcyh2aWV3KSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWNvcmF0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbRWRpdG9yVmlldy5vdXRlckRlY29yYXRpb25zLm9mKGFjY2VzcyksXG4gICAgICAgICAgICBQcmVjLmxvd2VzdChFZGl0b3JWaWV3LmJpZGlJc29sYXRlZFJhbmdlcy5vZihhY2Nlc3MpKV07XG4gICAgfVxufSk7XG5mdW5jdGlvbiBidWlsZERlY28odmlldywgdHJlZSwgYWx3YXlzKSB7XG4gICAgbGV0IGRlY28gPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgbGV0IHJhbmdlcyA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAoIWFsd2F5cylcbiAgICAgICAgcmFuZ2VzID0gY2xpcFJUTExpbmVzKHJhbmdlcywgdmlldy5zdGF0ZS5kb2MpO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgdHJlZS5pdGVyYXRlKHtcbiAgICAgICAgICAgIGVudGVyOiBub2RlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXNvID0gbm9kZS50eXBlLnByb3AoTm9kZVByb3AuaXNvbGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzbylcbiAgICAgICAgICAgICAgICAgICAgZGVjby5hZGQobm9kZS5mcm9tLCBub2RlLnRvLCBtYXJrc1tpc29dKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tLCB0b1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY28uZmluaXNoKCk7XG59XG5mdW5jdGlvbiBjbGlwUlRMTGluZXMocmFuZ2VzLCBkb2MpIHtcbiAgICBsZXQgY3VyID0gZG9jLml0ZXIoKSwgcG9zID0gMCwgcmVzdWx0ID0gW10sIGxhc3QgPSBudWxsO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiByYW5nZXMpIHtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IGZyb20pIHtcbiAgICAgICAgICAgIGZyb20gPSBsYXN0LnRvO1xuICAgICAgICAgICAgaWYgKGZyb20gPj0gdG8pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyArIGN1ci52YWx1ZS5sZW5ndGggPCBmcm9tKSB7XG4gICAgICAgICAgICBjdXIubmV4dChmcm9tIC0gKHBvcyArIGN1ci52YWx1ZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIHBvcyA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9zLCBlbmQgPSBwb3MgKyBjdXIudmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCFjdXIubGluZUJyZWFrICYmIGJ1aWxkRm9yTGluZShjdXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC50byA+IHN0YXJ0IC0gMTApXG4gICAgICAgICAgICAgICAgICAgIGxhc3QudG8gPSBNYXRoLm1pbih0bywgZW5kKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhc3QgPSB7IGZyb206IHN0YXJ0LCB0bzogTWF0aC5taW4odG8sIGVuZCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID49IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgbWFya3MgPSB7XG4gICAgcnRsOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwicnRsXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5SVEwgfSksXG4gICAgbHRyOiAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taXNvXCIsIGluY2x1c2l2ZTogdHJ1ZSwgYXR0cmlidXRlczogeyBkaXI6IFwibHRyXCIgfSwgYmlkaUlzb2xhdGU6IERpcmVjdGlvbi5MVFIgfSksXG4gICAgYXV0bzogLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLWlzb1wiLCBpbmNsdXNpdmU6IHRydWUsIGF0dHJpYnV0ZXM6IHsgZGlyOiBcImF1dG9cIiB9LCBiaWRpSXNvbGF0ZTogbnVsbCB9KVxufTtcblxuZXhwb3J0IHsgRG9jSW5wdXQsIEhpZ2hsaWdodFN0eWxlLCBJbmRlbnRDb250ZXh0LCBMUkxhbmd1YWdlLCBMYW5ndWFnZSwgTGFuZ3VhZ2VEZXNjcmlwdGlvbiwgTGFuZ3VhZ2VTdXBwb3J0LCBQYXJzZUNvbnRleHQsIFN0cmVhbUxhbmd1YWdlLCBTdHJpbmdTdHJlYW0sIFRyZWVJbmRlbnRDb250ZXh0LCBiaWRpSXNvbGF0ZXMsIGJyYWNrZXRNYXRjaGluZywgYnJhY2tldE1hdGNoaW5nSGFuZGxlLCBjb2RlRm9sZGluZywgY29udGludWVkSW5kZW50LCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUsIGRlZmluZUxhbmd1YWdlRmFjZXQsIGRlbGltaXRlZEluZGVudCwgZW5zdXJlU3ludGF4VHJlZSwgZmxhdEluZGVudCwgZm9sZEFsbCwgZm9sZENvZGUsIGZvbGRFZmZlY3QsIGZvbGRHdXR0ZXIsIGZvbGRJbnNpZGUsIGZvbGRLZXltYXAsIGZvbGROb2RlUHJvcCwgZm9sZFNlcnZpY2UsIGZvbGRTdGF0ZSwgZm9sZGFibGUsIGZvbGRlZFJhbmdlcywgZm9yY2VQYXJzaW5nLCBnZXRJbmRlbnRVbml0LCBnZXRJbmRlbnRhdGlvbiwgaGlnaGxpZ2h0aW5nRm9yLCBpbmRlbnROb2RlUHJvcCwgaW5kZW50T25JbnB1dCwgaW5kZW50UmFuZ2UsIGluZGVudFNlcnZpY2UsIGluZGVudFN0cmluZywgaW5kZW50VW5pdCwgbGFuZ3VhZ2UsIGxhbmd1YWdlRGF0YVByb3AsIG1hdGNoQnJhY2tldHMsIHN1Ymxhbmd1YWdlUHJvcCwgc3ludGF4SGlnaGxpZ2h0aW5nLCBzeW50YXhQYXJzZXJSdW5uaW5nLCBzeW50YXhUcmVlLCBzeW50YXhUcmVlQXZhaWxhYmxlLCB0b2dnbGVGb2xkLCB1bmZvbGRBbGwsIHVuZm9sZENvZGUsIHVuZm9sZEVmZmVjdCB9O1xuIiwiaW1wb3J0IHsgQW5ub3RhdGlvbiwgRmFjZXQsIGNvbWJpbmVDb25maWcsIFN0YXRlRmllbGQsIFRyYW5zYWN0aW9uLCBDaGFuZ2VTZXQsIENoYW5nZURlc2MsIEVkaXRvclNlbGVjdGlvbiwgU3RhdGVFZmZlY3QsIFRleHQsIGZpbmRDbHVzdGVyQnJlYWssIGNvdW50Q29sdW1uLCBDaGFyQ2F0ZWdvcnkgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBFZGl0b3JWaWV3LCBEaXJlY3Rpb24gfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEluZGVudENvbnRleHQsIGdldEluZGVudGF0aW9uLCBpbmRlbnRTdHJpbmcsIG1hdGNoQnJhY2tldHMsIHN5bnRheFRyZWUsIGdldEluZGVudFVuaXQsIGluZGVudFVuaXQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5pbXBvcnQgeyBOb2RlUHJvcCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vKipcbkNvbW1lbnQgb3IgdW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbi4gV2lsbCB1c2UgbGluZSBjb21tZW50c1xuaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGluZyBiYWNrIHRvIGJsb2NrIGNvbW1lbnRzLlxuKi9cbmNvbnN0IHRvZ2dsZUNvbW1lbnQgPSB0YXJnZXQgPT4ge1xuICAgIGxldCB7IHN0YXRlIH0gPSB0YXJnZXQsIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHN0YXRlLnNlbGVjdGlvbi5tYWluLmZyb20pLCBjb25maWcgPSBnZXRDb25maWcodGFyZ2V0LnN0YXRlLCBsaW5lLmZyb20pO1xuICAgIHJldHVybiBjb25maWcubGluZSA/IHRvZ2dsZUxpbmVDb21tZW50KHRhcmdldCkgOiBjb25maWcuYmxvY2sgPyB0b2dnbGVCbG9ja0NvbW1lbnRCeUxpbmUodGFyZ2V0KSA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIGNvbW1hbmQoZiwgb3B0aW9uKSB7XG4gICAgcmV0dXJuICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHRyID0gZihvcHRpb24sIHN0YXRlKTtcbiAgICAgICAgaWYgKCF0cilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHRyKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbkNvbW1lbnQgb3IgdW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBsaW5lIGNvbW1lbnRzLlxuVGhlIGxpbmUgY29tbWVudCBzeW50YXggaXMgdGFrZW4gZnJvbSB0aGVcbltgY29tbWVudFRva2Vuc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuQ29tbWVudFRva2VucykgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KS5cbiovXG5jb25zdCB0b2dnbGVMaW5lQ29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUxpbmVDb21tZW50LCAwIC8qIENvbW1lbnRPcHRpb24uVG9nZ2xlICovKTtcbi8qKlxuQ29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgbGluZSBjb21tZW50cy5cbiovXG5jb25zdCBsaW5lQ29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUxpbmVDb21tZW50LCAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyk7XG4vKipcblVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgbGluZSBjb21tZW50cy5cbiovXG5jb25zdCBsaW5lVW5jb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlTGluZUNvbW1lbnQsIDIgLyogQ29tbWVudE9wdGlvbi5VbmNvbW1lbnQgKi8pO1xuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgYmxvY2sgY29tbWVudHMuXG5UaGUgYmxvY2sgY29tbWVudCBzeW50YXggaXMgdGFrZW4gZnJvbSB0aGVcbltgY29tbWVudFRva2Vuc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuQ29tbWVudFRva2VucykgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KS5cbiovXG5jb25zdCB0b2dnbGVCbG9ja0NvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VCbG9ja0NvbW1lbnQsIDAgLyogQ29tbWVudE9wdGlvbi5Ub2dnbGUgKi8pO1xuLyoqXG5Db21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBibG9jayBjb21tZW50cy5cbiovXG5jb25zdCBibG9ja0NvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VCbG9ja0NvbW1lbnQsIDEgLyogQ29tbWVudE9wdGlvbi5Db21tZW50ICovKTtcbi8qKlxuVW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZyBibG9jayBjb21tZW50cy5cbiovXG5jb25zdCBibG9ja1VuY29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUJsb2NrQ29tbWVudCwgMiAvKiBDb21tZW50T3B0aW9uLlVuY29tbWVudCAqLyk7XG4vKipcbkNvbW1lbnQgb3IgdW5jb21tZW50IHRoZSBsaW5lcyBhcm91bmQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nXG5ibG9jayBjb21tZW50cy5cbiovXG5jb25zdCB0b2dnbGVCbG9ja0NvbW1lbnRCeUxpbmUgPSAvKkBfX1BVUkVfXyovY29tbWFuZCgobywgcykgPT4gY2hhbmdlQmxvY2tDb21tZW50KG8sIHMsIHNlbGVjdGVkTGluZVJhbmdlcyhzKSksIDAgLyogQ29tbWVudE9wdGlvbi5Ub2dnbGUgKi8pO1xuZnVuY3Rpb24gZ2V0Q29uZmlnKHN0YXRlLCBwb3MpIHtcbiAgICBsZXQgZGF0YSA9IHN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiY29tbWVudFRva2Vuc1wiLCBwb3MsIDEpO1xuICAgIHJldHVybiBkYXRhLmxlbmd0aCA/IGRhdGFbMF0gOiB7fTtcbn1cbmNvbnN0IFNlYXJjaE1hcmdpbiA9IDUwO1xuLyoqXG5EZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiByYW5nZSBpcyBibG9jay1jb21tZW50ZWQgaW4gdGhlIGdpdmVuXG5zdGF0ZS5cbiovXG5mdW5jdGlvbiBmaW5kQmxvY2tDb21tZW50KHN0YXRlLCB7IG9wZW4sIGNsb3NlIH0sIGZyb20sIHRvKSB7XG4gICAgbGV0IHRleHRCZWZvcmUgPSBzdGF0ZS5zbGljZURvYyhmcm9tIC0gU2VhcmNoTWFyZ2luLCBmcm9tKTtcbiAgICBsZXQgdGV4dEFmdGVyID0gc3RhdGUuc2xpY2VEb2ModG8sIHRvICsgU2VhcmNoTWFyZ2luKTtcbiAgICBsZXQgc3BhY2VCZWZvcmUgPSAvXFxzKiQvLmV4ZWModGV4dEJlZm9yZSlbMF0ubGVuZ3RoLCBzcGFjZUFmdGVyID0gL15cXHMqLy5leGVjKHRleHRBZnRlcilbMF0ubGVuZ3RoO1xuICAgIGxldCBiZWZvcmVPZmYgPSB0ZXh0QmVmb3JlLmxlbmd0aCAtIHNwYWNlQmVmb3JlO1xuICAgIGlmICh0ZXh0QmVmb3JlLnNsaWNlKGJlZm9yZU9mZiAtIG9wZW4ubGVuZ3RoLCBiZWZvcmVPZmYpID09IG9wZW4gJiZcbiAgICAgICAgdGV4dEFmdGVyLnNsaWNlKHNwYWNlQWZ0ZXIsIHNwYWNlQWZ0ZXIgKyBjbG9zZS5sZW5ndGgpID09IGNsb3NlKSB7XG4gICAgICAgIHJldHVybiB7IG9wZW46IHsgcG9zOiBmcm9tIC0gc3BhY2VCZWZvcmUsIG1hcmdpbjogc3BhY2VCZWZvcmUgJiYgMSB9LFxuICAgICAgICAgICAgY2xvc2U6IHsgcG9zOiB0byArIHNwYWNlQWZ0ZXIsIG1hcmdpbjogc3BhY2VBZnRlciAmJiAxIH0gfTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0VGV4dCwgZW5kVGV4dDtcbiAgICBpZiAodG8gLSBmcm9tIDw9IDIgKiBTZWFyY2hNYXJnaW4pIHtcbiAgICAgICAgc3RhcnRUZXh0ID0gZW5kVGV4dCA9IHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0VGV4dCA9IHN0YXRlLnNsaWNlRG9jKGZyb20sIGZyb20gKyBTZWFyY2hNYXJnaW4pO1xuICAgICAgICBlbmRUZXh0ID0gc3RhdGUuc2xpY2VEb2ModG8gLSBTZWFyY2hNYXJnaW4sIHRvKTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0U3BhY2UgPSAvXlxccyovLmV4ZWMoc3RhcnRUZXh0KVswXS5sZW5ndGgsIGVuZFNwYWNlID0gL1xccyokLy5leGVjKGVuZFRleHQpWzBdLmxlbmd0aDtcbiAgICBsZXQgZW5kT2ZmID0gZW5kVGV4dC5sZW5ndGggLSBlbmRTcGFjZSAtIGNsb3NlLmxlbmd0aDtcbiAgICBpZiAoc3RhcnRUZXh0LnNsaWNlKHN0YXJ0U3BhY2UsIHN0YXJ0U3BhY2UgKyBvcGVuLmxlbmd0aCkgPT0gb3BlbiAmJlxuICAgICAgICBlbmRUZXh0LnNsaWNlKGVuZE9mZiwgZW5kT2ZmICsgY2xvc2UubGVuZ3RoKSA9PSBjbG9zZSkge1xuICAgICAgICByZXR1cm4geyBvcGVuOiB7IHBvczogZnJvbSArIHN0YXJ0U3BhY2UgKyBvcGVuLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IC9cXHMvLnRlc3Qoc3RhcnRUZXh0LmNoYXJBdChzdGFydFNwYWNlICsgb3Blbi5sZW5ndGgpKSA/IDEgOiAwIH0sXG4gICAgICAgICAgICBjbG9zZTogeyBwb3M6IHRvIC0gZW5kU3BhY2UgLSBjbG9zZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAvXFxzLy50ZXN0KGVuZFRleHQuY2hhckF0KGVuZE9mZiAtIDEpKSA/IDEgOiAwIH0gfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBzZWxlY3RlZExpbmVSYW5nZXMoc3RhdGUpIHtcbiAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgZm9yIChsZXQgciBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgIGxldCBmcm9tTGluZSA9IHN0YXRlLmRvYy5saW5lQXQoci5mcm9tKTtcbiAgICAgICAgbGV0IHRvTGluZSA9IHIudG8gPD0gZnJvbUxpbmUudG8gPyBmcm9tTGluZSA6IHN0YXRlLmRvYy5saW5lQXQoci50byk7XG4gICAgICAgIGlmICh0b0xpbmUuZnJvbSA+IGZyb21MaW5lLmZyb20gJiYgdG9MaW5lLmZyb20gPT0gci50bylcbiAgICAgICAgICAgIHRvTGluZSA9IHIudG8gPT0gZnJvbUxpbmUudG8gKyAxID8gZnJvbUxpbmUgOiBzdGF0ZS5kb2MubGluZUF0KHIudG8gLSAxKTtcbiAgICAgICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPj0gMCAmJiByYW5nZXNbbGFzdF0udG8gPiBmcm9tTGluZS5mcm9tKVxuICAgICAgICAgICAgcmFuZ2VzW2xhc3RdLnRvID0gdG9MaW5lLnRvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IGZyb21MaW5lLmZyb20gKyAvXlxccyovLmV4ZWMoZnJvbUxpbmUudGV4dClbMF0ubGVuZ3RoLCB0bzogdG9MaW5lLnRvIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuLy8gUGVyZm9ybXMgdG9nZ2xlLCBjb21tZW50IGFuZCB1bmNvbW1lbnQgb2YgYmxvY2sgY29tbWVudHMgaW5cbi8vIGxhbmd1YWdlcyB0aGF0IHN1cHBvcnQgdGhlbS5cbmZ1bmN0aW9uIGNoYW5nZUJsb2NrQ29tbWVudChvcHRpb24sIHN0YXRlLCByYW5nZXMgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgbGV0IHRva2VucyA9IHJhbmdlcy5tYXAociA9PiBnZXRDb25maWcoc3RhdGUsIHIuZnJvbSkuYmxvY2spO1xuICAgIGlmICghdG9rZW5zLmV2ZXJ5KGMgPT4gYykpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBjb21tZW50cyA9IHJhbmdlcy5tYXAoKHIsIGkpID0+IGZpbmRCbG9ja0NvbW1lbnQoc3RhdGUsIHRva2Vuc1tpXSwgci5mcm9tLCByLnRvKSk7XG4gICAgaWYgKG9wdGlvbiAhPSAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovICYmICFjb21tZW50cy5ldmVyeShjID0+IGMpKSB7XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHN0YXRlLmNoYW5nZXMocmFuZ2VzLm1hcCgocmFuZ2UsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudHNbaV0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3sgZnJvbTogcmFuZ2UuZnJvbSwgaW5zZXJ0OiB0b2tlbnNbaV0ub3BlbiArIFwiIFwiIH0sIHsgZnJvbTogcmFuZ2UudG8sIGluc2VydDogXCIgXCIgKyB0b2tlbnNbaV0uY2xvc2UgfV07XG4gICAgICAgICAgICB9KSkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9uICE9IDEgLyogQ29tbWVudE9wdGlvbi5Db21tZW50ICovICYmIGNvbW1lbnRzLnNvbWUoYyA9PiBjKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgY29tbWVudDsgaSA8IGNvbW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKGNvbW1lbnQgPSBjb21tZW50c1tpXSkge1xuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXSwgeyBvcGVuLCBjbG9zZSB9ID0gY29tbWVudDtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBvcGVuLnBvcyAtIHRva2VuLm9wZW4ubGVuZ3RoLCB0bzogb3Blbi5wb3MgKyBvcGVuLm1hcmdpbiB9LCB7IGZyb206IGNsb3NlLnBvcyAtIGNsb3NlLm1hcmdpbiwgdG86IGNsb3NlLnBvcyArIHRva2VuLmNsb3NlLmxlbmd0aCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIFBlcmZvcm1zIHRvZ2dsZSwgY29tbWVudCBhbmQgdW5jb21tZW50IG9mIGxpbmUgY29tbWVudHMuXG5mdW5jdGlvbiBjaGFuZ2VMaW5lQ29tbWVudChvcHRpb24sIHN0YXRlLCByYW5nZXMgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgbGV0IHByZXZMaW5lID0gLTE7XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHJhbmdlcykge1xuICAgICAgICBsZXQgc3RhcnRJID0gbGluZXMubGVuZ3RoLCBtaW5JbmRlbnQgPSAxZTk7XG4gICAgICAgIGxldCB0b2tlbiA9IGdldENvbmZpZyhzdGF0ZSwgZnJvbSkubGluZTtcbiAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPiBwcmV2TGluZSAmJiAoZnJvbSA9PSB0byB8fCB0byA+IGxpbmUuZnJvbSkpIHtcbiAgICAgICAgICAgICAgICBwcmV2TGluZSA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZW50ID0gL15cXHMqLy5leGVjKGxpbmUudGV4dClbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eSA9IGluZGVudCA9PSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgY29tbWVudCA9IGxpbmUudGV4dC5zbGljZShpbmRlbnQsIGluZGVudCArIHRva2VuLmxlbmd0aCkgPT0gdG9rZW4gPyBpbmRlbnQgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZW50IDwgbGluZS50ZXh0Lmxlbmd0aCAmJiBpbmRlbnQgPCBtaW5JbmRlbnQpXG4gICAgICAgICAgICAgICAgICAgIG1pbkluZGVudCA9IGluZGVudDtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKHsgbGluZSwgY29tbWVudCwgdG9rZW4sIGluZGVudCwgZW1wdHksIHNpbmdsZTogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWluSW5kZW50IDwgMWU5KVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0STsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChsaW5lc1tpXS5pbmRlbnQgPCBsaW5lc1tpXS5saW5lLnRleHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXS5pbmRlbnQgPSBtaW5JbmRlbnQ7XG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT0gc3RhcnRJICsgMSlcbiAgICAgICAgICAgIGxpbmVzW3N0YXJ0SV0uc2luZ2xlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbiAhPSAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovICYmIGxpbmVzLnNvbWUobCA9PiBsLmNvbW1lbnQgPCAwICYmICghbC5lbXB0eSB8fCBsLnNpbmdsZSkpKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgbGluZSwgdG9rZW4sIGluZGVudCwgZW1wdHksIHNpbmdsZSB9IG9mIGxpbmVzKVxuICAgICAgICAgICAgaWYgKHNpbmdsZSB8fCAhZW1wdHkpXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tICsgaW5kZW50LCBpbnNlcnQ6IHRva2VuICsgXCIgXCIgfSk7XG4gICAgICAgIGxldCBjaGFuZ2VTZXQgPSBzdGF0ZS5jaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBjaGFuZ2VTZXQsIHNlbGVjdGlvbjogc3RhdGUuc2VsZWN0aW9uLm1hcChjaGFuZ2VTZXQsIDEpIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbiAhPSAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyAmJiBsaW5lcy5zb21lKGwgPT4gbC5jb21tZW50ID49IDApKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IHsgbGluZSwgY29tbWVudCwgdG9rZW4gfSBvZiBsaW5lcylcbiAgICAgICAgICAgIGlmIChjb21tZW50ID49IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IGxpbmUuZnJvbSArIGNvbW1lbnQsIHRvID0gZnJvbSArIHRva2VuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobGluZS50ZXh0W3RvIC0gbGluZS5mcm9tXSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgdG8rKztcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgZnJvbUhpc3RvcnkgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuVHJhbnNhY3Rpb24gYW5ub3RhdGlvbiB0aGF0IHdpbGwgcHJldmVudCB0aGF0IHRyYW5zYWN0aW9uIGZyb21cbmJlaW5nIGNvbWJpbmVkIHdpdGggb3RoZXIgdHJhbnNhY3Rpb25zIGluIHRoZSB1bmRvIGhpc3RvcnkuIEdpdmVuXG5gXCJiZWZvcmVcImAsIGl0J2xsIHByZXZlbnQgbWVyZ2luZyB3aXRoIHByZXZpb3VzIHRyYW5zYWN0aW9ucy4gV2l0aFxuYFwiYWZ0ZXJcImAsIHN1YnNlcXVlbnQgdHJhbnNhY3Rpb25zIHdvbid0IGJlIGNvbWJpbmVkIHdpdGggdGhpc1xub25lLiBXaXRoIGBcImZ1bGxcImAsIHRoZSB0cmFuc2FjdGlvbiBpcyBpc29sYXRlZCBvbiBib3RoIHNpZGVzLlxuKi9cbmNvbnN0IGlzb2xhdGVIaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcblRoaXMgZmFjZXQgcHJvdmlkZXMgYSB3YXkgdG8gcmVnaXN0ZXIgZnVuY3Rpb25zIHRoYXQsIGdpdmVuIGFcbnRyYW5zYWN0aW9uLCBwcm92aWRlIGEgc2V0IG9mIGVmZmVjdHMgdGhhdCB0aGUgaGlzdG9yeSBzaG91bGRcbnN0b3JlIHdoZW4gaW52ZXJ0aW5nIHRoZSB0cmFuc2FjdGlvbi4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuaW50ZWdyYXRlIHNvbWUga2luZHMgb2YgZWZmZWN0cyBpbiB0aGUgaGlzdG9yeSwgc28gdGhhdCB0aGV5IGNhblxuYmUgdW5kb25lIChhbmQgcmVkb25lIGFnYWluKS5cbiovXG5jb25zdCBpbnZlcnRlZEVmZmVjdHMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBoaXN0b3J5Q29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIG1pbkRlcHRoOiAxMDAsXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiA1MDAsXG4gICAgICAgICAgICBqb2luVG9FdmVudDogKF90LCBpc0FkamFjZW50KSA9PiBpc0FkamFjZW50LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBtaW5EZXB0aDogTWF0aC5tYXgsXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiBNYXRoLm1pbixcbiAgICAgICAgICAgIGpvaW5Ub0V2ZW50OiAoYSwgYikgPT4gKHRyLCBhZGopID0+IGEodHIsIGFkaikgfHwgYih0ciwgYWRqKVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmNvbnN0IGhpc3RvcnlGaWVsZF8gPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIEhpc3RvcnlTdGF0ZS5lbXB0eTtcbiAgICB9LFxuICAgIHVwZGF0ZShzdGF0ZSwgdHIpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRyLnN0YXRlLmZhY2V0KGhpc3RvcnlDb25maWcpO1xuICAgICAgICBsZXQgZnJvbUhpc3QgPSB0ci5hbm5vdGF0aW9uKGZyb21IaXN0b3J5KTtcbiAgICAgICAgaWYgKGZyb21IaXN0KSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IEhpc3RFdmVudC5mcm9tVHJhbnNhY3Rpb24odHIsIGZyb21IaXN0LnNlbGVjdGlvbiksIGZyb20gPSBmcm9tSGlzdC5zaWRlO1xuICAgICAgICAgICAgbGV0IG90aGVyID0gZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IHN0YXRlLnVuZG9uZSA6IHN0YXRlLmRvbmU7XG4gICAgICAgICAgICBpZiAoaXRlbSlcbiAgICAgICAgICAgICAgICBvdGhlciA9IHVwZGF0ZUJyYW5jaChvdGhlciwgb3RoZXIubGVuZ3RoLCBjb25maWcubWluRGVwdGgsIGl0ZW0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG90aGVyID0gYWRkU2VsZWN0aW9uKG90aGVyLCB0ci5zdGFydFN0YXRlLnNlbGVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShmcm9tID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gZnJvbUhpc3QucmVzdCA6IG90aGVyLCBmcm9tID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gb3RoZXIgOiBmcm9tSGlzdC5yZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNvbGF0ZSA9IHRyLmFubm90YXRpb24oaXNvbGF0ZUhpc3RvcnkpO1xuICAgICAgICBpZiAoaXNvbGF0ZSA9PSBcImZ1bGxcIiB8fCBpc29sYXRlID09IFwiYmVmb3JlXCIpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmlzb2xhdGUoKTtcbiAgICAgICAgaWYgKHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24uYWRkVG9IaXN0b3J5KSA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gIXRyLmNoYW5nZXMuZW1wdHkgPyBzdGF0ZS5hZGRNYXBwaW5nKHRyLmNoYW5nZXMuZGVzYykgOiBzdGF0ZTtcbiAgICAgICAgbGV0IGV2ZW50ID0gSGlzdEV2ZW50LmZyb21UcmFuc2FjdGlvbih0cik7XG4gICAgICAgIGxldCB0aW1lID0gdHIuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi50aW1lKSwgdXNlckV2ZW50ID0gdHIuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi51c2VyRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmFkZENoYW5nZXMoZXZlbnQsIHRpbWUsIHVzZXJFdmVudCwgY29uZmlnLCB0cik7XG4gICAgICAgIGVsc2UgaWYgKHRyLnNlbGVjdGlvbilcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUuYWRkU2VsZWN0aW9uKHRyLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLCB0aW1lLCB1c2VyRXZlbnQsIGNvbmZpZy5uZXdHcm91cERlbGF5KTtcbiAgICAgICAgaWYgKGlzb2xhdGUgPT0gXCJmdWxsXCIgfHwgaXNvbGF0ZSA9PSBcImFmdGVyXCIpXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmlzb2xhdGUoKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgdG9KU09OKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHZhbHVlLmRvbmUubWFwKGUgPT4gZS50b0pTT04oKSksIHVuZG9uZTogdmFsdWUudW5kb25lLm1hcChlID0+IGUudG9KU09OKCkpIH07XG4gICAgfSxcbiAgICBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGpzb24uZG9uZS5tYXAoSGlzdEV2ZW50LmZyb21KU09OKSwganNvbi51bmRvbmUubWFwKEhpc3RFdmVudC5mcm9tSlNPTikpO1xuICAgIH1cbn0pO1xuLyoqXG5DcmVhdGUgYSBoaXN0b3J5IGV4dGVuc2lvbiB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uLlxuKi9cbmZ1bmN0aW9uIGhpc3RvcnkoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBoaXN0b3J5RmllbGRfLFxuICAgICAgICBoaXN0b3J5Q29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIEVkaXRvclZpZXcuZG9tRXZlbnRIYW5kbGVycyh7XG4gICAgICAgICAgICBiZWZvcmVpbnB1dChlLCB2aWV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSBlLmlucHV0VHlwZSA9PSBcImhpc3RvcnlVbmRvXCIgPyB1bmRvIDogZS5pbnB1dFR5cGUgPT0gXCJoaXN0b3J5UmVkb1wiID8gcmVkbyA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tYW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kKHZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIF07XG59XG4vKipcblRoZSBzdGF0ZSBmaWVsZCB1c2VkIHRvIHN0b3JlIHRoZSBoaXN0b3J5IGRhdGEuIFNob3VsZCBwcm9iYWJseVxub25seSBiZSB1c2VkIHdoZW4geW91IHdhbnQgdG9cbltzZXJpYWxpemVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudG9KU09OKSBvclxuW2Rlc2VyaWFsaXplXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmZyb21KU09OKSBzdGF0ZSBvYmplY3RzIGluIGEgd2F5XG50aGF0IHByZXNlcnZlcyBoaXN0b3J5LlxuKi9cbmNvbnN0IGhpc3RvcnlGaWVsZCA9IGhpc3RvcnlGaWVsZF87XG5mdW5jdGlvbiBjbWQoc2lkZSwgc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh7IHN0YXRlLCBkaXNwYXRjaCB9KSB7XG4gICAgICAgIGlmICghc2VsZWN0aW9uICYmIHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgaGlzdG9yeVN0YXRlID0gc3RhdGUuZmllbGQoaGlzdG9yeUZpZWxkXywgZmFsc2UpO1xuICAgICAgICBpZiAoIWhpc3RvcnlTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHRyID0gaGlzdG9yeVN0YXRlLnBvcChzaWRlLCBzdGF0ZSwgc2VsZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0cilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZGlzcGF0Y2godHIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5VbmRvIGEgc2luZ2xlIGdyb3VwIG9mIGhpc3RvcnkgZXZlbnRzLiBSZXR1cm5zIGZhbHNlIGlmIG5vIGdyb3VwXG53YXMgYXZhaWxhYmxlLlxuKi9cbmNvbnN0IHVuZG8gPSAvKkBfX1BVUkVfXyovY21kKDAgLyogQnJhbmNoTmFtZS5Eb25lICovLCBmYWxzZSk7XG4vKipcblJlZG8gYSBncm91cCBvZiBoaXN0b3J5IGV2ZW50cy4gUmV0dXJucyBmYWxzZSBpZiBubyBncm91cCB3YXNcbmF2YWlsYWJsZS5cbiovXG5jb25zdCByZWRvID0gLypAX19QVVJFX18qL2NtZCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovLCBmYWxzZSk7XG4vKipcblVuZG8gYSBjaGFuZ2Ugb3Igc2VsZWN0aW9uIGNoYW5nZS5cbiovXG5jb25zdCB1bmRvU2VsZWN0aW9uID0gLypAX19QVVJFX18qL2NtZCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLywgdHJ1ZSk7XG4vKipcblJlZG8gYSBjaGFuZ2Ugb3Igc2VsZWN0aW9uIGNoYW5nZS5cbiovXG5jb25zdCByZWRvU2VsZWN0aW9uID0gLypAX19QVVJFX18qL2NtZCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovLCB0cnVlKTtcbmZ1bmN0aW9uIGRlcHRoKHNpZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGxldCBoaXN0U3RhdGUgPSBzdGF0ZS5maWVsZChoaXN0b3J5RmllbGRfLCBmYWxzZSk7XG4gICAgICAgIGlmICghaGlzdFN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCBicmFuY2ggPSBzaWRlID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gaGlzdFN0YXRlLmRvbmUgOiBoaXN0U3RhdGUudW5kb25lO1xuICAgICAgICByZXR1cm4gYnJhbmNoLmxlbmd0aCAtIChicmFuY2gubGVuZ3RoICYmICFicmFuY2hbMF0uY2hhbmdlcyA/IDEgOiAwKTtcbiAgICB9O1xufVxuLyoqXG5UaGUgYW1vdW50IG9mIHVuZG9hYmxlIGNoYW5nZSBldmVudHMgYXZhaWxhYmxlIGluIGEgZ2l2ZW4gc3RhdGUuXG4qL1xuY29uc3QgdW5kb0RlcHRoID0gLypAX19QVVJFX18qL2RlcHRoKDAgLyogQnJhbmNoTmFtZS5Eb25lICovKTtcbi8qKlxuVGhlIGFtb3VudCBvZiByZWRvYWJsZSBjaGFuZ2UgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIHN0YXRlLlxuKi9cbmNvbnN0IHJlZG9EZXB0aCA9IC8qQF9fUFVSRV9fKi9kZXB0aCgxIC8qIEJyYW5jaE5hbWUuVW5kb25lICovKTtcbi8vIEhpc3RvcnkgZXZlbnRzIHN0b3JlIGdyb3VwcyBvZiBjaGFuZ2VzIG9yIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlXG4vLyB1bmRvbmUvcmVkb25lIHRvZ2V0aGVyLlxuY2xhc3MgSGlzdEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgY2hhbmdlcyBpbiB0aGlzIGV2ZW50LiBOb3JtYWwgZXZlbnRzIGhvbGQgYXQgbGVhc3Qgb25lXG4gICAgLy8gY2hhbmdlIG9yIGVmZmVjdC4gQnV0IGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gc3RvcmUgc2VsZWN0aW9uXG4gICAgLy8gZXZlbnRzIGJlZm9yZSB0aGUgZmlyc3QgY2hhbmdlLCBpbiB3aGljaCBjYXNlIGEgc3BlY2lhbCB0eXBlIG9mXG4gICAgLy8gaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGljaCBkb2Vzbid0IGhvbGQgYW55IGNoYW5nZXMsIHdpdGhcbiAgICAvLyBjaGFuZ2VzID09IHN0YXJ0U2VsZWN0aW9uID09IHVuZGVmaW5lZFxuICAgIGNoYW5nZXMsIFxuICAgIC8vIFRoZSBlZmZlY3RzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGV2ZW50XG4gICAgZWZmZWN0cywgXG4gICAgLy8gQWNjdW11bGF0ZWQgbWFwcGluZyAoZnJvbSBhZGRUb0hpc3Rvcnk9PWZhbHNlKSB0aGF0IHNob3VsZCBiZVxuICAgIC8vIGFwcGxpZWQgdG8gZXZlbnRzIGJlbG93IHRoaXMgb25lLlxuICAgIG1hcHBlZCwgXG4gICAgLy8gVGhlIHNlbGVjdGlvbiBiZWZvcmUgdGhpcyBldmVudFxuICAgIHN0YXJ0U2VsZWN0aW9uLCBcbiAgICAvLyBTdG9yZXMgc2VsZWN0aW9uIGNoYW5nZXMgYWZ0ZXIgdGhpcyBldmVudCwgdG8gYmUgdXNlZCBmb3JcbiAgICAvLyBzZWxlY3Rpb24gdW5kby9yZWRvLlxuICAgIHNlbGVjdGlvbnNBZnRlcikge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLmVmZmVjdHMgPSBlZmZlY3RzO1xuICAgICAgICB0aGlzLm1hcHBlZCA9IG1hcHBlZDtcbiAgICAgICAgdGhpcy5zdGFydFNlbGVjdGlvbiA9IHN0YXJ0U2VsZWN0aW9uO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbnNBZnRlciA9IHNlbGVjdGlvbnNBZnRlcjtcbiAgICB9XG4gICAgc2V0U2VsQWZ0ZXIoYWZ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0RXZlbnQodGhpcy5jaGFuZ2VzLCB0aGlzLmVmZmVjdHMsIHRoaXMubWFwcGVkLCB0aGlzLnN0YXJ0U2VsZWN0aW9uLCBhZnRlcik7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFuZ2VzOiAoX2EgPSB0aGlzLmNoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0pTT04oKSxcbiAgICAgICAgICAgIG1hcHBlZDogKF9iID0gdGhpcy5tYXBwZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b0pTT04oKSxcbiAgICAgICAgICAgIHN0YXJ0U2VsZWN0aW9uOiAoX2MgPSB0aGlzLnN0YXJ0U2VsZWN0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9KU09OKCksXG4gICAgICAgICAgICBzZWxlY3Rpb25zQWZ0ZXI6IHRoaXMuc2VsZWN0aW9uc0FmdGVyLm1hcChzID0+IHMudG9KU09OKCkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KGpzb24uY2hhbmdlcyAmJiBDaGFuZ2VTZXQuZnJvbUpTT04oanNvbi5jaGFuZ2VzKSwgW10sIGpzb24ubWFwcGVkICYmIENoYW5nZURlc2MuZnJvbUpTT04oanNvbi5tYXBwZWQpLCBqc29uLnN0YXJ0U2VsZWN0aW9uICYmIEVkaXRvclNlbGVjdGlvbi5mcm9tSlNPTihqc29uLnN0YXJ0U2VsZWN0aW9uKSwganNvbi5zZWxlY3Rpb25zQWZ0ZXIubWFwKEVkaXRvclNlbGVjdGlvbi5mcm9tSlNPTikpO1xuICAgIH1cbiAgICAvLyBUaGlzIGRvZXMgbm90IGNoZWNrIGBhZGRUb0hpc3RvcnlgIGFuZCBzdWNoLCBpdCBhc3N1bWVzIHRoZVxuICAgIC8vIHRyYW5zYWN0aW9uIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhbiBpdGVtLiBSZXR1cm5zIG51bGwgd2hlblxuICAgIC8vIHRoZXJlIGFyZSBubyBjaGFuZ2VzIG9yIGVmZmVjdHMgaW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgIHN0YXRpYyBmcm9tVHJhbnNhY3Rpb24odHIsIHNlbGVjdGlvbikge1xuICAgICAgICBsZXQgZWZmZWN0cyA9IG5vbmU7XG4gICAgICAgIGZvciAobGV0IGludmVydCBvZiB0ci5zdGFydFN0YXRlLmZhY2V0KGludmVydGVkRWZmZWN0cykpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBpbnZlcnQodHIpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZWZmZWN0cyA9IGVmZmVjdHMuY29uY2F0KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlZmZlY3RzLmxlbmd0aCAmJiB0ci5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHRyLmNoYW5nZXMuaW52ZXJ0KHRyLnN0YXJ0U3RhdGUuZG9jKSwgZWZmZWN0cywgdW5kZWZpbmVkLCBzZWxlY3Rpb24gfHwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24sIG5vbmUpO1xuICAgIH1cbiAgICBzdGF0aWMgc2VsZWN0aW9uKHNlbGVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0RXZlbnQodW5kZWZpbmVkLCBub25lLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgc2VsZWN0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQnJhbmNoKGJyYW5jaCwgdG8sIG1heExlbiwgbmV3RXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSB0byArIDEgPiBtYXhMZW4gKyAyMCA/IHRvIC0gbWF4TGVuIC0gMSA6IDA7XG4gICAgbGV0IG5ld0JyYW5jaCA9IGJyYW5jaC5zbGljZShzdGFydCwgdG8pO1xuICAgIG5ld0JyYW5jaC5wdXNoKG5ld0V2ZW50KTtcbiAgICByZXR1cm4gbmV3QnJhbmNoO1xufVxuZnVuY3Rpb24gaXNBZGphY2VudChhLCBiKSB7XG4gICAgbGV0IHJhbmdlcyA9IFtdLCBpc0FkamFjZW50ID0gZmFsc2U7XG4gICAgYS5pdGVyQ2hhbmdlZFJhbmdlcygoZiwgdCkgPT4gcmFuZ2VzLnB1c2goZiwgdCkpO1xuICAgIGIuaXRlckNoYW5nZWRSYW5nZXMoKF9mLCBfdCwgZiwgdCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1tpKytdLCB0byA9IHJhbmdlc1tpKytdO1xuICAgICAgICAgICAgaWYgKHQgPj0gZnJvbSAmJiBmIDw9IHRvKVxuICAgICAgICAgICAgICAgIGlzQWRqYWNlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGlzQWRqYWNlbnQ7XG59XG5mdW5jdGlvbiBlcVNlbGVjdGlvblNoYXBlKGEsIGIpIHtcbiAgICByZXR1cm4gYS5yYW5nZXMubGVuZ3RoID09IGIucmFuZ2VzLmxlbmd0aCAmJlxuICAgICAgICBhLnJhbmdlcy5maWx0ZXIoKHIsIGkpID0+IHIuZW1wdHkgIT0gYi5yYW5nZXNbaV0uZW1wdHkpLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIGNvbmMoYSwgYikge1xuICAgIHJldHVybiAhYS5sZW5ndGggPyBiIDogIWIubGVuZ3RoID8gYSA6IGEuY29uY2F0KGIpO1xufVxuY29uc3Qgbm9uZSA9IFtdO1xuY29uc3QgTWF4U2VsZWN0aW9uc1BlckV2ZW50ID0gMjAwO1xuZnVuY3Rpb24gYWRkU2VsZWN0aW9uKGJyYW5jaCwgc2VsZWN0aW9uKSB7XG4gICAgaWYgKCFicmFuY2gubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbSGlzdEV2ZW50LnNlbGVjdGlvbihbc2VsZWN0aW9uXSldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGxhc3RFdmVudCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV07XG4gICAgICAgIGxldCBzZWxzID0gbGFzdEV2ZW50LnNlbGVjdGlvbnNBZnRlci5zbGljZShNYXRoLm1heCgwLCBsYXN0RXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAtIE1heFNlbGVjdGlvbnNQZXJFdmVudCkpO1xuICAgICAgICBpZiAoc2Vscy5sZW5ndGggJiYgc2Vsc1tzZWxzLmxlbmd0aCAtIDFdLmVxKHNlbGVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gYnJhbmNoO1xuICAgICAgICBzZWxzLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUJyYW5jaChicmFuY2gsIGJyYW5jaC5sZW5ndGggLSAxLCAxZTksIGxhc3RFdmVudC5zZXRTZWxBZnRlcihzZWxzKSk7XG4gICAgfVxufVxuLy8gQXNzdW1lcyB0aGUgdG9wIGl0ZW0gaGFzIG9uZSBvciBtb3JlIHNlbGVjdGlvbkFmdGVyIHZhbHVlc1xuZnVuY3Rpb24gcG9wU2VsZWN0aW9uKGJyYW5jaCkge1xuICAgIGxldCBsYXN0ID0gYnJhbmNoW2JyYW5jaC5sZW5ndGggLSAxXTtcbiAgICBsZXQgbmV3QnJhbmNoID0gYnJhbmNoLnNsaWNlKCk7XG4gICAgbmV3QnJhbmNoW2JyYW5jaC5sZW5ndGggLSAxXSA9IGxhc3Quc2V0U2VsQWZ0ZXIobGFzdC5zZWxlY3Rpb25zQWZ0ZXIuc2xpY2UoMCwgbGFzdC5zZWxlY3Rpb25zQWZ0ZXIubGVuZ3RoIC0gMSkpO1xuICAgIHJldHVybiBuZXdCcmFuY2g7XG59XG4vLyBBZGQgYSBtYXBwaW5nIHRvIHRoZSB0b3AgZXZlbnQgaW4gdGhlIGdpdmVuIGJyYW5jaC4gSWYgdGhpcyBtYXBzXG4vLyBhd2F5IGFsbCB0aGUgY2hhbmdlcyBhbmQgZWZmZWN0cyBpbiB0aGF0IGl0ZW0sIGRyb3AgaXQgYW5kXG4vLyBwcm9wYWdhdGUgdGhlIG1hcHBpbmcgdG8gdGhlIG5leHQgaXRlbS5cbmZ1bmN0aW9uIGFkZE1hcHBpbmdUb0JyYW5jaChicmFuY2gsIG1hcHBpbmcpIHtcbiAgICBpZiAoIWJyYW5jaC5sZW5ndGgpXG4gICAgICAgIHJldHVybiBicmFuY2g7XG4gICAgbGV0IGxlbmd0aCA9IGJyYW5jaC5sZW5ndGgsIHNlbGVjdGlvbnMgPSBub25lO1xuICAgIHdoaWxlIChsZW5ndGgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gbWFwRXZlbnQoYnJhbmNoW2xlbmd0aCAtIDFdLCBtYXBwaW5nLCBzZWxlY3Rpb25zKTtcbiAgICAgICAgaWYgKGV2ZW50LmNoYW5nZXMgJiYgIWV2ZW50LmNoYW5nZXMuZW1wdHkgfHwgZXZlbnQuZWZmZWN0cy5sZW5ndGgpIHsgLy8gRXZlbnQgc3Vydml2ZWQgbWFwcGluZ1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGJyYW5jaC5zbGljZSgwLCBsZW5ndGgpO1xuICAgICAgICAgICAgcmVzdWx0W2xlbmd0aCAtIDFdID0gZXZlbnQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBEcm9wIHRoaXMgZXZlbnQsIHNpbmNlIHRoZXJlJ3Mgbm8gY2hhbmdlcyBvciBlZmZlY3RzIGxlZnRcbiAgICAgICAgICAgIG1hcHBpbmcgPSBldmVudC5tYXBwZWQ7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBldmVudC5zZWxlY3Rpb25zQWZ0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdGlvbnMubGVuZ3RoID8gW0hpc3RFdmVudC5zZWxlY3Rpb24oc2VsZWN0aW9ucyldIDogbm9uZTtcbn1cbmZ1bmN0aW9uIG1hcEV2ZW50KGV2ZW50LCBtYXBwaW5nLCBleHRyYVNlbGVjdGlvbnMpIHtcbiAgICBsZXQgc2VsZWN0aW9ucyA9IGNvbmMoZXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCA/IGV2ZW50LnNlbGVjdGlvbnNBZnRlci5tYXAocyA9PiBzLm1hcChtYXBwaW5nKSkgOiBub25lLCBleHRyYVNlbGVjdGlvbnMpO1xuICAgIC8vIENoYW5nZS1sZXNzIGV2ZW50cyBkb24ndCBzdG9yZSBtYXBwaW5ncyAodGhleSBhcmUgYWx3YXlzIHRoZSBsYXN0IGV2ZW50IGluIGEgYnJhbmNoKVxuICAgIGlmICghZXZlbnQuY2hhbmdlcylcbiAgICAgICAgcmV0dXJuIEhpc3RFdmVudC5zZWxlY3Rpb24oc2VsZWN0aW9ucyk7XG4gICAgbGV0IG1hcHBlZENoYW5nZXMgPSBldmVudC5jaGFuZ2VzLm1hcChtYXBwaW5nKSwgYmVmb3JlID0gbWFwcGluZy5tYXBEZXNjKGV2ZW50LmNoYW5nZXMsIHRydWUpO1xuICAgIGxldCBmdWxsTWFwcGluZyA9IGV2ZW50Lm1hcHBlZCA/IGV2ZW50Lm1hcHBlZC5jb21wb3NlRGVzYyhiZWZvcmUpIDogYmVmb3JlO1xuICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KG1hcHBlZENoYW5nZXMsIFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoZXZlbnQuZWZmZWN0cywgbWFwcGluZyksIGZ1bGxNYXBwaW5nLCBldmVudC5zdGFydFNlbGVjdGlvbi5tYXAoYmVmb3JlKSwgc2VsZWN0aW9ucyk7XG59XG5jb25zdCBqb2luYWJsZVVzZXJFdmVudCA9IC9eKGlucHV0XFwudHlwZXxkZWxldGUpKCR8XFwuKS87XG5jbGFzcyBIaXN0b3J5U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGRvbmUsIHVuZG9uZSwgcHJldlRpbWUgPSAwLCBwcmV2VXNlckV2ZW50ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZG9uZSA9IGRvbmU7XG4gICAgICAgIHRoaXMudW5kb25lID0gdW5kb25lO1xuICAgICAgICB0aGlzLnByZXZUaW1lID0gcHJldlRpbWU7XG4gICAgICAgIHRoaXMucHJldlVzZXJFdmVudCA9IHByZXZVc2VyRXZlbnQ7XG4gICAgfVxuICAgIGlzb2xhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZUaW1lID8gbmV3IEhpc3RvcnlTdGF0ZSh0aGlzLmRvbmUsIHRoaXMudW5kb25lKSA6IHRoaXM7XG4gICAgfVxuICAgIGFkZENoYW5nZXMoZXZlbnQsIHRpbWUsIHVzZXJFdmVudCwgY29uZmlnLCB0cikge1xuICAgICAgICBsZXQgZG9uZSA9IHRoaXMuZG9uZSwgbGFzdEV2ZW50ID0gZG9uZVtkb25lLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdEV2ZW50ICYmIGxhc3RFdmVudC5jaGFuZ2VzICYmICFsYXN0RXZlbnQuY2hhbmdlcy5lbXB0eSAmJiBldmVudC5jaGFuZ2VzICYmXG4gICAgICAgICAgICAoIXVzZXJFdmVudCB8fCBqb2luYWJsZVVzZXJFdmVudC50ZXN0KHVzZXJFdmVudCkpICYmXG4gICAgICAgICAgICAoKCFsYXN0RXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHRpbWUgLSB0aGlzLnByZXZUaW1lIDwgY29uZmlnLm5ld0dyb3VwRGVsYXkgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuam9pblRvRXZlbnQodHIsIGlzQWRqYWNlbnQobGFzdEV2ZW50LmNoYW5nZXMsIGV2ZW50LmNoYW5nZXMpKSkgfHxcbiAgICAgICAgICAgICAgICAvLyBGb3IgY29tcG9zZSAoYnV0IG5vdCBjb21wb3NlLnN0YXJ0KSBldmVudHMsIGFsd2F5cyBqb2luIHdpdGggcHJldmlvdXMgZXZlbnRcbiAgICAgICAgICAgICAgICB1c2VyRXZlbnQgPT0gXCJpbnB1dC50eXBlLmNvbXBvc2VcIikpIHtcbiAgICAgICAgICAgIGRvbmUgPSB1cGRhdGVCcmFuY2goZG9uZSwgZG9uZS5sZW5ndGggLSAxLCBjb25maWcubWluRGVwdGgsIG5ldyBIaXN0RXZlbnQoZXZlbnQuY2hhbmdlcy5jb21wb3NlKGxhc3RFdmVudC5jaGFuZ2VzKSwgY29uYyhTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGV2ZW50LmVmZmVjdHMsIGxhc3RFdmVudC5jaGFuZ2VzKSwgbGFzdEV2ZW50LmVmZmVjdHMpLCBsYXN0RXZlbnQubWFwcGVkLCBsYXN0RXZlbnQuc3RhcnRTZWxlY3Rpb24sIG5vbmUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbmUgPSB1cGRhdGVCcmFuY2goZG9uZSwgZG9uZS5sZW5ndGgsIGNvbmZpZy5taW5EZXB0aCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGRvbmUsIG5vbmUsIHRpbWUsIHVzZXJFdmVudCk7XG4gICAgfVxuICAgIGFkZFNlbGVjdGlvbihzZWxlY3Rpb24sIHRpbWUsIHVzZXJFdmVudCwgbmV3R3JvdXBEZWxheSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuZG9uZS5sZW5ndGggPyB0aGlzLmRvbmVbdGhpcy5kb25lLmxlbmd0aCAtIDFdLnNlbGVjdGlvbnNBZnRlciA6IG5vbmU7XG4gICAgICAgIGlmIChsYXN0Lmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRpbWUgLSB0aGlzLnByZXZUaW1lIDwgbmV3R3JvdXBEZWxheSAmJlxuICAgICAgICAgICAgdXNlckV2ZW50ID09IHRoaXMucHJldlVzZXJFdmVudCAmJiB1c2VyRXZlbnQgJiYgL15zZWxlY3QoJHxcXC4pLy50ZXN0KHVzZXJFdmVudCkgJiZcbiAgICAgICAgICAgIGVxU2VsZWN0aW9uU2hhcGUobGFzdFtsYXN0Lmxlbmd0aCAtIDFdLCBzZWxlY3Rpb24pKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGFkZFNlbGVjdGlvbih0aGlzLmRvbmUsIHNlbGVjdGlvbiksIHRoaXMudW5kb25lLCB0aW1lLCB1c2VyRXZlbnQpO1xuICAgIH1cbiAgICBhZGRNYXBwaW5nKG1hcHBpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoYWRkTWFwcGluZ1RvQnJhbmNoKHRoaXMuZG9uZSwgbWFwcGluZyksIGFkZE1hcHBpbmdUb0JyYW5jaCh0aGlzLnVuZG9uZSwgbWFwcGluZyksIHRoaXMucHJldlRpbWUsIHRoaXMucHJldlVzZXJFdmVudCk7XG4gICAgfVxuICAgIHBvcChzaWRlLCBzdGF0ZSwgb25seVNlbGVjdGlvbikge1xuICAgICAgICBsZXQgYnJhbmNoID0gc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IHRoaXMuZG9uZSA6IHRoaXMudW5kb25lO1xuICAgICAgICBpZiAoYnJhbmNoLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBldmVudCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV0sIHNlbGVjdGlvbiA9IGV2ZW50LnNlbGVjdGlvbnNBZnRlclswXSB8fCBzdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGlmIChvbmx5U2VsZWN0aW9uICYmIGV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZXZlbnQuc2VsZWN0aW9uc0FmdGVyW2V2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uczogZnJvbUhpc3Rvcnkub2YoeyBzaWRlLCByZXN0OiBwb3BTZWxlY3Rpb24oYnJhbmNoKSwgc2VsZWN0aW9uIH0pLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IFwic2VsZWN0LnVuZG9cIiA6IFwic2VsZWN0LnJlZG9cIixcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWV2ZW50LmNoYW5nZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSBicmFuY2gubGVuZ3RoID09IDEgPyBub25lIDogYnJhbmNoLnNsaWNlKDAsIGJyYW5jaC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmIChldmVudC5tYXBwZWQpXG4gICAgICAgICAgICAgICAgcmVzdCA9IGFkZE1hcHBpbmdUb0JyYW5jaChyZXN0LCBldmVudC5tYXBwZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogZXZlbnQuY2hhbmdlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGV2ZW50LnN0YXJ0U2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGV2ZW50LmVmZmVjdHMsXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6IGZyb21IaXN0b3J5Lm9mKHsgc2lkZSwgcmVzdCwgc2VsZWN0aW9uIH0pLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlckV2ZW50OiBzaWRlID09IDAgLyogQnJhbmNoTmFtZS5Eb25lICovID8gXCJ1bmRvXCIgOiBcInJlZG9cIixcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5IaXN0b3J5U3RhdGUuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IEhpc3RvcnlTdGF0ZShub25lLCBub25lKTtcbi8qKlxuRGVmYXVsdCBrZXkgYmluZGluZ3MgZm9yIHRoZSB1bmRvIGhpc3RvcnkuXG5cbi0gTW9kLXo6IFtgdW5kb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudW5kbykuXG4tIE1vZC15IChNb2QtU2hpZnQteiBvbiBtYWNPUykgKyBDdHJsLVNoaWZ0LXogb24gTGludXg6IFtgcmVkb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMucmVkbykuXG4tIE1vZC11OiBbYHVuZG9TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnVuZG9TZWxlY3Rpb24pLlxuLSBBbHQtdSAoTW9kLVNoaWZ0LXUgb24gbWFjT1MpOiBbYHJlZG9TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnJlZG9TZWxlY3Rpb24pLlxuKi9cbmNvbnN0IGhpc3RvcnlLZXltYXAgPSBbXG4gICAgeyBrZXk6IFwiTW9kLXpcIiwgcnVuOiB1bmRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC15XCIsIG1hYzogXCJNb2QtU2hpZnQtelwiLCBydW46IHJlZG8sIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBsaW51eDogXCJDdHJsLVNoaWZ0LXpcIiwgcnVuOiByZWRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC11XCIsIHJ1bjogdW5kb1NlbGVjdGlvbiwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJBbHQtdVwiLCBtYWM6IFwiTW9kLVNoaWZ0LXVcIiwgcnVuOiByZWRvU2VsZWN0aW9uLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9XG5dO1xuXG5mdW5jdGlvbiB1cGRhdGVTZWwoc2VsLCBieSkge1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHNlbC5yYW5nZXMubWFwKGJ5KSwgc2VsLm1haW5JbmRleCk7XG59XG5mdW5jdGlvbiBzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikge1xuICAgIHJldHVybiBzdGF0ZS51cGRhdGUoeyBzZWxlY3Rpb24sIHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwic2VsZWN0XCIgfSk7XG59XG5mdW5jdGlvbiBtb3ZlU2VsKHsgc3RhdGUsIGRpc3BhdGNoIH0sIGhvdykge1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCBob3cpO1xuICAgIGlmIChzZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uLCB0cnVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkge1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyByYW5nZS50byA6IHJhbmdlLmZyb20pO1xufVxuZnVuY3Rpb24gY3Vyc29yQnlDaGFyKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuZnVuY3Rpb24gbHRyQXRDdXJzb3Iodmlldykge1xuICAgIHJldHVybiB2aWV3LnRleHREaXJlY3Rpb25BdCh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpID09IERpcmVjdGlvbi5MVFI7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIHRvIHRoZSBsZWZ0ICh3aGljaCBpcyBiYWNrd2FyZCBpblxubGVmdC10by1yaWdodCB0ZXh0LCBmb3J3YXJkIGluIHJpZ2h0LXRvLWxlZnQgdGV4dCkuXG4qL1xuY29uc3QgY3Vyc29yQ2hhckxlZnQgPSB2aWV3ID0+IGN1cnNvckJ5Q2hhcih2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yQ2hhclJpZ2h0ID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJGb3J3YXJkID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIGJhY2t3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIGZhbHNlKTtcbmZ1bmN0aW9uIGJ5Q2hhckxvZ2ljYWwoc3RhdGUsIHJhbmdlLCBmb3J3YXJkKSB7XG4gICAgbGV0IHBvcyA9IHJhbmdlLmhlYWQsIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgaWYgKHBvcyA9PSAoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20pKVxuICAgICAgICBwb3MgPSBmb3J3YXJkID8gTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgbGluZS50byArIDEpIDogTWF0aC5tYXgoMCwgbGluZS5mcm9tIC0gMSk7XG4gICAgZWxzZVxuICAgICAgICBwb3MgPSBsaW5lLmZyb20gKyBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCBmb3J3YXJkKTtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MsIGZvcndhcmQgPyAtMSA6IDEpO1xufVxuZnVuY3Rpb24gbW92ZUJ5Q2hhckxvZ2ljYWwodGFyZ2V0LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIG1vdmVTZWwodGFyZ2V0LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IGJ5Q2hhckxvZ2ljYWwodGFyZ2V0LnN0YXRlLCByYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBmb3J3YXJkLCBpbiBsb2dpY2FsXG4obm9uLXRleHQtZGlyZWN0aW9uLWF3YXJlKSBzdHJpbmcgaW5kZXggb3JkZXIuXG4qL1xuY29uc3QgY3Vyc29yQ2hhckZvcndhcmRMb2dpY2FsID0gdGFyZ2V0ID0+IG1vdmVCeUNoYXJMb2dpY2FsKHRhcmdldCwgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIGJhY2t3YXJkLCBpbiBsb2dpY2FsIHN0cmluZyBpbmRleFxub3JkZXIuXG4qL1xuY29uc3QgY3Vyc29yQ2hhckJhY2t3YXJkTG9naWNhbCA9IHRhcmdldCA9PiBtb3ZlQnlDaGFyTG9naWNhbCh0YXJnZXQsIGZhbHNlKTtcbmZ1bmN0aW9uIGN1cnNvckJ5R3JvdXAodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHJhbmdlLmVtcHR5ID8gdmlldy5tb3ZlQnlHcm91cChyYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGxlZnQgYWNyb3NzIG9uZSBncm91cCBvZiB3b3JkIG9yXG5ub24td29yZCAoYnV0IGFsc28gbm9uLXNwYWNlKSBjaGFyYWN0ZXJzLlxuKi9cbmNvbnN0IGN1cnNvckdyb3VwTGVmdCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGdyb3VwIHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBjdXJzb3JHcm91cFJpZ2h0ID0gdmlldyA9PiBjdXJzb3JCeUdyb3VwKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvckdyb3VwRm9yd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBiYWNrd2FyZC5cbiovXG5jb25zdCBjdXJzb3JHcm91cEJhY2t3YXJkID0gdmlldyA9PiBjdXJzb3JCeUdyb3VwKHZpZXcsIGZhbHNlKTtcbmZ1bmN0aW9uIHRvR3JvdXBTdGFydCh2aWV3LCBwb3MsIHN0YXJ0KSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSB2aWV3LnN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGxldCBjYXQgPSBjYXRlZ29yaXplKHN0YXJ0KSwgaW5pdGlhbCA9IGNhdCAhPSBDaGFyQ2F0ZWdvcnkuU3BhY2U7XG4gICAgcmV0dXJuIChuZXh0KSA9PiB7XG4gICAgICAgIGxldCBuZXh0Q2F0ID0gY2F0ZWdvcml6ZShuZXh0KTtcbiAgICAgICAgaWYgKG5leHRDYXQgIT0gQ2hhckNhdGVnb3J5LlNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWwgJiYgbmV4dENhdCA9PSBjYXQ7XG4gICAgICAgIGluaXRpYWwgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuTW92ZSB0aGUgY3Vyc29yIG9uZSBncm91cCBmb3J3YXJkIGluIHRoZSBkZWZhdWx0IFdpbmRvd3Mgc3R5bGUsXG53aGVyZSBpdCBtb3ZlcyB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHQgZ3JvdXAuXG4qL1xuY29uc3QgY3Vyc29yR3JvdXBGb3J3YXJkV2luID0gdmlldyA9PiB7XG4gICAgcmV0dXJuIG1vdmVTZWwodmlldywgcmFuZ2UgPT4gcmFuZ2UuZW1wdHlcbiAgICAgICAgPyB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIHRydWUsIHN0YXJ0ID0+IHRvR3JvdXBTdGFydCh2aWV3LCByYW5nZS5oZWFkLCBzdGFydCkpXG4gICAgICAgIDogcmFuZ2VFbmQocmFuZ2UsIHRydWUpKTtcbn07XG5jb25zdCBzZWdtZW50ZXIgPSB0eXBlb2YgSW50bCAhPSBcInVuZGVmaW5lZFwiICYmIEludGwuU2VnbWVudGVyID9cbiAgICAvKkBfX1BVUkVfXyovbmV3IChJbnRsLlNlZ21lbnRlcikodW5kZWZpbmVkLCB7IGdyYW51bGFyaXR5OiBcIndvcmRcIiB9KSA6IG51bGw7XG5mdW5jdGlvbiBtb3ZlQnlTdWJ3b3JkKHZpZXcsIHJhbmdlLCBmb3J3YXJkKSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSB2aWV3LnN0YXRlLmNoYXJDYXRlZ29yaXplcihyYW5nZS5mcm9tKTtcbiAgICBsZXQgY2F0ID0gQ2hhckNhdGVnb3J5LlNwYWNlLCBwb3MgPSByYW5nZS5mcm9tLCBzdGVwcyA9IDA7XG4gICAgbGV0IGRvbmUgPSBmYWxzZSwgc2F3VXBwZXIgPSBmYWxzZSwgc2F3TG93ZXIgPSBmYWxzZTtcbiAgICBsZXQgc3RlcCA9IChuZXh0KSA9PiB7XG4gICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwb3MgKz0gZm9yd2FyZCA/IG5leHQubGVuZ3RoIDogLW5leHQubGVuZ3RoO1xuICAgICAgICBsZXQgbmV4dENhdCA9IGNhdGVnb3JpemUobmV4dCksIGFoZWFkO1xuICAgICAgICBpZiAobmV4dENhdCA9PSBDaGFyQ2F0ZWdvcnkuV29yZCAmJiBuZXh0LmNoYXJDb2RlQXQoMCkgPCAxMjggJiYgL1tcXFdfXS8udGVzdChuZXh0KSlcbiAgICAgICAgICAgIG5leHRDYXQgPSAtMTsgLy8gVHJlYXQgd29yZCBwdW5jdHVhdGlvbiBzcGVjaWFsbHlcbiAgICAgICAgaWYgKGNhdCA9PSBDaGFyQ2F0ZWdvcnkuU3BhY2UpXG4gICAgICAgICAgICBjYXQgPSBuZXh0Q2F0O1xuICAgICAgICBpZiAoY2F0ICE9IG5leHRDYXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjYXQgPT0gQ2hhckNhdGVnb3J5LldvcmQpIHtcbiAgICAgICAgICAgIGlmIChuZXh0LnRvTG93ZXJDYXNlKCkgPT0gbmV4dCkge1xuICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCAmJiBzYXdVcHBlcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNhd0xvd2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNhd0xvd2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcndhcmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzYXdVcHBlciAmJiBmb3J3YXJkICYmIGNhdGVnb3JpemUoYWhlYWQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKHBvcywgcG9zICsgMSkpID09IENoYXJDYXRlZ29yeS5Xb3JkICYmXG4gICAgICAgICAgICAgICAgICAgIGFoZWFkLnRvTG93ZXJDYXNlKCkgPT0gYWhlYWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBzYXdVcHBlciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RlcHMrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBsZXQgZW5kID0gdmlldy5tb3ZlQnlDaGFyKHJhbmdlLCBmb3J3YXJkLCBzdGFydCA9PiB7XG4gICAgICAgIHN0ZXAoc3RhcnQpO1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICB9KTtcbiAgICBpZiAoc2VnbWVudGVyICYmIGNhdCA9PSBDaGFyQ2F0ZWdvcnkuV29yZCAmJiBlbmQuZnJvbSA9PSByYW5nZS5mcm9tICsgc3RlcHMgKiAoZm9yd2FyZCA/IDEgOiAtMSkpIHtcbiAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1pbihyYW5nZS5oZWFkLCBlbmQuaGVhZCksIHRvID0gTWF0aC5tYXgocmFuZ2UuaGVhZCwgZW5kLmhlYWQpO1xuICAgICAgICBsZXQgc2tpcHBlZCA9IHZpZXcuc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pO1xuICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAxICYmIC9bXFx1NEUwMC1cXHVmZmZmXS8udGVzdChza2lwcGVkKSkge1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRzID0gQXJyYXkuZnJvbShzZWdtZW50ZXIuc2VnbWVudChza2lwcGVkKSk7XG4gICAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3J3YXJkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5oZWFkICsgc2VnbWVudHNbMV0uaW5kZXgsIC0xKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihlbmQuaGVhZCArIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdLmluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW5kO1xufVxuZnVuY3Rpb24gY3Vyc29yQnlTdWJ3b3JkKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IG1vdmVCeVN1YndvcmQodmlldywgcmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCBvciBjYW1lbC1jYXNlIHN1YndvcmQgZm9yd2FyZC5cbiovXG5jb25zdCBjdXJzb3JTdWJ3b3JkRm9yd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlTdWJ3b3JkKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGdyb3VwIG9yIGNhbWVsLWNhc2Ugc3Vid29yZCBiYWNrd2FyZC5cbiovXG5jb25zdCBjdXJzb3JTdWJ3b3JkQmFja3dhcmQgPSB2aWV3ID0+IGN1cnNvckJ5U3Vid29yZCh2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBpbnRlcmVzdGluZ05vZGUoc3RhdGUsIG5vZGUsIGJyYWNrZXRQcm9wKSB7XG4gICAgaWYgKG5vZGUudHlwZS5wcm9wKGJyYWNrZXRQcm9wKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IGxlbiA9IG5vZGUudG8gLSBub2RlLmZyb207XG4gICAgcmV0dXJuIGxlbiAmJiAobGVuID4gMiB8fCAvW15cXHMsLjs6XS8udGVzdChzdGF0ZS5zbGljZURvYyhub2RlLmZyb20sIG5vZGUudG8pKSkgfHwgbm9kZS5maXJzdENoaWxkO1xufVxuZnVuY3Rpb24gbW92ZUJ5U3ludGF4KHN0YXRlLCBzdGFydCwgZm9yd2FyZCkge1xuICAgIGxldCBwb3MgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIoc3RhcnQuaGVhZCk7XG4gICAgbGV0IGJyYWNrZXRQcm9wID0gZm9yd2FyZCA/IE5vZGVQcm9wLmNsb3NlZEJ5IDogTm9kZVByb3Aub3BlbmVkQnk7XG4gICAgLy8gU2NhbiBmb3J3YXJkIHRocm91Z2ggY2hpbGQgbm9kZXMgdG8gc2VlIGlmIHRoZXJlJ3MgYW4gaW50ZXJlc3RpbmdcbiAgICAvLyBub2RlIGFoZWFkLlxuICAgIGZvciAobGV0IGF0ID0gc3RhcnQuaGVhZDs7KSB7XG4gICAgICAgIGxldCBuZXh0ID0gZm9yd2FyZCA/IHBvcy5jaGlsZEFmdGVyKGF0KSA6IHBvcy5jaGlsZEJlZm9yZShhdCk7XG4gICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAoaW50ZXJlc3RpbmdOb2RlKHN0YXRlLCBuZXh0LCBicmFja2V0UHJvcCkpXG4gICAgICAgICAgICBwb3MgPSBuZXh0O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBhdCA9IGZvcndhcmQgPyBuZXh0LnRvIDogbmV4dC5mcm9tO1xuICAgIH1cbiAgICBsZXQgYnJhY2tldCA9IHBvcy50eXBlLnByb3AoYnJhY2tldFByb3ApLCBtYXRjaCwgbmV3UG9zO1xuICAgIGlmIChicmFja2V0ICYmIChtYXRjaCA9IGZvcndhcmQgPyBtYXRjaEJyYWNrZXRzKHN0YXRlLCBwb3MuZnJvbSwgMSkgOiBtYXRjaEJyYWNrZXRzKHN0YXRlLCBwb3MudG8sIC0xKSkgJiYgbWF0Y2gubWF0Y2hlZClcbiAgICAgICAgbmV3UG9zID0gZm9yd2FyZCA/IG1hdGNoLmVuZC50byA6IG1hdGNoLmVuZC5mcm9tO1xuICAgIGVsc2VcbiAgICAgICAgbmV3UG9zID0gZm9yd2FyZCA/IHBvcy50byA6IHBvcy5mcm9tO1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG5ld1BvcywgZm9yd2FyZCA/IC0xIDogMSk7XG59XG4vKipcbk1vdmUgdGhlIGN1cnNvciBvdmVyIHRoZSBuZXh0IHN5bnRhY3RpYyBlbGVtZW50IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IGN1cnNvclN5bnRheExlZnQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3ludGF4KHZpZXcuc3RhdGUsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgY3Vyc29yIG92ZXIgdGhlIG5leHQgc3ludGFjdGljIGVsZW1lbnQgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IGN1cnNvclN5bnRheFJpZ2h0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN5bnRheCh2aWV3LnN0YXRlLCByYW5nZSwgbHRyQXRDdXJzb3IodmlldykpKTtcbmZ1bmN0aW9uIGN1cnNvckJ5TGluZSh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIG1vdmVTZWwodmlldywgcmFuZ2UgPT4ge1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlRW5kKHJhbmdlLCBmb3J3YXJkKTtcbiAgICAgICAgbGV0IG1vdmVkID0gdmlldy5tb3ZlVmVydGljYWxseShyYW5nZSwgZm9yd2FyZCk7XG4gICAgICAgIHJldHVybiBtb3ZlZC5oZWFkICE9IHJhbmdlLmhlYWQgPyBtb3ZlZCA6IHZpZXcubW92ZVRvTGluZUJvdW5kYXJ5KHJhbmdlLCBmb3J3YXJkKTtcbiAgICB9KTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBsaW5lIHVwLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVVcCA9IHZpZXcgPT4gY3Vyc29yQnlMaW5lKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBsaW5lIGRvd24uXG4qL1xuY29uc3QgY3Vyc29yTGluZURvd24gPSB2aWV3ID0+IGN1cnNvckJ5TGluZSh2aWV3LCB0cnVlKTtcbmZ1bmN0aW9uIHBhZ2VJbmZvKHZpZXcpIHtcbiAgICBsZXQgc2VsZlNjcm9sbCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodCA8IHZpZXcuc2Nyb2xsRE9NLnNjcm9sbEhlaWdodCAtIDI7XG4gICAgbGV0IG1hcmdpblRvcCA9IDAsIG1hcmdpbkJvdHRvbSA9IDAsIGhlaWdodDtcbiAgICBpZiAoc2VsZlNjcm9sbCkge1xuICAgICAgICBmb3IgKGxldCBzb3VyY2Ugb2Ygdmlldy5zdGF0ZS5mYWNldChFZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMpKSB7XG4gICAgICAgICAgICBsZXQgbWFyZ2lucyA9IHNvdXJjZSh2aWV3KTtcbiAgICAgICAgICAgIGlmIChtYXJnaW5zID09PSBudWxsIHx8IG1hcmdpbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcmdpbnMudG9wKVxuICAgICAgICAgICAgICAgIG1hcmdpblRvcCA9IE1hdGgubWF4KG1hcmdpbnMgPT09IG51bGwgfHwgbWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFyZ2lucy50b3AsIG1hcmdpblRvcCk7XG4gICAgICAgICAgICBpZiAobWFyZ2lucyA9PT0gbnVsbCB8fCBtYXJnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXJnaW5zLmJvdHRvbSlcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBNYXRoLm1heChtYXJnaW5zID09PSBudWxsIHx8IG1hcmdpbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hcmdpbnMuYm90dG9tLCBtYXJnaW5Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGhlaWdodCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodCAtIG1hcmdpblRvcCAtIG1hcmdpbkJvdHRvbTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGhlaWdodCA9ICh2aWV3LmRvbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdykuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiB7IG1hcmdpblRvcCwgbWFyZ2luQm90dG9tLCBzZWxmU2Nyb2xsLFxuICAgICAgICBoZWlnaHQ6IE1hdGgubWF4KHZpZXcuZGVmYXVsdExpbmVIZWlnaHQsIGhlaWdodCAtIDUpIH07XG59XG5mdW5jdGlvbiBjdXJzb3JCeVBhZ2UodmlldywgZm9yd2FyZCkge1xuICAgIGxldCBwYWdlID0gcGFnZUluZm8odmlldyk7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIHNlbGVjdGlvbiA9IHVwZGF0ZVNlbChzdGF0ZS5zZWxlY3Rpb24sIHJhbmdlID0+IHtcbiAgICAgICAgcmV0dXJuIHJhbmdlLmVtcHR5ID8gdmlldy5tb3ZlVmVydGljYWxseShyYW5nZSwgZm9yd2FyZCwgcGFnZS5oZWlnaHQpXG4gICAgICAgICAgICA6IHJhbmdlRW5kKHJhbmdlLCBmb3J3YXJkKTtcbiAgICB9KTtcbiAgICBpZiAoc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZWZmZWN0O1xuICAgIGlmIChwYWdlLnNlbGZTY3JvbGwpIHtcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gdmlldy5jb29yZHNBdFBvcyhzdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgbGV0IHNjcm9sbFJlY3QgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHNjcm9sbFRvcCA9IHNjcm9sbFJlY3QudG9wICsgcGFnZS5tYXJnaW5Ub3AsIHNjcm9sbEJvdHRvbSA9IHNjcm9sbFJlY3QuYm90dG9tIC0gcGFnZS5tYXJnaW5Cb3R0b207XG4gICAgICAgIGlmIChzdGFydFBvcyAmJiBzdGFydFBvcy50b3AgPiBzY3JvbGxUb3AgJiYgc3RhcnRQb3MuYm90dG9tIDwgc2Nyb2xsQm90dG9tKVxuICAgICAgICAgICAgZWZmZWN0ID0gRWRpdG9yVmlldy5zY3JvbGxJbnRvVmlldyhzZWxlY3Rpb24ubWFpbi5oZWFkLCB7IHk6IFwic3RhcnRcIiwgeU1hcmdpbjogc3RhcnRQb3MudG9wIC0gc2Nyb2xsVG9wIH0pO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSwgeyBlZmZlY3RzOiBlZmZlY3QgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgcGFnZSB1cC5cbiovXG5jb25zdCBjdXJzb3JQYWdlVXAgPSB2aWV3ID0+IGN1cnNvckJ5UGFnZSh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgcGFnZSBkb3duLlxuKi9cbmNvbnN0IGN1cnNvclBhZ2VEb3duID0gdmlldyA9PiBjdXJzb3JCeVBhZ2UodmlldywgdHJ1ZSk7XG5mdW5jdGlvbiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgc3RhcnQsIGZvcndhcmQpIHtcbiAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQoc3RhcnQuaGVhZCksIG1vdmVkID0gdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkoc3RhcnQsIGZvcndhcmQpO1xuICAgIGlmIChtb3ZlZC5oZWFkID09IHN0YXJ0LmhlYWQgJiYgbW92ZWQuaGVhZCAhPSAoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20pKVxuICAgICAgICBtb3ZlZCA9IHZpZXcubW92ZVRvTGluZUJvdW5kYXJ5KHN0YXJ0LCBmb3J3YXJkLCBmYWxzZSk7XG4gICAgaWYgKCFmb3J3YXJkICYmIG1vdmVkLmhlYWQgPT0gbGluZS5mcm9tICYmIGxpbmUubGVuZ3RoKSB7XG4gICAgICAgIGxldCBzcGFjZSA9IC9eXFxzKi8uZXhlYyh2aWV3LnN0YXRlLnNsaWNlRG9jKGxpbmUuZnJvbSwgTWF0aC5taW4obGluZS5mcm9tICsgMTAwLCBsaW5lLnRvKSkpWzBdLmxlbmd0aDtcbiAgICAgICAgaWYgKHNwYWNlICYmIHN0YXJ0LmhlYWQgIT0gbGluZS5mcm9tICsgc3BhY2UpXG4gICAgICAgICAgICBtb3ZlZCA9IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobGluZS5mcm9tICsgc3BhY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbW92ZWQ7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgbmV4dCBsaW5lIHdyYXAgcG9pbnQsIG9yIHRvIHRoZSBlbmQgb2ZcbnRoZSBsaW5lIGlmIHRoZXJlIGlzbid0IG9uZSBsZWZ0IG9uIHRoaXMgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCByYW5nZSwgdHJ1ZSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gcHJldmlvdXMgbGluZSB3cmFwIHBvaW50LCBvciBmYWlsaW5nIHRoYXQgdG9cbnRoZSBzdGFydCBvZiB0aGUgbGluZS4gSWYgdGhlIGxpbmUgaXMgaW5kZW50ZWQsIGFuZCB0aGUgY3Vyc29yXG5pc24ndCBhbHJlYWR5IGF0IHRoZSBlbmQgb2YgdGhlIGluZGVudGF0aW9uLCB0aGlzIHdpbGwgbW92ZSB0byB0aGVcbmVuZCBvZiB0aGUgaW5kZW50YXRpb24gaW5zdGVhZCBvZiB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3QgY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCBmYWxzZSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgd3JhcCBwb2ludCB0byB0aGUgbGVmdC5cbiovXG5jb25zdCBjdXJzb3JMaW5lQm91bmRhcnlMZWZ0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCByYW5nZSwgIWx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgbGluZSB3cmFwIHBvaW50IHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBjdXJzb3JMaW5lQm91bmRhcnlSaWdodCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3QgY3Vyc29yTGluZVN0YXJ0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IEVkaXRvclNlbGVjdGlvbi5jdXJzb3Iodmlldy5saW5lQmxvY2tBdChyYW5nZS5oZWFkKS5mcm9tLCAxKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVFbmQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLnRvLCAtMSkpO1xuZnVuY3Rpb24gdG9NYXRjaGluZ0JyYWNrZXQoc3RhdGUsIGRpc3BhdGNoLCBleHRlbmQpIHtcbiAgICBsZXQgZm91bmQgPSBmYWxzZSwgc2VsZWN0aW9uID0gdXBkYXRlU2VsKHN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICBsZXQgbWF0Y2hpbmcgPSBtYXRjaEJyYWNrZXRzKHN0YXRlLCByYW5nZS5oZWFkLCAtMSlcbiAgICAgICAgICAgIHx8IG1hdGNoQnJhY2tldHMoc3RhdGUsIHJhbmdlLmhlYWQsIDEpXG4gICAgICAgICAgICB8fCAocmFuZ2UuaGVhZCA+IDAgJiYgbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCAtIDEsIDEpKVxuICAgICAgICAgICAgfHwgKHJhbmdlLmhlYWQgPCBzdGF0ZS5kb2MubGVuZ3RoICYmIG1hdGNoQnJhY2tldHMoc3RhdGUsIHJhbmdlLmhlYWQgKyAxLCAtMSkpO1xuICAgICAgICBpZiAoIW1hdGNoaW5nIHx8ICFtYXRjaGluZy5lbmQpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgbGV0IGhlYWQgPSBtYXRjaGluZy5zdGFydC5mcm9tID09IHJhbmdlLmhlYWQgPyBtYXRjaGluZy5lbmQudG8gOiBtYXRjaGluZy5lbmQuZnJvbTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCA/IEVkaXRvclNlbGVjdGlvbi5yYW5nZShyYW5nZS5hbmNob3IsIGhlYWQpIDogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihoZWFkKTtcbiAgICB9KTtcbiAgICBpZiAoIWZvdW5kKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBicmFja2V0IG1hdGNoaW5nIHRoZSBvbmUgaXQgaXMgY3VycmVudGx5XG5vbiwgaWYgYW55LlxuKi9cbmNvbnN0IGN1cnNvck1hdGNoaW5nQnJhY2tldCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB0b01hdGNoaW5nQnJhY2tldChzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKTtcbi8qKlxuRXh0ZW5kIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGJyYWNrZXQgbWF0Y2hpbmcgdGhlIG9uZSB0aGUgc2VsZWN0aW9uXG5oZWFkIGlzIGN1cnJlbnRseSBvbiwgaWYgYW55LlxuKi9cbmNvbnN0IHNlbGVjdE1hdGNoaW5nQnJhY2tldCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB0b01hdGNoaW5nQnJhY2tldChzdGF0ZSwgZGlzcGF0Y2gsIHRydWUpO1xuZnVuY3Rpb24gZXh0ZW5kU2VsKHRhcmdldCwgaG93KSB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbCh0YXJnZXQuc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIGxldCBoZWFkID0gaG93KHJhbmdlKTtcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShyYW5nZS5hbmNob3IsIGhlYWQuaGVhZCwgaGVhZC5nb2FsQ29sdW1uLCBoZWFkLmJpZGlMZXZlbCB8fCB1bmRlZmluZWQpO1xuICAgIH0pO1xuICAgIGlmIChzZWxlY3Rpb24uZXEodGFyZ2V0LnN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB0YXJnZXQuZGlzcGF0Y2goc2V0U2VsKHRhcmdldC5zdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBzZWxlY3RCeUNoYXIodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gdmlldy5tb3ZlQnlDaGFyKHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBjaGFyYWN0ZXIgdG8gdGhlIGxlZnQsIHdoaWxlIGxlYXZpbmdcbnRoZSBhbmNob3IgaW4gcGxhY2UuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckxlZnQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIHRvIHRoZSByaWdodC5cbiovXG5jb25zdCBzZWxlY3RDaGFyUmlnaHQgPSB2aWV3ID0+IHNlbGVjdEJ5Q2hhcih2aWV3LCBsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBjaGFyYWN0ZXIgZm9yd2FyZC5cbiovXG5jb25zdCBzZWxlY3RDaGFyRm9yd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlDaGFyKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIGJhY2t3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdENoYXJCYWNrd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlDaGFyKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciBmb3J3YXJkIGJ5IGxvZ2ljYWxcbihub24tZGlyZWN0aW9uIGF3YXJlKSBzdHJpbmcgaW5kZXggb3JkZXIuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckZvcndhcmRMb2dpY2FsID0gdGFyZ2V0ID0+IGV4dGVuZFNlbCh0YXJnZXQsIHJhbmdlID0+IGJ5Q2hhckxvZ2ljYWwodGFyZ2V0LnN0YXRlLCByYW5nZSwgdHJ1ZSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgY2hhcmFjdGVyIGJhY2t3YXJkIGJ5IGxvZ2ljYWwgc3RyaW5nXG5pbmRleCBvcmRlci5cbiovXG5jb25zdCBzZWxlY3RDaGFyQmFja3dhcmRMb2dpY2FsID0gdGFyZ2V0ID0+IGV4dGVuZFNlbCh0YXJnZXQsIHJhbmdlID0+IGJ5Q2hhckxvZ2ljYWwodGFyZ2V0LnN0YXRlLCByYW5nZSwgZmFsc2UpKTtcbmZ1bmN0aW9uIHNlbGVjdEJ5R3JvdXAodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gdmlldy5tb3ZlQnlHcm91cChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgW2dyb3VwXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckdyb3VwTGVmdCkgdG9cbnRoZSBsZWZ0LlxuKi9cbmNvbnN0IHNlbGVjdEdyb3VwTGVmdCA9IHZpZXcgPT4gc2VsZWN0QnlHcm91cCh2aWV3LCAhbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IHNlbGVjdEdyb3VwUmlnaHQgPSB2aWV3ID0+IHNlbGVjdEJ5R3JvdXAodmlldywgbHRyQXRDdXJzb3IodmlldykpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgZm9yd2FyZC5cbiovXG5jb25zdCBzZWxlY3RHcm91cEZvcndhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5R3JvdXAodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCBiYWNrd2FyZC5cbiovXG5jb25zdCBzZWxlY3RHcm91cEJhY2t3YXJkID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIGZvcndhcmQgaW4gdGhlIGRlZmF1bHQgV2luZG93c1xuc3R5bGUsIHNraXBwaW5nIHRvIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBncm91cC5cbiovXG5jb25zdCBzZWxlY3RHcm91cEZvcndhcmRXaW4gPSB2aWV3ID0+IHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZUJ5Q2hhcihyYW5nZSwgdHJ1ZSwgc3RhcnQgPT4gdG9Hcm91cFN0YXJ0KHZpZXcsIHJhbmdlLmhlYWQsIHN0YXJ0KSkpO1xufTtcbmZ1bmN0aW9uIHNlbGVjdEJ5U3Vid29yZCh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTdWJ3b3JkKHZpZXcsIHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCBvciBjYW1lbC1jYXNlIHN1YndvcmQgZm9yd2FyZC5cbiovXG5jb25zdCBzZWxlY3RTdWJ3b3JkRm9yd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlTdWJ3b3JkKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgZ3JvdXAgb3Igc3Vid29yZCBiYWNrd2FyZC5cbiovXG5jb25zdCBzZWxlY3RTdWJ3b3JkQmFja3dhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5U3Vid29yZCh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG92ZXIgdGhlIG5leHQgc3ludGFjdGljIGVsZW1lbnQgdG8gdGhlIGxlZnQuXG4qL1xuY29uc3Qgc2VsZWN0U3ludGF4TGVmdCA9IHZpZXcgPT4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN5bnRheCh2aWV3LnN0YXRlLCByYW5nZSwgIWx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG92ZXIgdGhlIG5leHQgc3ludGFjdGljIGVsZW1lbnQgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IHNlbGVjdFN5bnRheFJpZ2h0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3ludGF4KHZpZXcuc3RhdGUsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuZnVuY3Rpb24gc2VsZWN0QnlMaW5lKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGxpbmUgdXAuXG4qL1xuY29uc3Qgc2VsZWN0TGluZVVwID0gdmlldyA9PiBzZWxlY3RCeUxpbmUodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSBkb3duLlxuKi9cbmNvbnN0IHNlbGVjdExpbmVEb3duID0gdmlldyA9PiBzZWxlY3RCeUxpbmUodmlldywgdHJ1ZSk7XG5mdW5jdGlvbiBzZWxlY3RCeVBhZ2UodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gdmlldy5tb3ZlVmVydGljYWxseShyYW5nZSwgZm9yd2FyZCwgcGFnZUluZm8odmlldykuaGVpZ2h0KSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBwYWdlIHVwLlxuKi9cbmNvbnN0IHNlbGVjdFBhZ2VVcCA9IHZpZXcgPT4gc2VsZWN0QnlQYWdlKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIHBhZ2UgZG93bi5cbiovXG5jb25zdCBzZWxlY3RQYWdlRG93biA9IHZpZXcgPT4gc2VsZWN0QnlQYWdlKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgbmV4dCBsaW5lIGJvdW5kYXJ5LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIHRydWUpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIHByZXZpb3VzIGxpbmUgYm91bmRhcnkuXG4qL1xuY29uc3Qgc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGZhbHNlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBsaW5lIGJvdW5kYXJ5IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUxlZnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSBib3VuZGFyeSB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0TGluZUJvdW5kYXJ5UmlnaHQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBzZWxlY3RMaW5lU3RhcnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkuZnJvbSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuKi9cbmNvbnN0IHNlbGVjdExpbmVFbmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkudG8pKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgZG9jdW1lbnQuXG4qL1xuY29uc3QgY3Vyc29yRG9jU3RhcnQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgeyBhbmNob3I6IDAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IGN1cnNvckRvY0VuZCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuZG9jLmxlbmd0aCB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgc3RhcnQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdERvY1N0YXJ0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3IsIGhlYWQ6IDAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4qL1xuY29uc3Qgc2VsZWN0RG9jRW5kID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3IsIGhlYWQ6IHN0YXRlLmRvYy5sZW5ndGggfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2VsZWN0IHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4qL1xuY29uc3Qgc2VsZWN0QWxsID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBzZWxlY3Rpb246IHsgYW5jaG9yOiAwLCBoZWFkOiBzdGF0ZS5kb2MubGVuZ3RoIH0sIHVzZXJFdmVudDogXCJzZWxlY3RcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5FeHBhbmQgdGhlIHNlbGVjdGlvbiB0byBjb3ZlciBlbnRpcmUgbGluZXMuXG4qL1xuY29uc3Qgc2VsZWN0TGluZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHJhbmdlcyA9IHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkubWFwKCh7IGZyb20sIHRvIH0pID0+IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCBNYXRoLm1pbih0byArIDEsIHN0YXRlLmRvYy5sZW5ndGgpKSk7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcyksIHVzZXJFdmVudDogXCJzZWxlY3RcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5TZWxlY3QgdGhlIG5leHQgc3ludGFjdGljIGNvbnN0cnVjdCB0aGF0IGlzIGxhcmdlciB0aGFuIHRoZVxuc2VsZWN0aW9uLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG9ubHkgd29yayBpbnNvZmFyIGFzIHRoZSBsYW5ndWFnZVxuW3Byb3ZpZGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlKSB5b3UgdXNlIGJ1aWxkcyB1cCBhIGZ1bGxcbnN5bnRheCB0cmVlLlxuKi9cbmNvbnN0IHNlbGVjdFBhcmVudFN5bnRheCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbChzdGF0ZS5zZWxlY3Rpb24sIHJhbmdlID0+IHtcbiAgICAgICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKSwgc3RhY2sgPSB0cmVlLnJlc29sdmVTdGFjayhyYW5nZS5mcm9tLCAxKTtcbiAgICAgICAgaWYgKHJhbmdlLmVtcHR5KSB7XG4gICAgICAgICAgICBsZXQgc3RhY2tCZWZvcmUgPSB0cmVlLnJlc29sdmVTdGFjayhyYW5nZS5mcm9tLCAtMSk7XG4gICAgICAgICAgICBpZiAoc3RhY2tCZWZvcmUubm9kZS5mcm9tID49IHN0YWNrLm5vZGUuZnJvbSAmJiBzdGFja0JlZm9yZS5ub2RlLnRvIDw9IHN0YWNrLm5vZGUudG8pXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFja0JlZm9yZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjdXIgPSBzdGFjazsgY3VyOyBjdXIgPSBjdXIubmV4dCkge1xuICAgICAgICAgICAgbGV0IHsgbm9kZSB9ID0gY3VyO1xuICAgICAgICAgICAgaWYgKCgobm9kZS5mcm9tIDwgcmFuZ2UuZnJvbSAmJiBub2RlLnRvID49IHJhbmdlLnRvKSB8fFxuICAgICAgICAgICAgICAgIChub2RlLnRvID4gcmFuZ2UudG8gJiYgbm9kZS5mcm9tIDw9IHJhbmdlLmZyb20pKSAmJlxuICAgICAgICAgICAgICAgIGN1ci5uZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2Uobm9kZS50bywgbm9kZS5mcm9tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfSk7XG4gICAgaWYgKHNlbGVjdGlvbi5lcShzdGF0ZS5zZWxlY3Rpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblNpbXBsaWZ5IHRoZSBjdXJyZW50IHNlbGVjdGlvbi4gV2hlbiBtdWx0aXBsZSByYW5nZXMgYXJlIHNlbGVjdGVkLFxucmVkdWNlIGl0IHRvIGl0cyBtYWluIHJhbmdlLiBPdGhlcndpc2UsIGlmIHRoZSBzZWxlY3Rpb24gaXNcbm5vbi1lbXB0eSwgY29udmVydCBpdCB0byBhIGN1cnNvciBzZWxlY3Rpb24uXG4qL1xuY29uc3Qgc2ltcGxpZnlTZWxlY3Rpb24gPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGxldCBjdXIgPSBzdGF0ZS5zZWxlY3Rpb24sIHNlbGVjdGlvbiA9IG51bGw7XG4gICAgaWYgKGN1ci5yYW5nZXMubGVuZ3RoID4gMSlcbiAgICAgICAgc2VsZWN0aW9uID0gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbY3VyLm1haW5dKTtcbiAgICBlbHNlIGlmICghY3VyLm1haW4uZW1wdHkpXG4gICAgICAgIHNlbGVjdGlvbiA9IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoW0VkaXRvclNlbGVjdGlvbi5jdXJzb3IoY3VyLm1haW4uaGVhZCldKTtcbiAgICBpZiAoIXNlbGVjdGlvbilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgc2VsZWN0aW9uKSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZnVuY3Rpb24gZGVsZXRlQnkodGFyZ2V0LCBieSkge1xuICAgIGlmICh0YXJnZXQuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZXZlbnQgPSBcImRlbGV0ZS5zZWxlY3Rpb25cIiwgeyBzdGF0ZSB9ID0gdGFyZ2V0O1xuICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZTtcbiAgICAgICAgaWYgKGZyb20gPT0gdG8pIHtcbiAgICAgICAgICAgIGxldCB0b3dhcmRzID0gYnkocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHRvd2FyZHMgPCBmcm9tKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBcImRlbGV0ZS5iYWNrd2FyZFwiO1xuICAgICAgICAgICAgICAgIHRvd2FyZHMgPSBza2lwQXRvbWljKHRhcmdldCwgdG93YXJkcywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG93YXJkcyA+IGZyb20pIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IFwiZGVsZXRlLmZvcndhcmRcIjtcbiAgICAgICAgICAgICAgICB0b3dhcmRzID0gc2tpcEF0b21pYyh0YXJnZXQsIHRvd2FyZHMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbSA9IE1hdGgubWluKGZyb20sIHRvd2FyZHMpO1xuICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgdG93YXJkcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcm9tID0gc2tpcEF0b21pYyh0YXJnZXQsIGZyb20sIGZhbHNlKTtcbiAgICAgICAgICAgIHRvID0gc2tpcEF0b21pYyh0YXJnZXQsIHRvLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbSA9PSB0byA/IHsgcmFuZ2UgfSA6IHsgY2hhbmdlczogeyBmcm9tLCB0byB9LCByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmcm9tLCBmcm9tIDwgcmFuZ2UuaGVhZCA/IC0xIDogMSkgfTtcbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlcy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGFyZ2V0LmRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IGV2ZW50LFxuICAgICAgICBlZmZlY3RzOiBldmVudCA9PSBcImRlbGV0ZS5zZWxlY3Rpb25cIiA/IEVkaXRvclZpZXcuYW5ub3VuY2Uub2Yoc3RhdGUucGhyYXNlKFwiU2VsZWN0aW9uIGRlbGV0ZWRcIikpIDogdW5kZWZpbmVkXG4gICAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2tpcEF0b21pYyh0YXJnZXQsIHBvcywgZm9yd2FyZCkge1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBFZGl0b3JWaWV3KVxuICAgICAgICBmb3IgKGxldCByYW5nZXMgb2YgdGFyZ2V0LnN0YXRlLmZhY2V0KEVkaXRvclZpZXcuYXRvbWljUmFuZ2VzKS5tYXAoZiA9PiBmKHRhcmdldCkpKVxuICAgICAgICAgICAgcmFuZ2VzLmJldHdlZW4ocG9zLCBwb3MsIChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tIDwgcG9zICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBmb3J3YXJkID8gdG8gOiBmcm9tO1xuICAgICAgICAgICAgfSk7XG4gICAgcmV0dXJuIHBvcztcbn1cbmNvbnN0IGRlbGV0ZUJ5Q2hhciA9ICh0YXJnZXQsIGZvcndhcmQsIGJ5SW5kZW50VW5pdCkgPT4gZGVsZXRlQnkodGFyZ2V0LCByYW5nZSA9PiB7XG4gICAgbGV0IHBvcyA9IHJhbmdlLmZyb20sIHsgc3RhdGUgfSA9IHRhcmdldCwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKSwgYmVmb3JlLCB0YXJnZXRQb3M7XG4gICAgaWYgKGJ5SW5kZW50VW5pdCAmJiAhZm9yd2FyZCAmJiBwb3MgPiBsaW5lLmZyb20gJiYgcG9zIDwgbGluZS5mcm9tICsgMjAwICYmXG4gICAgICAgICEvW14gXFx0XS8udGVzdChiZWZvcmUgPSBsaW5lLnRleHQuc2xpY2UoMCwgcG9zIC0gbGluZS5mcm9tKSkpIHtcbiAgICAgICAgaWYgKGJlZm9yZVtiZWZvcmUubGVuZ3RoIC0gMV0gPT0gXCJcXHRcIilcbiAgICAgICAgICAgIHJldHVybiBwb3MgLSAxO1xuICAgICAgICBsZXQgY29sID0gY291bnRDb2x1bW4oYmVmb3JlLCBzdGF0ZS50YWJTaXplKSwgZHJvcCA9IGNvbCAlIGdldEluZGVudFVuaXQoc3RhdGUpIHx8IGdldEluZGVudFVuaXQoc3RhdGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyb3AgJiYgYmVmb3JlW2JlZm9yZS5sZW5ndGggLSAxIC0gaV0gPT0gXCIgXCI7IGkrKylcbiAgICAgICAgICAgIHBvcy0tO1xuICAgICAgICB0YXJnZXRQb3MgPSBwb3M7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXRQb3MgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCBmb3J3YXJkLCBmb3J3YXJkKSArIGxpbmUuZnJvbTtcbiAgICAgICAgaWYgKHRhcmdldFBvcyA9PSBwb3MgJiYgbGluZS5udW1iZXIgIT0gKGZvcndhcmQgPyBzdGF0ZS5kb2MubGluZXMgOiAxKSlcbiAgICAgICAgICAgIHRhcmdldFBvcyArPSBmb3J3YXJkID8gMSA6IC0xO1xuICAgICAgICBlbHNlIGlmICghZm9yd2FyZCAmJiAvW1xcdWZlMDAtXFx1ZmUwZl0vLnRlc3QobGluZS50ZXh0LnNsaWNlKHRhcmdldFBvcyAtIGxpbmUuZnJvbSwgcG9zIC0gbGluZS5mcm9tKSkpXG4gICAgICAgICAgICB0YXJnZXRQb3MgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgdGFyZ2V0UG9zIC0gbGluZS5mcm9tLCBmYWxzZSwgZmFsc2UpICsgbGluZS5mcm9tO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0UG9zO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uLCBvciwgZm9yIGN1cnNvciBzZWxlY3Rpb25zLCB0aGUgY2hhcmFjdGVyIG9yXG5pbmRlbnRhdGlvbiB1bml0IGJlZm9yZSB0aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGRlbGV0ZUNoYXJCYWNrd2FyZCA9IHZpZXcgPT4gZGVsZXRlQnlDaGFyKHZpZXcsIGZhbHNlLCB0cnVlKTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24gb3IgdGhlIGNoYXJhY3RlciBiZWZvcmUgdGhlIGN1cnNvci4gRG9lcyBub3RcbmltcGxlbWVudCBhbnkgZXh0ZW5kZWQgYmVoYXZpb3IgbGlrZSBkZWxldGluZyB3aG9sZSBpbmRlbnRhdGlvblxudW5pdHMgaW4gb25lIGdvLlxuKi9cbmNvbnN0IGRlbGV0ZUNoYXJCYWNrd2FyZFN0cmljdCA9IHZpZXcgPT4gZGVsZXRlQnlDaGFyKHZpZXcsIGZhbHNlLCBmYWxzZSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIHRoZSBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGN1cnNvci5cbiovXG5jb25zdCBkZWxldGVDaGFyRm9yd2FyZCA9IHZpZXcgPT4gZGVsZXRlQnlDaGFyKHZpZXcsIHRydWUsIGZhbHNlKTtcbmNvbnN0IGRlbGV0ZUJ5R3JvdXAgPSAodGFyZ2V0LCBmb3J3YXJkKSA9PiBkZWxldGVCeSh0YXJnZXQsIHJhbmdlID0+IHtcbiAgICBsZXQgcG9zID0gcmFuZ2UuaGVhZCwgeyBzdGF0ZSB9ID0gdGFyZ2V0LCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgIGxldCBjYXRlZ29yaXplID0gc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgZm9yIChsZXQgY2F0ID0gbnVsbDs7KSB7XG4gICAgICAgIGlmIChwb3MgPT0gKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tKSkge1xuICAgICAgICAgICAgaWYgKHBvcyA9PSByYW5nZS5oZWFkICYmIGxpbmUubnVtYmVyICE9IChmb3J3YXJkID8gc3RhdGUuZG9jLmxpbmVzIDogMSkpXG4gICAgICAgICAgICAgICAgcG9zICs9IGZvcndhcmQgPyAxIDogLTE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dCA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBwb3MgLSBsaW5lLmZyb20sIGZvcndhcmQpICsgbGluZS5mcm9tO1xuICAgICAgICBsZXQgbmV4dENoYXIgPSBsaW5lLnRleHQuc2xpY2UoTWF0aC5taW4ocG9zLCBuZXh0KSAtIGxpbmUuZnJvbSwgTWF0aC5tYXgocG9zLCBuZXh0KSAtIGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBuZXh0Q2F0ID0gY2F0ZWdvcml6ZShuZXh0Q2hhcik7XG4gICAgICAgIGlmIChjYXQgIT0gbnVsbCAmJiBuZXh0Q2F0ICE9IGNhdClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAobmV4dENoYXIgIT0gXCIgXCIgfHwgcG9zICE9IHJhbmdlLmhlYWQpXG4gICAgICAgICAgICBjYXQgPSBuZXh0Q2F0O1xuICAgICAgICBwb3MgPSBuZXh0O1xuICAgIH1cbiAgICByZXR1cm4gcG9zO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIGJhY2t3YXJkIHVudGlsIHRoZSBlbmQgb2YgdGhlIG5leHRcbltncm91cF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZUJ5R3JvdXApLCBvbmx5IHNraXBwaW5nIGdyb3VwcyBvZlxud2hpdGVzcGFjZSB3aGVuIHRoZXkgY29uc2lzdCBvZiBhIHNpbmdsZSBzcGFjZS5cbiovXG5jb25zdCBkZWxldGVHcm91cEJhY2t3YXJkID0gdGFyZ2V0ID0+IGRlbGV0ZUJ5R3JvdXAodGFyZ2V0LCBmYWxzZSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIGZvcndhcmQgdW50aWwgdGhlIGVuZCBvZiB0aGUgbmV4dCBncm91cC5cbiovXG5jb25zdCBkZWxldGVHcm91cEZvcndhcmQgPSB0YXJnZXQgPT4gZGVsZXRlQnlHcm91cCh0YXJnZXQsIHRydWUpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGlmIGl0IGlzIGEgY3Vyc29yIHNlbGVjdGlvbiwgZGVsZXRlIHRvXG50aGUgZW5kIG9mIHRoZSBsaW5lLiBJZiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IGF0IHRoZSBlbmQgb2YgdGhlXG5saW5lLCBkZWxldGUgdGhlIGxpbmUgYnJlYWsgYWZ0ZXIgaXQuXG4qL1xuY29uc3QgZGVsZXRlVG9MaW5lRW5kID0gdmlldyA9PiBkZWxldGVCeSh2aWV3LCByYW5nZSA9PiB7XG4gICAgbGV0IGxpbmVFbmQgPSB2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLnRvO1xuICAgIHJldHVybiByYW5nZS5oZWFkIDwgbGluZUVuZCA/IGxpbmVFbmQgOiBNYXRoLm1pbih2aWV3LnN0YXRlLmRvYy5sZW5ndGgsIHJhbmdlLmhlYWQgKyAxKTtcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGlmIGl0IGlzIGEgY3Vyc29yIHNlbGVjdGlvbiwgZGVsZXRlIHRvXG50aGUgc3RhcnQgb2YgdGhlIGxpbmUuIElmIHRoZSBjdXJzb3IgaXMgZGlyZWN0bHkgYXQgdGhlIHN0YXJ0IG9mIHRoZVxubGluZSwgZGVsZXRlIHRoZSBsaW5lIGJyZWFrIGJlZm9yZSBpdC5cbiovXG5jb25zdCBkZWxldGVUb0xpbmVTdGFydCA9IHZpZXcgPT4gZGVsZXRlQnkodmlldywgcmFuZ2UgPT4ge1xuICAgIGxldCBsaW5lU3RhcnQgPSB2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLmZyb207XG4gICAgcmV0dXJuIHJhbmdlLmhlYWQgPiBsaW5lU3RhcnQgPyBsaW5lU3RhcnQgOiBNYXRoLm1heCgwLCByYW5nZS5oZWFkIC0gMSk7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBpZiBpdCBpcyBhIGN1cnNvciBzZWxlY3Rpb24sIGRlbGV0ZSB0b1xudGhlIHN0YXJ0IG9mIHRoZSBsaW5lIG9yIHRoZSBuZXh0IGxpbmUgd3JhcCBiZWZvcmUgdGhlIGN1cnNvci5cbiovXG5jb25zdCBkZWxldGVMaW5lQm91bmRhcnlCYWNrd2FyZCA9IHZpZXcgPT4gZGVsZXRlQnkodmlldywgcmFuZ2UgPT4ge1xuICAgIGxldCBsaW5lU3RhcnQgPSB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShyYW5nZSwgZmFsc2UpLmhlYWQ7XG4gICAgcmV0dXJuIHJhbmdlLmhlYWQgPiBsaW5lU3RhcnQgPyBsaW5lU3RhcnQgOiBNYXRoLm1heCgwLCByYW5nZS5oZWFkIC0gMSk7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBpZiBpdCBpcyBhIGN1cnNvciBzZWxlY3Rpb24sIGRlbGV0ZSB0b1xudGhlIGVuZCBvZiB0aGUgbGluZSBvciB0aGUgbmV4dCBsaW5lIHdyYXAgYWZ0ZXIgdGhlIGN1cnNvci5cbiovXG5jb25zdCBkZWxldGVMaW5lQm91bmRhcnlGb3J3YXJkID0gdmlldyA9PiBkZWxldGVCeSh2aWV3LCByYW5nZSA9PiB7XG4gICAgbGV0IGxpbmVTdGFydCA9IHZpZXcubW92ZVRvTGluZUJvdW5kYXJ5KHJhbmdlLCB0cnVlKS5oZWFkO1xuICAgIHJldHVybiByYW5nZS5oZWFkIDwgbGluZVN0YXJ0ID8gbGluZVN0YXJ0IDogTWF0aC5taW4odmlldy5zdGF0ZS5kb2MubGVuZ3RoLCByYW5nZS5oZWFkICsgMSk7XG59KTtcbi8qKlxuRGVsZXRlIGFsbCB3aGl0ZXNwYWNlIGRpcmVjdGx5IGJlZm9yZSBhIGxpbmUgZW5kIGZyb20gdGhlXG5kb2N1bWVudC5cbiovXG5jb25zdCBkZWxldGVUcmFpbGluZ1doaXRlc3BhY2UgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgZm9yIChsZXQgcG9zID0gMCwgcHJldiA9IFwiXCIsIGl0ZXIgPSBzdGF0ZS5kb2MuaXRlcigpOzspIHtcbiAgICAgICAgaXRlci5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVyLmxpbmVCcmVhayB8fCBpdGVyLmRvbmUpIHtcbiAgICAgICAgICAgIGxldCB0cmFpbGluZyA9IHByZXYuc2VhcmNoKC9cXHMrJC8pO1xuICAgICAgICAgICAgaWYgKHRyYWlsaW5nID4gLTEpXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogcG9zIC0gKHByZXYubGVuZ3RoIC0gdHJhaWxpbmcpLCB0bzogcG9zIH0pO1xuICAgICAgICAgICAgaWYgKGl0ZXIuZG9uZSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHByZXYgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldiA9IGl0ZXIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcG9zICs9IGl0ZXIudmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoIWNoYW5nZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgY2hhbmdlcywgdXNlckV2ZW50OiBcImRlbGV0ZVwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlcGxhY2UgZWFjaCBzZWxlY3Rpb24gcmFuZ2Ugd2l0aCBhIGxpbmUgYnJlYWssIGxlYXZpbmcgdGhlIGN1cnNvclxub24gdGhlIGxpbmUgYmVmb3JlIHRoZSBicmVhay5cbiovXG5jb25zdCBzcGxpdExpbmUgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogcmFuZ2UuZnJvbSwgdG86IHJhbmdlLnRvLCBpbnNlcnQ6IFRleHQub2YoW1wiXCIsIFwiXCJdKSB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSkgfTtcbiAgICB9KTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuRmxpcCB0aGUgY2hhcmFjdGVycyBiZWZvcmUgYW5kIGFmdGVyIHRoZSBjdXJzb3IocykuXG4qL1xuY29uc3QgdHJhbnNwb3NlQ2hhcnMgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgfHwgcmFuZ2UuZnJvbSA9PSAwIHx8IHJhbmdlLmZyb20gPT0gc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgICAgIGxldCBwb3MgPSByYW5nZS5mcm9tLCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICBsZXQgZnJvbSA9IHBvcyA9PSBsaW5lLmZyb20gPyBwb3MgLSAxIDogZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZmFsc2UpICsgbGluZS5mcm9tO1xuICAgICAgICBsZXQgdG8gPSBwb3MgPT0gbGluZS50byA/IHBvcyArIDEgOiBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCB0cnVlKSArIGxpbmUuZnJvbTtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tLCB0bywgaW5zZXJ0OiBzdGF0ZS5kb2Muc2xpY2UocG9zLCB0bykuYXBwZW5kKHN0YXRlLmRvYy5zbGljZShmcm9tLCBwb3MpKSB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IodG8pIH07XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZXMuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwibW92ZS5jaGFyYWN0ZXJcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZnVuY3Rpb24gc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKSB7XG4gICAgbGV0IGJsb2NrcyA9IFtdLCB1cHRvID0gLTE7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBsZXQgc3RhcnRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyYW5nZS5mcm9tKSwgZW5kTGluZSA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UudG8pO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5ICYmIHJhbmdlLnRvID09IGVuZExpbmUuZnJvbSlcbiAgICAgICAgICAgIGVuZExpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLnRvIC0gMSk7XG4gICAgICAgIGlmICh1cHRvID49IHN0YXJ0TGluZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gYmxvY2tzW2Jsb2Nrcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHByZXYudG8gPSBlbmRMaW5lLnRvO1xuICAgICAgICAgICAgcHJldi5yYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaCh7IGZyb206IHN0YXJ0TGluZS5mcm9tLCB0bzogZW5kTGluZS50bywgcmFuZ2VzOiBbcmFuZ2VdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVwdG8gPSBlbmRMaW5lLm51bWJlciArIDE7XG4gICAgfVxuICAgIHJldHVybiBibG9ja3M7XG59XG5mdW5jdGlvbiBtb3ZlTGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZvcndhcmQpIHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY2hhbmdlcyA9IFtdLCByYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBibG9jayBvZiBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpKSB7XG4gICAgICAgIGlmIChmb3J3YXJkID8gYmxvY2sudG8gPT0gc3RhdGUuZG9jLmxlbmd0aCA6IGJsb2NrLmZyb20gPT0gMClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsZXQgbmV4dExpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZvcndhcmQgPyBibG9jay50byArIDEgOiBibG9jay5mcm9tIC0gMSk7XG4gICAgICAgIGxldCBzaXplID0gbmV4dExpbmUubGVuZ3RoICsgMTtcbiAgICAgICAgaWYgKGZvcndhcmQpIHtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGJsb2NrLnRvLCB0bzogbmV4dExpbmUudG8gfSwgeyBmcm9tOiBibG9jay5mcm9tLCBpbnNlcnQ6IG5leHRMaW5lLnRleHQgKyBzdGF0ZS5saW5lQnJlYWsgfSk7XG4gICAgICAgICAgICBmb3IgKGxldCByIG9mIGJsb2NrLnJhbmdlcylcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgci5hbmNob3IgKyBzaXplKSwgTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgci5oZWFkICsgc2l6ZSkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IG5leHRMaW5lLmZyb20sIHRvOiBibG9jay5mcm9tIH0sIHsgZnJvbTogYmxvY2sudG8sIGluc2VydDogc3RhdGUubGluZUJyZWFrICsgbmV4dExpbmUudGV4dCB9KTtcbiAgICAgICAgICAgIGZvciAobGV0IHIgb2YgYmxvY2sucmFuZ2VzKVxuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKEVkaXRvclNlbGVjdGlvbi5yYW5nZShyLmFuY2hvciAtIHNpemUsIHIuaGVhZCAtIHNpemUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNoYW5nZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHtcbiAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgIHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMsIHN0YXRlLnNlbGVjdGlvbi5tYWluSW5kZXgpLFxuICAgICAgICB1c2VyRXZlbnQ6IFwibW92ZS5saW5lXCJcbiAgICB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGVkIGxpbmVzIHVwIG9uZSBsaW5lLlxuKi9cbmNvbnN0IG1vdmVMaW5lVXAgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gbW92ZUxpbmUoc3RhdGUsIGRpc3BhdGNoLCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGVkIGxpbmVzIGRvd24gb25lIGxpbmUuXG4qL1xuY29uc3QgbW92ZUxpbmVEb3duID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IG1vdmVMaW5lKHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7XG5mdW5jdGlvbiBjb3B5TGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZvcndhcmQpIHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IGJsb2NrIG9mIHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkpIHtcbiAgICAgICAgaWYgKGZvcndhcmQpXG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBibG9jay5mcm9tLCBpbnNlcnQ6IHN0YXRlLmRvYy5zbGljZShibG9jay5mcm9tLCBibG9jay50bykgKyBzdGF0ZS5saW5lQnJlYWsgfSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGJsb2NrLnRvLCBpbnNlcnQ6IHN0YXRlLmxpbmVCcmVhayArIHN0YXRlLmRvYy5zbGljZShibG9jay5mcm9tLCBibG9jay50bykgfSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh7IGNoYW5nZXMsIHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXQuY29weWxpbmVcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbkNyZWF0ZSBhIGNvcHkgb2YgdGhlIHNlbGVjdGVkIGxpbmVzLiBLZWVwIHRoZSBzZWxlY3Rpb24gaW4gdGhlIHRvcCBjb3B5LlxuKi9cbmNvbnN0IGNvcHlMaW5lVXAgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gY29weUxpbmUoc3RhdGUsIGRpc3BhdGNoLCBmYWxzZSk7XG4vKipcbkNyZWF0ZSBhIGNvcHkgb2YgdGhlIHNlbGVjdGVkIGxpbmVzLiBLZWVwIHRoZSBzZWxlY3Rpb24gaW4gdGhlIGJvdHRvbSBjb3B5LlxuKi9cbmNvbnN0IGNvcHlMaW5lRG93biA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBjb3B5TGluZShzdGF0ZSwgZGlzcGF0Y2gsIHRydWUpO1xuLyoqXG5EZWxldGUgc2VsZWN0ZWQgbGluZXMuXG4qL1xuY29uc3QgZGVsZXRlTGluZSA9IHZpZXcgPT4ge1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VzKHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkubWFwKCh7IGZyb20sIHRvIH0pID0+IHtcbiAgICAgICAgaWYgKGZyb20gPiAwKVxuICAgICAgICAgICAgZnJvbS0tO1xuICAgICAgICBlbHNlIGlmICh0byA8IHN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICB0bysrO1xuICAgICAgICByZXR1cm4geyBmcm9tLCB0byB9O1xuICAgIH0pKTtcbiAgICBsZXQgc2VsZWN0aW9uID0gdXBkYXRlU2VsKHN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICBsZXQgZGlzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHZpZXcubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgICBsZXQgYmxvY2sgPSB2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLCBwb3MgPSB2aWV3LmNvb3Jkc0F0UG9zKHJhbmdlLmhlYWQsIHJhbmdlLmFzc29jIHx8IDEpO1xuICAgICAgICAgICAgaWYgKHBvcylcbiAgICAgICAgICAgICAgICBkaXN0ID0gKGJsb2NrLmJvdHRvbSArIHZpZXcuZG9jdW1lbnRUb3ApIC0gcG9zLmJvdHRvbSArIHZpZXcuZGVmYXVsdExpbmVIZWlnaHQgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCB0cnVlLCBkaXN0KTtcbiAgICB9KS5tYXAoY2hhbmdlcyk7XG4gICAgdmlldy5kaXNwYXRjaCh7IGNoYW5nZXMsIHNlbGVjdGlvbiwgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJkZWxldGUubGluZVwiIH0pO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggYSBuZXdsaW5lLlxuKi9cbmNvbnN0IGluc2VydE5ld2xpbmUgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHN0YXRlLmxpbmVCcmVhayksIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlcGxhY2UgdGhlIHNlbGVjdGlvbiB3aXRoIGEgbmV3bGluZSBhbmQgdGhlIHNhbWUgYW1vdW50IG9mXG5pbmRlbnRhdGlvbiBhcyB0aGUgbGluZSBhYm92ZS5cbiovXG5jb25zdCBpbnNlcnROZXdsaW5lS2VlcEluZGVudCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBsZXQgaW5kZW50ID0gL15cXHMqLy5leGVjKHN0YXRlLmRvYy5saW5lQXQocmFuZ2UuZnJvbSkudGV4dClbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFuZ2VzOiB7IGZyb206IHJhbmdlLmZyb20sIHRvOiByYW5nZS50bywgaW5zZXJ0OiBzdGF0ZS5saW5lQnJlYWsgKyBpbmRlbnQgfSxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHJhbmdlLmZyb20gKyBpbmRlbnQubGVuZ3RoICsgMSlcbiAgICAgICAgfTtcbiAgICB9KSwgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbmZ1bmN0aW9uIGlzQmV0d2VlbkJyYWNrZXRzKHN0YXRlLCBwb3MpIHtcbiAgICBpZiAoL1xcKFxcKXxcXFtcXF18XFx7XFx9Ly50ZXN0KHN0YXRlLnNsaWNlRG9jKHBvcyAtIDEsIHBvcyArIDEpKSlcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogcG9zLCB0bzogcG9zIH07XG4gICAgbGV0IGNvbnRleHQgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zKTtcbiAgICBsZXQgYmVmb3JlID0gY29udGV4dC5jaGlsZEJlZm9yZShwb3MpLCBhZnRlciA9IGNvbnRleHQuY2hpbGRBZnRlcihwb3MpLCBjbG9zZWRCeTtcbiAgICBpZiAoYmVmb3JlICYmIGFmdGVyICYmIGJlZm9yZS50byA8PSBwb3MgJiYgYWZ0ZXIuZnJvbSA+PSBwb3MgJiZcbiAgICAgICAgKGNsb3NlZEJ5ID0gYmVmb3JlLnR5cGUucHJvcChOb2RlUHJvcC5jbG9zZWRCeSkpICYmIGNsb3NlZEJ5LmluZGV4T2YoYWZ0ZXIubmFtZSkgPiAtMSAmJlxuICAgICAgICBzdGF0ZS5kb2MubGluZUF0KGJlZm9yZS50bykuZnJvbSA9PSBzdGF0ZS5kb2MubGluZUF0KGFmdGVyLmZyb20pLmZyb20gJiZcbiAgICAgICAgIS9cXFMvLnRlc3Qoc3RhdGUuc2xpY2VEb2MoYmVmb3JlLnRvLCBhZnRlci5mcm9tKSkpXG4gICAgICAgIHJldHVybiB7IGZyb206IGJlZm9yZS50bywgdG86IGFmdGVyLmZyb20gfTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggYSBuZXdsaW5lIGFuZCBpbmRlbnQgdGhlIG5ld2x5IGNyZWF0ZWRcbmxpbmUocykuIElmIHRoZSBjdXJyZW50IGxpbmUgY29uc2lzdHMgb25seSBvZiB3aGl0ZXNwYWNlLCB0aGlzXG53aWxsIGFsc28gZGVsZXRlIHRoYXQgd2hpdGVzcGFjZS4gV2hlbiB0aGUgY3Vyc29yIGlzIGJldHdlZW5cbm1hdGNoaW5nIGJyYWNrZXRzLCBhbiBhZGRpdGlvbmFsIG5ld2xpbmUgd2lsbCBiZSBpbnNlcnRlZCBhZnRlclxudGhlIGN1cnNvci5cbiovXG5jb25zdCBpbnNlcnROZXdsaW5lQW5kSW5kZW50ID0gLypAX19QVVJFX18qL25ld2xpbmVBbmRJbmRlbnQoZmFsc2UpO1xuLyoqXG5DcmVhdGUgYSBibGFuaywgaW5kZW50ZWQgbGluZSBiZWxvdyB0aGUgY3VycmVudCBsaW5lLlxuKi9cbmNvbnN0IGluc2VydEJsYW5rTGluZSA9IC8qQF9fUFVSRV9fKi9uZXdsaW5lQW5kSW5kZW50KHRydWUpO1xuZnVuY3Rpb24gbmV3bGluZUFuZEluZGVudChhdEVvZikge1xuICAgIHJldHVybiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gcmFuZ2UsIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZyb20pO1xuICAgICAgICAgICAgbGV0IGV4cGxvZGUgPSAhYXRFb2YgJiYgZnJvbSA9PSB0byAmJiBpc0JldHdlZW5CcmFja2V0cyhzdGF0ZSwgZnJvbSk7XG4gICAgICAgICAgICBpZiAoYXRFb2YpXG4gICAgICAgICAgICAgICAgZnJvbSA9IHRvID0gKHRvIDw9IGxpbmUudG8gPyBsaW5lIDogc3RhdGUuZG9jLmxpbmVBdCh0bykpLnRvO1xuICAgICAgICAgICAgbGV0IGN4ID0gbmV3IEluZGVudENvbnRleHQoc3RhdGUsIHsgc2ltdWxhdGVCcmVhazogZnJvbSwgc2ltdWxhdGVEb3VibGVCcmVhazogISFleHBsb2RlIH0pO1xuICAgICAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKGN4LCBmcm9tKTtcbiAgICAgICAgICAgIGlmIChpbmRlbnQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBpbmRlbnQgPSBjb3VudENvbHVtbigvXlxccyovLmV4ZWMoc3RhdGUuZG9jLmxpbmVBdChmcm9tKS50ZXh0KVswXSwgc3RhdGUudGFiU2l6ZSk7XG4gICAgICAgICAgICB3aGlsZSAodG8gPCBsaW5lLnRvICYmIC9cXHMvLnRlc3QobGluZS50ZXh0W3RvIC0gbGluZS5mcm9tXSkpXG4gICAgICAgICAgICAgICAgdG8rKztcbiAgICAgICAgICAgIGlmIChleHBsb2RlKVxuICAgICAgICAgICAgICAgICh7IGZyb20sIHRvIH0gPSBleHBsb2RlKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb20gPiBsaW5lLmZyb20gJiYgZnJvbSA8IGxpbmUuZnJvbSArIDEwMCAmJiAhL1xcUy8udGVzdChsaW5lLnRleHQuc2xpY2UoMCwgZnJvbSkpKVxuICAgICAgICAgICAgICAgIGZyb20gPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gW1wiXCIsIGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KV07XG4gICAgICAgICAgICBpZiAoZXhwbG9kZSlcbiAgICAgICAgICAgICAgICBpbnNlcnQucHVzaChpbmRlbnRTdHJpbmcoc3RhdGUsIGN4LmxpbmVJbmRlbnQobGluZS5mcm9tLCAtMSkpKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbSwgdG8sIGluc2VydDogVGV4dC5vZihpbnNlcnQpIH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZnJvbSArIDEgKyBpbnNlcnRbMV0ubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICAgICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dFwiIH0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNoYW5nZUJ5U2VsZWN0ZWRMaW5lKHN0YXRlLCBmKSB7XG4gICAgbGV0IGF0TGluZSA9IC0xO1xuICAgIHJldHVybiBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gcmFuZ2UuZnJvbTsgcG9zIDw9IHJhbmdlLnRvOykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAobGluZS5udW1iZXIgPiBhdExpbmUgJiYgKHJhbmdlLmVtcHR5IHx8IHJhbmdlLnRvID4gbGluZS5mcm9tKSkge1xuICAgICAgICAgICAgICAgIGYobGluZSwgY2hhbmdlcywgcmFuZ2UpO1xuICAgICAgICAgICAgICAgIGF0TGluZSA9IGxpbmUubnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoYW5nZVNldCA9IHN0YXRlLmNoYW5nZXMoY2hhbmdlcyk7XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXMsXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGNoYW5nZVNldC5tYXBQb3MocmFuZ2UuYW5jaG9yLCAxKSwgY2hhbmdlU2V0Lm1hcFBvcyhyYW5nZS5oZWFkLCAxKSkgfTtcbiAgICB9KTtcbn1cbi8qKlxuQXV0by1pbmRlbnQgdGhlIHNlbGVjdGVkIGxpbmVzLiBUaGlzIHVzZXMgdGhlIFtpbmRlbnRhdGlvbiBzZXJ2aWNlXG5mYWNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRTZXJ2aWNlKSBhcyBzb3VyY2UgZm9yIGF1dG8taW5kZW50XG5pbmZvcm1hdGlvbi5cbiovXG5jb25zdCBpbmRlbnRTZWxlY3Rpb24gPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB1cGRhdGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgY29udGV4dCA9IG5ldyBJbmRlbnRDb250ZXh0KHN0YXRlLCB7IG92ZXJyaWRlSW5kZW50YXRpb246IHN0YXJ0ID0+IHtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHVwZGF0ZWRbc3RhcnRdO1xuICAgICAgICAgICAgcmV0dXJuIGZvdW5kID09IG51bGwgPyAtMSA6IGZvdW5kO1xuICAgICAgICB9IH0pO1xuICAgIGxldCBjaGFuZ2VzID0gY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIChsaW5lLCBjaGFuZ2VzLCByYW5nZSkgPT4ge1xuICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oY29udGV4dCwgbGluZS5mcm9tKTtcbiAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIS9cXFMvLnRlc3QobGluZS50ZXh0KSlcbiAgICAgICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgIGxldCBjdXIgPSAvXlxccyovLmV4ZWMobGluZS50ZXh0KVswXTtcbiAgICAgICAgbGV0IG5vcm0gPSBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCk7XG4gICAgICAgIGlmIChjdXIgIT0gbm9ybSB8fCByYW5nZS5mcm9tIDwgbGluZS5mcm9tICsgY3VyLmxlbmd0aCkge1xuICAgICAgICAgICAgdXBkYXRlZFtsaW5lLmZyb21dID0gaW5kZW50O1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogbGluZS5mcm9tICsgY3VyLmxlbmd0aCwgaW5zZXJ0OiBub3JtIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFjaGFuZ2VzLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHVzZXJFdmVudDogXCJpbmRlbnRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5BZGQgYSBbdW5pdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KSBvZiBpbmRlbnRhdGlvbiB0byBhbGwgc2VsZWN0ZWRcbmxpbmVzLlxuKi9cbmNvbnN0IGluZGVudE1vcmUgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VCeVNlbGVjdGVkTGluZShzdGF0ZSwgKGxpbmUsIGNoYW5nZXMpID0+IHtcbiAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCBpbnNlcnQ6IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpIH0pO1xuICAgIH0pLCB7IHVzZXJFdmVudDogXCJpbnB1dC5pbmRlbnRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5SZW1vdmUgYSBbdW5pdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5pbmRlbnRVbml0KSBvZiBpbmRlbnRhdGlvbiBmcm9tIGFsbFxuc2VsZWN0ZWQgbGluZXMuXG4qL1xuY29uc3QgaW5kZW50TGVzcyA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZUJ5U2VsZWN0ZWRMaW5lKHN0YXRlLCAobGluZSwgY2hhbmdlcykgPT4ge1xuICAgICAgICBsZXQgc3BhY2UgPSAvXlxccyovLmV4ZWMobGluZS50ZXh0KVswXTtcbiAgICAgICAgaWYgKCFzcGFjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNvbCA9IGNvdW50Q29sdW1uKHNwYWNlLCBzdGF0ZS50YWJTaXplKSwga2VlcCA9IDA7XG4gICAgICAgIGxldCBpbnNlcnQgPSBpbmRlbnRTdHJpbmcoc3RhdGUsIE1hdGgubWF4KDAsIGNvbCAtIGdldEluZGVudFVuaXQoc3RhdGUpKSk7XG4gICAgICAgIHdoaWxlIChrZWVwIDwgc3BhY2UubGVuZ3RoICYmIGtlZXAgPCBpbnNlcnQubGVuZ3RoICYmIHNwYWNlLmNoYXJDb2RlQXQoa2VlcCkgPT0gaW5zZXJ0LmNoYXJDb2RlQXQoa2VlcCkpXG4gICAgICAgICAgICBrZWVwKys7XG4gICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSArIGtlZXAsIHRvOiBsaW5lLmZyb20gKyBzcGFjZS5sZW5ndGgsIGluc2VydDogaW5zZXJ0LnNsaWNlKGtlZXApIH0pO1xuICAgIH0pLCB7IHVzZXJFdmVudDogXCJkZWxldGUuZGVkZW50XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuRW5hYmxlcyBvciBkaXNhYmxlc1xuW3RhYi1mb2N1cyBtb2RlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5zZXRUYWJGb2N1c01vZGUpLiBXaGlsZSBvbiwgdGhpc1xucHJldmVudHMgdGhlIGVkaXRvcidzIGtleSBiaW5kaW5ncyBmcm9tIGNhcHR1cmluZyBUYWIgb3JcblNoaWZ0LVRhYiwgbWFraW5nIGl0IHBvc3NpYmxlIGZvciB0aGUgdXNlciB0byBtb3ZlIGZvY3VzIG91dCBvZlxudGhlIGVkaXRvciB3aXRoIHRoZSBrZXlib2FyZC5cbiovXG5jb25zdCB0b2dnbGVUYWJGb2N1c01vZGUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LnNldFRhYkZvY3VzTW9kZSgpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuVGVtcG9yYXJpbHkgZW5hYmxlcyBbdGFiLWZvY3VzXG5tb2RlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5zZXRUYWJGb2N1c01vZGUpIGZvciB0d28gc2Vjb25kcyBvciB1bnRpbFxuYW5vdGhlciBrZXkgaXMgcHJlc3NlZC5cbiovXG5jb25zdCB0ZW1wb3JhcmlseVNldFRhYkZvY3VzTW9kZSA9IHZpZXcgPT4ge1xuICAgIHZpZXcuc2V0VGFiRm9jdXNNb2RlKDIwMDApO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuSW5zZXJ0IGEgdGFiIGNoYXJhY3RlciBhdCB0aGUgY3Vyc29yIG9yLCBpZiBzb21ldGhpbmcgaXMgc2VsZWN0ZWQsXG51c2UgW2BpbmRlbnRNb3JlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRNb3JlKSB0byBpbmRlbnQgdGhlIGVudGlyZVxuc2VsZWN0aW9uLlxuKi9cbmNvbnN0IGluc2VydFRhYiA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMuc29tZShyID0+ICFyLmVtcHR5KSlcbiAgICAgICAgcmV0dXJuIGluZGVudE1vcmUoeyBzdGF0ZSwgZGlzcGF0Y2ggfSk7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHN0YXRlLnJlcGxhY2VTZWxlY3Rpb24oXCJcXHRcIiksIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkFycmF5IG9mIGtleSBiaW5kaW5ncyBjb250YWluaW5nIHRoZSBFbWFjcy1zdHlsZSBiaW5kaW5ncyB0aGF0IGFyZVxuYXZhaWxhYmxlIG9uIG1hY09TIGJ5IGRlZmF1bHQuXG5cbiAtIEN0cmwtYjogW2BjdXJzb3JDaGFyTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhckxlZnQpIChbYHNlbGVjdENoYXJMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RDaGFyTGVmdCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtZjogW2BjdXJzb3JDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckNoYXJSaWdodCkgKFtgc2VsZWN0Q2hhclJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RDaGFyUmlnaHQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLXA6IFtgY3Vyc29yTGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lVXApIChbYHNlbGVjdExpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVVwKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1uOiBbYGN1cnNvckxpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lRG93bikgKFtgc2VsZWN0TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVEb3duKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1hOiBbYGN1cnNvckxpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZVN0YXJ0KSAoW2BzZWxlY3RMaW5lU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVTdGFydCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtZTogW2BjdXJzb3JMaW5lRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lRW5kKSAoW2BzZWxlY3RMaW5lRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lRW5kKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1kOiBbYGRlbGV0ZUNoYXJGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVDaGFyRm9yd2FyZClcbiAtIEN0cmwtaDogW2BkZWxldGVDaGFyQmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJCYWNrd2FyZClcbiAtIEN0cmwtazogW2BkZWxldGVUb0xpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZVRvTGluZUVuZClcbiAtIEN0cmwtQWx0LWg6IFtgZGVsZXRlR3JvdXBCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlR3JvdXBCYWNrd2FyZClcbiAtIEN0cmwtbzogW2BzcGxpdExpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNwbGl0TGluZSlcbiAtIEN0cmwtdDogW2B0cmFuc3Bvc2VDaGFyc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudHJhbnNwb3NlQ2hhcnMpXG4gLSBDdHJsLXY6IFtgY3Vyc29yUGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VEb3duKVxuIC0gQWx0LXY6IFtgY3Vyc29yUGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlVXApXG4qL1xuY29uc3QgZW1hY3NTdHlsZUtleW1hcCA9IFtcbiAgICB7IGtleTogXCJDdHJsLWJcIiwgcnVuOiBjdXJzb3JDaGFyTGVmdCwgc2hpZnQ6IHNlbGVjdENoYXJMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIkN0cmwtZlwiLCBydW46IGN1cnNvckNoYXJSaWdodCwgc2hpZnQ6IHNlbGVjdENoYXJSaWdodCB9LFxuICAgIHsga2V5OiBcIkN0cmwtcFwiLCBydW46IGN1cnNvckxpbmVVcCwgc2hpZnQ6IHNlbGVjdExpbmVVcCB9LFxuICAgIHsga2V5OiBcIkN0cmwtblwiLCBydW46IGN1cnNvckxpbmVEb3duLCBzaGlmdDogc2VsZWN0TGluZURvd24gfSxcbiAgICB7IGtleTogXCJDdHJsLWFcIiwgcnVuOiBjdXJzb3JMaW5lU3RhcnQsIHNoaWZ0OiBzZWxlY3RMaW5lU3RhcnQgfSxcbiAgICB7IGtleTogXCJDdHJsLWVcIiwgcnVuOiBjdXJzb3JMaW5lRW5kLCBzaGlmdDogc2VsZWN0TGluZUVuZCB9LFxuICAgIHsga2V5OiBcIkN0cmwtZFwiLCBydW46IGRlbGV0ZUNoYXJGb3J3YXJkIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1oXCIsIHJ1bjogZGVsZXRlQ2hhckJhY2t3YXJkIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1rXCIsIHJ1bjogZGVsZXRlVG9MaW5lRW5kIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1BbHQtaFwiLCBydW46IGRlbGV0ZUdyb3VwQmFja3dhcmQgfSxcbiAgICB7IGtleTogXCJDdHJsLW9cIiwgcnVuOiBzcGxpdExpbmUgfSxcbiAgICB7IGtleTogXCJDdHJsLXRcIiwgcnVuOiB0cmFuc3Bvc2VDaGFycyB9LFxuICAgIHsga2V5OiBcIkN0cmwtdlwiLCBydW46IGN1cnNvclBhZ2VEb3duIH0sXG5dO1xuLyoqXG5BbiBhcnJheSBvZiBrZXkgYmluZGluZ3MgY2xvc2VseSBzdGlja2luZyB0byBwbGF0Zm9ybS1zdGFuZGFyZCBvclxud2lkZWx5IHVzZWQgYmluZGluZ3MuIChUaGlzIGluY2x1ZGVzIHRoZSBiaW5kaW5ncyBmcm9tXG5bYGVtYWNzU3R5bGVLZXltYXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmVtYWNzU3R5bGVLZXltYXApLCB3aXRoIHRoZWlyIGBrZXlgXG5wcm9wZXJ0eSBjaGFuZ2VkIHRvIGBtYWNgLilcblxuIC0gQXJyb3dMZWZ0OiBbYGN1cnNvckNoYXJMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JDaGFyTGVmdCkgKFtgc2VsZWN0Q2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJMZWZ0KSB3aXRoIFNoaWZ0KVxuIC0gQXJyb3dSaWdodDogW2BjdXJzb3JDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckNoYXJSaWdodCkgKFtgc2VsZWN0Q2hhclJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RDaGFyUmlnaHQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93TGVmdCAoQWx0LUFycm93TGVmdCBvbiBtYWNPUyk6IFtgY3Vyc29yR3JvdXBMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JHcm91cExlZnQpIChbYHNlbGVjdEdyb3VwTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0R3JvdXBMZWZ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1BcnJvd1JpZ2h0IChBbHQtQXJyb3dSaWdodCBvbiBtYWNPUyk6IFtgY3Vyc29yR3JvdXBSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yR3JvdXBSaWdodCkgKFtgc2VsZWN0R3JvdXBSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0R3JvdXBSaWdodCkgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd0xlZnQgKG9uIG1hY09TKTogW2BjdXJzb3JMaW5lU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVTdGFydCkgKFtgc2VsZWN0TGluZVN0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lU3RhcnQpIHdpdGggU2hpZnQpXG4gLSBDbWQtQXJyb3dSaWdodCAob24gbWFjT1MpOiBbYGN1cnNvckxpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVFbmQpIChbYHNlbGVjdExpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVFbmQpIHdpdGggU2hpZnQpXG4gLSBBcnJvd1VwOiBbYGN1cnNvckxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZVVwKSAoW2BzZWxlY3RMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVVcCkgd2l0aCBTaGlmdClcbiAtIEFycm93RG93bjogW2BjdXJzb3JMaW5lRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZURvd24pIChbYHNlbGVjdExpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lRG93bikgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd1VwIChvbiBtYWNPUyk6IFtgY3Vyc29yRG9jU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY1N0YXJ0KSAoW2BzZWxlY3REb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0RG9jU3RhcnQpIHdpdGggU2hpZnQpXG4gLSBDbWQtQXJyb3dEb3duIChvbiBtYWNPUyk6IFtgY3Vyc29yRG9jRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JEb2NFbmQpIChbYHNlbGVjdERvY0VuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0RG9jRW5kKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1BcnJvd1VwIChvbiBtYWNPUyk6IFtgY3Vyc29yUGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlVXApIChbYHNlbGVjdFBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFnZVVwKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1BcnJvd0Rvd24gKG9uIG1hY09TKTogW2BjdXJzb3JQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZURvd24pIChbYHNlbGVjdFBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYWdlRG93bikgd2l0aCBTaGlmdClcbiAtIFBhZ2VVcDogW2BjdXJzb3JQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VVcCkgKFtgc2VsZWN0UGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYWdlVXApIHdpdGggU2hpZnQpXG4gLSBQYWdlRG93bjogW2BjdXJzb3JQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZURvd24pIChbYHNlbGVjdFBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYWdlRG93bikgd2l0aCBTaGlmdClcbiAtIEhvbWU6IFtgY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVCb3VuZGFyeUJhY2t3YXJkKSAoW2BzZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQpIHdpdGggU2hpZnQpXG4gLSBFbmQ6IFtgY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCkgKFtgc2VsZWN0TGluZUJvdW5kYXJ5Rm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZUJvdW5kYXJ5Rm9yd2FyZCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtSG9tZSAoQ21kLUhvbWUgb24gbWFjT1MpOiBbYGN1cnNvckRvY1N0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JEb2NTdGFydCkgKFtgc2VsZWN0RG9jU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdERvY1N0YXJ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1FbmQgKENtZC1Ib21lIG9uIG1hY09TKTogW2BjdXJzb3JEb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY0VuZCkgKFtgc2VsZWN0RG9jRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NFbmQpIHdpdGggU2hpZnQpXG4gLSBFbnRlciBhbmQgU2hpZnQtRW50ZXI6IFtgaW5zZXJ0TmV3bGluZUFuZEluZGVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5zZXJ0TmV3bGluZUFuZEluZGVudClcbiAtIEN0cmwtYSAoQ21kLWEgb24gbWFjT1MpOiBbYHNlbGVjdEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0QWxsKVxuIC0gQmFja3NwYWNlOiBbYGRlbGV0ZUNoYXJCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckJhY2t3YXJkKVxuIC0gRGVsZXRlOiBbYGRlbGV0ZUNoYXJGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVDaGFyRm9yd2FyZClcbiAtIEN0cmwtQmFja3NwYWNlIChBbHQtQmFja3NwYWNlIG9uIG1hY09TKTogW2BkZWxldGVHcm91cEJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVHcm91cEJhY2t3YXJkKVxuIC0gQ3RybC1EZWxldGUgKEFsdC1EZWxldGUgb24gbWFjT1MpOiBbYGRlbGV0ZUdyb3VwRm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlR3JvdXBGb3J3YXJkKVxuIC0gQ21kLUJhY2tzcGFjZSAobWFjT1MpOiBbYGRlbGV0ZUxpbmVCb3VuZGFyeUJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVMaW5lQm91bmRhcnlCYWNrd2FyZCkuXG4gLSBDbWQtRGVsZXRlIChtYWNPUyk6IFtgZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZCkuXG4qL1xuY29uc3Qgc3RhbmRhcmRLZXltYXAgPSAvKkBfX1BVUkVfXyovW1xuICAgIHsga2V5OiBcIkFycm93TGVmdFwiLCBydW46IGN1cnNvckNoYXJMZWZ0LCBzaGlmdDogc2VsZWN0Q2hhckxlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUFycm93TGVmdFwiLCBtYWM6IFwiQWx0LUFycm93TGVmdFwiLCBydW46IGN1cnNvckdyb3VwTGVmdCwgc2hpZnQ6IHNlbGVjdEdyb3VwTGVmdCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IG1hYzogXCJDbWQtQXJyb3dMZWZ0XCIsIHJ1bjogY3Vyc29yTGluZUJvdW5kYXJ5TGVmdCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeUxlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dSaWdodFwiLCBydW46IGN1cnNvckNoYXJSaWdodCwgc2hpZnQ6IHNlbGVjdENoYXJSaWdodCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtQXJyb3dSaWdodFwiLCBtYWM6IFwiQWx0LUFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JHcm91cFJpZ2h0LCBzaGlmdDogc2VsZWN0R3JvdXBSaWdodCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IG1hYzogXCJDbWQtQXJyb3dSaWdodFwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeVJpZ2h0LCBzaGlmdDogc2VsZWN0TGluZUJvdW5kYXJ5UmlnaHQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQXJyb3dVcFwiLCBydW46IGN1cnNvckxpbmVVcCwgc2hpZnQ6IHNlbGVjdExpbmVVcCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IG1hYzogXCJDbWQtQXJyb3dVcFwiLCBydW46IGN1cnNvckRvY1N0YXJ0LCBzaGlmdDogc2VsZWN0RG9jU3RhcnQgfSxcbiAgICB7IG1hYzogXCJDdHJsLUFycm93VXBcIiwgcnVuOiBjdXJzb3JQYWdlVXAsIHNoaWZ0OiBzZWxlY3RQYWdlVXAgfSxcbiAgICB7IGtleTogXCJBcnJvd0Rvd25cIiwgcnVuOiBjdXJzb3JMaW5lRG93biwgc2hpZnQ6IHNlbGVjdExpbmVEb3duLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbWFjOiBcIkNtZC1BcnJvd0Rvd25cIiwgcnVuOiBjdXJzb3JEb2NFbmQsIHNoaWZ0OiBzZWxlY3REb2NFbmQgfSxcbiAgICB7IG1hYzogXCJDdHJsLUFycm93RG93blwiLCBydW46IGN1cnNvclBhZ2VEb3duLCBzaGlmdDogc2VsZWN0UGFnZURvd24gfSxcbiAgICB7IGtleTogXCJQYWdlVXBcIiwgcnVuOiBjdXJzb3JQYWdlVXAsIHNoaWZ0OiBzZWxlY3RQYWdlVXAgfSxcbiAgICB7IGtleTogXCJQYWdlRG93blwiLCBydW46IGN1cnNvclBhZ2VEb3duLCBzaGlmdDogc2VsZWN0UGFnZURvd24gfSxcbiAgICB7IGtleTogXCJIb21lXCIsIHJ1bjogY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmQsIHNoaWZ0OiBzZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtSG9tZVwiLCBydW46IGN1cnNvckRvY1N0YXJ0LCBzaGlmdDogc2VsZWN0RG9jU3RhcnQgfSxcbiAgICB7IGtleTogXCJFbmRcIiwgcnVuOiBjdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkLCBzaGlmdDogc2VsZWN0TGluZUJvdW5kYXJ5Rm9yd2FyZCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtRW5kXCIsIHJ1bjogY3Vyc29yRG9jRW5kLCBzaGlmdDogc2VsZWN0RG9jRW5kIH0sXG4gICAgeyBrZXk6IFwiRW50ZXJcIiwgcnVuOiBpbnNlcnROZXdsaW5lQW5kSW5kZW50LCBzaGlmdDogaW5zZXJ0TmV3bGluZUFuZEluZGVudCB9LFxuICAgIHsga2V5OiBcIk1vZC1hXCIsIHJ1bjogc2VsZWN0QWxsIH0sXG4gICAgeyBrZXk6IFwiQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlQ2hhckJhY2t3YXJkLCBzaGlmdDogZGVsZXRlQ2hhckJhY2t3YXJkIH0sXG4gICAgeyBrZXk6IFwiRGVsZXRlXCIsIHJ1bjogZGVsZXRlQ2hhckZvcndhcmQgfSxcbiAgICB7IGtleTogXCJNb2QtQmFja3NwYWNlXCIsIG1hYzogXCJBbHQtQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlR3JvdXBCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIk1vZC1EZWxldGVcIiwgbWFjOiBcIkFsdC1EZWxldGVcIiwgcnVuOiBkZWxldGVHcm91cEZvcndhcmQgfSxcbiAgICB7IG1hYzogXCJNb2QtQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlTGluZUJvdW5kYXJ5QmFja3dhcmQgfSxcbiAgICB7IG1hYzogXCJNb2QtRGVsZXRlXCIsIHJ1bjogZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZCB9XG5dLmNvbmNhdCgvKkBfX1BVUkVfXyovZW1hY3NTdHlsZUtleW1hcC5tYXAoYiA9PiAoeyBtYWM6IGIua2V5LCBydW46IGIucnVuLCBzaGlmdDogYi5zaGlmdCB9KSkpO1xuLyoqXG5UaGUgZGVmYXVsdCBrZXltYXAuIEluY2x1ZGVzIGFsbCBiaW5kaW5ncyBmcm9tXG5bYHN0YW5kYXJkS2V5bWFwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zdGFuZGFyZEtleW1hcCkgcGx1cyB0aGUgZm9sbG93aW5nOlxuXG4tIEFsdC1BcnJvd0xlZnQgKEN0cmwtQXJyb3dMZWZ0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JTeW50YXhMZWZ0KSAoW2BzZWxlY3RTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhMZWZ0KSB3aXRoIFNoaWZ0KVxuLSBBbHQtQXJyb3dSaWdodCAoQ3RybC1BcnJvd1JpZ2h0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yU3ludGF4UmlnaHQpIChbYHNlbGVjdFN5bnRheFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhSaWdodCkgd2l0aCBTaGlmdClcbi0gQWx0LUFycm93VXA6IFtgbW92ZUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMubW92ZUxpbmVVcClcbi0gQWx0LUFycm93RG93bjogW2Btb3ZlTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLm1vdmVMaW5lRG93bilcbi0gU2hpZnQtQWx0LUFycm93VXA6IFtgY29weUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY29weUxpbmVVcClcbi0gU2hpZnQtQWx0LUFycm93RG93bjogW2Bjb3B5TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmNvcHlMaW5lRG93bilcbi0gRXNjYXBlOiBbYHNpbXBsaWZ5U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zaW1wbGlmeVNlbGVjdGlvbilcbi0gQ3RybC1FbnRlciAoQ21kLUVudGVyIG9uIG1hY09TKTogW2BpbnNlcnRCbGFua0xpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluc2VydEJsYW5rTGluZSlcbi0gQWx0LWwgKEN0cmwtbCBvbiBtYWNPUyk6IFtgc2VsZWN0TGluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZSlcbi0gQ3RybC1pIChDbWQtaSBvbiBtYWNPUyk6IFtgc2VsZWN0UGFyZW50U3ludGF4YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYXJlbnRTeW50YXgpXG4tIEN0cmwtWyAoQ21kLVsgb24gbWFjT1MpOiBbYGluZGVudExlc3NgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudExlc3MpXG4tIEN0cmwtXSAoQ21kLV0gb24gbWFjT1MpOiBbYGluZGVudE1vcmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudE1vcmUpXG4tIEN0cmwtQWx0LVxcXFwgKENtZC1BbHQtXFxcXCBvbiBtYWNPUyk6IFtgaW5kZW50U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRTZWxlY3Rpb24pXG4tIFNoaWZ0LUN0cmwtayAoU2hpZnQtQ21kLWsgb24gbWFjT1MpOiBbYGRlbGV0ZUxpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUxpbmUpXG4tIFNoaWZ0LUN0cmwtXFxcXCAoU2hpZnQtQ21kLVxcXFwgb24gbWFjT1MpOiBbYGN1cnNvck1hdGNoaW5nQnJhY2tldGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTWF0Y2hpbmdCcmFja2V0KVxuLSBDdHJsLS8gKENtZC0vIG9uIG1hY09TKTogW2B0b2dnbGVDb21tZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50b2dnbGVDb21tZW50KS5cbi0gU2hpZnQtQWx0LWE6IFtgdG9nZ2xlQmxvY2tDb21tZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50b2dnbGVCbG9ja0NvbW1lbnQpLlxuLSBDdHJsLW0gKEFsdC1TaGlmdC1tIG9uIG1hY09TKTogW2B0b2dnbGVUYWJGb2N1c01vZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnRvZ2dsZVRhYkZvY3VzTW9kZSkuXG4qL1xuY29uc3QgZGVmYXVsdEtleW1hcCA9IC8qQF9fUFVSRV9fKi9bXG4gICAgeyBrZXk6IFwiQWx0LUFycm93TGVmdFwiLCBtYWM6IFwiQ3RybC1BcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JTeW50YXhMZWZ0LCBzaGlmdDogc2VsZWN0U3ludGF4TGVmdCB9LFxuICAgIHsga2V5OiBcIkFsdC1BcnJvd1JpZ2h0XCIsIG1hYzogXCJDdHJsLUFycm93UmlnaHRcIiwgcnVuOiBjdXJzb3JTeW50YXhSaWdodCwgc2hpZnQ6IHNlbGVjdFN5bnRheFJpZ2h0IH0sXG4gICAgeyBrZXk6IFwiQWx0LUFycm93VXBcIiwgcnVuOiBtb3ZlTGluZVVwIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtQWx0LUFycm93VXBcIiwgcnVuOiBjb3B5TGluZVVwIH0sXG4gICAgeyBrZXk6IFwiQWx0LUFycm93RG93blwiLCBydW46IG1vdmVMaW5lRG93biB9LFxuICAgIHsga2V5OiBcIlNoaWZ0LUFsdC1BcnJvd0Rvd25cIiwgcnVuOiBjb3B5TGluZURvd24gfSxcbiAgICB7IGtleTogXCJFc2NhcGVcIiwgcnVuOiBzaW1wbGlmeVNlbGVjdGlvbiB9LFxuICAgIHsga2V5OiBcIk1vZC1FbnRlclwiLCBydW46IGluc2VydEJsYW5rTGluZSB9LFxuICAgIHsga2V5OiBcIkFsdC1sXCIsIG1hYzogXCJDdHJsLWxcIiwgcnVuOiBzZWxlY3RMaW5lIH0sXG4gICAgeyBrZXk6IFwiTW9kLWlcIiwgcnVuOiBzZWxlY3RQYXJlbnRTeW50YXgsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiTW9kLVtcIiwgcnVuOiBpbmRlbnRMZXNzIH0sXG4gICAgeyBrZXk6IFwiTW9kLV1cIiwgcnVuOiBpbmRlbnRNb3JlIH0sXG4gICAgeyBrZXk6IFwiTW9kLUFsdC1cXFxcXCIsIHJ1bjogaW5kZW50U2VsZWN0aW9uIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtTW9kLWtcIiwgcnVuOiBkZWxldGVMaW5lIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtTW9kLVxcXFxcIiwgcnVuOiBjdXJzb3JNYXRjaGluZ0JyYWNrZXQgfSxcbiAgICB7IGtleTogXCJNb2QtL1wiLCBydW46IHRvZ2dsZUNvbW1lbnQgfSxcbiAgICB7IGtleTogXCJBbHQtQVwiLCBydW46IHRvZ2dsZUJsb2NrQ29tbWVudCB9LFxuICAgIHsga2V5OiBcIkN0cmwtbVwiLCBtYWM6IFwiU2hpZnQtQWx0LW1cIiwgcnVuOiB0b2dnbGVUYWJGb2N1c01vZGUgfSxcbl0uY29uY2F0KHN0YW5kYXJkS2V5bWFwKTtcbi8qKlxuQSBiaW5kaW5nIHRoYXQgYmluZHMgVGFiIHRvIFtgaW5kZW50TW9yZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50TW9yZSkgYW5kXG5TaGlmdC1UYWIgdG8gW2BpbmRlbnRMZXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRMZXNzKS5cblBsZWFzZSBzZWUgdGhlIFtUYWIgZXhhbXBsZV0oLi4vLi4vZXhhbXBsZXMvdGFiLykgYmVmb3JlIHVzaW5nXG50aGlzLlxuKi9cbmNvbnN0IGluZGVudFdpdGhUYWIgPSB7IGtleTogXCJUYWJcIiwgcnVuOiBpbmRlbnRNb3JlLCBzaGlmdDogaW5kZW50TGVzcyB9O1xuXG5leHBvcnQgeyBibG9ja0NvbW1lbnQsIGJsb2NrVW5jb21tZW50LCBjb3B5TGluZURvd24sIGNvcHlMaW5lVXAsIGN1cnNvckNoYXJCYWNrd2FyZCwgY3Vyc29yQ2hhckJhY2t3YXJkTG9naWNhbCwgY3Vyc29yQ2hhckZvcndhcmQsIGN1cnNvckNoYXJGb3J3YXJkTG9naWNhbCwgY3Vyc29yQ2hhckxlZnQsIGN1cnNvckNoYXJSaWdodCwgY3Vyc29yRG9jRW5kLCBjdXJzb3JEb2NTdGFydCwgY3Vyc29yR3JvdXBCYWNrd2FyZCwgY3Vyc29yR3JvdXBGb3J3YXJkLCBjdXJzb3JHcm91cEZvcndhcmRXaW4sIGN1cnNvckdyb3VwTGVmdCwgY3Vyc29yR3JvdXBSaWdodCwgY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmQsIGN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmQsIGN1cnNvckxpbmVCb3VuZGFyeUxlZnQsIGN1cnNvckxpbmVCb3VuZGFyeVJpZ2h0LCBjdXJzb3JMaW5lRG93biwgY3Vyc29yTGluZUVuZCwgY3Vyc29yTGluZVN0YXJ0LCBjdXJzb3JMaW5lVXAsIGN1cnNvck1hdGNoaW5nQnJhY2tldCwgY3Vyc29yUGFnZURvd24sIGN1cnNvclBhZ2VVcCwgY3Vyc29yU3Vid29yZEJhY2t3YXJkLCBjdXJzb3JTdWJ3b3JkRm9yd2FyZCwgY3Vyc29yU3ludGF4TGVmdCwgY3Vyc29yU3ludGF4UmlnaHQsIGRlZmF1bHRLZXltYXAsIGRlbGV0ZUNoYXJCYWNrd2FyZCwgZGVsZXRlQ2hhckJhY2t3YXJkU3RyaWN0LCBkZWxldGVDaGFyRm9yd2FyZCwgZGVsZXRlR3JvdXBCYWNrd2FyZCwgZGVsZXRlR3JvdXBGb3J3YXJkLCBkZWxldGVMaW5lLCBkZWxldGVMaW5lQm91bmRhcnlCYWNrd2FyZCwgZGVsZXRlTGluZUJvdW5kYXJ5Rm9yd2FyZCwgZGVsZXRlVG9MaW5lRW5kLCBkZWxldGVUb0xpbmVTdGFydCwgZGVsZXRlVHJhaWxpbmdXaGl0ZXNwYWNlLCBlbWFjc1N0eWxlS2V5bWFwLCBoaXN0b3J5LCBoaXN0b3J5RmllbGQsIGhpc3RvcnlLZXltYXAsIGluZGVudExlc3MsIGluZGVudE1vcmUsIGluZGVudFNlbGVjdGlvbiwgaW5kZW50V2l0aFRhYiwgaW5zZXJ0QmxhbmtMaW5lLCBpbnNlcnROZXdsaW5lLCBpbnNlcnROZXdsaW5lQW5kSW5kZW50LCBpbnNlcnROZXdsaW5lS2VlcEluZGVudCwgaW5zZXJ0VGFiLCBpbnZlcnRlZEVmZmVjdHMsIGlzb2xhdGVIaXN0b3J5LCBsaW5lQ29tbWVudCwgbGluZVVuY29tbWVudCwgbW92ZUxpbmVEb3duLCBtb3ZlTGluZVVwLCByZWRvLCByZWRvRGVwdGgsIHJlZG9TZWxlY3Rpb24sIHNlbGVjdEFsbCwgc2VsZWN0Q2hhckJhY2t3YXJkLCBzZWxlY3RDaGFyQmFja3dhcmRMb2dpY2FsLCBzZWxlY3RDaGFyRm9yd2FyZCwgc2VsZWN0Q2hhckZvcndhcmRMb2dpY2FsLCBzZWxlY3RDaGFyTGVmdCwgc2VsZWN0Q2hhclJpZ2h0LCBzZWxlY3REb2NFbmQsIHNlbGVjdERvY1N0YXJ0LCBzZWxlY3RHcm91cEJhY2t3YXJkLCBzZWxlY3RHcm91cEZvcndhcmQsIHNlbGVjdEdyb3VwRm9yd2FyZFdpbiwgc2VsZWN0R3JvdXBMZWZ0LCBzZWxlY3RHcm91cFJpZ2h0LCBzZWxlY3RMaW5lLCBzZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZCwgc2VsZWN0TGluZUJvdW5kYXJ5Rm9yd2FyZCwgc2VsZWN0TGluZUJvdW5kYXJ5TGVmdCwgc2VsZWN0TGluZUJvdW5kYXJ5UmlnaHQsIHNlbGVjdExpbmVEb3duLCBzZWxlY3RMaW5lRW5kLCBzZWxlY3RMaW5lU3RhcnQsIHNlbGVjdExpbmVVcCwgc2VsZWN0TWF0Y2hpbmdCcmFja2V0LCBzZWxlY3RQYWdlRG93biwgc2VsZWN0UGFnZVVwLCBzZWxlY3RQYXJlbnRTeW50YXgsIHNlbGVjdFN1YndvcmRCYWNrd2FyZCwgc2VsZWN0U3Vid29yZEZvcndhcmQsIHNlbGVjdFN5bnRheExlZnQsIHNlbGVjdFN5bnRheFJpZ2h0LCBzaW1wbGlmeVNlbGVjdGlvbiwgc3BsaXRMaW5lLCBzdGFuZGFyZEtleW1hcCwgdGVtcG9yYXJpbHlTZXRUYWJGb2N1c01vZGUsIHRvZ2dsZUJsb2NrQ29tbWVudCwgdG9nZ2xlQmxvY2tDb21tZW50QnlMaW5lLCB0b2dnbGVDb21tZW50LCB0b2dnbGVMaW5lQ29tbWVudCwgdG9nZ2xlVGFiRm9jdXNNb2RlLCB0cmFuc3Bvc2VDaGFycywgdW5kbywgdW5kb0RlcHRoLCB1bmRvU2VsZWN0aW9uIH07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNCBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjNFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjNFxuICpcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC8gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmNlaWwoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5mbG9vcihhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1pbihhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IC1hWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIG91dFszXSA9IDEuMCAvIGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMgaW4gYSA0LWRpbWVuc2lvbmFsIHNwYWNlXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHJlc3VsdCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFUgdGhlIGZpcnN0IHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBXIHRoZSB0aGlyZCB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XG4gIHZhciBHID0gdVswXTtcbiAgdmFyIEggPSB1WzFdO1xuICB2YXIgSSA9IHVbMl07XG4gIHZhciBKID0gdVszXTtcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIHZhciBhdyA9IGFbM107XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIG91dFszXSA9IGF3ICsgdCAqIChiWzNdIC0gYXcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDsgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG5cbiAgdmFyIHYxLCB2MiwgdjMsIHY0O1xuICB2YXIgczEsIHMyO1xuXG4gIGRvIHtcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMxID0gdjEgKiB2MSArIHYyICogdjI7XG4gIH0gd2hpbGUgKHMxID49IDEpO1xuXG4gIGRvIHtcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjQgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMyID0gdjMgKiB2MyArIHY0ICogdjQ7XG4gIH0gd2hpbGUgKHMyID49IDEpO1xuXG4gIHZhciBkID0gTWF0aC5zcXJ0KCgxIC0gczEpIC8gczIpO1xuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xuICBvdXRbMV0gPSBzY2FsZSAqIHYyO1xuICBvdXRbMl0gPSBzY2FsZSAqIHYzICogZDtcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xuXG4gIHZhciBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICB2YXIgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gIHZhciBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7IC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuICBvdXRbMF0gPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xuICBvdXRbMV0gPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWM0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gNDtcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgdmVjWzNdID0gYVtpICsgM107XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgYVtpICsgM10gPSB2ZWNbM107XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG5pbXBvcnQgKiBhcyBtYXQzIGZyb20gXCIuL21hdDMuanNcIjtcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xuaW1wb3J0ICogYXMgdmVjNCBmcm9tIFwiLi92ZWM0LmpzXCI7XG4vKipcbiAqIFF1YXRlcm5pb25cbiAqIEBtb2R1bGUgcXVhdFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBxdWF0XG4gKlxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBxdWF0IHRvIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAwO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXRzIGEgcXVhdCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhbmQgcm90YXRpb24gYXhpcyxcbiAqIHRoZW4gcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIGFyb3VuZCB3aGljaCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsIGF4aXMsIHJhZCkge1xuICByYWQgPSByYWQgKiAwLjU7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xuICBvdXRbMl0gPSBzICogYXhpc1syXTtcbiAgb3V0WzNdID0gTWF0aC5jb3MocmFkKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0cyB0aGUgcm90YXRpb24gYXhpcyBhbmQgYW5nbGUgZm9yIGEgZ2l2ZW5cbiAqICBxdWF0ZXJuaW9uLiBJZiBhIHF1YXRlcm5pb24gaXMgY3JlYXRlZCB3aXRoXG4gKiAgc2V0QXhpc0FuZ2xlLCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2FtZVxuICogIHZhbHVlcyBhcyBwcm92aWRpZWQgaW4gdGhlIG9yaWdpbmFsIHBhcmFtZXRlciBsaXN0XG4gKiAgT1IgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdmFsdWVzLlxuICogRXhhbXBsZTogVGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5IGF4aXMgWzAsIDAsIDFdIGFuZFxuICogIGFuZ2xlIC05MCBpcyB0aGUgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBmb3JtZWQgYnlcbiAqICBbMCwgMCwgMV0gYW5kIDI3MC4gVGhpcyBtZXRob2QgZmF2b3JzIHRoZSBsYXR0ZXIuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXRfYXhpcyAgVmVjdG9yIHJlY2VpdmluZyB0aGUgYXhpcyBvZiByb3RhdGlvblxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBxICAgICBRdWF0ZXJuaW9uIHRvIGJlIGRlY29tcG9zZWRcbiAqIEByZXR1cm4ge051bWJlcn0gICAgIEFuZ2xlLCBpbiByYWRpYW5zLCBvZiB0aGUgcm90YXRpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XG4gIHZhciByYWQgPSBNYXRoLmFjb3MocVszXSkgKiAyLjA7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkIC8gMi4wKTtcblxuICBpZiAocyA+IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICBvdXRfYXhpc1swXSA9IHFbMF0gLyBzO1xuICAgIG91dF9heGlzWzFdID0gcVsxXSAvIHM7XG4gICAgb3V0X2F4aXNbMl0gPSBxWzJdIC8gcztcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBzIGlzIHplcm8sIHJldHVybiBhbnkgYXhpcyAobm8gcm90YXRpb24gLSBheGlzIGRvZXMgbm90IG1hdHRlcilcbiAgICBvdXRfYXhpc1swXSA9IDE7XG4gICAgb3V0X2F4aXNbMV0gPSAwO1xuICAgIG91dF9heGlzWzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiByYWQ7XG59XG4vKipcbiAqIEdldHMgdGhlIGFuZ3VsYXIgZGlzdGFuY2UgYmV0d2VlbiB0d28gdW5pdCBxdWF0ZXJuaW9uc1xuICpcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gYSAgICAgT3JpZ2luIHVuaXQgcXVhdGVybmlvblxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBiICAgICBEZXN0aW5hdGlvbiB1bml0IHF1YXRlcm5pb25cbiAqIEByZXR1cm4ge051bWJlcn0gICAgIEFuZ2xlLCBpbiByYWRpYW5zLCBiZXR3ZWVuIHRoZSB0d28gcXVhdGVybmlvbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGUoYSwgYikge1xuICB2YXIgZG90cHJvZHVjdCA9IGRvdChhLCBiKTtcbiAgcmV0dXJuIE1hdGguYWNvcygyICogZG90cHJvZHVjdCAqIGRvdHByb2R1Y3QgLSAxKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgYncgPSBiWzNdO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYXcgPSBhWzNdO1xuICB2YXIgYnggPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieDtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF6ICogYng7XG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGF3ID0gYVszXTtcbiAgdmFyIGJ5ID0gTWF0aC5zaW4ocmFkKSxcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYXggKiBidyAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXggKiBieTtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF5ICogYnk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieiA9IE1hdGguc2luKHJhZCksXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGF4ICogYncgKyBheSAqIGJ6O1xuICBvdXRbMV0gPSBheSAqIGJ3IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXogKiBidyArIGF3ICogYno7XG4gIG91dFszXSA9IGF3ICogYncgLSBheiAqIGJ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBXIGNvbXBvbmVudCBvZiBhIHF1YXQgZnJvbSB0aGUgWCwgWSwgYW5kIFogY29tcG9uZW50cy5cbiAqIEFzc3VtZXMgdGhhdCBxdWF0ZXJuaW9uIGlzIDEgdW5pdCBpbiBsZW5ndGguXG4gKiBBbnkgZXhpc3RpbmcgVyBjb21wb25lbnQgd2lsbCBiZSBpZ25vcmVkLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgVyBjb21wb25lbnQgb2ZcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVyhvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gTWF0aC5zcXJ0KE1hdGguYWJzKDEuMCAtIHggKiB4IC0geSAqIHkgLSB6ICogeikpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cChvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgZXQgPSBNYXRoLmV4cCh3KTtcbiAgdmFyIHMgPSByID4gMCA/IGV0ICogTWF0aC5zaW4ocikgLyByIDogMDtcbiAgb3V0WzBdID0geCAqIHM7XG4gIG91dFsxXSA9IHkgKiBzO1xuICBvdXRbMl0gPSB6ICogcztcbiAgb3V0WzNdID0gZXQgKiBNYXRoLmNvcyhyKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIHVuaXQgcXVhdGVybmlvbi5cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsbihvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICB2YXIgdCA9IHIgPiAwID8gTWF0aC5hdGFuMihyLCB3KSAvIHIgOiAwO1xuICBvdXRbMF0gPSB4ICogdDtcbiAgb3V0WzFdID0geSAqIHQ7XG4gIG91dFsyXSA9IHogKiB0O1xuICBvdXRbM10gPSAwLjUgKiBNYXRoLmxvZyh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc2NhbGFyIHBvd2VyIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHF1YXRlcm5pb24gYnlcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcG93KG91dCwgYSwgYikge1xuICBsbihvdXQsIGEpO1xuICBzY2FsZShvdXQsIG91dCwgYik7XG4gIGV4cChvdXQsIG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XG4gIC8vIGJlbmNobWFya3M6XG4gIC8vICAgIGh0dHA6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tc2xlcnAtaW1wbGVtZW50YXRpb25zXG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBhdyA9IGFbM107XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBidyA9IGJbM107XG4gIHZhciBvbWVnYSwgY29zb20sIHNpbm9tLCBzY2FsZTAsIHNjYWxlMTsgLy8gY2FsYyBjb3NpbmVcblxuICBjb3NvbSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7IC8vIGFkanVzdCBzaWducyAoaWYgbmVjZXNzYXJ5KVxuXG4gIGlmIChjb3NvbSA8IDAuMCkge1xuICAgIGNvc29tID0gLWNvc29tO1xuICAgIGJ4ID0gLWJ4O1xuICAgIGJ5ID0gLWJ5O1xuICAgIGJ6ID0gLWJ6O1xuICAgIGJ3ID0gLWJ3O1xuICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcblxuXG4gIGlmICgxLjAgLSBjb3NvbSA+IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycClcbiAgICBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XG4gICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207XG4gICAgc2NhbGUxID0gTWF0aC5zaW4odCAqIG9tZWdhKSAvIHNpbm9tO1xuICB9IGVsc2Uge1xuICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2VcbiAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgc2NhbGUwID0gMS4wIC0gdDtcbiAgICBzY2FsZTEgPSB0O1xuICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXNcblxuXG4gIG91dFswXSA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XG4gIG91dFsyXSA9IHNjYWxlMCAqIGF6ICsgc2NhbGUxICogYno7XG4gIG91dFszXSA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB1bml0IHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCkge1xuICAvLyBJbXBsZW1lbnRhdGlvbiBvZiBodHRwOi8vcGxhbm5pbmcuY3MudWl1Yy5lZHUvbm9kZTE5OC5odG1sXG4gIC8vIFRPRE86IENhbGxpbmcgcmFuZG9tIDMgdGltZXMgaXMgcHJvYmFibHkgbm90IHRoZSBmYXN0ZXN0IHNvbHV0aW9uXG4gIHZhciB1MSA9IGdsTWF0cml4LlJBTkRPTSgpO1xuICB2YXIgdTIgPSBnbE1hdHJpeC5SQU5ET00oKTtcbiAgdmFyIHUzID0gZ2xNYXRyaXguUkFORE9NKCk7XG4gIHZhciBzcXJ0MU1pbnVzVTEgPSBNYXRoLnNxcnQoMSAtIHUxKTtcbiAgdmFyIHNxcnRVMSA9IE1hdGguc3FydCh1MSk7XG4gIG91dFswXSA9IHNxcnQxTWludXNVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsxXSA9IHNxcnQxTWludXNVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Mik7XG4gIG91dFsyXSA9IHNxcnRVMSAqIE1hdGguc2luKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIG91dFszXSA9IHNxcnRVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Myk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBxdWF0XG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XG4gIHZhciBpbnZEb3QgPSBkb3QgPyAxLjAgLyBkb3QgOiAwOyAvLyBUT0RPOiBXb3VsZCBiZSBmYXN0ZXIgdG8gcmV0dXJuIFswLDAsMCwwXSBpbW1lZGlhdGVseSBpZiBkb3QgPT0gMFxuXG4gIG91dFswXSA9IC1hMCAqIGludkRvdDtcbiAgb3V0WzFdID0gLWExICogaW52RG90O1xuICBvdXRbMl0gPSAtYTIgKiBpbnZEb3Q7XG4gIG91dFszXSA9IGEzICogaW52RG90O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb25qdWdhdGUgb2YgYSBxdWF0XG4gKiBJZiB0aGUgcXVhdGVybmlvbiBpcyBub3JtYWxpemVkLCB0aGlzIGZ1bmN0aW9uIGlzIGZhc3RlciB0aGFuIHF1YXQuaW52ZXJzZSBhbmQgcHJvZHVjZXMgdGhlIHNhbWUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgY29uanVnYXRlIG9mXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gM3gzIHJvdGF0aW9uIG1hdHJpeC5cbiAqXG4gKiBOT1RFOiBUaGUgcmVzdWx0YW50IHF1YXRlcm5pb24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIHlvdSBzaG91bGQgYmUgc3VyZVxuICogdG8gcmVub3JtYWxpemUgdGhlIHF1YXRlcm5pb24geW91cnNlbGYgd2hlcmUgbmVjZXNzYXJ5LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gcm90YXRpb24gbWF0cml4XG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDMob3V0LCBtKSB7XG4gIC8vIEFsZ29yaXRobSBpbiBLZW4gU2hvZW1ha2UncyBhcnRpY2xlIGluIDE5ODcgU0lHR1JBUEggY291cnNlIG5vdGVzXG4gIC8vIGFydGljbGUgXCJRdWF0ZXJuaW9uIENhbGN1bHVzIGFuZCBGYXN0IEFuaW1hdGlvblwiLlxuICB2YXIgZlRyYWNlID0gbVswXSArIG1bNF0gKyBtWzhdO1xuICB2YXIgZlJvb3Q7XG5cbiAgaWYgKGZUcmFjZSA+IDAuMCkge1xuICAgIC8vIHx3fCA+IDEvMiwgbWF5IGFzIHdlbGwgY2hvb3NlIHcgPiAxLzJcbiAgICBmUm9vdCA9IE1hdGguc3FydChmVHJhY2UgKyAxLjApOyAvLyAyd1xuXG4gICAgb3V0WzNdID0gMC41ICogZlJvb3Q7XG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDsgLy8gMS8oNHcpXG5cbiAgICBvdXRbMF0gPSAobVs1XSAtIG1bN10pICogZlJvb3Q7XG4gICAgb3V0WzFdID0gKG1bNl0gLSBtWzJdKSAqIGZSb290O1xuICAgIG91dFsyXSA9IChtWzFdIC0gbVszXSkgKiBmUm9vdDtcbiAgfSBlbHNlIHtcbiAgICAvLyB8d3wgPD0gMS8yXG4gICAgdmFyIGkgPSAwO1xuICAgIGlmIChtWzRdID4gbVswXSkgaSA9IDE7XG4gICAgaWYgKG1bOF0gPiBtW2kgKiAzICsgaV0pIGkgPSAyO1xuICAgIHZhciBqID0gKGkgKyAxKSAlIDM7XG4gICAgdmFyIGsgPSAoaSArIDIpICUgMztcbiAgICBmUm9vdCA9IE1hdGguc3FydChtW2kgKiAzICsgaV0gLSBtW2ogKiAzICsgal0gLSBtW2sgKiAzICsga10gKyAxLjApO1xuICAgIG91dFtpXSA9IDAuNSAqIGZSb290O1xuICAgIGZSb290ID0gMC41IC8gZlJvb3Q7XG4gICAgb3V0WzNdID0gKG1baiAqIDMgKyBrXSAtIG1bayAqIDMgKyBqXSkgKiBmUm9vdDtcbiAgICBvdXRbal0gPSAobVtqICogMyArIGldICsgbVtpICogMyArIGpdKSAqIGZSb290O1xuICAgIG91dFtrXSA9IChtW2sgKiAzICsgaV0gKyBtW2kgKiAzICsga10pICogZlJvb3Q7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcXVhdGVybmlvbiBmcm9tIHRoZSBnaXZlbiBldWxlciBhbmdsZSB4LCB5LCB6LlxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHt4fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFggYXhpcyBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHt5fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFkgYXhpcyBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHt6fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFogYXhpcyBpbiBkZWdyZWVzLlxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdWxlcihvdXQsIHgsIHksIHopIHtcbiAgdmFyIGhhbGZUb1JhZCA9IDAuNSAqIE1hdGguUEkgLyAxODAuMDtcbiAgeCAqPSBoYWxmVG9SYWQ7XG4gIHkgKj0gaGFsZlRvUmFkO1xuICB6ICo9IGhhbGZUb1JhZDtcbiAgdmFyIHN4ID0gTWF0aC5zaW4oeCk7XG4gIHZhciBjeCA9IE1hdGguY29zKHgpO1xuICB2YXIgc3kgPSBNYXRoLnNpbih5KTtcbiAgdmFyIGN5ID0gTWF0aC5jb3MoeSk7XG4gIHZhciBzeiA9IE1hdGguc2luKHopO1xuICB2YXIgY3ogPSBNYXRoLmNvcyh6KTtcbiAgb3V0WzBdID0gc3ggKiBjeSAqIGN6IC0gY3ggKiBzeSAqIHN6O1xuICBvdXRbMV0gPSBjeCAqIHN5ICogY3ogKyBzeCAqIGN5ICogc3o7XG4gIG91dFsyXSA9IGN4ICogY3kgKiBzeiAtIHN4ICogc3kgKiBjejtcbiAgb3V0WzNdID0gY3ggKiBjeSAqIGN6ICsgc3ggKiBzeSAqIHN6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgcXVhdGVuaW9uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwicXVhdChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBxdWF0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gY2xvbmVcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGNsb25lID0gdmVjNC5jbG9uZTtcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBxdWF0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmcm9tVmFsdWVzID0gdmVjNC5mcm9tVmFsdWVzO1xuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgcXVhdCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgc291cmNlIHF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgY29weSA9IHZlYzQuY29weTtcbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgcXVhdCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0gdyBXIGNvbXBvbmVudFxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzZXQgPSB2ZWM0LnNldDtcbi8qKlxuICogQWRkcyB0d28gcXVhdCdzXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGFkZCA9IHZlYzQuYWRkO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBTY2FsZXMgYSBxdWF0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzY2FsZSA9IHZlYzQuc2NhbGU7XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byBxdWF0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRvdCA9IHZlYzQuZG90O1xuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXQnc1xuICpcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZXJwID0gdmVjNC5sZXJwO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSBxdWF0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IHZhciBsZW5ndGggPSB2ZWM0Lmxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHF1YXRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxdWFyZWRMZW5ndGggPSB2ZWM0LnNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdC5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBOb3JtYWxpemUgYSBxdWF0XG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0ZXJuaW9uIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3F1YXR9IG91dFxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBub3JtYWxpemUgPSB2ZWM0Lm5vcm1hbGl6ZTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcXVhdGVybmlvbnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCBxdWF0ZXJuaW9uLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IHZhciBleGFjdEVxdWFscyA9IHZlYzQuZXhhY3RFcXVhbHM7XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgdmFyIGVxdWFscyA9IHZlYzQuZXF1YWxzO1xuLyoqXG4gKiBTZXRzIGEgcXVhdGVybmlvbiB0byByZXByZXNlbnQgdGhlIHNob3J0ZXN0IHJvdGF0aW9uIGZyb20gb25lXG4gKiB2ZWN0b3IgdG8gYW5vdGhlci5cbiAqXG4gKiBCb3RoIHZlY3RvcnMgYXJlIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGguXG4gKlxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGluaXRpYWwgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgZGVzdGluYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IHZhciByb3RhdGlvblRvID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG1wdmVjMyA9IHZlYzMuY3JlYXRlKCk7XG4gIHZhciB4VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XG4gIHZhciB5VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCBhLCBiKSB7XG4gICAgdmFyIGRvdCA9IHZlYzMuZG90KGEsIGIpO1xuXG4gICAgaWYgKGRvdCA8IC0wLjk5OTk5OSkge1xuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCB4VW5pdFZlYzMsIGEpO1xuICAgICAgaWYgKHZlYzMubGVuKHRtcHZlYzMpIDwgMC4wMDAwMDEpIHZlYzMuY3Jvc3ModG1wdmVjMywgeVVuaXRWZWMzLCBhKTtcbiAgICAgIHZlYzMubm9ybWFsaXplKHRtcHZlYzMsIHRtcHZlYzMpO1xuICAgICAgc2V0QXhpc0FuZ2xlKG91dCwgdG1wdmVjMywgTWF0aC5QSSk7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH0gZWxzZSBpZiAoZG90ID4gMC45OTk5OTkpIHtcbiAgICAgIG91dFswXSA9IDA7XG4gICAgICBvdXRbMV0gPSAwO1xuICAgICAgb3V0WzJdID0gMDtcbiAgICAgIG91dFszXSA9IDE7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIGEsIGIpO1xuICAgICAgb3V0WzBdID0gdG1wdmVjM1swXTtcbiAgICAgIG91dFsxXSA9IHRtcHZlYzNbMV07XG4gICAgICBvdXRbMl0gPSB0bXB2ZWMzWzJdO1xuICAgICAgb3V0WzNdID0gMSArIGRvdDtcbiAgICAgIHJldHVybiBub3JtYWxpemUob3V0LCBvdXQpO1xuICAgIH1cbiAgfTtcbn0oKTtcbi8qKlxuICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgdmFyIHNxbGVycCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRlbXAxID0gY3JlYXRlKCk7XG4gIHZhciB0ZW1wMiA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICAgIHNsZXJwKHRlbXAxLCBhLCBkLCB0KTtcbiAgICBzbGVycCh0ZW1wMiwgYiwgYywgdCk7XG4gICAgc2xlcnAob3V0LCB0ZW1wMSwgdGVtcDIsIDIgKiB0ICogKDEgLSB0KSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfTtcbn0oKTtcbi8qKlxuICogU2V0cyB0aGUgc3BlY2lmaWVkIHF1YXRlcm5pb24gd2l0aCB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW5cbiAqIGF4ZXMuIEVhY2ggYXhpcyBpcyBhIHZlYzMgYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHVuaXQgbGVuZ3RoIGFuZFxuICogcGVycGVuZGljdWxhciB0byBhbGwgb3RoZXIgc3BlY2lmaWVkIGF4ZXMuXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHZpZXcgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB2aWV3aW5nIGRpcmVjdGlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHJpZ2h0IHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInJpZ2h0XCIgZGlyZWN0aW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgICAgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwidXBcIiBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgdmFyIHNldEF4ZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtYXRyID0gbWF0My5jcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvdXQsIHZpZXcsIHJpZ2h0LCB1cCkge1xuICAgIG1hdHJbMF0gPSByaWdodFswXTtcbiAgICBtYXRyWzNdID0gcmlnaHRbMV07XG4gICAgbWF0cls2XSA9IHJpZ2h0WzJdO1xuICAgIG1hdHJbMV0gPSB1cFswXTtcbiAgICBtYXRyWzRdID0gdXBbMV07XG4gICAgbWF0cls3XSA9IHVwWzJdO1xuICAgIG1hdHJbMl0gPSAtdmlld1swXTtcbiAgICBtYXRyWzVdID0gLXZpZXdbMV07XG4gICAgbWF0cls4XSA9IC12aWV3WzJdO1xuICAgIHJldHVybiBub3JtYWxpemUob3V0LCBmcm9tTWF0MyhvdXQsIG1hdHIpKTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXG4gKiBAbW9kdWxlIG1hdDRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgICBhMTMgPSBhWzddO1xuICAgIHZhciBhMjMgPSBhWzExXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYTAxO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYTAyO1xuICAgIG91dFs5XSA9IGExMjtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGEwMztcbiAgICBvdXRbMTNdID0gYTEzO1xuICAgIG91dFsxNF0gPSBhMjM7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYVsxXTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYVsyXTtcbiAgICBvdXRbOV0gPSBhWzZdO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGFbM107XG4gICAgb3V0WzEzXSA9IGFbN107XG4gICAgb3V0WzE0XSA9IGFbMTFdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcblxuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDIgKiBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcbiAgdmFyIGV5ZXggPSBleWVbMF0sXG4gICAgICBleWV5ID0gZXllWzFdLFxuICAgICAgZXlleiA9IGV5ZVsyXSxcbiAgICAgIHVweCA9IHVwWzBdLFxuICAgICAgdXB5ID0gdXBbMV0sXG4gICAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3NcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgICAgYTkgPSBhWzldLFxuICAgICAgYTEwID0gYVsxMF0sXG4gICAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgICAgYTEzID0gYVsxM10sXG4gICAgICBhMTQgPSBhWzE0XSxcbiAgICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgICAgYjkgPSBiWzldLFxuICAgICAgYjEwID0gYlsxMF0sXG4gICAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgICAgYjEzID0gYlsxM10sXG4gICAgICBiMTQgPSBiWzE0XSxcbiAgICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsImV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChkYXRhKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbChkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwidW5kZWZpbmVkXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwiYm9vbGVhblwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIoZGF0YSkge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCdWZmZXJTb3VyY2UoZGF0YSkge1xuICAgIHJldHVybiBpc0FycmF5QnVmZmVyKGRhdGEpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nQXJyYXkoZGF0YSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhKSB7XG4gICAgICAgIGlmICghaXNTdHJpbmcoaXRlbSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE51bWJlcihkYXRhLCBuYW1lID0gXCJkYXRhXCIpIHtcbiAgICBpZiAoIWlzTnVtYmVyKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhIG51bWJlciBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTdHJpbmcoZGF0YSwgbmFtZSA9IFwiZGF0YVwiKSB7XG4gICAgaWYgKCFpc1N0cmluZyhkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgJHtuYW1lfSB3YXMgZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmcgYnV0IHdlIGdvdCAke3R5cGVvZiBkYXRhfSFgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T3B0aW9uYWxTdHJpbmcoZGF0YSwgbmFtZSA9IFwiZGF0YVwiKSB7XG4gICAgaWYgKGRhdGEgJiYgIWlzU3RyaW5nKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZyBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRCb29sZWFuKGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmICghaXNCb29sZWFuKGRhdGEpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke25hbWV9IHdhcyBleHBlY3RlZCB0byBiZSBhIGJvb2xlYW4gYnV0IHdlIGdvdCAke3R5cGVvZiBkYXRhfSFgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T2JqZWN0KGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7bmFtZX0gd2FzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCBidXQgd2UgZ290ICR7dHlwZW9mIGRhdGF9IWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcnJheShkYXRhLCBuYW1lID0gXCJkYXRhXCIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7bmFtZX0gd2FzIGV4cGVjdGVkIHRvIGJlIGFuIEFycmF5IGJ1dCB3ZSBnb3QgJHt0eXBlb2YgZGF0YX0hYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFycmF5QnVmZmVyKGRhdGEsIG5hbWUgPSBcImRhdGFcIikge1xuICAgIGlmICghaXNBcnJheUJ1ZmZlcihkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgJHtuYW1lfSB3YXMgZXhwZWN0ZWQgdG8gYmUgYW4gQXJyYXlCdWZmZXIgYnV0IHdlIGdvdCAke3R5cGVvZiBkYXRhfSFgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T3B0aW9uYWxBcnJheUJ1ZmZlcihkYXRhLCBuYW1lID0gXCJkYXRhXCIpIHtcbiAgICBpZiAoZGF0YSAmJiAhaXNBcnJheUJ1ZmZlcihkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgJHtuYW1lfSB3YXMgZXhwZWN0ZWQgdG8gYmUgYW4gQXJyYXlCdWZmZXIgYnV0IHdlIGdvdCAke3R5cGVvZiBkYXRhfSFgKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlKGRhdGEsIHR5cGUsIGxvZ0Vycm9ycyA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgICBhc3NlcnRUeXBlKGRhdGEsIHR5cGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgIGlmIChsb2dFcnJvcnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbSW52YWxpZCB0eXBlXVwiLCBsb2dFcnJvcnMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkYXRhKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZShkYXRhLCB0eXBlLCBwcmVmaXggPSBcImRhdGFcIikge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gYXNzZXJ0VHlwZShkYXRhLCB0eXBlKCksIHByZWZpeCk7XG4gICAgaWYgKHR5cGUgPT09IFwidW5rbm93blwiKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfmoAgW2luZGV4XSBkYXRhID0gXCIsIGRhdGEsIHR5cGVvZiBkYXRhKTsgLy8gQEZJWE1FOiBSZW1vdmUgdGhpcyBsaW5lIHdyaXR0ZW4gb24gMjAyNC0xMC0xOCBhdCAxMzoyMlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhIG51bGwgYW5kIG5vdCBhICR7cHJldHR5dHlwZW9mKGRhdGEpfSFgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0gdG8gYmUgYSAke3R5cGV9IGFuZCBub3QgYSAke3ByZXR0eXR5cGVvZihkYXRhKX0hYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICBjb25zdCBba2luZF0gPSB0eXBlO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVBcnJheShkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICBhc3NlcnRUeXBlTWFwKGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcIj9cIjpcbiAgICAgICAgICAgICAgICBhc3NlcnRUeXBlT3B0aW9uYWwoZGF0YSwgcHJlZml4LCB0eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVBbHRlcm5hdGl2ZShkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJ0dXBsZVwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVUdXBsZShkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJ0dXBsZS4uLlwiOlxuICAgICAgICAgICAgICAgIGFzc2VydFR5cGVUdXBsZVdpdGhSZXN0KGRhdGEsIHByZWZpeCwgdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcInBhcnRpYWxcIjpcbiAgICAgICAgICAgICAgICBhc3NlcnRUeXBlUGFydGlhbChkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZUxpdGVyYWwoZGF0YSwgcHJlZml4LCB0eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgICAgICAgICAgYXNzZXJ0VHlwZUN1c3RvbShkYXRhLCBwcmVmaXgsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYERvbid0IGtub3cgaG93IHRvIGNyZWF0ZSBhIHR5cGUgZ3VhcmQgZm9yIHRoaXMga2luZCBvZiB0eXBlOiAke0pTT04uc3RyaW5naWZ5KHR5cGUpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhbiBvYmplY3QgYW5kIG5vdCBhICR7cHJldHR5dHlwZW9mKGRhdGEpfSFgKTtcbiAgICBjb25zdCBvYmogPSBkYXRhO1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyh0eXBlKSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgYXNzZXJ0VHlwZShvYmpbbmFtZV0sIHR5cGVbbmFtZV0sIGAke3ByZWZpeH0uJHtuYW1lfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVUdXBsZShkYXRhLCBwcmVmaXgsIFssIC4uLnR5cGVzXSkge1xuICAgIGFzc2VydEFycmF5KGRhdGEpO1xuICAgIGlmICh0eXBlcy5sZW5ndGggPiBkYXRhLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9J3MgbGVuZ3RoIHRvIGJlIGF0IGxlYXN0ICR7dHlwZXMubGVuZ3RofSBhbmQgbm90ICR7ZGF0YS5sZW5ndGh9IWApO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgYXNzZXJ0VHlwZShkYXRhW2ldLCB0eXBlLCBgJHtwcmVmaXh9WyR7aX1dYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZVR1cGxlV2l0aFJlc3QoZGF0YSwgcHJlZml4LCBbLCAuLi50eXBlc10pIHtcbiAgICBjb25zdCBsYXN0ID0gdHlwZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBmaXhUeXBlcyA9IHR5cGVzLnNsaWNlKDAsIGxhc3QpO1xuICAgIGFzc2VydFR5cGVUdXBsZShkYXRhLCBwcmVmaXgsIFtcInR1cGxlXCIsIC4uLmZpeFR5cGVzXSk7XG4gICAgY29uc3QgcmVzdCA9IHR5cGVzW2xhc3RdO1xuICAgIGZvciAobGV0IGkgPSBsYXN0OyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhc3NlcnRUeXBlKGRhdGFbaV0sIHJlc3QsIGAke3ByZWZpeH1bJHtpfV1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhc3NlcnRUeXBlUGFydGlhbChkYXRhLCBwcmVmaXgsIFssIHR5cGVdKSB7XG4gICAgYXNzZXJ0T2JqZWN0KGRhdGEsIHByZWZpeCk7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHR5cGUpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBhdHRyaWIgPSBkYXRhW25hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgYXNzZXJ0VHlwZShhdHRyaWIsIHR5cGVbbmFtZV0sIGAke3ByZWZpeH0uJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZUFycmF5KGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoYEV4cGVjdGVkICR7cHJlZml4fSB0byBiZSBhbiBhcnJheSBhbmQgbm90IGEgJHtwcmV0dHl0eXBlb2YoZGF0YSl9IWApO1xuICAgIGNvbnN0IFssIHN1YlR5cGUsIGNvbnN0cmFpbnRzXSA9IHR5cGU7XG4gICAgaWYgKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBpZiAoaXNOdW1iZXIoY29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICBpZiAobGVuICE9PSBjb25zdHJhaW50cykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBsZW5ndGggdG8gYmUgJHtjb25zdHJhaW50c30gYW5kIG5vdCAke2xlbn0hYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSBjb25zdHJhaW50cztcbiAgICAgICAgICAgIGlmIChpc051bWJlcihtaW4pICYmIGxlbiA8IG1pbikge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBNSU4gbGVuZ3RoIHRvIGJlICR7bWlufSBhbmQgbm90ICR7bGVufSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc051bWJlcihtYXgpICYmIGxlbiA+IG1heCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBFeHBlY3RlZCAke3ByZWZpeH0ncyBNQVggbGVuZ3RoIHRvIGJlICR7bWF4fSBhbmQgbm90ICR7bGVufSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXNzZXJ0VHlwZShkYXRhW2ldLCBzdWJUeXBlLCBgJHtwcmVmaXh9WyR7aX1dYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZU1hcChkYXRhLCBwcmVmaXgsIHR5cGUpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKVxuICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9IHRvIGJlIGFuIG9iamVjdCBhbmQgbm90IGEgJHtwcmV0dHl0eXBlb2YoZGF0YSl9IWApO1xuICAgIGNvbnN0IFssIHN1YlR5cGVdID0gdHlwZTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkYXRhKSkge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgYXNzZXJ0VHlwZShkYXRhW2tleV0sIHN1YlR5cGUsIGAke3ByZWZpeH1bJHtrZXl9XWApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZU9wdGlvbmFsKGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IFssIG9wdGlvbmFsVHlwZV0gPSB0eXBlO1xuICAgIGFzc2VydFR5cGUoZGF0YSwgb3B0aW9uYWxUeXBlLCBwcmVmaXgpO1xufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZUFsdGVybmF0aXZlKGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGNvbnN0IFssIC4uLmFsdFR5cGVzXSA9IHR5cGU7XG4gICAgaWYgKGFsdFR5cGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhyb3cgRXJyb3IoYE5vIHR5cGUgaGFzIGJlZW4gZGVmaW5lZCBmb3IgdGhpcyBhbHRlcm5hdGl2ZTogJHtKU09OLnN0cmluZ2lmeSh0eXBlKX0hYCk7XG4gICAgY29uc3QgZXhjZXB0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgYWx0VHlwZSBvZiBhbHRUeXBlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXNzZXJ0VHlwZShkYXRhLCBhbHRUeXBlLCBwcmVmaXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgaWYgKGV4IGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICAgICAgZXhjZXB0aW9ucy5wdXNoKGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFsbCBhbHRlcm5hdGl2ZXMgZmFpbGVkISR7ZXhjZXB0aW9ucy5tYXAoZXggPT4gYFxcbiR7ZXgubWVzc2FnZX1gKX1gKTtcbn1cbmZ1bmN0aW9uIGFzc2VydFR5cGVMaXRlcmFsKGRhdGEsIHByZWZpeCwgdHlwZSkge1xuICAgIGNvbnN0IFssIC4uLmxpdGVyYWxzXSA9IHR5cGU7XG4gICAgZm9yIChjb25zdCBsaXRlcmFsIG9mIGxpdGVyYWxzKSB7XG4gICAgICAgIGlmIChkYXRhID09PSBsaXRlcmFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHtwcmVmaXh9IHRvIGJlIGEgbGl0ZXJhbCAoJHtsaXRlcmFsc1xuICAgICAgICAubWFwKGl0ZW0gPT4gYFwiJHtpdGVtfVwiYClcbiAgICAgICAgLmpvaW4oXCIgfCBcIil9KSBhbmQgbm90IGEgJHtwcmV0dHl0eXBlb2YoZGF0YSl9IWApO1xufVxuZnVuY3Rpb24gYXNzZXJ0VHlwZUN1c3RvbShkYXRhLCBwcmVmaXgsIFssIHR5cGVHdWFyZF0pIHtcbiAgICAvLyBDdXN0b20gdHlwZSBndWFyZC5cbiAgICBpZiAoIXR5cGVHdWFyZChkYXRhKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgJHt0eXBlR3VhcmQubmFtZX0oJHtwcmVmaXh9KSB0byByZXR1cm4gdHJ1ZSFgKTtcbiAgICB9XG4gICAgcmV0dXJuO1xufVxuLyoqXG4gKiBCYXNpY2FsbHksIHRoaXMgZnVuY3Rpb24gY2hlY2tzIGEgYGRhdGFgIGFnYWluc3QgYSBgdHlwZWAgYW5kIHJldHVybnMgYSBgZGVmYXVsdFZhbHVlYFxuICogaWYgYGRhdGFgIGlzIG5vdCBvZiB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqXG4gKiBCdXQgaWYgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIGEgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBleHBlY3RlZCBgdHlwZWAsIHRoZW4gYGVuc3VyZVR5cGVgXG4gKiBjYW4gYmUgdXNlIHRvIHVwZGF0ZSBvbGQgZGF0YSB0aGF0IHlvdSBoYXZlIHJldHJpZXZlZCBmcm9tIGxvY2FsIHN0b3JhZ2UsIGZvciBleGFtcGxlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGludGVyZmFjZSBDb21wbGV4IHsgcjogbnVtYmVyLCBpOiBudW1iZXIgfVxuICogY29uc3QgY29tcGxleCA9IGVuc3VyZVR5cGU8Q29tcGxleD4oZGF0YSwge3I6IFwibnVtYmVyXCIsIGk6IFwibnVtYmVyXCJ9LCB7IHI6IDEsIGk6IDAgfSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGludGVycGFjZSBQZXJzb25WZXJzaW9uMSB7XG4gKiAgIG5hbWU6IHN0cmluZ1xuICogICBmZW1hbGU6IGJvb2xlYW5cbiAqIH1cbiAqIGludGVycGFjZSBQZXJzb25WZXJzaW9uMiB7XG4gKiAgIG5hbWU6IHN0cmluZ1xuICogICBnZW5kZXI6IFwibWFsZVwiIHwgXCJmZW1hbGVcIiB8IFwibm9uYmluYXJ5XCIgfCBcInVua25vd25cIlxuICogfVxuICpcbiAqIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKExvY2FsU3RvcmF0ZS5nZXRJdGVtKFwicGVyc29uXCIpID8/IFwibnVsbFwiKVxuICogY29uc3QgVHlwZVBlcnNvblZlcnNpb24xID0ge1xuICogICBuYW1lOiBcInN0cmluZ1wiLFxuICogICBmZW1hbGU6IFwiYm9vbGVhblwiXG4gKiB9XG4gKiBjb25zdCBUeXBlUGVyc29uVmVyc2lvbjIgPSB7XG4gKiAgIG5hbWU6IFwic3RyaW5nXCIsXG4gKiAgIGdlbmRlcjogW1wibGl0ZXJhbFwiLCBcIm1hbGVcIiwgXCJmZW1hbGVcIiwgXCJub25iaW5hcnlcIiwgXCJ1bmtub3duXCJdXG4gKiB9XG4gKiBjb25zdCBwZXJzb24gPSBlbnN1cmVUeXBlPFBlcnNvblZlcnNpb24yPihcbiAqICAgZGF0YSxcbiAqICAgVHlwZVBlcnNvblZlcnNpb24yLFxuICogICAodmFsdWU6IHVua25vd24pID0+IHtcbiAqICAgICBpZiAoaXNUeXBlPFBlcnNvblZlcnNpb24yPih2YWx1ZSwgVHlwZVBlcnNvblZlcnNpb24yKSkge1xuICogICAgICAgcmV0dXJuIHZhbHVlXG4gKiAgICAgfVxuICogICAgIGlmIChpc1R5cGU8UGVyc29uVmVyc2lvbjE+KHZhbHVlLCBUeXBlUGVyc29uVmVyc2lvbjEpKSB7XG4gKiAgICAgICByZXR1cm4ge1xuICogICAgICAgICBuYW1lOiB2YWx1ZS5uYW1lLFxuICogICAgICAgICBnZW5kZXI6IHZhbHVlLmZlbWFsZSA9PT0gdHJ1ZSA/IFwiZmVtYWxlXCIgOiBcInVua25vd25cIlxuICogICAgICAgfVxuICogICAgIH1cbiAqICAgICByZXR1cm4geyBuYW1lOiBcIkFub255bW91c1wiLCBnZW5kZXI6IFwidW5rbm93blwiIH1cbiAqICAgfVxuICogKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGRhdGEgVmFsdWUgd2l0aCB1bmtub3duIHR5cGUuXG4gKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSB0byBjaGVjayBhZ2FpbnN0LlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBJZiB0aGUgdHlwZSBkb2Vzbid0IGNoZWNrLCB3ZSBjYW4gcmV0dXJuIGBkZWZhdWx0VmFsdWVgLCBvciBjYWxsIGl0IGlmIHRoaXMgaXMgYSBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIEEgdmFsdWUgdGhhdCBpcyBvZiB0aGUgZXhwZWN0ZWQgdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVR5cGUoZGF0YSwgdHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKGlzVHlwZShkYXRhLCB0eXBlKSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgcmV0dXJuIGlzVHlwZShkZWZhdWx0VmFsdWUsIHR5cGUpID8gZGVmYXVsdFZhbHVlIDogZGVmYXVsdFZhbHVlKGRhdGEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUJvb2xlYW4oZGF0YSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIGVuc3VyZVR5cGUoZGF0YSwgXCJib29sZWFuXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTnVtYmVyKGRhdGEsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBlbnN1cmVUeXBlKGRhdGEsIFwibnVtYmVyXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RyaW5nKGRhdGEsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBlbnN1cmVUeXBlKGRhdGEsIFwic3RyaW5nXCIsIGRlZmF1bHRWYWx1ZSk7XG59XG5mdW5jdGlvbiBwcmV0dHl0eXBlb2YoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZGF0YSA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gYGZ1bmN0aW9uICR7KF9hID0gZGF0YS5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwifSgpYDtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogM3gzIE1hdHJpeFxuICogQG1vZHVsZSBtYXQzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDNcbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gYSBuZXcgM3gzIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNV0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs0XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcGllcyB0aGUgdXBwZXItbGVmdCAzeDMgdmFsdWVzIGludG8gdGhlIGdpdmVuIG1hdDMuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSAgIHRoZSBzb3VyY2UgNHg0IG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVs0XTtcbiAgb3V0WzRdID0gYVs1XTtcbiAgb3V0WzVdID0gYVs2XTtcbiAgb3V0WzZdID0gYVs4XTtcbiAgb3V0WzddID0gYVs5XTtcbiAgb3V0WzhdID0gYVsxMF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0MyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDMgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHJldHVybnMge21hdDN9IEEgbmV3IG1hdDNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTEwO1xuICBvdXRbNF0gPSBtMTE7XG4gIG91dFs1XSA9IG0xMjtcbiAgb3V0WzZdID0gbTIwO1xuICBvdXRbN10gPSBtMjE7XG4gIG91dFs4XSA9IG0yMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0MyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTEwLCBtMTEsIG0xMiwgbTIwLCBtMjEsIG0yMikge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMTA7XG4gIG91dFs0XSA9IG0xMTtcbiAgb3V0WzVdID0gbTEyO1xuICBvdXRbNl0gPSBtMjA7XG4gIG91dFs3XSA9IG0yMTtcbiAgb3V0WzhdID0gbTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGExMiA9IGFbNV07XG4gICAgb3V0WzFdID0gYVszXTtcbiAgICBvdXRbMl0gPSBhWzZdO1xuICAgIG91dFszXSA9IGEwMTtcbiAgICBvdXRbNV0gPSBhWzddO1xuICAgIG91dFs2XSA9IGEwMjtcbiAgICBvdXRbN10gPSBhMTI7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzNdO1xuICAgIG91dFsyXSA9IGFbNl07XG4gICAgb3V0WzNdID0gYVsxXTtcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbN107XG4gICAgb3V0WzZdID0gYVsyXTtcbiAgICBvdXRbN10gPSBhWzVdO1xuICAgIG91dFs4XSA9IGFbOF07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDEgPSBhMjIgKiBhMTEgLSBhMTIgKiBhMjE7XG4gIHZhciBiMTEgPSAtYTIyICogYTEwICsgYTEyICogYTIwO1xuICB2YXIgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGEwMCAqIGIwMSArIGEwMSAqIGIxMSArIGEwMiAqIGIyMTtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSBiMDEgKiBkZXQ7XG4gIG91dFsxXSA9ICgtYTIyICogYTAxICsgYTAyICogYTIxKSAqIGRldDtcbiAgb3V0WzJdID0gKGExMiAqIGEwMSAtIGEwMiAqIGExMSkgKiBkZXQ7XG4gIG91dFszXSA9IGIxMSAqIGRldDtcbiAgb3V0WzRdID0gKGEyMiAqIGEwMCAtIGEwMiAqIGEyMCkgKiBkZXQ7XG4gIG91dFs1XSA9ICgtYTEyICogYTAwICsgYTAyICogYTEwKSAqIGRldDtcbiAgb3V0WzZdID0gYjIxICogZGV0O1xuICBvdXRbN10gPSAoLWEyMSAqIGEwMCArIGEwMSAqIGEyMCkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTEgKiBhMDAgLSBhMDEgKiBhMTApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXTtcbiAgdmFyIGExMCA9IGFbM10sXG4gICAgICBhMTEgPSBhWzRdLFxuICAgICAgYTEyID0gYVs1XTtcbiAgdmFyIGEyMCA9IGFbNl0sXG4gICAgICBhMjEgPSBhWzddLFxuICAgICAgYTIyID0gYVs4XTtcbiAgb3V0WzBdID0gYTExICogYTIyIC0gYTEyICogYTIxO1xuICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XG4gIG91dFsyXSA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgb3V0WzNdID0gYTEyICogYTIwIC0gYTEwICogYTIyO1xuICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XG4gIG91dFs1XSA9IGEwMiAqIGExMCAtIGEwMCAqIGExMjtcbiAgb3V0WzZdID0gYTEwICogYTIxIC0gYTExICogYTIwO1xuICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XG4gIG91dFs4XSA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdO1xuICB2YXIgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdO1xuICB2YXIgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdO1xuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl07XG4gIHZhciBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV07XG4gIHZhciBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF07XG4gIHZhciBiMDAgPSBiWzBdLFxuICAgICAgYjAxID0gYlsxXSxcbiAgICAgIGIwMiA9IGJbMl07XG4gIHZhciBiMTAgPSBiWzNdLFxuICAgICAgYjExID0gYls0XSxcbiAgICAgIGIxMiA9IGJbNV07XG4gIHZhciBiMjAgPSBiWzZdLFxuICAgICAgYjIxID0gYls3XSxcbiAgICAgIGIyMiA9IGJbOF07XG4gIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgb3V0WzFdID0gYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxO1xuICBvdXRbMl0gPSBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjI7XG4gIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcbiAgb3V0WzRdID0gYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxO1xuICBvdXRbNV0gPSBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjI7XG4gIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcbiAgb3V0WzddID0gYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxO1xuICBvdXRbOF0gPSBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMTAgPSBhWzNdLFxuICAgICAgYTExID0gYVs0XSxcbiAgICAgIGExMiA9IGFbNV0sXG4gICAgICBhMjAgPSBhWzZdLFxuICAgICAgYTIxID0gYVs3XSxcbiAgICAgIGEyMiA9IGFbOF0sXG4gICAgICB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdO1xuICBvdXRbMF0gPSBhMDA7XG4gIG91dFsxXSA9IGEwMTtcbiAgb3V0WzJdID0gYTAyO1xuICBvdXRbM10gPSBhMTA7XG4gIG91dFs0XSA9IGExMTtcbiAgb3V0WzVdID0gYTEyO1xuICBvdXRbNl0gPSB4ICogYTAwICsgeSAqIGExMCArIGEyMDtcbiAgb3V0WzddID0geCAqIGEwMSArIHkgKiBhMTEgKyBhMjE7XG4gIG91dFs4XSA9IHggKiBhMDIgKyB5ICogYTEyICsgYTIyO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0MyBieSB0aGUgZ2l2ZW4gYW5nbGVcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTEwID0gYVszXSxcbiAgICAgIGExMSA9IGFbNF0sXG4gICAgICBhMTIgPSBhWzVdLFxuICAgICAgYTIwID0gYVs2XSxcbiAgICAgIGEyMSA9IGFbN10sXG4gICAgICBhMjIgPSBhWzhdLFxuICAgICAgcyA9IE1hdGguc2luKHJhZCksXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcbiAgb3V0WzBdID0gYyAqIGEwMCArIHMgKiBhMTA7XG4gIG91dFsxXSA9IGMgKiBhMDEgKyBzICogYTExO1xuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcbiAgb3V0WzNdID0gYyAqIGExMCAtIHMgKiBhMDA7XG4gIG91dFs0XSA9IGMgKiBhMTEgLSBzICogYTAxO1xuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcbiAgb3V0WzZdID0gYTIwO1xuICBvdXRbN10gPSBhMjE7XG4gIG91dFs4XSA9IGEyMjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQzIGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMyXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB0aGUgdmVjMiB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV07XG4gIG91dFswXSA9IHggKiBhWzBdO1xuICBvdXRbMV0gPSB4ICogYVsxXTtcbiAgb3V0WzJdID0geCAqIGFbMl07XG4gIG91dFszXSA9IHkgKiBhWzNdO1xuICBvdXRbNF0gPSB5ICogYVs0XTtcbiAgb3V0WzVdID0geSAqIGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAxO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSB2WzBdO1xuICBvdXRbN10gPSB2WzFdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgYyA9IE1hdGguY29zKHJhZCk7XG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IC1zO1xuICBvdXRbNF0gPSBjO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB2WzFdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBmcm9tIGEgbWF0MmQgaW50byBhIG1hdDNcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBhIHRoZSBtYXRyaXggdG8gY29weVxuICogQHJldHVybnMge21hdDN9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDJkKG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSBhWzJdO1xuICBvdXRbNF0gPSBhWzNdO1xuICBvdXRbNV0gPSAwO1xuICBvdXRbNl0gPSBhWzRdO1xuICBvdXRbN10gPSBhWzVdO1xuICBvdXRbOF0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbM10gPSB5eCAtIHd6O1xuICBvdXRbNl0gPSB6eCArIHd5O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbNF0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzddID0genkgLSB3eDtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzVdID0genkgKyB3eDtcbiAgb3V0WzhdID0gMSAtIHh4IC0geXk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbm9ybWFsIG1hdHJpeCAodHJhbnNwb3NlIGludmVyc2UpIGZyb20gdGhlIDR4NCBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBNYXQ0IHRvIGRlcml2ZSB0aGUgbm9ybWFsIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxGcm9tTWF0NChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzJdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFszXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIDJEIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB5b3VyIGdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvbihvdXQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgb3V0WzBdID0gMiAvIHdpZHRoO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gLTE7XG4gIG91dFs3XSA9IDE7XG4gIG91dFs4XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMnc1xuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDMncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdLFxuICAgICAgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddLFxuICAgICAgYTggPSBhWzhdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdLFxuICAgICAgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddLFxuICAgICAgYjggPSBiWzhdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsImNvbnN0IEMgPSBcIlxcdTAzN2NcIlxuY29uc3QgQ09VTlQgPSB0eXBlb2YgU3ltYm9sID09IFwidW5kZWZpbmVkXCIgPyBcIl9fXCIgKyBDIDogU3ltYm9sLmZvcihDKVxuY29uc3QgU0VUID0gdHlwZW9mIFN5bWJvbCA9PSBcInVuZGVmaW5lZFwiID8gXCJfX3N0eWxlU2V0XCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpIDogU3ltYm9sKFwic3R5bGVTZXRcIilcbmNvbnN0IHRvcCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge31cblxuLy8gOjogLSBTdHlsZSBtb2R1bGVzIGVuY2Fwc3VsYXRlIGEgc2V0IG9mIENTUyBydWxlcyBkZWZpbmVkIGZyb21cbi8vIEphdmFTY3JpcHQuIFRoZWlyIGRlZmluaXRpb25zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBhIGdpdmVuIERPTVxuLy8gcm9vdCBhZnRlciBpdCBoYXMgYmVlbiBfbW91bnRlZF8gdGhlcmUgd2l0aCBgU3R5bGVNb2R1bGUubW91bnRgLlxuLy9cbi8vIFN0eWxlIG1vZHVsZXMgc2hvdWxkIGJlIGNyZWF0ZWQgb25jZSBhbmQgc3RvcmVkIHNvbWV3aGVyZSwgYXNcbi8vIG9wcG9zZWQgdG8gcmUtY3JlYXRpbmcgdGhlbSBldmVyeSB0aW1lIHlvdSBuZWVkIHRoZW0uIFRoZSBhbW91bnQgb2Zcbi8vIENTUyBydWxlcyBnZW5lcmF0ZWQgZm9yIGEgZ2l2ZW4gRE9NIHJvb3QgaXMgYm91bmRlZCBieSB0aGUgYW1vdW50XG4vLyBvZiBzdHlsZSBtb2R1bGVzIHRoYXQgd2VyZSB1c2VkLiBTbyB0byBhdm9pZCBsZWFraW5nIHJ1bGVzLCBkb24ndFxuLy8gY3JlYXRlIHRoZXNlIGR5bmFtaWNhbGx5LCBidXQgdHJlYXQgdGhlbSBhcyBvbmUtdGltZSBhbGxvY2F0aW9ucy5cbmV4cG9ydCBjbGFzcyBTdHlsZU1vZHVsZSB7XG4gIC8vIDo6IChPYmplY3Q8U3R5bGU+LCA/e2ZpbmlzaDogPyhzdHJpbmcpIOKGkiBzdHJpbmd9KVxuICAvLyBDcmVhdGUgYSBzdHlsZSBtb2R1bGUgZnJvbSB0aGUgZ2l2ZW4gc3BlYy5cbiAgLy9cbiAgLy8gV2hlbiBgZmluaXNoYCBpcyBnaXZlbiwgaXQgaXMgY2FsbGVkIG9uIHJlZ3VsYXIgKG5vbi1gQGApXG4gIC8vIHNlbGVjdG9ycyAoYWZ0ZXIgYCZgIGV4cGFuc2lvbikgdG8gY29tcHV0ZSB0aGUgZmluYWwgc2VsZWN0b3IuXG4gIGNvbnN0cnVjdG9yKHNwZWMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJ1bGVzID0gW11cbiAgICBsZXQge2ZpbmlzaH0gPSBvcHRpb25zIHx8IHt9XG5cbiAgICBmdW5jdGlvbiBzcGxpdFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gL15ALy50ZXN0KHNlbGVjdG9yKSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3Rvci5zcGxpdCgvLFxccyovKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlcihzZWxlY3RvcnMsIHNwZWMsIHRhcmdldCwgaXNLZXlmcmFtZXMpIHtcbiAgICAgIGxldCBsb2NhbCA9IFtdLCBpc0F0ID0gL15AKFxcdyspXFxiLy5leGVjKHNlbGVjdG9yc1swXSksIGtleWZyYW1lcyA9IGlzQXQgJiYgaXNBdFsxXSA9PSBcImtleWZyYW1lc1wiXG4gICAgICBpZiAoaXNBdCAmJiBzcGVjID09IG51bGwpIHJldHVybiB0YXJnZXQucHVzaChzZWxlY3RvcnNbMF0gKyBcIjtcIilcbiAgICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykge1xuICAgICAgICBsZXQgdmFsdWUgPSBzcGVjW3Byb3BdXG4gICAgICAgIGlmICgvJi8udGVzdChwcm9wKSkge1xuICAgICAgICAgIHJlbmRlcihwcm9wLnNwbGl0KC8sXFxzKi8pLm1hcChwYXJ0ID0+IHNlbGVjdG9ycy5tYXAoc2VsID0+IHBhcnQucmVwbGFjZSgvJi8sIHNlbCkpKS5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKSxcbiAgICAgICAgICAgICAgICAgdmFsdWUsIHRhcmdldClcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmICghaXNBdCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSAoXCIgKyBwcm9wICsgXCIpIHNob3VsZCBiZSBhIHByaW1pdGl2ZSB2YWx1ZS5cIilcbiAgICAgICAgICByZW5kZXIoc3BsaXRTZWxlY3Rvcihwcm9wKSwgdmFsdWUsIGxvY2FsLCBrZXlmcmFtZXMpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGxvY2FsLnB1c2gocHJvcC5yZXBsYWNlKC9fLiovLCBcIlwiKS5yZXBsYWNlKC9bQS1aXS9nLCBsID0+IFwiLVwiICsgbC50b0xvd2VyQ2FzZSgpKSArIFwiOiBcIiArIHZhbHVlICsgXCI7XCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbC5sZW5ndGggfHwga2V5ZnJhbWVzKSB7XG4gICAgICAgIHRhcmdldC5wdXNoKChmaW5pc2ggJiYgIWlzQXQgJiYgIWlzS2V5ZnJhbWVzID8gc2VsZWN0b3JzLm1hcChmaW5pc2gpIDogc2VsZWN0b3JzKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiB7XCIgKyBsb2NhbC5qb2luKFwiIFwiKSArIFwifVwiKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykgcmVuZGVyKHNwbGl0U2VsZWN0b3IocHJvcCksIHNwZWNbcHJvcF0sIHRoaXMucnVsZXMpXG4gIH1cblxuICAvLyA6OiAoKSDihpIgc3RyaW5nXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgbW9kdWxlJ3MgQ1NTIHJ1bGVzLlxuICBnZXRSdWxlcygpIHsgcmV0dXJuIHRoaXMucnVsZXMuam9pbihcIlxcblwiKSB9XG5cbiAgLy8gOjogKCkg4oaSIHN0cmluZ1xuICAvLyBHZW5lcmF0ZSBhIG5ldyB1bmlxdWUgQ1NTIGNsYXNzIG5hbWUuXG4gIHN0YXRpYyBuZXdOYW1lKCkge1xuICAgIGxldCBpZCA9IHRvcFtDT1VOVF0gfHwgMVxuICAgIHRvcFtDT1VOVF0gPSBpZCArIDFcbiAgICByZXR1cm4gQyArIGlkLnRvU3RyaW5nKDM2KVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPERvY3VtZW50LCBTaGFkb3dSb290PiwgdW5pb248W1N0eWxlTW9kdWxlXSwgU3R5bGVNb2R1bGU+LCA/e25vbmNlOiA/c3RyaW5nfSlcbiAgLy9cbiAgLy8gTW91bnQgdGhlIGdpdmVuIHNldCBvZiBtb2R1bGVzIGluIHRoZSBnaXZlbiBET00gcm9vdCwgd2hpY2ggZW5zdXJlc1xuICAvLyB0aGF0IHRoZSBDU1MgcnVsZXMgZGVmaW5lZCBieSB0aGUgbW9kdWxlIGFyZSBhdmFpbGFibGUgaW4gdGhhdFxuICAvLyBjb250ZXh0LlxuICAvL1xuICAvLyBSdWxlcyBhcmUgb25seSBhZGRlZCB0byB0aGUgZG9jdW1lbnQgb25jZSBwZXIgcm9vdC5cbiAgLy9cbiAgLy8gUnVsZSBvcmRlciB3aWxsIGZvbGxvdyB0aGUgb3JkZXIgb2YgdGhlIG1vZHVsZXMsIHNvIHRoYXQgcnVsZXMgZnJvbVxuICAvLyBtb2R1bGVzIGxhdGVyIGluIHRoZSBhcnJheSB0YWtlIHByZWNlZGVuY2Ugb2YgdGhvc2UgZnJvbSBlYXJsaWVyXG4gIC8vIG1vZHVsZXMuIElmIHlvdSBjYWxsIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgZm9yIHRoZSBzYW1lIHJvb3RcbiAgLy8gaW4gYSB3YXkgdGhhdCBjaGFuZ2VzIHRoZSBvcmRlciBvZiBhbHJlYWR5IG1vdW50ZWQgbW9kdWxlcywgdGhlIG9sZFxuICAvLyBvcmRlciB3aWxsIGJlIGNoYW5nZWQuXG4gIC8vXG4gIC8vIElmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgbm9uY2UgaXMgcHJvdmlkZWQsIGl0IGlzIGFkZGVkIHRvXG4gIC8vIHRoZSBgPHN0eWxlPmAgdGFnIGdlbmVyYXRlZCBieSB0aGUgbGlicmFyeS5cbiAgc3RhdGljIG1vdW50KHJvb3QsIG1vZHVsZXMsIG9wdGlvbnMpIHtcbiAgICBsZXQgc2V0ID0gcm9vdFtTRVRdLCBub25jZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZVxuICAgIGlmICghc2V0KSBzZXQgPSBuZXcgU3R5bGVTZXQocm9vdCwgbm9uY2UpXG4gICAgZWxzZSBpZiAobm9uY2UpIHNldC5zZXROb25jZShub25jZSlcbiAgICBzZXQubW91bnQoQXJyYXkuaXNBcnJheShtb2R1bGVzKSA/IG1vZHVsZXMgOiBbbW9kdWxlc10sIHJvb3QpXG4gIH1cbn1cblxubGV0IGFkb3B0ZWRTZXQgPSBuZXcgTWFwIC8vPERvY3VtZW50LCBTdHlsZVNldD5cblxuY2xhc3MgU3R5bGVTZXQge1xuICBjb25zdHJ1Y3Rvcihyb290LCBub25jZSkge1xuICAgIGxldCBkb2MgPSByb290Lm93bmVyRG9jdW1lbnQgfHwgcm9vdCwgd2luID0gZG9jLmRlZmF1bHRWaWV3XG4gICAgaWYgKCFyb290LmhlYWQgJiYgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgJiYgd2luLkNTU1N0eWxlU2hlZXQpIHtcbiAgICAgIGxldCBhZG9wdGVkID0gYWRvcHRlZFNldC5nZXQoZG9jKVxuICAgICAgaWYgKGFkb3B0ZWQpIHJldHVybiByb290W1NFVF0gPSBhZG9wdGVkXG4gICAgICB0aGlzLnNoZWV0ID0gbmV3IHdpbi5DU1NTdHlsZVNoZWV0XG4gICAgICBhZG9wdGVkU2V0LnNldChkb2MsIHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3R5bGVUYWcgPSBkb2MuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpXG4gICAgICBpZiAobm9uY2UpIHRoaXMuc3R5bGVUYWcuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpXG4gICAgfVxuICAgIHRoaXMubW9kdWxlcyA9IFtdXG4gICAgcm9vdFtTRVRdID0gdGhpc1xuICB9XG5cbiAgbW91bnQobW9kdWxlcywgcm9vdCkge1xuICAgIGxldCBzaGVldCA9IHRoaXMuc2hlZXRcbiAgICBsZXQgcG9zID0gMCAvKiBDdXJyZW50IHJ1bGUgb2Zmc2V0ICovLCBqID0gMCAvKiBJbmRleCBpbnRvIHRoaXMubW9kdWxlcyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1vZCA9IG1vZHVsZXNbaV0sIGluZGV4ID0gdGhpcy5tb2R1bGVzLmluZGV4T2YobW9kKVxuICAgICAgaWYgKGluZGV4IDwgaiAmJiBpbmRleCA+IC0xKSB7IC8vIE9yZGVyaW5nIGNvbmZsaWN0XG4gICAgICAgIHRoaXMubW9kdWxlcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIGotLVxuICAgICAgICBpbmRleCA9IC0xXG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLnNwbGljZShqKyssIDAsIG1vZClcbiAgICAgICAgaWYgKHNoZWV0KSBmb3IgKGxldCBrID0gMDsgayA8IG1vZC5ydWxlcy5sZW5ndGg7IGsrKylcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG1vZC5ydWxlc1trXSwgcG9zKyspXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoaiA8IGluZGV4KSBwb3MgKz0gdGhpcy5tb2R1bGVzW2orK10ucnVsZXMubGVuZ3RoXG4gICAgICAgIHBvcyArPSBtb2QucnVsZXMubGVuZ3RoXG4gICAgICAgIGorK1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaGVldCkge1xuICAgICAgaWYgKHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzLmluZGV4T2YodGhpcy5zaGVldCkgPCAwKVxuICAgICAgICByb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFt0aGlzLnNoZWV0LCAuLi5yb290LmFkb3B0ZWRTdHlsZVNoZWV0c11cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRleHQgPSBcIlwiXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubW9kdWxlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgdGV4dCArPSB0aGlzLm1vZHVsZXNbaV0uZ2V0UnVsZXMoKSArIFwiXFxuXCJcbiAgICAgIHRoaXMuc3R5bGVUYWcudGV4dENvbnRlbnQgPSB0ZXh0XG4gICAgICBsZXQgdGFyZ2V0ID0gcm9vdC5oZWFkIHx8IHJvb3RcbiAgICAgIGlmICh0aGlzLnN0eWxlVGFnLnBhcmVudE5vZGUgIT0gdGFyZ2V0KVxuICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKHRoaXMuc3R5bGVUYWcsIHRhcmdldC5maXJzdENoaWxkKVxuICAgIH1cbiAgfVxuXG4gIHNldE5vbmNlKG5vbmNlKSB7XG4gICAgaWYgKHRoaXMuc3R5bGVUYWcgJiYgdGhpcy5zdHlsZVRhZy5nZXRBdHRyaWJ1dGUoXCJub25jZVwiKSAhPSBub25jZSlcbiAgICAgIHRoaXMuc3R5bGVUYWcuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpXG4gIH1cbn1cblxuLy8gU3R5bGU6Ok9iamVjdDx1bmlvbjxTdHlsZSxzdHJpbmc+PlxuLy9cbi8vIEEgc3R5bGUgaXMgYW4gb2JqZWN0IHRoYXQsIGluIHRoZSBzaW1wbGUgY2FzZSwgbWFwcyBDU1MgcHJvcGVydHlcbi8vIG5hbWVzIHRvIHN0cmluZ3MgaG9sZGluZyB0aGVpciB2YWx1ZXMsIGFzIGluIGB7Y29sb3I6IFwicmVkXCIsXG4vLyBmb250V2VpZ2h0OiBcImJvbGRcIn1gLiBUaGUgcHJvcGVydHkgbmFtZXMgY2FuIGJlIGdpdmVuIGluXG4vLyBjYW1lbC1jYXNl4oCUdGhlIGxpYnJhcnkgd2lsbCBpbnNlcnQgYSBkYXNoIGJlZm9yZSBjYXBpdGFsIGxldHRlcnNcbi8vIHdoZW4gY29udmVydGluZyB0aGVtIHRvIENTUy5cbi8vXG4vLyBJZiB5b3UgaW5jbHVkZSBhbiB1bmRlcnNjb3JlIGluIGEgcHJvcGVydHkgbmFtZSwgaXQgYW5kIGV2ZXJ5dGhpbmdcbi8vIGFmdGVyIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBvdXRwdXQsIHdoaWNoIGNhbiBiZSB1c2VmdWwgd2hlblxuLy8gcHJvdmlkaW5nIGEgcHJvcGVydHkgbXVsdGlwbGUgdGltZXMsIGZvciBicm93c2VyIGNvbXBhdGliaWxpdHlcbi8vIHJlYXNvbnMuXG4vL1xuLy8gQSBwcm9wZXJ0eSBpbiBhIHN0eWxlIG9iamVjdCBjYW4gYWxzbyBiZSBhIHN1Yi1zZWxlY3Rvciwgd2hpY2hcbi8vIGV4dGVuZHMgdGhlIGN1cnJlbnQgY29udGV4dCB0byBhZGQgYSBwc2V1ZG8tc2VsZWN0b3Igb3IgYSBjaGlsZFxuLy8gc2VsZWN0b3IuIFN1Y2ggYSBwcm9wZXJ0eSBzaG91bGQgY29udGFpbiBhIGAmYCBjaGFyYWN0ZXIsIHdoaWNoXG4vLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjdXJyZW50IHNlbGVjdG9yLiBGb3IgZXhhbXBsZSBge1wiJjpiZWZvcmVcIjpcbi8vIHtjb250ZW50OiAnXCJoaVwiJ319YC4gU3ViLXNlbGVjdG9ycyBhbmQgcmVndWxhciBwcm9wZXJ0aWVzIGNhblxuLy8gZnJlZWx5IGJlIG1peGVkIGluIGEgZ2l2ZW4gb2JqZWN0LiBBbnkgcHJvcGVydHkgY29udGFpbmluZyBhIGAmYCBpc1xuLy8gYXNzdW1lZCB0byBiZSBhIHN1Yi1zZWxlY3Rvci5cbi8vXG4vLyBGaW5hbGx5LCBhIHByb3BlcnR5IGNhbiBzcGVjaWZ5IGFuIEAtYmxvY2sgdG8gYmUgd3JhcHBlZCBhcm91bmQgdGhlXG4vLyBzdHlsZXMgZGVmaW5lZCBpbnNpZGUgdGhlIG9iamVjdCB0aGF0J3MgdGhlIHByb3BlcnR5J3MgdmFsdWUuIEZvclxuLy8gZXhhbXBsZSB0byBjcmVhdGUgYSBtZWRpYSBxdWVyeSB5b3UgY2FuIGRvIGB7XCJAbWVkaWEgc2NyZWVuIGFuZFxuLy8gKG1pbi13aWR0aDogNDAwcHgpXCI6IHsuLi59fWAuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiLy8gVGhlc2UgYXJlIGZpbGxlZCB3aXRoIHJhbmdlcyAocmFuZ2VGcm9tW2ldIHVwIHRvIGJ1dCBub3QgaW5jbHVkaW5nXG4vLyByYW5nZVRvW2ldKSBvZiBjb2RlIHBvaW50cyB0aGF0IGNvdW50IGFzIGV4dGVuZGluZyBjaGFyYWN0ZXJzLlxubGV0IHJhbmdlRnJvbSA9IFtdLCByYW5nZVRvID0gW11cblxuOygoKSA9PiB7XG4gIC8vIENvbXByZXNzZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIEdyYXBoZW1lX0NsdXN0ZXJfQnJlYWs9RXh0ZW5kXG4gIC8vIGluZm9ybWF0aW9uIGZyb21cbiAgLy8gaHR0cDovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvMTYuMC4wL3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Byb3BlcnR5LnR4dC5cbiAgLy8gRWFjaCBwYWlyIG9mIGVsZW1lbnRzIHJlcHJlc2VudHMgYSByYW5nZSwgYXMgYW4gb2ZmZXQgZnJvbSB0aGVcbiAgLy8gcHJldmlvdXMgcmFuZ2UgYW5kIGEgbGVuZ3RoLiBOdW1iZXJzIGFyZSBpbiBiYXNlLTM2LCB3aXRoIHRoZSBlbXB0eVxuICAvLyBzdHJpbmcgYmVpbmcgYSBzaG9ydGhhbmQgZm9yIDEuXG4gIGxldCBudW1iZXJzID0gXCJsYywzNCw3biw3LDdiLDE5LCwsLDIsLDIsLCwyMCxiLDFjLGwsZywsMnQsNywyLDYsMiwyLCw0LHosLHUsciwyaixiLDFtLDksOSwsbyw0LCw5LCwzLCw1LDE3LDMsM2IsZiwsdywxaiwsLCw0LDgsNCwsMyw3LGEsMix0LCwxbSwsLCwyLDQsOCwsOSwsYSwyLHEsLDIsMiwxbCwsNCwyLDQsMiwyLDMsMywsdSwyLDMsLGIsMiwxbCwsNCw1LCwyLDQsLGssMixtLDYsLCwxbSwsLDIsLDQsOCwsNywzLGEsMix1LCwxbiwsLCxjLCw5LCwxNCwsMywsMWwsMyw1LDMsLDQsNywyLGIsMix0LCwxbSwsMiwsMiwsMywsNSwyLDcsMixiLDIscywyLDFsLDIsLCwyLDQsOCwsOSwsYSwyLHQsLDIwLCw0LCwyLDMsLCw4LCwyOSwsMiw3LGMsOCwycSwsMiw5LGIsNiwyMiwyLHIsLCwsLCwxaixlLCw1LCwyLDUsYiwsMTAsOSwsMnUsNCwsNiwsMiwyLDIscCwyLDQsMyxnLDQsZCwsMiwyLDYsLGYsLGpqLDMscWEsMyx0LDMsdCwyLHUsMiwxcywyLCw3LDgsLDIsYiw5LCwxOSwzLDNiLDIseSwsM2EsMyw0LDIsOSwsNiwzLDYzLDIsMiwsMW0sLCw3LCwsLCwyLDgsNixhLDIsLDFjLGgsMXIsNCwxYyw3LCwsNSwsMTQsOSxjLDIsdyw0LDIsMiwsMywxaywsLDIsMywsLDMsMW0sOCwyLDIsNDgsMywsZCwsNyw0LCw2LCwzLDIsNWksMW0sLDUsZWssLDVmLHgsMmRhLDMsM3gsLDJvLHcsZmUsNiwyeCwyLG45dyw0LCxhLHcsMiwyOCwyLDdrLCwzLCw0LCxwLDIsNSwsNDcsMixxLGksZCwsMTIsOCxwLGIsMWEsMywxYywsMiw0LDIsMiwxMywsMXYsNiwyLDIsMiwyLGMsLDgsLDFiLCwxZiwsLDMsMiwyLDUsMiwsLDE2LDIsOCwsNm0sLDIsLDQsLGZuNCwsa2gsZyxnLGcsYTYsMixndCwsNmEsLDQ1LDUsMWFlLDMsLDIsNSw0LDE0LDMsNCwsNGwsMixmeCw0LGFyLDIsNDksYiw0dywsMWksZiwxaywzLDFkLDQsMiwyLDF4LDMsMTAsNSwsOCwxcSwsYywyLDFnLDksYSw0LDIsLDJuLDMsMiwsLDIsNiwsNGcsLDMsOCxsLDIsMWwsMiwsLCwsbSwsZSw3LDMsNSw1Ziw4LDIsMywsLG4sLDI5LCwyLDYsLCwyLCwsMiwsMiw2aiwsMiw0LDYsMiwsMixyLDIsMmQsOCwyLCwsMiwyeSwsLCwyLDYsLCwydCwzLDIsNCwsNSw3Nyw5LCwyLDZ0LCxhLDIsLCw0LCw0MCw0LDIsMiw0LCx3LGEsMTQsNiwyLDQsOCwsOSw2LDIsMywxYSxkLCwyLGJhLDcsLDYsLCwyYSxtLDIsNywsMiwsMiwzZSw2LDMsLCwyLCw3LCwsMjAsMiwzLCwsLDluLDIsZjBiLDUsMW4sNyx0NCwsMXIsNCwyOSwsZjVrLDIsNDNxLCwsMyw0LDUsOCw4LDIsNyx1LDQsNDQsMywxaXosMWosNCwxZSw4LCxlLCxtLDUsLGYsMTFzLDcsLGgsMiw3LCwyLCw1LDc5LDcsYzUsNCwxNXMsNywzMSw3LDI0MCw1LGd4N2ssMm8sM2ssNm9cIi5zcGxpdChcIixcIikubWFwKHMgPT4gcyA/IHBhcnNlSW50KHMsIDM2KSA6IDEpXG4gIGZvciAobGV0IGkgPSAwLCBuID0gMDsgaSA8IG51bWJlcnMubGVuZ3RoOyBpKyspXG4gICAgKGkgJSAyID8gcmFuZ2VUbyA6IHJhbmdlRnJvbSkucHVzaChuID0gbiArIG51bWJlcnNbaV0pXG59KSgpXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4dGVuZGluZ0NoYXIoY29kZSkge1xuICBpZiAoY29kZSA8IDc2OCkgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IGZyb20gPSAwLCB0byA9IHJhbmdlRnJvbS5sZW5ndGg7Oykge1xuICAgIGxldCBtaWQgPSAoZnJvbSArIHRvKSA+PiAxXG4gICAgaWYgKGNvZGUgPCByYW5nZUZyb21bbWlkXSkgdG8gPSBtaWRcbiAgICBlbHNlIGlmIChjb2RlID49IHJhbmdlVG9bbWlkXSkgZnJvbSA9IG1pZCArIDFcbiAgICBlbHNlIHJldHVybiB0cnVlXG4gICAgaWYgKGZyb20gPT0gdG8pIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzUmVnaW9uYWxJbmRpY2F0b3IoY29kZSkge1xuICByZXR1cm4gY29kZSA+PSAweDFGMUU2ICYmIGNvZGUgPD0gMHgxRjFGRlxufVxuXG5mdW5jdGlvbiBjaGVjayhjb2RlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VGcm9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJhbmdlVG9baV0gPiBjb2RlKSByZXR1cm4gcmFuZ2VGcm9tW2ldIDw9IGNvZGVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuY29uc3QgWldKID0gMHgyMDBkXG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQ2x1c3RlckJyZWFrKHN0ciwgcG9zLCBmb3J3YXJkID0gdHJ1ZSwgaW5jbHVkZUV4dGVuZGluZyA9IHRydWUpIHtcbiAgcmV0dXJuIChmb3J3YXJkID8gbmV4dENsdXN0ZXJCcmVhayA6IHByZXZDbHVzdGVyQnJlYWspKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKVxufVxuXG5mdW5jdGlvbiBuZXh0Q2x1c3RlckJyZWFrKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKSB7XG4gIGlmIChwb3MgPT0gc3RyLmxlbmd0aCkgcmV0dXJuIHBvc1xuICAvLyBJZiBwb3MgaXMgaW4gdGhlIG1pZGRsZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLCBtb3ZlIHRvIGl0cyBzdGFydFxuICBpZiAocG9zICYmIHN1cnJvZ2F0ZUxvdyhzdHIuY2hhckNvZGVBdChwb3MpKSAmJiBzdXJyb2dhdGVIaWdoKHN0ci5jaGFyQ29kZUF0KHBvcyAtIDEpKSkgcG9zLS1cbiAgbGV0IHByZXYgPSBjb2RlUG9pbnRBdChzdHIsIHBvcylcbiAgcG9zICs9IGNvZGVQb2ludFNpemUocHJldilcbiAgd2hpbGUgKHBvcyA8IHN0ci5sZW5ndGgpIHtcbiAgICBsZXQgbmV4dCA9IGNvZGVQb2ludEF0KHN0ciwgcG9zKVxuICAgIGlmIChwcmV2ID09IFpXSiB8fCBuZXh0ID09IFpXSiB8fCBpbmNsdWRlRXh0ZW5kaW5nICYmIGlzRXh0ZW5kaW5nQ2hhcihuZXh0KSkge1xuICAgICAgcG9zICs9IGNvZGVQb2ludFNpemUobmV4dClcbiAgICAgIHByZXYgPSBuZXh0XG4gICAgfSBlbHNlIGlmIChpc1JlZ2lvbmFsSW5kaWNhdG9yKG5leHQpKSB7XG4gICAgICBsZXQgY291bnRCZWZvcmUgPSAwLCBpID0gcG9zIC0gMlxuICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpc1JlZ2lvbmFsSW5kaWNhdG9yKGNvZGVQb2ludEF0KHN0ciwgaSkpKSB7IGNvdW50QmVmb3JlKys7IGkgLT0gMiB9XG4gICAgICBpZiAoY291bnRCZWZvcmUgJSAyID09IDApIGJyZWFrXG4gICAgICBlbHNlIHBvcyArPSAyXG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiBwb3Ncbn1cblxuZnVuY3Rpb24gcHJldkNsdXN0ZXJCcmVhayhzdHIsIHBvcywgaW5jbHVkZUV4dGVuZGluZykge1xuICB3aGlsZSAocG9zID4gMCkge1xuICAgIGxldCBmb3VuZCA9IG5leHRDbHVzdGVyQnJlYWsoc3RyLCBwb3MgLSAyLCBpbmNsdWRlRXh0ZW5kaW5nKVxuICAgIGlmIChmb3VuZCA8IHBvcykgcmV0dXJuIGZvdW5kXG4gICAgcG9zLS1cbiAgfVxuICByZXR1cm4gMFxufVxuXG5mdW5jdGlvbiBjb2RlUG9pbnRBdChzdHIsIHBvcykge1xuICBsZXQgY29kZTAgPSBzdHIuY2hhckNvZGVBdChwb3MpXG4gIGlmICghc3Vycm9nYXRlSGlnaChjb2RlMCkgfHwgcG9zICsgMSA9PSBzdHIubGVuZ3RoKSByZXR1cm4gY29kZTBcbiAgbGV0IGNvZGUxID0gc3RyLmNoYXJDb2RlQXQocG9zICsgMSlcbiAgaWYgKCFzdXJyb2dhdGVMb3coY29kZTEpKSByZXR1cm4gY29kZTBcbiAgcmV0dXJuICgoY29kZTAgLSAweGQ4MDApIDw8IDEwKSArIChjb2RlMSAtIDB4ZGMwMCkgKyAweDEwMDAwXG59XG5cbmZ1bmN0aW9uIHN1cnJvZ2F0ZUxvdyhjaCkgeyByZXR1cm4gY2ggPj0gMHhEQzAwICYmIGNoIDwgMHhFMDAwIH1cbmZ1bmN0aW9uIHN1cnJvZ2F0ZUhpZ2goY2gpIHsgcmV0dXJuIGNoID49IDB4RDgwMCAmJiBjaCA8IDB4REMwMCB9XG5mdW5jdGlvbiBjb2RlUG9pbnRTaXplKGNvZGUpIHsgcmV0dXJuIGNvZGUgPCAweDEwMDAwID8gMSA6IDIgfVxuIiwiaW1wb3J0IHsgZmluZENsdXN0ZXJCcmVhayBhcyBmaW5kQ2x1c3RlckJyZWFrJDEgfSBmcm9tICdAbWFyaWpuL2ZpbmQtY2x1c3Rlci1icmVhayc7XG5cbi8qKlxuVGhlIGRhdGEgc3RydWN0dXJlIGZvciBkb2N1bWVudHMuIEBub25hYnN0cmFjdFxuKi9cbmNsYXNzIFRleHQge1xuICAgIC8qKlxuICAgIEdldCB0aGUgbGluZSBkZXNjcmlwdGlvbiBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgbGluZUF0KHBvcykge1xuICAgICAgICBpZiAocG9zIDwgMCB8fCBwb3MgPiB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIHBvc2l0aW9uICR7cG9zfSBpbiBkb2N1bWVudCBvZiBsZW5ndGggJHt0aGlzLmxlbmd0aH1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUlubmVyKHBvcywgZmFsc2UsIDEsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGRlc2NyaXB0aW9uIGZvciB0aGUgZ2l2ZW4gKDEtYmFzZWQpIGxpbmUgbnVtYmVyLlxuICAgICovXG4gICAgbGluZShuKSB7XG4gICAgICAgIGlmIChuIDwgMSB8fCBuID4gdGhpcy5saW5lcylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGxpbmUgbnVtYmVyICR7bn0gaW4gJHt0aGlzLmxpbmVzfS1saW5lIGRvY3VtZW50YCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVJbm5lcihuLCB0cnVlLCAxLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIHJhbmdlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZGVjb21wb3NlKDAsIGZyb20sIHBhcnRzLCAyIC8qIE9wZW4uVG8gKi8pO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGgpXG4gICAgICAgICAgICB0ZXh0LmRlY29tcG9zZSgwLCB0ZXh0Lmxlbmd0aCwgcGFydHMsIDEgLyogT3Blbi5Gcm9tICovIHwgMiAvKiBPcGVuLlRvICovKTtcbiAgICAgICAgdGhpcy5kZWNvbXBvc2UodG8sIHRoaXMubGVuZ3RoLCBwYXJ0cywgMSAvKiBPcGVuLkZyb20gKi8pO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwZW5kIGFub3RoZXIgZG9jdW1lbnQgdG8gdGhpcyBvbmUuXG4gICAgKi9cbiAgICBhcHBlbmQob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSh0aGlzLmxlbmd0aCwgdGhpcy5sZW5ndGgsIG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHRleHQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICovXG4gICAgc2xpY2UoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICBbZnJvbSwgdG9dID0gY2xpcCh0aGlzLCBmcm9tLCB0byk7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmRlY29tcG9zZShmcm9tLCB0bywgcGFydHMsIDApO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdG8gLSBmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVzdCB3aGV0aGVyIHRoaXMgdGV4dCBpcyBlcXVhbCB0byBhbm90aGVyIGluc3RhbmNlLlxuICAgICovXG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyID09IHRoaXMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG90aGVyLmxlbmd0aCAhPSB0aGlzLmxlbmd0aCB8fCBvdGhlci5saW5lcyAhPSB0aGlzLmxpbmVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnNjYW5JZGVudGljYWwob3RoZXIsIDEpLCBlbmQgPSB0aGlzLmxlbmd0aCAtIHRoaXMuc2NhbklkZW50aWNhbChvdGhlciwgLTEpO1xuICAgICAgICBsZXQgYSA9IG5ldyBSYXdUZXh0Q3Vyc29yKHRoaXMpLCBiID0gbmV3IFJhd1RleHRDdXJzb3Iob3RoZXIpO1xuICAgICAgICBmb3IgKGxldCBza2lwID0gc3RhcnQsIHBvcyA9IHN0YXJ0OzspIHtcbiAgICAgICAgICAgIGEubmV4dChza2lwKTtcbiAgICAgICAgICAgIGIubmV4dChza2lwKTtcbiAgICAgICAgICAgIHNraXAgPSAwO1xuICAgICAgICAgICAgaWYgKGEubGluZUJyZWFrICE9IGIubGluZUJyZWFrIHx8IGEuZG9uZSAhPSBiLmRvbmUgfHwgYS52YWx1ZSAhPSBiLnZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSBhLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChhLmRvbmUgfHwgcG9zID49IGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHRleHQuIFdoZW4gYGRpcmAgaXMgYC0xYCwgaXRlcmF0aW9uIGhhcHBlbnNcbiAgICBmcm9tIGVuZCB0byBzdGFydC4gVGhpcyB3aWxsIHJldHVybiBsaW5lcyBhbmQgdGhlIGJyZWFrcyBiZXR3ZWVuXG4gICAgdGhlbSBhcyBzZXBhcmF0ZSBzdHJpbmdzLlxuICAgICovXG4gICAgaXRlcihkaXIgPSAxKSB7IHJldHVybiBuZXcgUmF3VGV4dEN1cnNvcih0aGlzLCBkaXIpOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgcmFuZ2Ugb2YgdGhlIHRleHQuIFdoZW4gYGZyb21gID4gYHRvYCwgdGhlXG4gICAgaXRlcmF0b3Igd2lsbCBydW4gaW4gcmV2ZXJzZS5cbiAgICAqL1xuICAgIGl0ZXJSYW5nZShmcm9tLCB0byA9IHRoaXMubGVuZ3RoKSB7IHJldHVybiBuZXcgUGFydGlhbFRleHRDdXJzb3IodGhpcywgZnJvbSwgdG8pOyB9XG4gICAgLyoqXG4gICAgUmV0dXJuIGEgY3Vyc29yIHRoYXQgaXRlcmF0ZXMgb3ZlciB0aGUgZ2l2ZW4gcmFuZ2Ugb2YgbGluZXMsXG4gICAgX3dpdGhvdXRfIHJldHVybmluZyB0aGUgbGluZSBicmVha3MgYmV0d2VlbiwgYW5kIHlpZWxkaW5nIGVtcHR5XG4gICAgc3RyaW5ncyBmb3IgZW1wdHkgbGluZXMuXG4gICAgXG4gICAgV2hlbiBgZnJvbWAgYW5kIGB0b2AgYXJlIGdpdmVuLCB0aGV5IHNob3VsZCBiZSAxLWJhc2VkIGxpbmUgbnVtYmVycy5cbiAgICAqL1xuICAgIGl0ZXJMaW5lcyhmcm9tLCB0bykge1xuICAgICAgICBsZXQgaW5uZXI7XG4gICAgICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgICAgICAgIGlubmVyID0gdGhpcy5pdGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodG8gPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0byA9IHRoaXMubGluZXMgKyAxO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5saW5lKGZyb20pLmZyb207XG4gICAgICAgICAgICBpbm5lciA9IHRoaXMuaXRlclJhbmdlKHN0YXJ0LCBNYXRoLm1heChzdGFydCwgdG8gPT0gdGhpcy5saW5lcyArIDEgPyB0aGlzLmxlbmd0aCA6IHRvIDw9IDEgPyAwIDogdGhpcy5saW5lKHRvIC0gMSkudG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVDdXJzb3IoaW5uZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGRvY3VtZW50IGFzIGEgc3RyaW5nLCB1c2luZyBuZXdsaW5lIGNoYXJhY3RlcnMgdG9cbiAgICBzZXBhcmF0ZSBsaW5lcy5cbiAgICAqL1xuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5zbGljZVN0cmluZygwKTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgdGhlIGRvY3VtZW50IHRvIGFuIGFycmF5IG9mIGxpbmVzICh3aGljaCBjYW4gYmVcbiAgICBkZXNlcmlhbGl6ZWQgYWdhaW4gdmlhIFtgVGV4dC5vZmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVGV4dF5vZikpLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mbGF0dGVuKGxpbmVzKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgYFRleHRgIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgb2YodGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQSBkb2N1bWVudCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxpbmVcIik7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAxICYmICF0ZXh0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIFRleHQuZW1wdHk7XG4gICAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLyA/IG5ldyBUZXh0TGVhZih0ZXh0KSA6IFRleHROb2RlLmZyb20oVGV4dExlYWYuc3BsaXQodGV4dCwgW10pKTtcbiAgICB9XG59XG4vLyBMZWF2ZXMgc3RvcmUgYW4gYXJyYXkgb2YgbGluZSBzdHJpbmdzLiBUaGVyZSBhcmUgYWx3YXlzIGxpbmUgYnJlYWtzXG4vLyBiZXR3ZWVuIHRoZXNlIHN0cmluZ3MuIExlYXZlcyBhcmUgbGltaXRlZCBpbiBzaXplIGFuZCBoYXZlIHRvIGJlXG4vLyBjb250YWluZWQgaW4gVGV4dE5vZGUgaW5zdGFuY2VzIGZvciBiaWdnZXIgZG9jdW1lbnRzLlxuY2xhc3MgVGV4dExlYWYgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBsZW5ndGggPSB0ZXh0TGVuZ3RoKHRleHQpKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoOyB9XG4gICAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy50ZXh0W2ldLCBlbmQgPSBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBsaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lKG9mZnNldCwgZW5kLCBsaW5lLCBzdHJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvbXBvc2UoZnJvbSwgdG8sIHRhcmdldCwgb3Blbikge1xuICAgICAgICBsZXQgdGV4dCA9IGZyb20gPD0gMCAmJiB0byA+PSB0aGlzLmxlbmd0aCA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IFRleHRMZWFmKHNsaWNlVGV4dCh0aGlzLnRleHQsIGZyb20sIHRvKSwgTWF0aC5taW4odG8sIHRoaXMubGVuZ3RoKSAtIE1hdGgubWF4KDAsIGZyb20pKTtcbiAgICAgICAgaWYgKG9wZW4gJiAxIC8qIE9wZW4uRnJvbSAqLykge1xuICAgICAgICAgICAgbGV0IHByZXYgPSB0YXJnZXQucG9wKCk7XG4gICAgICAgICAgICBsZXQgam9pbmVkID0gYXBwZW5kVGV4dCh0ZXh0LnRleHQsIHByZXYudGV4dC5zbGljZSgpLCAwLCB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoam9pbmVkLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG5ldyBUZXh0TGVhZihqb2luZWQsIHByZXYubGVuZ3RoICsgdGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtaWQgPSBqb2luZWQubGVuZ3RoID4+IDE7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZSgwLCBtaWQpKSwgbmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZShtaWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIGlmICghKHRleHQgaW5zdGFuY2VvZiBUZXh0TGVhZikpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShmcm9tLCB0bywgdGV4dCk7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IGxpbmVzID0gYXBwZW5kVGV4dCh0aGlzLnRleHQsIGFwcGVuZFRleHQodGV4dC50ZXh0LCBzbGljZVRleHQodGhpcy50ZXh0LCAwLCBmcm9tKSksIHRvKTtcbiAgICAgICAgbGV0IG5ld0xlbiA9IHRoaXMubGVuZ3RoICsgdGV4dC5sZW5ndGggLSAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLylcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYobGluZXMsIG5ld0xlbik7XG4gICAgICAgIHJldHVybiBUZXh0Tm9kZS5mcm9tKFRleHRMZWFmLnNwbGl0KGxpbmVzLCBbXSksIG5ld0xlbik7XG4gICAgfVxuICAgIHNsaWNlU3RyaW5nKGZyb20sIHRvID0gdGhpcy5sZW5ndGgsIGxpbmVTZXAgPSBcIlxcblwiKSB7XG4gICAgICAgIFtmcm9tLCB0b10gPSBjbGlwKHRoaXMsIGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOyBwb3MgPD0gdG8gJiYgaSA8IHRoaXMudGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnRleHRbaV0sIGVuZCA9IHBvcyArIGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKE1hdGgubWF4KDAsIGZyb20gLSBwb3MpLCB0byAtIHBvcyk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy50ZXh0KVxuICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwoKSB7IHJldHVybiAwOyB9XG4gICAgc3RhdGljIHNwbGl0KHRleHQsIHRhcmdldCkge1xuICAgICAgICBsZXQgcGFydCA9IFtdLCBsZW4gPSAtMTtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KSB7XG4gICAgICAgICAgICBwYXJ0LnB1c2gobGluZSk7XG4gICAgICAgICAgICBsZW4gKz0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgaWYgKHBhcnQubGVuZ3RoID09IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKHBhcnQsIGxlbikpO1xuICAgICAgICAgICAgICAgIHBhcnQgPSBbXTtcbiAgICAgICAgICAgICAgICBsZW4gPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID4gLTEpXG4gICAgICAgICAgICB0YXJnZXQucHVzaChuZXcgVGV4dExlYWYocGFydCwgbGVuKSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxufVxuLy8gTm9kZXMgcHJvdmlkZSB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIGBUZXh0YCB0eXBlLiBUaGV5IHN0b3JlIGFcbi8vIG51bWJlciBvZiBvdGhlciBub2RlcyBvciBsZWF2ZXMsIHRha2luZyBjYXJlIHRvIGJhbGFuY2UgdGhlbXNlbHZlc1xuLy8gb24gY2hhbmdlcy4gVGhlcmUgYXJlIGltcGxpZWQgbGluZSBicmVha3MgX2JldHdlZW5fIHRoZSBjaGlsZHJlbiBvZlxuLy8gYSBub2RlIChidXQgbm90IGJlZm9yZSB0aGUgZmlyc3Qgb3IgYWZ0ZXIgdGhlIGxhc3QgY2hpbGQpLlxuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMubGluZXMgPSAwO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIHRoaXMubGluZXMgKz0gY2hpbGQubGluZXM7XG4gICAgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5sZW5ndGgsIGVuZExpbmUgPSBsaW5lICsgY2hpbGQubGluZXMgLSAxO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBlbmRMaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCA9IGVuZCArIDE7XG4gICAgICAgICAgICBsaW5lID0gZW5kTGluZSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVjb21wb3NlKGZyb20sIHRvLCB0YXJnZXQsIG9wZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IHBvcyA8PSB0byAmJiBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZyb20gPD0gZW5kICYmIHRvID49IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZE9wZW4gPSBvcGVuICYgKChwb3MgPD0gZnJvbSA/IDEgLyogT3Blbi5Gcm9tICovIDogMCkgfCAoZW5kID49IHRvID8gMiAvKiBPcGVuLlRvICovIDogMCkpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gZnJvbSAmJiBlbmQgPD0gdG8gJiYgIWNoaWxkT3BlbilcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuZGVjb21wb3NlKGZyb20gLSBwb3MsIHRvIC0gcG9zLCB0YXJnZXQsIGNoaWxkT3Blbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIHRleHQpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBpZiAodGV4dC5saW5lcyA8IHRoaXMubGluZXMpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoOiBpZiB0aGUgY2hhbmdlIG9ubHkgYWZmZWN0cyBvbmUgY2hpbGQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoaWxkJ3Mgc2l6ZSByZW1haW5zIGluIHRoZSBhY2NlcHRhYmxlIHJhbmdlLCBvbmx5IHVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY2hpbGRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+PSBwb3MgJiYgdG8gPD0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkID0gY2hpbGQucmVwbGFjZShmcm9tIC0gcG9zLCB0byAtIHBvcywgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExpbmVzID0gdGhpcy5saW5lcyAtIGNoaWxkLmxpbmVzICsgdXBkYXRlZC5saW5lcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWQubGluZXMgPCAodG90YWxMaW5lcyA+PiAoNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovIC0gMSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmxpbmVzID4gKHRvdGFsTGluZXMgPj4gKDUgLyogVHJlZS5CcmFuY2hTaGlmdCAqLyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvcHkgPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5W2ldID0gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoY29weSwgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShwb3MsIGVuZCwgdXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5yZXBsYWNlKGZyb20sIHRvLCB0ZXh0KTtcbiAgICB9XG4gICAgc2xpY2VTdHJpbmcoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCwgbGluZVNlcCA9IFwiXFxuXCIpIHtcbiAgICAgICAgW2Zyb20sIHRvXSA9IGNsaXAodGhpcywgZnJvbSwgdG8pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiBwb3MgPD0gdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA+IGZyb20gJiYgaSlcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbGluZVNlcDtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgZW5kICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5zbGljZVN0cmluZyhmcm9tIC0gcG9zLCB0byAtIHBvcywgbGluZVNlcCk7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZsYXR0ZW4odGFyZ2V0KSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICBjaGlsZC5mbGF0dGVuKHRhcmdldCk7XG4gICAgfVxuICAgIHNjYW5JZGVudGljYWwob3RoZXIsIGRpcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFRleHROb2RlKSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgbGV0IFtpQSwgaUIsIGVBLCBlQl0gPSBkaXIgPiAwID8gWzAsIDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoLCBvdGhlci5jaGlsZHJlbi5sZW5ndGhdXG4gICAgICAgICAgICA6IFt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEsIG90aGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEsIC0xLCAtMV07XG4gICAgICAgIGZvciAoOzsgaUEgKz0gZGlyLCBpQiArPSBkaXIpIHtcbiAgICAgICAgICAgIGlmIChpQSA9PSBlQSB8fCBpQiA9PSBlQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICAgICAgbGV0IGNoQSA9IHRoaXMuY2hpbGRyZW5baUFdLCBjaEIgPSBvdGhlci5jaGlsZHJlbltpQl07XG4gICAgICAgICAgICBpZiAoY2hBICE9IGNoQilcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoICsgY2hBLnNjYW5JZGVudGljYWwoY2hCLCBkaXIpO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGNoQS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKGNoaWxkcmVuLCBsZW5ndGggPSBjaGlsZHJlbi5yZWR1Y2UoKGwsIGNoKSA9PiBsICsgY2gubGVuZ3RoICsgMSwgLTEpKSB7XG4gICAgICAgIGxldCBsaW5lcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgbGluZXMgKz0gY2gubGluZXM7XG4gICAgICAgIGlmIChsaW5lcyA8IDMyIC8qIFRyZWUuQnJhbmNoICovKSB7XG4gICAgICAgICAgICBsZXQgZmxhdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgY2ggb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgY2guZmxhdHRlbihmbGF0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dExlYWYoZmxhdCwgbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2h1bmsgPSBNYXRoLm1heCgzMiAvKiBUcmVlLkJyYW5jaCAqLywgbGluZXMgPj4gNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovKSwgbWF4Q2h1bmsgPSBjaHVuayA8PCAxLCBtaW5DaHVuayA9IGNodW5rID4+IDE7XG4gICAgICAgIGxldCBjaHVua2VkID0gW10sIGN1cnJlbnRMaW5lcyA9IDAsIGN1cnJlbnRMZW4gPSAtMSwgY3VycmVudENodW5rID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGFkZChjaGlsZCkge1xuICAgICAgICAgICAgbGV0IGxhc3Q7XG4gICAgICAgICAgICBpZiAoY2hpbGQubGluZXMgPiBtYXhDaHVuayAmJiBjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBjaGlsZC5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICAgICAgYWRkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQubGluZXMgPiBtaW5DaHVuayAmJiAoY3VycmVudExpbmVzID4gbWluQ2h1bmsgfHwgIWN1cnJlbnRMaW5lcykpIHtcbiAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIGNodW5rZWQucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHRMZWFmICYmIGN1cnJlbnRMaW5lcyAmJlxuICAgICAgICAgICAgICAgIChsYXN0ID0gY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSkgaW5zdGFuY2VvZiBUZXh0TGVhZiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmxpbmVzICsgbGFzdC5saW5lcyA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lcyArPSBjaGlsZC5saW5lcztcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVuICs9IGNoaWxkLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rW2N1cnJlbnRDaHVuay5sZW5ndGggLSAxXSA9IG5ldyBUZXh0TGVhZihsYXN0LnRleHQuY29uY2F0KGNoaWxkLnRleHQpLCBsYXN0Lmxlbmd0aCArIDEgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lcyArIGNoaWxkLmxpbmVzID4gY2h1bmspXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmVzICs9IGNoaWxkLmxpbmVzO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMZW4gKz0gY2hpbGQubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpbmVzID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2h1bmtlZC5wdXNoKGN1cnJlbnRDaHVuay5sZW5ndGggPT0gMSA/IGN1cnJlbnRDaHVua1swXSA6IFRleHROb2RlLmZyb20oY3VycmVudENodW5rLCBjdXJyZW50TGVuKSk7XG4gICAgICAgICAgICBjdXJyZW50TGVuID0gLTE7XG4gICAgICAgICAgICBjdXJyZW50TGluZXMgPSBjdXJyZW50Q2h1bmsubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIGFkZChjaGlsZCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgICAgIHJldHVybiBjaHVua2VkLmxlbmd0aCA9PSAxID8gY2h1bmtlZFswXSA6IG5ldyBUZXh0Tm9kZShjaHVua2VkLCBsZW5ndGgpO1xuICAgIH1cbn1cblRleHQuZW1wdHkgPSAvKkBfX1BVUkVfXyovbmV3IFRleHRMZWFmKFtcIlwiXSwgMCk7XG5mdW5jdGlvbiB0ZXh0TGVuZ3RoKHRleHQpIHtcbiAgICBsZXQgbGVuZ3RoID0gLTE7XG4gICAgZm9yIChsZXQgbGluZSBvZiB0ZXh0KVxuICAgICAgICBsZW5ndGggKz0gbGluZS5sZW5ndGggKyAxO1xuICAgIHJldHVybiBsZW5ndGg7XG59XG5mdW5jdGlvbiBhcHBlbmRUZXh0KHRleHQsIHRhcmdldCwgZnJvbSA9IDAsIHRvID0gMWU5KSB7XG4gICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDAsIGZpcnN0ID0gdHJ1ZTsgaSA8IHRleHQubGVuZ3RoICYmIHBvcyA8PSB0bzsgaSsrKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGV4dFtpXSwgZW5kID0gcG9zICsgbGluZS5sZW5ndGg7XG4gICAgICAgIGlmIChlbmQgPj0gZnJvbSkge1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIHRvIC0gcG9zKTtcbiAgICAgICAgICAgIGlmIChwb3MgPCBmcm9tKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGZyb20gLSBwb3MpO1xuICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3RhcmdldC5sZW5ndGggLSAxXSArPSBsaW5lO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gZW5kICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHNsaWNlVGV4dCh0ZXh0LCBmcm9tLCB0bykge1xuICAgIHJldHVybiBhcHBlbmRUZXh0KHRleHQsIFtcIlwiXSwgZnJvbSwgdG8pO1xufVxuY2xhc3MgUmF3VGV4dEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgZGlyID0gMSkge1xuICAgICAgICB0aGlzLmRpciA9IGRpcjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGluZUJyZWFrID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLm5vZGVzID0gW3RleHRdO1xuICAgICAgICB0aGlzLm9mZnNldHMgPSBbZGlyID4gMCA/IDEgOiAodGV4dCBpbnN0YW5jZW9mIFRleHRMZWFmID8gdGV4dC50ZXh0Lmxlbmd0aCA6IHRleHQuY2hpbGRyZW4ubGVuZ3RoKSA8PCAxXTtcbiAgICB9XG4gICAgbmV4dElubmVyKHNraXAsIGRpcikge1xuICAgICAgICB0aGlzLmRvbmUgPSB0aGlzLmxpbmVCcmVhayA9IGZhbHNlO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLm5vZGVzW2xhc3RdLCBvZmZzZXRWYWx1ZSA9IHRoaXMub2Zmc2V0c1tsYXN0XSwgb2Zmc2V0ID0gb2Zmc2V0VmFsdWUgPj4gMTtcbiAgICAgICAgICAgIGxldCBzaXplID0gdG9wIGluc3RhbmNlb2YgVGV4dExlYWYgPyB0b3AudGV4dC5sZW5ndGggOiB0b3AuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAoZGlyID4gMCA/IHNpemUgOiAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3QgLSAxXSsrO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKG9mZnNldFZhbHVlICYgMSkgPT0gKGRpciA+IDAgPyAwIDogMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIGlmIChza2lwID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXAtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvcCBpbnN0YW5jZW9mIFRleHRMZWFmKSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBzdHJpbmdcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC50ZXh0W29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdICs9IGRpcjtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5sZW5ndGggPiBNYXRoLm1heCgwLCBza2lwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gc2tpcCA9PSAwID8gbmV4dCA6IGRpciA+IDAgPyBuZXh0LnNsaWNlKHNraXApIDogbmV4dC5zbGljZSgwLCBuZXh0Lmxlbmd0aCAtIHNraXApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcCAtPSBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdG9wLmNoaWxkcmVuW29mZnNldCArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICAgICAgaWYgKHNraXAgPiBuZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBza2lwIC09IG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0gKz0gZGlyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpciA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHNbbGFzdF0tLTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldHMucHVzaChkaXIgPiAwID8gMSA6IChuZXh0IGluc3RhbmNlb2YgVGV4dExlYWYgPyBuZXh0LnRleHQubGVuZ3RoIDogbmV4dC5jaGlsZHJlbi5sZW5ndGgpIDw8IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0SW5uZXIoLXNraXAsICgtdGhpcy5kaXIpKTtcbiAgICAgICAgICAgIHNraXAgPSB0aGlzLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0SW5uZXIoc2tpcCwgdGhpcy5kaXIpO1xuICAgIH1cbn1cbmNsYXNzIFBhcnRpYWxUZXh0Q3Vyc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBuZXcgUmF3VGV4dEN1cnNvcih0ZXh0LCBzdGFydCA+IGVuZCA/IC0xIDogMSk7XG4gICAgICAgIHRoaXMucG9zID0gc3RhcnQgPiBlbmQgPyB0ZXh0Lmxlbmd0aCA6IDA7XG4gICAgICAgIHRoaXMuZnJvbSA9IE1hdGgubWluKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLnRvID0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIG5leHRJbm5lcihza2lwLCBkaXIpIHtcbiAgICAgICAgaWYgKGRpciA8IDAgPyB0aGlzLnBvcyA8PSB0aGlzLmZyb20gOiB0aGlzLnBvcyA+PSB0aGlzLnRvKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBza2lwICs9IE1hdGgubWF4KDAsIGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMudG8gOiB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGxldCBsaW1pdCA9IGRpciA8IDAgPyB0aGlzLnBvcyAtIHRoaXMuZnJvbSA6IHRoaXMudG8gLSB0aGlzLnBvcztcbiAgICAgICAgaWYgKHNraXAgPiBsaW1pdClcbiAgICAgICAgICAgIHNraXAgPSBsaW1pdDtcbiAgICAgICAgbGltaXQgLT0gc2tpcDtcbiAgICAgICAgbGV0IHsgdmFsdWUgfSA9IHRoaXMuY3Vyc29yLm5leHQoc2tpcCk7XG4gICAgICAgIHRoaXMucG9zICs9ICh2YWx1ZS5sZW5ndGggKyBza2lwKSAqIGRpcjtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLmxlbmd0aCA8PSBsaW1pdCA/IHZhbHVlIDogZGlyIDwgMCA/IHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIGxpbWl0KSA6IHZhbHVlLnNsaWNlKDAsIGxpbWl0KTtcbiAgICAgICAgdGhpcy5kb25lID0gIXRoaXMudmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGlmIChza2lwIDwgMClcbiAgICAgICAgICAgIHNraXAgPSBNYXRoLm1heChza2lwLCB0aGlzLmZyb20gLSB0aGlzLnBvcyk7XG4gICAgICAgIGVsc2UgaWYgKHNraXAgPiAwKVxuICAgICAgICAgICAgc2tpcCA9IE1hdGgubWluKHNraXAsIHRoaXMudG8gLSB0aGlzLnBvcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRJbm5lcihza2lwLCB0aGlzLmN1cnNvci5kaXIpO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gdGhpcy5jdXJzb3IubGluZUJyZWFrICYmIHRoaXMudmFsdWUgIT0gXCJcIjsgfVxufVxuY2xhc3MgTGluZUN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoaW5uZXIpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICAgICAgICB0aGlzLmFmdGVyQnJlYWsgPSB0cnVlO1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgfVxuICAgIG5leHQoc2tpcCA9IDApIHtcbiAgICAgICAgbGV0IHsgZG9uZSwgbGluZUJyZWFrLCB2YWx1ZSB9ID0gdGhpcy5pbm5lci5uZXh0KHNraXApO1xuICAgICAgICBpZiAoZG9uZSAmJiB0aGlzLmFmdGVyQnJlYWspIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVCcmVhaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWZ0ZXJCcmVhaykge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCcmVhayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgbGluZUJyZWFrKCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmlmICh0eXBlb2YgU3ltYm9sICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICBUZXh0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5pdGVyKCk7IH07XG4gICAgUmF3VGV4dEN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IFBhcnRpYWxUZXh0Q3Vyc29yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID1cbiAgICAgICAgTGluZUN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG59XG4vKipcblRoaXMgdHlwZSBkZXNjcmliZXMgYSBsaW5lIGluIHRoZSBkb2N1bWVudC4gSXQgaXMgY3JlYXRlZFxub24tZGVtYW5kIHdoZW4gbGluZXMgYXJlIFtxdWVyaWVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRleHQubGluZUF0KS5cbiovXG5jbGFzcyBMaW5lIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBmcm9tLCBcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbGluZSAoX2JlZm9yZV8gdGhlIGxpbmUgYnJlYWssXG4gICAgb3IgYXQgdGhlIGVuZCBvZiBkb2N1bWVudCBmb3IgdGhlIGxhc3QgbGluZSkuXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhpcyBsaW5lJ3MgbGluZSBudW1iZXIgKDEtYmFzZWQpLlxuICAgICovXG4gICAgbnVtYmVyLCBcbiAgICAvKipcbiAgICBUaGUgbGluZSdzIGNvbnRlbnQuXG4gICAgKi9cbiAgICB0ZXh0KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGxpbmUgKG5vdCBpbmNsdWRpbmcgYW55IGxpbmUgYnJlYWsgYWZ0ZXIgaXQpLlxuICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudG8gLSB0aGlzLmZyb207IH1cbn1cbmZ1bmN0aW9uIGNsaXAodGV4dCwgZnJvbSwgdG8pIHtcbiAgICBmcm9tID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGV4dC5sZW5ndGgsIGZyb20pKTtcbiAgICByZXR1cm4gW2Zyb20sIE1hdGgubWF4KGZyb20sIE1hdGgubWluKHRleHQubGVuZ3RoLCB0bykpXTtcbn1cblxuLyoqXG5SZXR1cm5zIGEgbmV4dCBncmFwaGVtZSBjbHVzdGVyIGJyZWFrIF9hZnRlcl8gKG5vdCBlcXVhbCB0bylcbmBwb3NgLCBpZiBgZm9yd2FyZGAgaXMgdHJ1ZSwgb3IgYmVmb3JlIG90aGVyd2lzZS4gUmV0dXJucyBgcG9zYFxuaXRzZWxmIGlmIG5vIGZ1cnRoZXIgY2x1c3RlciBicmVhayBpcyBhdmFpbGFibGUgaW4gdGhlIHN0cmluZy5cbk1vdmVzIGFjcm9zcyBzdXJyb2dhdGUgcGFpcnMsIGV4dGVuZGluZyBjaGFyYWN0ZXJzICh3aGVuXG5gaW5jbHVkZUV4dGVuZGluZ2AgaXMgdHJ1ZSksIGNoYXJhY3RlcnMgam9pbmVkIHdpdGggemVyby13aWR0aFxuam9pbmVycywgYW5kIGZsYWcgZW1vamkuXG4qL1xuZnVuY3Rpb24gZmluZENsdXN0ZXJCcmVhayhzdHIsIHBvcywgZm9yd2FyZCA9IHRydWUsIGluY2x1ZGVFeHRlbmRpbmcgPSB0cnVlKSB7XG4gICAgcmV0dXJuIGZpbmRDbHVzdGVyQnJlYWskMShzdHIsIHBvcywgZm9yd2FyZCwgaW5jbHVkZUV4dGVuZGluZyk7XG59XG5mdW5jdGlvbiBzdXJyb2dhdGVMb3coY2gpIHsgcmV0dXJuIGNoID49IDB4REMwMCAmJiBjaCA8IDB4RTAwMDsgfVxuZnVuY3Rpb24gc3Vycm9nYXRlSGlnaChjaCkgeyByZXR1cm4gY2ggPj0gMHhEODAwICYmIGNoIDwgMHhEQzAwOyB9XG4vKipcbkZpbmQgdGhlIGNvZGUgcG9pbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGluIGEgc3RyaW5nIChsaWtlIHRoZVxuW2Bjb2RlUG9pbnRBdGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9jb2RlUG9pbnRBdClcbnN0cmluZyBtZXRob2QpLlxuKi9cbmZ1bmN0aW9uIGNvZGVQb2ludEF0KHN0ciwgcG9zKSB7XG4gICAgbGV0IGNvZGUwID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICBpZiAoIXN1cnJvZ2F0ZUhpZ2goY29kZTApIHx8IHBvcyArIDEgPT0gc3RyLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGNvZGUwO1xuICAgIGxldCBjb2RlMSA9IHN0ci5jaGFyQ29kZUF0KHBvcyArIDEpO1xuICAgIGlmICghc3Vycm9nYXRlTG93KGNvZGUxKSlcbiAgICAgICAgcmV0dXJuIGNvZGUwO1xuICAgIHJldHVybiAoKGNvZGUwIC0gMHhkODAwKSA8PCAxMCkgKyAoY29kZTEgLSAweGRjMDApICsgMHgxMDAwMDtcbn1cbi8qKlxuR2l2ZW4gYSBVbmljb2RlIGNvZGVwb2ludCwgcmV0dXJuIHRoZSBKYXZhU2NyaXB0IHN0cmluZyB0aGF0XG5yZXNwcmVzZW50cyBpdCAobGlrZVxuW2BTdHJpbmcuZnJvbUNvZGVQb2ludGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9mcm9tQ29kZVBvaW50KSkuXG4qL1xuZnVuY3Rpb24gZnJvbUNvZGVQb2ludChjb2RlKSB7XG4gICAgaWYgKGNvZGUgPD0gMHhmZmZmKVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICBjb2RlIC09IDB4MTAwMDA7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKGNvZGUgPj4gMTApICsgMHhkODAwLCAoY29kZSAmIDEwMjMpICsgMHhkYzAwKTtcbn1cbi8qKlxuVGhlIGFtb3VudCBvZiBwb3NpdGlvbnMgYSBjaGFyYWN0ZXIgdGFrZXMgdXAgaW4gYSBKYXZhU2NyaXB0IHN0cmluZy5cbiovXG5mdW5jdGlvbiBjb2RlUG9pbnRTaXplKGNvZGUpIHsgcmV0dXJuIGNvZGUgPCAweDEwMDAwID8gMSA6IDI7IH1cblxuY29uc3QgRGVmYXVsdFNwbGl0ID0gL1xcclxcbj98XFxuLztcbi8qKlxuRGlzdGluZ3Vpc2hlcyBkaWZmZXJlbnQgd2F5cyBpbiB3aGljaCBwb3NpdGlvbnMgY2FuIGJlIG1hcHBlZC5cbiovXG52YXIgTWFwTW9kZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1hcE1vZGUpIHtcbiAgICAvKipcbiAgICBNYXAgYSBwb3NpdGlvbiB0byBhIHZhbGlkIG5ldyBwb3NpdGlvbiwgZXZlbiB3aGVuIGl0cyBjb250ZXh0XG4gICAgd2FzIGRlbGV0ZWQuXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJTaW1wbGVcIl0gPSAwXSA9IFwiU2ltcGxlXCI7XG4gICAgLyoqXG4gICAgUmV0dXJuIG51bGwgaWYgZGVsZXRpb24gaGFwcGVucyBhY3Jvc3MgdGhlIHBvc2l0aW9uLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiVHJhY2tEZWxcIl0gPSAxXSA9IFwiVHJhY2tEZWxcIjtcbiAgICAvKipcbiAgICBSZXR1cm4gbnVsbCBpZiB0aGUgY2hhcmFjdGVyIF9iZWZvcmVfIHRoZSBwb3NpdGlvbiBpcyBkZWxldGVkLlxuICAgICovXG4gICAgTWFwTW9kZVtNYXBNb2RlW1wiVHJhY2tCZWZvcmVcIl0gPSAyXSA9IFwiVHJhY2tCZWZvcmVcIjtcbiAgICAvKipcbiAgICBSZXR1cm4gbnVsbCBpZiB0aGUgY2hhcmFjdGVyIF9hZnRlcl8gdGhlIHBvc2l0aW9uIGlzIGRlbGV0ZWQuXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJUcmFja0FmdGVyXCJdID0gM10gPSBcIlRyYWNrQWZ0ZXJcIjtcbnJldHVybiBNYXBNb2RlfSkoTWFwTW9kZSB8fCAoTWFwTW9kZSA9IHt9KSk7XG4vKipcbkEgY2hhbmdlIGRlc2NyaXB0aW9uIGlzIGEgdmFyaWFudCBvZiBbY2hhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQpXG50aGF0IGRvZXNuJ3Qgc3RvcmUgdGhlIGluc2VydGVkIHRleHQuIEFzIHN1Y2gsIGl0IGNhbid0IGJlXG5hcHBsaWVkLCBidXQgaXMgY2hlYXBlciB0byBzdG9yZSBhbmQgbWFuaXB1bGF0ZS5cbiovXG5jbGFzcyBDaGFuZ2VEZXNjIHtcbiAgICAvLyBTZWN0aW9ucyBhcmUgZW5jb2RlZCBhcyBwYWlycyBvZiBpbnRlZ2Vycy4gVGhlIGZpcnN0IGlzIHRoZVxuICAgIC8vIGxlbmd0aCBpbiB0aGUgY3VycmVudCBkb2N1bWVudCwgYW5kIHRoZSBzZWNvbmQgaXMgLTEgZm9yXG4gICAgLy8gdW5hZmZlY3RlZCBzZWN0aW9ucywgYW5kIHRoZSBsZW5ndGggb2YgdGhlIHJlcGxhY2VtZW50IGNvbnRlbnRcbiAgICAvLyBvdGhlcndpc2UuIFNvIGFuIGluc2VydGlvbiB3b3VsZCBiZSAoMCwgbj4wKSwgYSBkZWxldGlvbiAobj4wLFxuICAgIC8vIDApLCBhbmQgYSByZXBsYWNlbWVudCB0d28gcG9zaXRpdmUgbnVtYmVycy5cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2VjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IHNlY3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbGVuZ3RoIG9mIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5zZWN0aW9uc1tpXTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgdGhlIGNoYW5nZS5cbiAgICAqL1xuICAgIGdldCBuZXdMZW5ndGgoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBpbnMgPSB0aGlzLnNlY3Rpb25zW2kgKyAxXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBpbnMgPCAwID8gdGhpcy5zZWN0aW9uc1tpXSA6IGlucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBGYWxzZSB3aGVuIHRoZXJlIGFyZSBhY3R1YWwgY2hhbmdlcyBpbiB0aGlzIHNldC5cbiAgICAqL1xuICAgIGdldCBlbXB0eSgpIHsgcmV0dXJuIHRoaXMuc2VjdGlvbnMubGVuZ3RoID09IDAgfHwgdGhpcy5zZWN0aW9ucy5sZW5ndGggPT0gMiAmJiB0aGlzLnNlY3Rpb25zWzFdIDwgMDsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgdW5jaGFuZ2VkIHBhcnRzIGxlZnQgYnkgdGhlc2UgY2hhbmdlcy4gYHBvc0FgXG4gICAgcHJvdmlkZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSByYW5nZSBpbiB0aGUgb2xkIGRvY3VtZW50LCBgcG9zQmBcbiAgICB0aGUgbmV3IHBvc2l0aW9uIGluIHRoZSBjaGFuZ2VkIGRvY3VtZW50LlxuICAgICovXG4gICAgaXRlckdhcHMoZikge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zQSA9IDAsIHBvc0IgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICBpZiAoaW5zIDwgMCkge1xuICAgICAgICAgICAgICAgIGYocG9zQSwgcG9zQiwgbGVuKTtcbiAgICAgICAgICAgICAgICBwb3NCICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gaW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zQSArPSBsZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSByYW5nZXMgY2hhbmdlZCBieSB0aGVzZSBjaGFuZ2VzLiAoU2VlXG4gICAgW2BDaGFuZ2VTZXQuaXRlckNoYW5nZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZVNldC5pdGVyQ2hhbmdlcykgZm9yIGFcbiAgICB2YXJpYW50IHRoYXQgYWxzbyBwcm92aWRlcyB5b3Ugd2l0aCB0aGUgaW5zZXJ0ZWQgdGV4dC4pXG4gICAgYGZyb21BYC9gdG9BYCBwcm92aWRlcyB0aGUgZXh0ZW50IG9mIHRoZSBjaGFuZ2UgaW4gdGhlIHN0YXJ0aW5nXG4gICAgZG9jdW1lbnQsIGBmcm9tQmAvYHRvQmAgdGhlIGV4dGVudCBvZiB0aGUgcmVwbGFjZW1lbnQgaW4gdGhlXG4gICAgY2hhbmdlZCBkb2N1bWVudC5cbiAgICBcbiAgICBXaGVuIGBpbmRpdmlkdWFsYCBpcyB0cnVlLCBhZGphY2VudCBjaGFuZ2VzICh3aGljaCBhcmUga2VwdFxuICAgIHNlcGFyYXRlIGZvciBbcG9zaXRpb24gbWFwcGluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VEZXNjLm1hcFBvcykpIGFyZVxuICAgIHJlcG9ydGVkIHNlcGFyYXRlbHkuXG4gICAgKi9cbiAgICBpdGVyQ2hhbmdlZFJhbmdlcyhmLCBpbmRpdmlkdWFsID0gZmFsc2UpIHtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgZiwgaW5kaXZpZHVhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpbnZlcnRlZCBmb3JtIG9mIHRoZXNlIGNoYW5nZXMuXG4gICAgKi9cbiAgICBnZXQgaW52ZXJ0ZWREZXNjKCkge1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKVxuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gobGVuLCBpbnMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2goaW5zLCBsZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGVzYyhzZWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbXB1dGUgdGhlIGNvbWJpbmVkIGVmZmVjdCBvZiBhcHBseWluZyBhbm90aGVyIHNldCBvZiBjaGFuZ2VzXG4gICAgYWZ0ZXIgdGhpcyBvbmUuIFRoZSBsZW5ndGggb2YgdGhlIGRvY3VtZW50IGFmdGVyIHRoaXMgc2V0IHNob3VsZFxuICAgIG1hdGNoIHRoZSBsZW5ndGggYmVmb3JlIGBvdGhlcmAuXG4gICAgKi9cbiAgICBjb21wb3NlRGVzYyhvdGhlcikgeyByZXR1cm4gdGhpcy5lbXB0eSA/IG90aGVyIDogb3RoZXIuZW1wdHkgPyB0aGlzIDogY29tcG9zZVNldHModGhpcywgb3RoZXIpOyB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgZGVzY3JpcHRpb24sIHdoaWNoIHNob3VsZCBzdGFydCB3aXRoIHRoZSBzYW1lIGRvY3VtZW50XG4gICAgYXMgYG90aGVyYCwgb3ZlciBhbm90aGVyIHNldCBvZiBjaGFuZ2VzLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAgIGFwcGxpZWQgYWZ0ZXIgaXQuIFdoZW4gYGJlZm9yZWAgaXMgdHJ1ZSwgbWFwIGFzIGlmIHRoZSBjaGFuZ2VzXG4gICAgaW4gYHRoaXNgIGhhcHBlbmVkIGJlZm9yZSB0aGUgb25lcyBpbiBgb3RoZXJgLlxuICAgICovXG4gICAgbWFwRGVzYyhvdGhlciwgYmVmb3JlID0gZmFsc2UpIHsgcmV0dXJuIG90aGVyLmVtcHR5ID8gdGhpcyA6IG1hcFNldCh0aGlzLCBvdGhlciwgYmVmb3JlKTsgfVxuICAgIG1hcFBvcyhwb3MsIGFzc29jID0gLTEsIG1vZGUgPSBNYXBNb2RlLlNpbXBsZSkge1xuICAgICAgICBsZXQgcG9zQSA9IDAsIHBvc0IgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdLCBlbmRBID0gcG9zQSArIGxlbjtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVuZEEgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NCICsgKHBvcyAtIHBvc0EpO1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgIT0gTWFwTW9kZS5TaW1wbGUgJiYgZW5kQSA+PSBwb3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKG1vZGUgPT0gTWFwTW9kZS5UcmFja0RlbCAmJiBwb3NBIDwgcG9zICYmIGVuZEEgPiBwb3MgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPT0gTWFwTW9kZS5UcmFja0JlZm9yZSAmJiBwb3NBIDwgcG9zIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09IE1hcE1vZGUuVHJhY2tBZnRlciAmJiBlbmRBID4gcG9zKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGVuZEEgPiBwb3MgfHwgZW5kQSA9PSBwb3MgJiYgYXNzb2MgPCAwICYmICFsZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3MgPT0gcG9zQSB8fCBhc3NvYyA8IDAgPyBwb3NCIDogcG9zQiArIGlucztcbiAgICAgICAgICAgICAgICBwb3NCICs9IGlucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc0EgPSBlbmRBO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgPiBwb3NBKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFBvc2l0aW9uICR7cG9zfSBpcyBvdXQgb2YgcmFuZ2UgZm9yIGNoYW5nZXNldCBvZiBsZW5ndGggJHtwb3NBfWApO1xuICAgICAgICByZXR1cm4gcG9zQjtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgd2hldGhlciB0aGVzZSBjaGFuZ2VzIHRvdWNoIGEgZ2l2ZW4gcmFuZ2UuIFdoZW4gb25lIG9mIHRoZVxuICAgIGNoYW5nZXMgZW50aXJlbHkgY292ZXJzIHRoZSByYW5nZSwgdGhlIHN0cmluZyBgXCJjb3ZlclwiYCBpc1xuICAgIHJldHVybmVkLlxuICAgICovXG4gICAgdG91Y2hlc1JhbmdlKGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoICYmIHBvcyA8PSB0bzspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgZW5kID0gcG9zICsgbGVuO1xuICAgICAgICAgICAgaWYgKGlucyA+PSAwICYmIHBvcyA8PSB0byAmJiBlbmQgPj0gZnJvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zIDwgZnJvbSAmJiBlbmQgPiB0byA/IFwiY292ZXJcIiA6IHRydWU7XG4gICAgICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSAocmVzdWx0ID8gXCIgXCIgOiBcIlwiKSArIGxlbiArIChpbnMgPj0gMCA/IFwiOlwiICsgaW5zIDogXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgU2VyaWFsaXplIHRoaXMgY2hhbmdlIGRlc2MgdG8gYSBKU09OLXJlcHJlc2VudGFibGUgdmFsdWUuXG4gICAgKi9cbiAgICB0b0pTT04oKSB7IHJldHVybiB0aGlzLnNlY3Rpb25zOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY2hhbmdlIGRlc2MgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbiAoYXMgcHJvZHVjZWRcbiAgICBieSBbYHRvSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlRGVzYy50b0pTT04pLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pIHx8IGpzb24ubGVuZ3RoICUgMiB8fCBqc29uLnNvbWUoYSA9PiB0eXBlb2YgYSAhPSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIENoYW5nZURlc2NcIik7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGVzYyhqc29uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKHNlY3Rpb25zKSB7IHJldHVybiBuZXcgQ2hhbmdlRGVzYyhzZWN0aW9ucyk7IH1cbn1cbi8qKlxuQSBjaGFuZ2Ugc2V0IHJlcHJlc2VudHMgYSBncm91cCBvZiBtb2RpZmljYXRpb25zIHRvIGEgZG9jdW1lbnQuIEl0XG5zdG9yZXMgdGhlIGRvY3VtZW50IGxlbmd0aCwgYW5kIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gZG9jdW1lbnRzXG53aXRoIGV4YWN0bHkgdGhhdCBsZW5ndGguXG4qL1xuY2xhc3MgQ2hhbmdlU2V0IGV4dGVuZHMgQ2hhbmdlRGVzYyB7XG4gICAgY29uc3RydWN0b3Ioc2VjdGlvbnMsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaW5zZXJ0ZWQpIHtcbiAgICAgICAgc3VwZXIoc2VjdGlvbnMpO1xuICAgICAgICB0aGlzLmluc2VydGVkID0gaW5zZXJ0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEFwcGx5IHRoZSBjaGFuZ2VzIHRvIGEgZG9jdW1lbnQsIHJldHVybmluZyB0aGUgbW9kaWZpZWRcbiAgICBkb2N1bWVudC5cbiAgICAqL1xuICAgIGFwcGx5KGRvYykge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT0gZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQXBwbHlpbmcgY2hhbmdlIHNldCB0byBhIGRvY3VtZW50IHdpdGggdGhlIHdyb25nIGxlbmd0aFwiKTtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgKGZyb21BLCB0b0EsIGZyb21CLCBfdG9CLCB0ZXh0KSA9PiBkb2MgPSBkb2MucmVwbGFjZShmcm9tQiwgZnJvbUIgKyAodG9BIC0gZnJvbUEpLCB0ZXh0KSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICBtYXBEZXNjKG90aGVyLCBiZWZvcmUgPSBmYWxzZSkgeyByZXR1cm4gbWFwU2V0KHRoaXMsIG90aGVyLCBiZWZvcmUsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgR2l2ZW4gdGhlIGRvY3VtZW50IGFzIGl0IGV4aXN0ZWQgX2JlZm9yZV8gdGhlIGNoYW5nZXMsIHJldHVybiBhXG4gICAgY2hhbmdlIHNldCB0aGF0IHJlcHJlc2VudHMgdGhlIGludmVyc2Ugb2YgdGhpcyBzZXQsIHdoaWNoIGNvdWxkXG4gICAgYmUgdXNlZCB0byBnbyBmcm9tIHRoZSBkb2N1bWVudCBjcmVhdGVkIGJ5IHRoZSBjaGFuZ2VzIGJhY2sgdG9cbiAgICB0aGUgZG9jdW1lbnQgYXMgaXQgZXhpc3RlZCBiZWZvcmUgdGhlIGNoYW5nZXMuXG4gICAgKi9cbiAgICBpbnZlcnQoZG9jKSB7XG4gICAgICAgIGxldCBzZWN0aW9ucyA9IHRoaXMuc2VjdGlvbnMuc2xpY2UoKSwgaW5zZXJ0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHNlY3Rpb25zW2ldLCBpbnMgPSBzZWN0aW9uc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoaW5zID49IDApIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uc1tpXSA9IGlucztcbiAgICAgICAgICAgICAgICBzZWN0aW9uc1tpICsgMV0gPSBsZW47XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gaSA+PiAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnNlcnRlZC5sZW5ndGggPCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWQucHVzaChUZXh0LmVtcHR5KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRlZC5wdXNoKGxlbiA/IGRvYy5zbGljZShwb3MsIHBvcyArIGxlbikgOiBUZXh0LmVtcHR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyArPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tYmluZSB0d28gc3Vic2VxdWVudCBjaGFuZ2Ugc2V0cyBpbnRvIGEgc2luZ2xlIHNldC4gYG90aGVyYFxuICAgIG11c3Qgc3RhcnQgaW4gdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IGB0aGlzYC4gSWYgYHRoaXNgIGdvZXNcbiAgICBgZG9jQWAg4oaSIGBkb2NCYCBhbmQgYG90aGVyYCByZXByZXNlbnRzIGBkb2NCYCDihpIgYGRvY0NgLCB0aGVcbiAgICByZXR1cm5lZCB2YWx1ZSB3aWxsIHJlcHJlc2VudCB0aGUgY2hhbmdlIGBkb2NBYCDihpIgYGRvY0NgLlxuICAgICovXG4gICAgY29tcG9zZShvdGhlcikgeyByZXR1cm4gdGhpcy5lbXB0eSA/IG90aGVyIDogb3RoZXIuZW1wdHkgPyB0aGlzIDogY29tcG9zZVNldHModGhpcywgb3RoZXIsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgR2l2ZW4gYW5vdGhlciBjaGFuZ2Ugc2V0IHN0YXJ0aW5nIGluIHRoZSBzYW1lIGRvY3VtZW50LCBtYXBzIHRoaXNcbiAgICBjaGFuZ2Ugc2V0IG92ZXIgdGhlIG90aGVyLCBwcm9kdWNpbmcgYSBuZXcgY2hhbmdlIHNldCB0aGF0IGNhbiBiZVxuICAgIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IGFwcGx5aW5nIGBvdGhlcmAuIFdoZW5cbiAgICBgYmVmb3JlYCBpcyBgdHJ1ZWAsIG9yZGVyIGNoYW5nZXMgYXMgaWYgYHRoaXNgIGNvbWVzIGJlZm9yZVxuICAgIGBvdGhlcmAsIG90aGVyd2lzZSAodGhlIGRlZmF1bHQpIHRyZWF0IGBvdGhlcmAgYXMgY29taW5nIGZpcnN0LlxuICAgIFxuICAgIEdpdmVuIHR3byBjaGFuZ2VzIGBBYCBhbmQgYEJgLCBgQS5jb21wb3NlKEIubWFwKEEpKWAgYW5kXG4gICAgYEIuY29tcG9zZShBLm1hcChCLCB0cnVlKSlgIHdpbGwgcHJvZHVjZSB0aGUgc2FtZSBkb2N1bWVudC4gVGhpc1xuICAgIHByb3ZpZGVzIGEgYmFzaWMgZm9ybSBvZiBbb3BlcmF0aW9uYWxcbiAgICB0cmFuc2Zvcm1hdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3BlcmF0aW9uYWxfdHJhbnNmb3JtYXRpb24pLFxuICAgIGFuZCBjYW4gYmUgdXNlZCBmb3IgY29sbGFib3JhdGl2ZSBlZGl0aW5nLlxuICAgICovXG4gICAgbWFwKG90aGVyLCBiZWZvcmUgPSBmYWxzZSkgeyByZXR1cm4gb3RoZXIuZW1wdHkgPyB0aGlzIDogbWFwU2V0KHRoaXMsIG90aGVyLCBiZWZvcmUsIHRydWUpOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSBjaGFuZ2VkIHJhbmdlcyBpbiB0aGUgZG9jdW1lbnQsIGNhbGxpbmcgYGZgIGZvclxuICAgIGVhY2gsIHdpdGggdGhlIHJhbmdlIGluIHRoZSBvcmlnaW5hbCBkb2N1bWVudCAoYGZyb21BYC1gdG9BYClcbiAgICBhbmQgdGhlIHJhbmdlIHRoYXQgcmVwbGFjZXMgaXQgaW4gdGhlIG5ldyBkb2N1bWVudFxuICAgIChgZnJvbUJgLWB0b0JgKS5cbiAgICBcbiAgICBXaGVuIGBpbmRpdmlkdWFsYCBpcyB0cnVlLCBhZGphY2VudCBjaGFuZ2VzIGFyZSByZXBvcnRlZFxuICAgIHNlcGFyYXRlbHkuXG4gICAgKi9cbiAgICBpdGVyQ2hhbmdlcyhmLCBpbmRpdmlkdWFsID0gZmFsc2UpIHtcbiAgICAgICAgaXRlckNoYW5nZXModGhpcywgZiwgaW5kaXZpZHVhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCBhIFtjaGFuZ2UgZGVzY3JpcHRpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlRGVzYykgZm9yIHRoaXMgY2hhbmdlXG4gICAgc2V0LlxuICAgICovXG4gICAgZ2V0IGRlc2MoKSB7IHJldHVybiBDaGFuZ2VEZXNjLmNyZWF0ZSh0aGlzLnNlY3Rpb25zKTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmlsdGVyKHJhbmdlcykge1xuICAgICAgICBsZXQgcmVzdWx0U2VjdGlvbnMgPSBbXSwgcmVzdWx0SW5zZXJ0ZWQgPSBbXSwgZmlsdGVyZWRTZWN0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgaXRlciA9IG5ldyBTZWN0aW9uSXRlcih0aGlzKTtcbiAgICAgICAgZG9uZTogZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7Oykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID09IHJhbmdlcy5sZW5ndGggPyAxZTkgOiByYW5nZXNbaSsrXTtcbiAgICAgICAgICAgIHdoaWxlIChwb3MgPCBuZXh0IHx8IHBvcyA9PSBuZXh0ICYmIGl0ZXIubGVuID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlci5kb25lKVxuICAgICAgICAgICAgICAgICAgICBicmVhayBkb25lO1xuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihpdGVyLmxlbiwgbmV4dCAtIHBvcyk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihmaWx0ZXJlZFNlY3Rpb25zLCBsZW4sIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5zID0gaXRlci5pbnMgPT0gLTEgPyAtMSA6IGl0ZXIub2ZmID09IDAgPyBpdGVyLmlucyA6IDA7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihyZXN1bHRTZWN0aW9ucywgbGVuLCBpbnMpO1xuICAgICAgICAgICAgICAgIGlmIChpbnMgPiAwKVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQocmVzdWx0SW5zZXJ0ZWQsIHJlc3VsdFNlY3Rpb25zLCBpdGVyLnRleHQpO1xuICAgICAgICAgICAgICAgIGl0ZXIuZm9yd2FyZChsZW4pO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZW5kID0gcmFuZ2VzW2krK107XG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXIuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZG9uZTtcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oaXRlci5sZW4sIGVuZCAtIHBvcyk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihyZXN1bHRTZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihmaWx0ZXJlZFNlY3Rpb25zLCBsZW4sIGl0ZXIuaW5zID09IC0xID8gLTEgOiBpdGVyLm9mZiA9PSAwID8gaXRlci5pbnMgOiAwKTtcbiAgICAgICAgICAgICAgICBpdGVyLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXM6IG5ldyBDaGFuZ2VTZXQocmVzdWx0U2VjdGlvbnMsIHJlc3VsdEluc2VydGVkKSxcbiAgICAgICAgICAgIGZpbHRlcmVkOiBDaGFuZ2VEZXNjLmNyZWF0ZShmaWx0ZXJlZFNlY3Rpb25zKSB9O1xuICAgIH1cbiAgICAvKipcbiAgICBTZXJpYWxpemUgdGhpcyBjaGFuZ2Ugc2V0IHRvIGEgSlNPTi1yZXByZXNlbnRhYmxlIHZhbHVlLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpICsgMV07XG4gICAgICAgICAgICBpZiAoaW5zIDwgMClcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGxlbik7XG4gICAgICAgICAgICBlbHNlIGlmIChpbnMgPT0gMClcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKFtsZW5dKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKFtsZW5dLmNvbmNhdCh0aGlzLmluc2VydGVkW2kgPj4gMV0udG9KU09OKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGNoYW5nZSBzZXQgZm9yIHRoZSBnaXZlbiBjaGFuZ2VzLCBmb3IgYSBkb2N1bWVudCBvZiB0aGVcbiAgICBnaXZlbiBsZW5ndGgsIHVzaW5nIGBsaW5lU2VwYCBhcyBsaW5lIHNlcGFyYXRvci5cbiAgICAqL1xuICAgIHN0YXRpYyBvZihjaGFuZ2VzLCBsZW5ndGgsIGxpbmVTZXApIHtcbiAgICAgICAgbGV0IHNlY3Rpb25zID0gW10sIGluc2VydGVkID0gW10sIHBvcyA9IDA7XG4gICAgICAgIGxldCB0b3RhbCA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uIGZsdXNoKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghZm9yY2UgJiYgIXNlY3Rpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocG9zIDwgbGVuZ3RoKVxuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbmd0aCAtIHBvcywgLTEpO1xuICAgICAgICAgICAgbGV0IHNldCA9IG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICAgICAgICAgIHRvdGFsID0gdG90YWwgPyB0b3RhbC5jb21wb3NlKHNldC5tYXAodG90YWwpKSA6IHNldDtcbiAgICAgICAgICAgIHNlY3Rpb25zID0gW107XG4gICAgICAgICAgICBpbnNlcnRlZCA9IFtdO1xuICAgICAgICAgICAgcG9zID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzKHNwZWMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNwZWMpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc3ViIG9mIHNwZWMpXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3Moc3ViKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNwZWMgaW5zdGFuY2VvZiBDaGFuZ2VTZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3BlYy5sZW5ndGggIT0gbGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aCAoZ290ICR7c3BlYy5sZW5ndGh9LCBleHBlY3RlZCAke2xlbmd0aH0pYCk7XG4gICAgICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsID8gdG90YWwuY29tcG9zZShzcGVjLm1hcCh0b3RhbCkpIDogc3BlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB7IGZyb20sIHRvID0gZnJvbSwgaW5zZXJ0IH0gPSBzcGVjO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID4gdG8gfHwgZnJvbSA8IDAgfHwgdG8gPiBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGNoYW5nZSByYW5nZSAke2Zyb219IHRvICR7dG99IChpbiBkb2Mgb2YgbGVuZ3RoICR7bGVuZ3RofSlgKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5zVGV4dCA9ICFpbnNlcnQgPyBUZXh0LmVtcHR5IDogdHlwZW9mIGluc2VydCA9PSBcInN0cmluZ1wiID8gVGV4dC5vZihpbnNlcnQuc3BsaXQobGluZVNlcCB8fCBEZWZhdWx0U3BsaXQpKSA6IGluc2VydDtcbiAgICAgICAgICAgICAgICBsZXQgaW5zTGVuID0gaW5zVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPT0gdG8gJiYgaW5zTGVuID09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgZnJvbSAtIHBvcywgLTEpO1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIHRvIC0gZnJvbSwgaW5zTGVuKTtcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0ZWQsIHNlY3Rpb25zLCBpbnNUZXh0KTtcbiAgICAgICAgICAgICAgICBwb3MgPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzKGNoYW5nZXMpO1xuICAgICAgICBmbHVzaCghdG90YWwpO1xuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBlbXB0eSBjaGFuZ2VzZXQgb2YgdGhlIGdpdmVuIGxlbmd0aC5cbiAgICAqL1xuICAgIHN0YXRpYyBlbXB0eShsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQobGVuZ3RoID8gW2xlbmd0aCwgLTFdIDogW10sIFtdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY2hhbmdlc2V0IGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gKGFzIHByb2R1Y2VkIGJ5XG4gICAgW2B0b0pTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZVNldC50b0pTT04pLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gb2YgQ2hhbmdlU2V0XCIpO1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGFydCA9IGpzb25baV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gocGFydCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocGFydCkgfHwgdHlwZW9mIHBhcnRbMF0gIT0gXCJudW1iZXJcIiB8fCBwYXJ0LnNvbWUoKGUsIGkpID0+IGkgJiYgdHlwZW9mIGUgIT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBDaGFuZ2VTZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChwYXJ0WzBdLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnNlcnRlZC5sZW5ndGggPCBpKVxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZC5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICAgICAgICAgIGluc2VydGVkW2ldID0gVGV4dC5vZihwYXJ0LnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHBhcnRbMF0sIGluc2VydGVkW2ldLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VTZXQoc2VjdGlvbnMsIGluc2VydGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCkge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgaW5zLCBmb3JjZUpvaW4gPSBmYWxzZSkge1xuICAgIGlmIChsZW4gPT0gMCAmJiBpbnMgPD0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBsYXN0ID0gc2VjdGlvbnMubGVuZ3RoIC0gMjtcbiAgICBpZiAobGFzdCA+PSAwICYmIGlucyA8PSAwICYmIGlucyA9PSBzZWN0aW9uc1tsYXN0ICsgMV0pXG4gICAgICAgIHNlY3Rpb25zW2xhc3RdICs9IGxlbjtcbiAgICBlbHNlIGlmIChsYXN0ID49IDAgJiYgbGVuID09IDAgJiYgc2VjdGlvbnNbbGFzdF0gPT0gMClcbiAgICAgICAgc2VjdGlvbnNbbGFzdCArIDFdICs9IGlucztcbiAgICBlbHNlIGlmIChmb3JjZUpvaW4pIHtcbiAgICAgICAgc2VjdGlvbnNbbGFzdF0gKz0gbGVuO1xuICAgICAgICBzZWN0aW9uc1tsYXN0ICsgMV0gKz0gaW5zO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHNlY3Rpb25zLnB1c2gobGVuLCBpbnMpO1xufVxuZnVuY3Rpb24gYWRkSW5zZXJ0KHZhbHVlcywgc2VjdGlvbnMsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGluZGV4ID0gKHNlY3Rpb25zLmxlbmd0aCAtIDIpID4+IDE7XG4gICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdID0gdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXS5hcHBlbmQodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPCBpbmRleClcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlckNoYW5nZXMoZGVzYywgZiwgaW5kaXZpZHVhbCkge1xuICAgIGxldCBpbnNlcnRlZCA9IGRlc2MuaW5zZXJ0ZWQ7XG4gICAgZm9yIChsZXQgcG9zQSA9IDAsIHBvc0IgPSAwLCBpID0gMDsgaSA8IGRlc2Muc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICBsZXQgbGVuID0gZGVzYy5zZWN0aW9uc1tpKytdLCBpbnMgPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICBwb3NBICs9IGxlbjtcbiAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVuZEEgPSBwb3NBLCBlbmRCID0gcG9zQiwgdGV4dCA9IFRleHQuZW1wdHk7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgZW5kQSArPSBsZW47XG4gICAgICAgICAgICAgICAgZW5kQiArPSBpbnM7XG4gICAgICAgICAgICAgICAgaWYgKGlucyAmJiBpbnNlcnRlZClcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuYXBwZW5kKGluc2VydGVkWyhpIC0gMikgPj4gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRpdmlkdWFsIHx8IGkgPT0gZGVzYy5zZWN0aW9ucy5sZW5ndGggfHwgZGVzYy5zZWN0aW9uc1tpICsgMV0gPCAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBsZW4gPSBkZXNjLnNlY3Rpb25zW2krK107XG4gICAgICAgICAgICAgICAgaW5zID0gZGVzYy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZihwb3NBLCBlbmRBLCBwb3NCLCBlbmRCLCB0ZXh0KTtcbiAgICAgICAgICAgIHBvc0EgPSBlbmRBO1xuICAgICAgICAgICAgcG9zQiA9IGVuZEI7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBtYXBTZXQoc2V0QSwgc2V0QiwgYmVmb3JlLCBta1NldCA9IGZhbHNlKSB7XG4gICAgLy8gUHJvZHVjZSBhIGNvcHkgb2Ygc2V0QSB0aGF0IGFwcGxpZXMgdG8gdGhlIGRvY3VtZW50IGFmdGVyIHNldEJcbiAgICAvLyBoYXMgYmVlbiBhcHBsaWVkIChhc3N1bWluZyBib3RoIHN0YXJ0IGF0IHRoZSBzYW1lIGRvY3VtZW50KS5cbiAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGJvdGggc2V0cyBpbiBwYXJhbGxlbC4gaW5zZXJ0ZWQgdHJhY2tzLCBmb3IgY2hhbmdlc1xuICAgIC8vIGluIEEgdGhhdCBoYXZlIHRvIGJlIHByb2Nlc3NlZCBwaWVjZS1ieS1waWVjZSwgd2hldGhlciB0aGVpclxuICAgIC8vIGNvbnRlbnQgaGFzIGJlZW4gaW5zZXJ0ZWQgYWxyZWFkeSwgYW5kIHJlZmVycyB0byB0aGUgc2VjdGlvblxuICAgIC8vIGluZGV4LlxuICAgIGZvciAobGV0IGluc2VydGVkID0gLTE7Oykge1xuICAgICAgICBpZiAoYS5kb25lICYmIGIubGVuIHx8IGIuZG9uZSAmJiBhLmxlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5pbnMgPT0gLTEgJiYgYi5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIE1vdmUgYWNyb3NzIHJhbmdlcyBza2lwcGVkIGJ5IGJvdGggc2V0cy5cbiAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihhLmxlbiwgYi5sZW4pO1xuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuLCAtMSk7XG4gICAgICAgICAgICBhLmZvcndhcmQobGVuKTtcbiAgICAgICAgICAgIGIuZm9yd2FyZChsZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIuaW5zID49IDAgJiYgKGEuaW5zIDwgMCB8fCBpbnNlcnRlZCA9PSBhLmkgfHwgYS5vZmYgPT0gMCAmJiAoYi5sZW4gPCBhLmxlbiB8fCBiLmxlbiA9PSBhLmxlbiAmJiAhYmVmb3JlKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBjaGFuZ2UgaW4gQiB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgbmV4dCBjaGFuZ2UgaW5cbiAgICAgICAgICAgIC8vIEEgKG9yZGVyZWQgYnkgc3RhcnQgcG9zLCB0aGVuIGxlbiwgdGhlbiBiZWZvcmUgZmxhZyksIHNraXBcbiAgICAgICAgICAgIC8vIHRoYXQgKGFuZCBwcm9jZXNzIGFueSBjaGFuZ2VzIGluIEEgaXQgY292ZXJzKS5cbiAgICAgICAgICAgIGxldCBsZW4gPSBiLmxlbjtcbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGIuaW5zLCAtMSk7XG4gICAgICAgICAgICB3aGlsZSAobGVuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gTWF0aC5taW4oYS5sZW4sIGxlbik7XG4gICAgICAgICAgICAgICAgaWYgKGEuaW5zID49IDAgJiYgaW5zZXJ0ZWQgPCBhLmkgJiYgYS5sZW4gPD0gcGllY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgMCwgYS5pbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGEudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIGxlbiAtPSBwaWVjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID49IDApIHtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHBhcnQgb2YgYSBjaGFuZ2UgaW4gQSB1cCB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHRcbiAgICAgICAgICAgIC8vIG5vbi1kZWxldGlvbiBjaGFuZ2UgaW4gQiAoaWYgb3ZlcmxhcHBpbmcpLlxuICAgICAgICAgICAgbGV0IGxlbiA9IDAsIGxlZnQgPSBhLmxlbjtcbiAgICAgICAgICAgIHdoaWxlIChsZWZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGIuaW5zID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaWVjZSA9IE1hdGgubWluKGxlZnQsIGIubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHBpZWNlO1xuICAgICAgICAgICAgICAgICAgICBiLmZvcndhcmQocGllY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAwICYmIGIubGVuIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IGIubGVuO1xuICAgICAgICAgICAgICAgICAgICBiLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgaW5zZXJ0ZWQgPCBhLmkgPyBhLmlucyA6IDApO1xuICAgICAgICAgICAgaWYgKGluc2VydCAmJiBpbnNlcnRlZCA8IGEuaSlcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYS50ZXh0KTtcbiAgICAgICAgICAgIGluc2VydGVkID0gYS5pO1xuICAgICAgICAgICAgYS5mb3J3YXJkKGEubGVuIC0gbGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lICYmIGIuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc2VydCA/IENoYW5nZVNldC5jcmVhdGVTZXQoc2VjdGlvbnMsIGluc2VydCkgOiBDaGFuZ2VEZXNjLmNyZWF0ZShzZWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNtYXRjaGVkIGNoYW5nZSBzZXQgbGVuZ3Roc1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBvc2VTZXRzKHNldEEsIHNldEIsIG1rU2V0ID0gZmFsc2UpIHtcbiAgICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgICBsZXQgaW5zZXJ0ID0gbWtTZXQgPyBbXSA6IG51bGw7XG4gICAgbGV0IGEgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0QSksIGIgPSBuZXcgU2VjdGlvbkl0ZXIoc2V0Qik7XG4gICAgZm9yIChsZXQgb3BlbiA9IGZhbHNlOzspIHtcbiAgICAgICAgaWYgKGEuZG9uZSAmJiBiLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnNlcnQgPyBDaGFuZ2VTZXQuY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnQpIDogQ2hhbmdlRGVzYy5jcmVhdGUoc2VjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuaW5zID09IDApIHsgLy8gRGVsZXRpb24gaW4gQVxuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgYS5sZW4sIDAsIG9wZW4pO1xuICAgICAgICAgICAgYS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYi5sZW4gPT0gMCAmJiAhYi5kb25lKSB7IC8vIEluc2VydGlvbiBpbiBCXG4gICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCAwLCBiLmlucywgb3Blbik7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBiLnRleHQpO1xuICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kb25lIHx8IGIuZG9uZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oYS5sZW4yLCBiLmxlbiksIHNlY3Rpb25MZW4gPSBzZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYS5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5zQiA9IGIuaW5zID09IC0xID8gLTEgOiBiLm9mZiA/IDAgOiBiLmlucztcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW4sIGluc0IsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgaW5zQilcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGIudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiLmlucyA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGEub2ZmID8gMCA6IGEubGVuLCBsZW4sIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQpXG4gICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBhLnRleHRCaXQobGVuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBhLm9mZiA/IDAgOiBhLmxlbiwgYi5vZmYgPyAwIDogYi5pbnMsIG9wZW4pO1xuICAgICAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgIWIub2ZmKVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYi50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wZW4gPSAoYS5pbnMgPiBsZW4gfHwgYi5pbnMgPj0gMCAmJiBiLmxlbiA+IGxlbikgJiYgKG9wZW4gfHwgc2VjdGlvbnMubGVuZ3RoID4gc2VjdGlvbkxlbik7XG4gICAgICAgICAgICBhLmZvcndhcmQyKGxlbik7XG4gICAgICAgICAgICBiLmZvcndhcmQobGVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNlY3Rpb25JdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzZXQpIHtcbiAgICAgICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBsZXQgeyBzZWN0aW9ucyB9ID0gdGhpcy5zZXQ7XG4gICAgICAgIGlmICh0aGlzLmkgPCBzZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubGVuID0gc2VjdGlvbnNbdGhpcy5pKytdO1xuICAgICAgICAgICAgdGhpcy5pbnMgPSBzZWN0aW9uc1t0aGlzLmkrK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxlbiA9IDA7XG4gICAgICAgICAgICB0aGlzLmlucyA9IC0yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2ZmID0gMDtcbiAgICB9XG4gICAgZ2V0IGRvbmUoKSB7IHJldHVybiB0aGlzLmlucyA9PSAtMjsgfVxuICAgIGdldCBsZW4yKCkgeyByZXR1cm4gdGhpcy5pbnMgPCAwID8gdGhpcy5sZW4gOiB0aGlzLmluczsgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggPyBUZXh0LmVtcHR5IDogaW5zZXJ0ZWRbaW5kZXhdO1xuICAgIH1cbiAgICB0ZXh0Qml0KGxlbikge1xuICAgICAgICBsZXQgeyBpbnNlcnRlZCB9ID0gdGhpcy5zZXQsIGluZGV4ID0gKHRoaXMuaSAtIDIpID4+IDE7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSBpbnNlcnRlZC5sZW5ndGggJiYgIWxlbiA/IFRleHQuZW1wdHlcbiAgICAgICAgICAgIDogaW5zZXJ0ZWRbaW5kZXhdLnNsaWNlKHRoaXMub2ZmLCBsZW4gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRoaXMub2ZmICsgbGVuKTtcbiAgICB9XG4gICAgZm9yd2FyZChsZW4pIHtcbiAgICAgICAgaWYgKGxlbiA9PSB0aGlzLmxlbilcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGVuIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3J3YXJkMihsZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaW5zID09IC0xKVxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkKGxlbik7XG4gICAgICAgIGVsc2UgaWYgKGxlbiA9PSB0aGlzLmlucylcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5zIC09IGxlbjtcbiAgICAgICAgICAgIHRoaXMub2ZmICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG5BIHNpbmdsZSBzZWxlY3Rpb24gcmFuZ2UuIFdoZW5cbltgYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKVxuaXMgZW5hYmxlZCwgYSBbc2VsZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclNlbGVjdGlvbikgbWF5IGhvbGRcbm11bHRpcGxlIHJhbmdlcy4gQnkgZGVmYXVsdCwgc2VsZWN0aW9ucyBob2xkIGV4YWN0bHkgb25lIHJhbmdlLlxuKi9cbmNsYXNzIFNlbGVjdGlvblJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbG93ZXIgYm91bmRhcnkgb2YgdGhlIHJhbmdlLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIHVwcGVyIGJvdW5kYXJ5IG9mIHRoZSByYW5nZS5cbiAgICAqL1xuICAgIHRvLCBmbGFncykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGFuY2hvciBvZiB0aGUgcmFuZ2XigJR0aGUgc2lkZSB0aGF0IGRvZXNuJ3QgbW92ZSB3aGVuIHlvdVxuICAgIGV4dGVuZCBpdC5cbiAgICAqL1xuICAgIGdldCBhbmNob3IoKSB7IHJldHVybiB0aGlzLmZsYWdzICYgMzIgLyogUmFuZ2VGbGFnLkludmVydGVkICovID8gdGhpcy50byA6IHRoaXMuZnJvbTsgfVxuICAgIC8qKlxuICAgIFRoZSBoZWFkIG9mIHRoZSByYW5nZSwgd2hpY2ggaXMgbW92ZWQgd2hlbiB0aGUgcmFuZ2UgaXNcbiAgICBbZXh0ZW5kZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU2VsZWN0aW9uUmFuZ2UuZXh0ZW5kKS5cbiAgICAqL1xuICAgIGdldCBoZWFkKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDMyIC8qIFJhbmdlRmxhZy5JbnZlcnRlZCAqLyA/IHRoaXMuZnJvbSA6IHRoaXMudG87IH1cbiAgICAvKipcbiAgICBUcnVlIHdoZW4gYGFuY2hvcmAgYW5kIGBoZWFkYCBhcmUgYXQgdGhlIHNhbWUgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7IHJldHVybiB0aGlzLmZyb20gPT0gdGhpcy50bzsgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSBjdXJzb3IgdGhhdCBpcyBleHBsaWNpdGx5IGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICBjaGFyYWN0ZXIgb24gb25lIG9mIGl0cyBzaWRlcywgdGhpcyByZXR1cm5zIHRoZSBzaWRlLiAtMSBtZWFuc1xuICAgIHRoZSBjaGFyYWN0ZXIgYmVmb3JlIGl0cyBwb3NpdGlvbiwgMSB0aGUgY2hhcmFjdGVyIGFmdGVyLCBhbmQgMFxuICAgIG1lYW5zIG5vIGFzc29jaWF0aW9uLlxuICAgICovXG4gICAgZ2V0IGFzc29jKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovID8gLTEgOiB0aGlzLmZsYWdzICYgMTYgLyogUmFuZ2VGbGFnLkFzc29jQWZ0ZXIgKi8gPyAxIDogMDsgfVxuICAgIC8qKlxuICAgIFRoZSBiaWRpcmVjdGlvbmFsIHRleHQgbGV2ZWwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY3Vyc29yLCBpZlxuICAgIGFueS5cbiAgICAqL1xuICAgIGdldCBiaWRpTGV2ZWwoKSB7XG4gICAgICAgIGxldCBsZXZlbCA9IHRoaXMuZmxhZ3MgJiA3IC8qIFJhbmdlRmxhZy5CaWRpTGV2ZWxNYXNrICovO1xuICAgICAgICByZXR1cm4gbGV2ZWwgPT0gNyA/IG51bGwgOiBsZXZlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGdvYWwgY29sdW1uIChzdG9yZWQgdmVydGljYWwgb2Zmc2V0KSBhc3NvY2lhdGVkIHdpdGggYVxuICAgIGN1cnNvci4gVGhpcyBpcyB1c2VkIHRvIHByZXNlcnZlIHRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB3aGVuXG4gICAgW21vdmluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIGFjcm9zc1xuICAgIGxpbmVzIG9mIGRpZmZlcmVudCBsZW5ndGguXG4gICAgKi9cbiAgICBnZXQgZ29hbENvbHVtbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5mbGFncyA+PiA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gMTY3NzcyMTUgLyogUmFuZ2VGbGFnLk5vR29hbENvbHVtbiAqLyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyByYW5nZSB0aHJvdWdoIGEgY2hhbmdlLCBwcm9kdWNpbmcgYSB2YWxpZCByYW5nZSBpbiB0aGVcbiAgICB1cGRhdGVkIGRvY3VtZW50LlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBsZXQgZnJvbSwgdG87XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICBmcm9tID0gdG8gPSBjaGFuZ2UubWFwUG9zKHRoaXMuZnJvbSwgYXNzb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IGNoYW5nZS5tYXBQb3ModGhpcy5mcm9tLCAxKTtcbiAgICAgICAgICAgIHRvID0gY2hhbmdlLm1hcFBvcyh0aGlzLnRvLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdGhpcy5mcm9tICYmIHRvID09IHRoaXMudG8gPyB0aGlzIDogbmV3IFNlbGVjdGlvblJhbmdlKGZyb20sIHRvLCB0aGlzLmZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXh0ZW5kIHRoaXMgcmFuZ2UgdG8gY292ZXIgYXQgbGVhc3QgYGZyb21gIHRvIGB0b2AuXG4gICAgKi9cbiAgICBleHRlbmQoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tIDw9IHRoaXMuYW5jaG9yICYmIHRvID49IHRoaXMuYW5jaG9yKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIGxldCBoZWFkID0gTWF0aC5hYnMoZnJvbSAtIHRoaXMuYW5jaG9yKSA+IE1hdGguYWJzKHRvIC0gdGhpcy5hbmNob3IpID8gZnJvbSA6IHRvO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRoaXMuYW5jaG9yLCBoZWFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHJhbmdlIHRvIGFub3RoZXIgcmFuZ2UuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5jaG9yID09IG90aGVyLmFuY2hvciAmJiB0aGlzLmhlYWQgPT0gb3RoZXIuaGVhZCAmJlxuICAgICAgICAgICAgKCFpbmNsdWRlQXNzb2MgfHwgIXRoaXMuZW1wdHkgfHwgdGhpcy5hc3NvYyA9PSBvdGhlci5hc3NvYyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJhbmdlLlxuICAgICovXG4gICAgdG9KU09OKCkgeyByZXR1cm4geyBhbmNob3I6IHRoaXMuYW5jaG9yLCBoZWFkOiB0aGlzLmhlYWQgfTsgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgcmFuZ2UgdG8gYSBgU2VsZWN0aW9uUmFuZ2VgXG4gICAgaW5zdGFuY2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIWpzb24gfHwgdHlwZW9mIGpzb24uYW5jaG9yICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uaGVhZCAhPSBcIm51bWJlclwiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIFNlbGVjdGlvblJhbmdlXCIpO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGpzb24uYW5jaG9yLCBqc29uLmhlYWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZnJvbSwgdG8sIGZsYWdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uUmFuZ2UoZnJvbSwgdG8sIGZsYWdzKTtcbiAgICB9XG59XG4vKipcbkFuIGVkaXRvciBzZWxlY3Rpb24gaG9sZHMgb25lIG9yIG1vcmUgc2VsZWN0aW9uIHJhbmdlcy5cbiovXG5jbGFzcyBFZGl0b3JTZWxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSByYW5nZXMgaW4gdGhlIHNlbGVjdGlvbiwgc29ydGVkIGJ5IHBvc2l0aW9uLiBSYW5nZXMgY2Fubm90XG4gICAgb3ZlcmxhcCAoYnV0IHRoZXkgbWF5IHRvdWNoLCBpZiB0aGV5IGFyZW4ndCBlbXB0eSkuXG4gICAgKi9cbiAgICByYW5nZXMsIFxuICAgIC8qKlxuICAgIFRoZSBpbmRleCBvZiB0aGUgX21haW5fIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24gKHdoaWNoIGlzXG4gICAgdXN1YWxseSB0aGUgcmFuZ2UgdGhhdCB3YXMgYWRkZWQgbGFzdCkuXG4gICAgKi9cbiAgICBtYWluSW5kZXgpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMubWFpbkluZGV4ID0gbWFpbkluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgYSBzZWxlY3Rpb24gdGhyb3VnaCBhIGNoYW5nZS4gVXNlZCB0byBhZGp1c3QgdGhlIHNlbGVjdGlvblxuICAgIHBvc2l0aW9uIGZvciBjaGFuZ2VzLlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBpZiAoY2hhbmdlLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHRoaXMucmFuZ2VzLm1hcChyID0+IHIubWFwKGNoYW5nZSwgYXNzb2MpKSwgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgc2VsZWN0aW9uIHRvIGFub3RoZXIgc2VsZWN0aW9uLiBCeSBkZWZhdWx0LCByYW5nZXNcbiAgICBhcmUgY29tcGFyZWQgb25seSBieSBwb3NpdGlvbi4gV2hlbiBgaW5jbHVkZUFzc29jYCBpcyB0cnVlLFxuICAgIGN1cnNvciByYW5nZXMgbXVzdCBhbHNvIGhhdmUgdGhlIHNhbWVcbiAgICBbYGFzc29jYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZS5hc3NvYykgdmFsdWUuXG4gICAgKi9cbiAgICBlcShvdGhlciwgaW5jbHVkZUFzc29jID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VzLmxlbmd0aCAhPSBvdGhlci5yYW5nZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLm1haW5JbmRleCAhPSBvdGhlci5tYWluSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZ2VzW2ldLmVxKG90aGVyLnJhbmdlc1tpXSwgaW5jbHVkZUFzc29jKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHByaW1hcnkgc2VsZWN0aW9uIHJhbmdlLiBVc3VhbGx5LCB5b3Ugc2hvdWxkIG1ha2Ugc3VyZVxuICAgIHlvdXIgY29kZSBhcHBsaWVzIHRvIF9hbGxfIHJhbmdlcywgYnkgdXNpbmcgbWV0aG9kcyBsaWtlXG4gICAgW2BjaGFuZ2VCeVJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5jaGFuZ2VCeVJhbmdlKS5cbiAgICAqL1xuICAgIGdldCBtYWluKCkgeyByZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5tYWluSW5kZXhdOyB9XG4gICAgLyoqXG4gICAgTWFrZSBzdXJlIHRoZSBzZWxlY3Rpb24gb25seSBoYXMgb25lIHJhbmdlLiBSZXR1cm5zIGEgc2VsZWN0aW9uXG4gICAgaG9sZGluZyBvbmx5IHRoZSBtYWluIHJhbmdlIGZyb20gdGhpcyBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBhc1NpbmdsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLmxlbmd0aCA9PSAxID8gdGhpcyA6IG5ldyBFZGl0b3JTZWxlY3Rpb24oW3RoaXMubWFpbl0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBFeHRlbmQgdGhpcyBzZWxlY3Rpb24gd2l0aCBhbiBleHRyYSByYW5nZS5cbiAgICAqL1xuICAgIGFkZFJhbmdlKHJhbmdlLCBtYWluID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbcmFuZ2VdLmNvbmNhdCh0aGlzLnJhbmdlcyksIG1haW4gPyAwIDogdGhpcy5tYWluSW5kZXggKyAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwbGFjZSBhIGdpdmVuIHJhbmdlIHdpdGggYW5vdGhlciByYW5nZSwgYW5kIHRoZW4gbm9ybWFsaXplIHRoZVxuICAgIHNlbGVjdGlvbiB0byBtZXJnZSBhbmQgc29ydCByYW5nZXMgaWYgbmVjZXNzYXJ5LlxuICAgICovXG4gICAgcmVwbGFjZVJhbmdlKHJhbmdlLCB3aGljaCA9IHRoaXMubWFpbkluZGV4KSB7XG4gICAgICAgIGxldCByYW5nZXMgPSB0aGlzLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICByYW5nZXNbd2hpY2hdID0gcmFuZ2U7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgdGhpcy5tYWluSW5kZXgpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc2VsZWN0aW9uIHRvIGFuIG9iamVjdCB0aGF0IGNhbiBiZSBzZXJpYWxpemVkIHRvXG4gICAgSlNPTi5cbiAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2VzOiB0aGlzLnJhbmdlcy5tYXAociA9PiByLnRvSlNPTigpKSwgbWFpbjogdGhpcy5tYWluSW5kZXggfTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2VsZWN0aW9uIGZyb20gYSBKU09OIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFqc29uIHx8ICFBcnJheS5pc0FycmF5KGpzb24ucmFuZ2VzKSB8fCB0eXBlb2YganNvbi5tYWluICE9IFwibnVtYmVyXCIgfHwganNvbi5tYWluID49IGpzb24ucmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTZWxlY3Rpb25cIik7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKGpzb24ucmFuZ2VzLm1hcCgocikgPT4gU2VsZWN0aW9uUmFuZ2UuZnJvbUpTT04ocikpLCBqc29uLm1haW4pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZWxlY3Rpb24gaG9sZGluZyBhIHNpbmdsZSByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyBzaW5nbGUoYW5jaG9yLCBoZWFkID0gYW5jaG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKFtFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoYW5jaG9yLCBoZWFkKV0sIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBTb3J0IGFuZCBtZXJnZSB0aGUgZ2l2ZW4gc2V0IG9mIHJhbmdlcywgY3JlYXRpbmcgYSB2YWxpZFxuICAgIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkEgc2VsZWN0aW9uIG5lZWRzIGF0IGxlYXN0IG9uZSByYW5nZVwiKTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5lbXB0eSA/IHJhbmdlLmZyb20gPD0gcG9zIDogcmFuZ2UuZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLm5vcm1hbGl6ZWQocmFuZ2VzLnNsaWNlKCksIG1haW5JbmRleCk7XG4gICAgICAgICAgICBwb3MgPSByYW5nZS50bztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVkaXRvclNlbGVjdGlvbihyYW5nZXMsIG1haW5JbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGN1cnNvciBzZWxlY3Rpb24gcmFuZ2UgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBZb3UgY2FuXG4gICAgc2FmZWx5IGlnbm9yZSB0aGUgb3B0aW9uYWwgYXJndW1lbnRzIGluIG1vc3Qgc2l0dWF0aW9ucy5cbiAgICAqL1xuICAgIHN0YXRpYyBjdXJzb3IocG9zLCBhc3NvYyA9IDAsIGJpZGlMZXZlbCwgZ29hbENvbHVtbikge1xuICAgICAgICByZXR1cm4gU2VsZWN0aW9uUmFuZ2UuY3JlYXRlKHBvcywgcG9zLCAoYXNzb2MgPT0gMCA/IDAgOiBhc3NvYyA8IDAgPyA4IC8qIFJhbmdlRmxhZy5Bc3NvY0JlZm9yZSAqLyA6IDE2IC8qIFJhbmdlRmxhZy5Bc3NvY0FmdGVyICovKSB8XG4gICAgICAgICAgICAoYmlkaUxldmVsID09IG51bGwgPyA3IDogTWF0aC5taW4oNiwgYmlkaUxldmVsKSkgfFxuICAgICAgICAgICAgKChnb2FsQ29sdW1uICE9PSBudWxsICYmIGdvYWxDb2x1bW4gIT09IHZvaWQgMCA/IGdvYWxDb2x1bW4gOiAxNjc3NzIxNSAvKiBSYW5nZUZsYWcuTm9Hb2FsQ29sdW1uICovKSA8PCA2IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNlbGVjdGlvbiByYW5nZS5cbiAgICAqL1xuICAgIHN0YXRpYyByYW5nZShhbmNob3IsIGhlYWQsIGdvYWxDb2x1bW4sIGJpZGlMZXZlbCkge1xuICAgICAgICBsZXQgZmxhZ3MgPSAoKGdvYWxDb2x1bW4gIT09IG51bGwgJiYgZ29hbENvbHVtbiAhPT0gdm9pZCAwID8gZ29hbENvbHVtbiA6IDE2Nzc3MjE1IC8qIFJhbmdlRmxhZy5Ob0dvYWxDb2x1bW4gKi8pIDw8IDYgLyogUmFuZ2VGbGFnLkdvYWxDb2x1bW5PZmZzZXQgKi8pIHxcbiAgICAgICAgICAgIChiaWRpTGV2ZWwgPT0gbnVsbCA/IDcgOiBNYXRoLm1pbig2LCBiaWRpTGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIGhlYWQgPCBhbmNob3IgPyBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoaGVhZCwgYW5jaG9yLCAzMiAvKiBSYW5nZUZsYWcuSW52ZXJ0ZWQgKi8gfCAxNiAvKiBSYW5nZUZsYWcuQXNzb2NBZnRlciAqLyB8IGZsYWdzKVxuICAgICAgICAgICAgOiBTZWxlY3Rpb25SYW5nZS5jcmVhdGUoYW5jaG9yLCBoZWFkLCAoaGVhZCA+IGFuY2hvciA/IDggLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovIDogMCkgfCBmbGFncyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIG5vcm1hbGl6ZWQocmFuZ2VzLCBtYWluSW5kZXggPSAwKSB7XG4gICAgICAgIGxldCBtYWluID0gcmFuZ2VzW21haW5JbmRleF07XG4gICAgICAgIHJhbmdlcy5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICBtYWluSW5kZXggPSByYW5nZXMuaW5kZXhPZihtYWluKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlc1tpXSwgcHJldiA9IHJhbmdlc1tpIC0gMV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkgPyByYW5nZS5mcm9tIDw9IHByZXYudG8gOiByYW5nZS5mcm9tIDwgcHJldi50bykge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gcHJldi5mcm9tLCB0byA9IE1hdGgubWF4KHJhbmdlLnRvLCBwcmV2LnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8PSBtYWluSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG1haW5JbmRleC0tO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCByYW5nZS5hbmNob3IgPiByYW5nZS5oZWFkID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRvLCBmcm9tKSA6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKHJhbmdlcywgbWFpbkluZGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGRvY0xlbmd0aCkge1xuICAgIGZvciAobGV0IHJhbmdlIG9mIHNlbGVjdGlvbi5yYW5nZXMpXG4gICAgICAgIGlmIChyYW5nZS50byA+IGRvY0xlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2VsZWN0aW9uIHBvaW50cyBvdXRzaWRlIG9mIGRvY3VtZW50XCIpO1xufVxuXG5sZXQgbmV4dElEID0gMDtcbi8qKlxuQSBmYWNldCBpcyBhIGxhYmVsZWQgdmFsdWUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggYW4gZWRpdG9yXG5zdGF0ZS4gSXQgdGFrZXMgaW5wdXRzIGZyb20gYW55IG51bWJlciBvZiBleHRlbnNpb25zLCBhbmQgY29tYmluZXNcbnRob3NlIGludG8gYSBzaW5nbGUgb3V0cHV0IHZhbHVlLlxuXG5FeGFtcGxlcyBvZiB1c2VzIG9mIGZhY2V0cyBhcmUgdGhlIFt0YWJcbnNpemVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSksIFtlZGl0b3JcbmF0dHJpYnV0ZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRvckF0dHJpYnV0ZXMpLCBhbmQgW3VwZGF0ZVxubGlzdGVuZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld151cGRhdGVMaXN0ZW5lcikuXG5cbk5vdGUgdGhhdCBgRmFjZXRgIGluc3RhbmNlcyBjYW4gYmUgdXNlZCBhbnl3aGVyZSB3aGVyZVxuW2BGYWNldFJlYWRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRmFjZXRSZWFkZXIpIGlzIGV4cGVjdGVkLlxuKi9cbmNsYXNzIEZhY2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbWJpbmUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZUlucHV0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUsIGlzU3RhdGljLCBlbmFibGVzKSB7XG4gICAgICAgIHRoaXMuY29tYmluZSA9IGNvbWJpbmU7XG4gICAgICAgIHRoaXMuY29tcGFyZUlucHV0ID0gY29tcGFyZUlucHV0O1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gaXNTdGF0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBjb21iaW5lKFtdKTtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gdHlwZW9mIGVuYWJsZXMgPT0gXCJmdW5jdGlvblwiID8gZW5hYmxlcyh0aGlzKSA6IGVuYWJsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYSBmYWNldCByZWFkZXIgZm9yIHRoaXMgZmFjZXQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgW3JlYWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuZmFjZXQpIGl0IGJ1dCBub3QgdG8gZGVmaW5lIHZhbHVlcyBmb3IgaXQuXG4gICAgKi9cbiAgICBnZXQgcmVhZGVyKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBmYWNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldChjb25maWcuY29tYmluZSB8fCAoKGEpID0+IGEpLCBjb25maWcuY29tcGFyZUlucHV0IHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZy5jb21wYXJlIHx8ICghY29uZmlnLmNvbWJpbmUgPyBzYW1lQXJyYXkgOiAoYSwgYikgPT4gYSA9PT0gYiksICEhY29uZmlnLnN0YXRpYywgY29uZmlnLmVuYWJsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoaXMgZmFjZXQuXG4gICAgKi9cbiAgICBvZih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZhY2V0UHJvdmlkZXIoW10sIHRoaXMsIDAgLyogUHJvdmlkZXIuU3RhdGljICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBjb21wdXRlcyBhIHZhbHVlIGZvciB0aGUgZmFjZXQgZnJvbSBhXG4gICAgc3RhdGUuIFlvdSBtdXN0IHRha2UgY2FyZSB0byBkZWNsYXJlIHRoZSBwYXJ0cyBvZiB0aGUgc3RhdGUgdGhhdFxuICAgIHRoaXMgdmFsdWUgZGVwZW5kcyBvbiwgc2luY2UgeW91ciBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBhZ2FpblxuICAgIGZvciBhIG5ldyBzdGF0ZSB3aGVuIG9uZSBvZiB0aG9zZSBwYXJ0cyBjaGFuZ2VkLlxuICAgIFxuICAgIEluIGNhc2VzIHdoZXJlIHlvdXIgdmFsdWUgZGVwZW5kcyBvbmx5IG9uIGEgc2luZ2xlIGZpZWxkLCB5b3UnbGxcbiAgICB3YW50IHRvIHVzZSB0aGUgW2Bmcm9tYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldC5mcm9tKSBtZXRob2QgaW5zdGVhZC5cbiAgICAqL1xuICAgIGNvbXB1dGUoZGVwcywgZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGljKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29tcHV0ZSBhIHN0YXRpYyBmYWNldFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldFByb3ZpZGVyKGRlcHMsIHRoaXMsIDEgLyogUHJvdmlkZXIuU2luZ2xlICovLCBnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgY29tcHV0ZXMgemVybyBvciBtb3JlIHZhbHVlcyBmb3IgdGhpc1xuICAgIGZhY2V0IGZyb20gYSBzdGF0ZS5cbiAgICAqL1xuICAgIGNvbXB1dGVOKGRlcHMsIGdldCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXRpYylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbXB1dGUgYSBzdGF0aWMgZmFjZXRcIik7XG4gICAgICAgIHJldHVybiBuZXcgRmFjZXRQcm92aWRlcihkZXBzLCB0aGlzLCAyIC8qIFByb3ZpZGVyLk11bHRpICovLCBnZXQpO1xuICAgIH1cbiAgICBmcm9tKGZpZWxkLCBnZXQpIHtcbiAgICAgICAgaWYgKCFnZXQpXG4gICAgICAgICAgICBnZXQgPSB4ID0+IHg7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGUoW2ZpZWxkXSwgc3RhdGUgPT4gZ2V0KHN0YXRlLmZpZWxkKGZpZWxkKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KChlLCBpKSA9PiBlID09PSBiW2ldKTtcbn1cbmNsYXNzIEZhY2V0UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlcGVuZGVuY2llcywgZmFjZXQsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgIH1cbiAgICBkeW5hbWljU2xvdChhZGRyZXNzZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgZ2V0dGVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IGNvbXBhcmUgPSB0aGlzLmZhY2V0LmNvbXBhcmVJbnB1dDtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5pZCwgaWR4ID0gYWRkcmVzc2VzW2lkXSA+PiAxLCBtdWx0aSA9IHRoaXMudHlwZSA9PSAyIC8qIFByb3ZpZGVyLk11bHRpICovO1xuICAgICAgICBsZXQgZGVwRG9jID0gZmFsc2UsIGRlcFNlbCA9IGZhbHNlLCBkZXBBZGRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkZXAgb2YgdGhpcy5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmIChkZXAgPT0gXCJkb2NcIilcbiAgICAgICAgICAgICAgICBkZXBEb2MgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVwID09IFwic2VsZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgZGVwU2VsID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCgoKF9hID0gYWRkcmVzc2VzW2RlcC5pZF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEpICYgMSkgPT0gMClcbiAgICAgICAgICAgICAgICBkZXBBZGRycy5wdXNoKGFkZHJlc3Nlc1tkZXAuaWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGUoc3RhdGUsIHRyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChkZXBEb2MgJiYgdHIuZG9jQ2hhbmdlZCkgfHwgKGRlcFNlbCAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pKSB8fCBlbnN1cmVBbGwoc3RhdGUsIGRlcEFkZHJzKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsID0gZ2V0dGVyKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpID8gIWNvbXBhcmVBcnJheShuZXdWYWwsIHN0YXRlLnZhbHVlc1tpZHhdLCBjb21wYXJlKSA6ICFjb21wYXJlKG5ld1ZhbCwgc3RhdGUudmFsdWVzW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNvbmZpZ3VyZTogKHN0YXRlLCBvbGRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWwsIG9sZEFkZHIgPSBvbGRTdGF0ZS5jb25maWcuYWRkcmVzc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKG9sZEFkZHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkVmFsID0gZ2V0QWRkcihvbGRTdGF0ZSwgb2xkQWRkcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llcy5ldmVyeShkZXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcCBpbnN0YW5jZW9mIEZhY2V0ID8gb2xkU3RhdGUuZmFjZXQoZGVwKSA9PT0gc3RhdGUuZmFjZXQoZGVwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwIGluc3RhbmNlb2YgU3RhdGVGaWVsZCA/IG9sZFN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpID09IHN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHwgKG11bHRpID8gY29tcGFyZUFycmF5KG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCwgY29tcGFyZSkgOiBjb21wYXJlKG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWwgPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBTbG90U3RhdHVzLkNoYW5nZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZUFycmF5KGEsIGIsIGNvbXBhcmUpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghY29tcGFyZShhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFsbChzdGF0ZSwgYWRkcnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGFkZHIgb2YgYWRkcnMpXG4gICAgICAgIGlmIChlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKSAmIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBkeW5hbWljRmFjZXRTbG90KGFkZHJlc3NlcywgZmFjZXQsIHByb3ZpZGVycykge1xuICAgIGxldCBwcm92aWRlckFkZHJzID0gcHJvdmlkZXJzLm1hcChwID0+IGFkZHJlc3Nlc1twLmlkXSk7XG4gICAgbGV0IHByb3ZpZGVyVHlwZXMgPSBwcm92aWRlcnMubWFwKHAgPT4gcC50eXBlKTtcbiAgICBsZXQgZHluYW1pYyA9IHByb3ZpZGVyQWRkcnMuZmlsdGVyKHAgPT4gIShwICYgMSkpO1xuICAgIGxldCBpZHggPSBhZGRyZXNzZXNbZmFjZXQuaWRdID4+IDE7XG4gICAgZnVuY3Rpb24gZ2V0KHN0YXRlKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlckFkZHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRBZGRyKHN0YXRlLCBwcm92aWRlckFkZHJzW2ldKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlclR5cGVzW2ldID09IDIgLyogUHJvdmlkZXIuTXVsdGkgKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsIG9mIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZXQuY29tYmluZSh2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGFkZHIgb2YgcHJvdmlkZXJBZGRycylcbiAgICAgICAgICAgICAgICBlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKTtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlKHN0YXRlLCB0cikge1xuICAgICAgICAgICAgaWYgKCFlbnN1cmVBbGwoc3RhdGUsIGR5bmFtaWMpKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBzdGF0ZS52YWx1ZXNbaWR4XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICB9LFxuICAgICAgICByZWNvbmZpZ3VyZShzdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBkZXBDaGFuZ2VkID0gZW5zdXJlQWxsKHN0YXRlLCBwcm92aWRlckFkZHJzKTtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRTdGF0ZS5jb25maWcuZmFjZXRzW2ZhY2V0LmlkXSwgb2xkVmFsdWUgPSBvbGRTdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgICAgICBpZiAob2xkUHJvdmlkZXJzICYmICFkZXBDaGFuZ2VkICYmIHNhbWVBcnJheShwcm92aWRlcnMsIG9sZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBpbml0RmllbGQgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgc3RhdGljOiB0cnVlIH0pO1xuLyoqXG5GaWVsZHMgY2FuIHN0b3JlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gaW4gYW4gZWRpdG9yIHN0YXRlLCBhbmRcbmtlZXAgaXQgaW4gc3luYyB3aXRoIHRoZSByZXN0IG9mIHRoZSBzdGF0ZS5cbiovXG5jbGFzcyBTdGF0ZUZpZWxkIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBjcmVhdGVGLCB1cGRhdGVGLCBjb21wYXJlRiwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzcGVjKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jcmVhdGVGID0gY3JlYXRlRjtcbiAgICAgICAgdGhpcy51cGRhdGVGID0gdXBkYXRlRjtcbiAgICAgICAgdGhpcy5jb21wYXJlRiA9IGNvbXBhcmVGO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucHJvdmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHN0YXRlIGZpZWxkLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjb25maWcpIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IFN0YXRlRmllbGQobmV4dElEKyssIGNvbmZpZy5jcmVhdGUsIGNvbmZpZy51cGRhdGUsIGNvbmZpZy5jb21wYXJlIHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcucHJvdmlkZSlcbiAgICAgICAgICAgIGZpZWxkLnByb3ZpZGVzID0gY29uZmlnLnByb3ZpZGUoZmllbGQpO1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuICAgIGNyZWF0ZShzdGF0ZSkge1xuICAgICAgICBsZXQgaW5pdCA9IHN0YXRlLmZhY2V0KGluaXRGaWVsZCkuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcyk7XG4gICAgICAgIHJldHVybiAoKGluaXQgPT09IG51bGwgfHwgaW5pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdC5jcmVhdGUpIHx8IHRoaXMuY3JlYXRlRikoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNsb3QoYWRkcmVzc2VzKSB7XG4gICAgICAgIGxldCBpZHggPSBhZGRyZXNzZXNbdGhpcy5pZF0gPj4gMTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0ZTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogKHN0YXRlLCB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWwgPSBzdGF0ZS52YWx1ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnVwZGF0ZUYob2xkVmFsLCB0cik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZUYob2xkVmFsLCB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY29uZmlndXJlOiAoc3RhdGUsIG9sZFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGluaXQgPSBzdGF0ZS5mYWNldChpbml0RmllbGQpLCBvbGRJbml0ID0gb2xkU3RhdGUuZmFjZXQoaW5pdEZpZWxkKSwgcmVJbml0O1xuICAgICAgICAgICAgICAgIGlmICgocmVJbml0ID0gaW5pdC5maW5kKGkgPT4gaS5maWVsZCA9PSB0aGlzKSkgJiYgcmVJbml0ICE9IG9sZEluaXQuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSByZUluaXQuY3JlYXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob2xkU3RhdGUuY29uZmlnLmFkZHJlc3NbdGhpcy5pZF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFN0YXRlLmZpZWxkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgdGhpcyBmaWVsZCBhbmQgb3ZlcnJpZGVzIHRoZVxuICAgIHdheSBpdCBpcyBpbml0aWFsaXplZC4gQ2FuIGJlIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIHRvIHByb3ZpZGUgYVxuICAgIG5vbi1kZWZhdWx0IHN0YXJ0aW5nIHZhbHVlIGZvciB0aGUgZmllbGQuXG4gICAgKi9cbiAgICBpbml0KGNyZWF0ZSkge1xuICAgICAgICByZXR1cm4gW3RoaXMsIGluaXRGaWVsZC5vZih7IGZpZWxkOiB0aGlzLCBjcmVhdGUgfSldO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGF0ZSBmaWVsZCBpbnN0YW5jZXMgY2FuIGJlIHVzZWQgYXNcbiAgICBbYEV4dGVuc2lvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRXh0ZW5zaW9uKSB2YWx1ZXMgdG8gZW5hYmxlIHRoZSBmaWVsZCBpbiBhXG4gICAgZ2l2ZW4gc3RhdGUuXG4gICAgKi9cbiAgICBnZXQgZXh0ZW5zaW9uKCkgeyByZXR1cm4gdGhpczsgfVxufVxuY29uc3QgUHJlY18gPSB7IGxvd2VzdDogNCwgbG93OiAzLCBkZWZhdWx0OiAyLCBoaWdoOiAxLCBoaWdoZXN0OiAwIH07XG5mdW5jdGlvbiBwcmVjKHZhbHVlKSB7XG4gICAgcmV0dXJuIChleHQpID0+IG5ldyBQcmVjRXh0ZW5zaW9uKGV4dCwgdmFsdWUpO1xufVxuLyoqXG5CeSBkZWZhdWx0IGV4dGVuc2lvbnMgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGZvdW5kXG5pbiB0aGUgZmxhdHRlbmVkIGZvcm0gb2YgbmVzdGVkIGFycmF5IHRoYXQgd2FzIHByb3ZpZGVkLlxuSW5kaXZpZHVhbCBleHRlbnNpb24gdmFsdWVzIGNhbiBiZSBhc3NpZ25lZCBhIHByZWNlZGVuY2UgdG9cbm92ZXJyaWRlIHRoaXMuIEV4dGVuc2lvbnMgdGhhdCBkbyBub3QgaGF2ZSBhIHByZWNlZGVuY2Ugc2V0IGdldFxudGhlIHByZWNlZGVuY2Ugb2YgdGhlIG5lYXJlc3QgcGFyZW50IHdpdGggYSBwcmVjZWRlbmNlLCBvclxuW2BkZWZhdWx0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5QcmVjLmRlZmF1bHQpIGlmIHRoZXJlIGlzIG5vIHN1Y2ggcGFyZW50LiBUaGVcbmZpbmFsIG9yZGVyaW5nIG9mIGV4dGVuc2lvbnMgaXMgZGV0ZXJtaW5lZCBieSBmaXJzdCBzb3J0aW5nIGJ5XG5wcmVjZWRlbmNlIGFuZCB0aGVuIGJ5IG9yZGVyIHdpdGhpbiBlYWNoIHByZWNlZGVuY2UuXG4qL1xuY29uc3QgUHJlYyA9IHtcbiAgICAvKipcbiAgICBUaGUgaGlnaGVzdCBwcmVjZWRlbmNlIGxldmVsLCBmb3IgZXh0ZW5zaW9ucyB0aGF0IHNob3VsZCBlbmQgdXBcbiAgICBuZWFyIHRoZSBzdGFydCBvZiB0aGUgcHJlY2VkZW5jZSBvcmRlcmluZy5cbiAgICAqL1xuICAgIGhpZ2hlc3Q6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmhpZ2hlc3QpLFxuICAgIC8qKlxuICAgIEEgaGlnaGVyLXRoYW4tZGVmYXVsdCBwcmVjZWRlbmNlLCBmb3IgZXh0ZW5zaW9ucyB0aGF0IHNob3VsZFxuICAgIGNvbWUgYmVmb3JlIHRob3NlIHdpdGggZGVmYXVsdCBwcmVjZWRlbmNlLlxuICAgICovXG4gICAgaGlnaDogLypAX19QVVJFX18qL3ByZWMoUHJlY18uaGlnaCksXG4gICAgLyoqXG4gICAgVGhlIGRlZmF1bHQgcHJlY2VkZW5jZSwgd2hpY2ggaXMgYWxzbyB1c2VkIGZvciBleHRlbnNpb25zXG4gICAgd2l0aG91dCBhbiBleHBsaWNpdCBwcmVjZWRlbmNlLlxuICAgICovXG4gICAgZGVmYXVsdDogLypAX19QVVJFX18qL3ByZWMoUHJlY18uZGVmYXVsdCksXG4gICAgLyoqXG4gICAgQSBsb3dlci10aGFuLWRlZmF1bHQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGxvdzogLypAX19QVVJFX18qL3ByZWMoUHJlY18ubG93KSxcbiAgICAvKipcbiAgICBUaGUgbG93ZXN0IHByZWNlZGVuY2UgbGV2ZWwuIE1lYW50IGZvciB0aGluZ3MgdGhhdCBzaG91bGQgZW5kIHVwXG4gICAgbmVhciB0aGUgZW5kIG9mIHRoZSBleHRlbnNpb24gb3JkZXIuXG4gICAgKi9cbiAgICBsb3dlc3Q6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmxvd2VzdClcbn07XG5jbGFzcyBQcmVjRXh0ZW5zaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihpbm5lciwgcHJlYykge1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgICAgIHRoaXMucHJlYyA9IHByZWM7XG4gICAgfVxufVxuLyoqXG5FeHRlbnNpb24gY29tcGFydG1lbnRzIGNhbiBiZSB1c2VkIHRvIG1ha2UgYSBjb25maWd1cmF0aW9uXG5keW5hbWljLiBCeSBbd3JhcHBpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQub2YpIHBhcnQgb2YgeW91clxuY29uZmlndXJhdGlvbiBpbiBhIGNvbXBhcnRtZW50LCB5b3UgY2FuIGxhdGVyXG5bcmVwbGFjZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSkgdGhhdCBwYXJ0IHRocm91Z2ggYVxudHJhbnNhY3Rpb24uXG4qL1xuY2xhc3MgQ29tcGFydG1lbnQge1xuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNvbXBhcnRtZW50IHRvIGFkZCB0byB5b3VyIFtzdGF0ZVxuICAgIGNvbmZpZ3VyYXRpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVDb25maWcuZXh0ZW5zaW9ucykuXG4gICAgKi9cbiAgICBvZihleHQpIHsgcmV0dXJuIG5ldyBDb21wYXJ0bWVudEluc3RhbmNlKHRoaXMsIGV4dCk7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gW2VmZmVjdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgdGhhdFxuICAgIHJlY29uZmlndXJlcyB0aGlzIGNvbXBhcnRtZW50LlxuICAgICovXG4gICAgcmVjb25maWd1cmUoY29udGVudCkge1xuICAgICAgICByZXR1cm4gQ29tcGFydG1lbnQucmVjb25maWd1cmUub2YoeyBjb21wYXJ0bWVudDogdGhpcywgZXh0ZW5zaW9uOiBjb250ZW50IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGN1cnJlbnQgY29udGVudCBvZiB0aGUgY29tcGFydG1lbnQgaW4gdGhlIHN0YXRlLCBvclxuICAgIGB1bmRlZmluZWRgIGlmIGl0IGlzbid0IHByZXNlbnQuXG4gICAgKi9cbiAgICBnZXQoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmNvbmZpZy5jb21wYXJ0bWVudHMuZ2V0KHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIENvbXBhcnRtZW50SW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBhcnRtZW50LCBpbm5lcikge1xuICAgICAgICB0aGlzLmNvbXBhcnRtZW50ID0gY29tcGFydG1lbnQ7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihiYXNlLCBjb21wYXJ0bWVudHMsIGR5bmFtaWNTbG90cywgYWRkcmVzcywgc3RhdGljVmFsdWVzLCBmYWNldHMpIHtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZTtcbiAgICAgICAgdGhpcy5jb21wYXJ0bWVudHMgPSBjb21wYXJ0bWVudHM7XG4gICAgICAgIHRoaXMuZHluYW1pY1Nsb3RzID0gZHluYW1pY1Nsb3RzO1xuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLnN0YXRpY1ZhbHVlcyA9IHN0YXRpY1ZhbHVlcztcbiAgICAgICAgdGhpcy5mYWNldHMgPSBmYWNldHM7XG4gICAgICAgIHRoaXMuc3RhdHVzVGVtcGxhdGUgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhdHVzVGVtcGxhdGUubGVuZ3RoIDwgZHluYW1pY1Nsb3RzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzVGVtcGxhdGUucHVzaCgwIC8qIFNsb3RTdGF0dXMuVW5yZXNvbHZlZCAqLyk7XG4gICAgfVxuICAgIHN0YXRpY0ZhY2V0KGZhY2V0KSB7XG4gICAgICAgIGxldCBhZGRyID0gdGhpcy5hZGRyZXNzW2ZhY2V0LmlkXTtcbiAgICAgICAgcmV0dXJuIGFkZHIgPT0gbnVsbCA/IGZhY2V0LmRlZmF1bHQgOiB0aGlzLnN0YXRpY1ZhbHVlc1thZGRyID4+IDFdO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZShiYXNlLCBjb21wYXJ0bWVudHMsIG9sZFN0YXRlKSB7XG4gICAgICAgIGxldCBmaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IGZhY2V0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxldCBuZXdDb21wYXJ0bWVudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGV4dCBvZiBmbGF0dGVuKGJhc2UsIGNvbXBhcnRtZW50cywgbmV3Q29tcGFydG1lbnRzKSkge1xuICAgICAgICAgICAgaWYgKGV4dCBpbnN0YW5jZW9mIFN0YXRlRmllbGQpXG4gICAgICAgICAgICAgICAgZmllbGRzLnB1c2goZXh0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAoZmFjZXRzW2V4dC5mYWNldC5pZF0gfHwgKGZhY2V0c1tleHQuZmFjZXQuaWRdID0gW10pKS5wdXNoKGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFkZHJlc3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgc3RhdGljVmFsdWVzID0gW107XG4gICAgICAgIGxldCBkeW5hbWljU2xvdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICBhZGRyZXNzW2ZpZWxkLmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGEgPT4gZmllbGQuc2xvdChhKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9sZEZhY2V0cyA9IG9sZFN0YXRlID09PSBudWxsIHx8IG9sZFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbGRTdGF0ZS5jb25maWcuZmFjZXRzO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBmYWNldHMpIHtcbiAgICAgICAgICAgIGxldCBwcm92aWRlcnMgPSBmYWNldHNbaWRdLCBmYWNldCA9IHByb3ZpZGVyc1swXS5mYWNldDtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRGYWNldHMgJiYgb2xkRmFjZXRzW2lkXSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlcnMuZXZlcnkocCA9PiBwLnR5cGUgPT0gMCAvKiBQcm92aWRlci5TdGF0aWMgKi8pKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzc1tmYWNldC5pZF0gPSAoc3RhdGljVmFsdWVzLmxlbmd0aCA8PCAxKSB8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHNhbWVBcnJheShvbGRQcm92aWRlcnMsIHByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gob2xkU3RhdGUuZmFjZXQoZmFjZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZhY2V0LmNvbWJpbmUocHJvdmlkZXJzLm1hcChwID0+IHAudmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gob2xkU3RhdGUgJiYgZmFjZXQuY29tcGFyZSh2YWx1ZSwgb2xkU3RhdGUuZmFjZXQoZmFjZXQpKSA/IG9sZFN0YXRlLmZhY2V0KGZhY2V0KSA6IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwIG9mIHByb3ZpZGVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09IDAgLyogUHJvdmlkZXIuU3RhdGljICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzW3AuaWRdID0gKHN0YXRpY1ZhbHVlcy5sZW5ndGggPDwgMSkgfCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljVmFsdWVzLnB1c2gocC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzW3AuaWRdID0gZHluYW1pY1Nsb3RzLmxlbmd0aCA8PCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1Nsb3RzLnB1c2goYSA9PiBwLmR5bmFtaWNTbG90KGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRyZXNzW2ZhY2V0LmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgICAgICBkeW5hbWljU2xvdHMucHVzaChhID0+IGR5bmFtaWNGYWNldFNsb3QoYSwgZmFjZXQsIHByb3ZpZGVycykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBkeW5hbWljID0gZHluYW1pY1Nsb3RzLm1hcChmID0+IGYoYWRkcmVzcykpO1xuICAgICAgICByZXR1cm4gbmV3IENvbmZpZ3VyYXRpb24oYmFzZSwgbmV3Q29tcGFydG1lbnRzLCBkeW5hbWljLCBhZGRyZXNzLCBzdGF0aWNWYWx1ZXMsIGZhY2V0cyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmxhdHRlbihleHRlbnNpb24sIGNvbXBhcnRtZW50cywgbmV3Q29tcGFydG1lbnRzKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtbXSwgW10sIFtdLCBbXSwgW11dO1xuICAgIGxldCBzZWVuID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGlubmVyKGV4dCwgcHJlYykge1xuICAgICAgICBsZXQga25vd24gPSBzZWVuLmdldChleHQpO1xuICAgICAgICBpZiAoa25vd24gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGtub3duIDw9IHByZWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gcmVzdWx0W2tub3duXS5pbmRleE9mKGV4dCk7XG4gICAgICAgICAgICBpZiAoZm91bmQgPiAtMSlcbiAgICAgICAgICAgICAgICByZXN1bHRba25vd25dLnNwbGljZShmb3VuZCwgMSk7XG4gICAgICAgICAgICBpZiAoZXh0IGluc3RhbmNlb2YgQ29tcGFydG1lbnRJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBuZXdDb21wYXJ0bWVudHMuZGVsZXRlKGV4dC5jb21wYXJ0bWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgc2Vlbi5zZXQoZXh0LCBwcmVjKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXh0KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBleHQpXG4gICAgICAgICAgICAgICAgaW5uZXIoZSwgcHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgQ29tcGFydG1lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKG5ld0NvbXBhcnRtZW50cy5oYXMoZXh0LmNvbXBhcnRtZW50KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgRHVwbGljYXRlIHVzZSBvZiBjb21wYXJ0bWVudCBpbiBleHRlbnNpb25zYCk7XG4gICAgICAgICAgICBsZXQgY29udGVudCA9IGNvbXBhcnRtZW50cy5nZXQoZXh0LmNvbXBhcnRtZW50KSB8fCBleHQuaW5uZXI7XG4gICAgICAgICAgICBuZXdDb21wYXJ0bWVudHMuc2V0KGV4dC5jb21wYXJ0bWVudCwgY29udGVudCk7XG4gICAgICAgICAgICBpbm5lcihjb250ZW50LCBwcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBQcmVjRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBpbm5lcihleHQuaW5uZXIsIGV4dC5wcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkKSB7XG4gICAgICAgICAgICByZXN1bHRbcHJlY10ucHVzaChleHQpO1xuICAgICAgICAgICAgaWYgKGV4dC5wcm92aWRlcylcbiAgICAgICAgICAgICAgICBpbm5lcihleHQucHJvdmlkZXMsIHByZWMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4dCBpbnN0YW5jZW9mIEZhY2V0UHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdFtwcmVjXS5wdXNoKGV4dCk7XG4gICAgICAgICAgICBpZiAoZXh0LmZhY2V0LmV4dGVuc2lvbnMpXG4gICAgICAgICAgICAgICAgaW5uZXIoZXh0LmZhY2V0LmV4dGVuc2lvbnMsIFByZWNfLmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBleHQuZXh0ZW5zaW9uO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGV4dGVuc2lvbiB2YWx1ZSBpbiBleHRlbnNpb24gc2V0ICgke2V4dH0pLiBUaGlzIHNvbWV0aW1lcyBoYXBwZW5zIGJlY2F1c2UgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEBjb2RlbWlycm9yL3N0YXRlIGFyZSBsb2FkZWQsIGJyZWFraW5nIGluc3RhbmNlb2YgY2hlY2tzLmApO1xuICAgICAgICAgICAgaW5uZXIoY29udGVudCwgcHJlYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5uZXIoZXh0ZW5zaW9uLCBQcmVjXy5kZWZhdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoYikpO1xufVxuZnVuY3Rpb24gZW5zdXJlQWRkcihzdGF0ZSwgYWRkcikge1xuICAgIGlmIChhZGRyICYgMSlcbiAgICAgICAgcmV0dXJuIDIgLyogU2xvdFN0YXR1cy5Db21wdXRlZCAqLztcbiAgICBsZXQgaWR4ID0gYWRkciA+PiAxO1xuICAgIGxldCBzdGF0dXMgPSBzdGF0ZS5zdGF0dXNbaWR4XTtcbiAgICBpZiAoc3RhdHVzID09IDQgLyogU2xvdFN0YXR1cy5Db21wdXRpbmcgKi8pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN5Y2xpYyBkZXBlbmRlbmN5IGJldHdlZW4gZmllbGRzIGFuZC9vciBmYWNldHNcIik7XG4gICAgaWYgKHN0YXR1cyAmIDIgLyogU2xvdFN0YXR1cy5Db21wdXRlZCAqLylcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICBzdGF0ZS5zdGF0dXNbaWR4XSA9IDQgLyogU2xvdFN0YXR1cy5Db21wdXRpbmcgKi87XG4gICAgbGV0IGNoYW5nZWQgPSBzdGF0ZS5jb21wdXRlU2xvdChzdGF0ZSwgc3RhdGUuY29uZmlnLmR5bmFtaWNTbG90c1tpZHhdKTtcbiAgICByZXR1cm4gc3RhdGUuc3RhdHVzW2lkeF0gPSAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi8gfCBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gZ2V0QWRkcihzdGF0ZSwgYWRkcikge1xuICAgIHJldHVybiBhZGRyICYgMSA/IHN0YXRlLmNvbmZpZy5zdGF0aWNWYWx1ZXNbYWRkciA+PiAxXSA6IHN0YXRlLnZhbHVlc1thZGRyID4+IDFdO1xufVxuXG5jb25zdCBsYW5ndWFnZURhdGEgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBhbGxvd011bHRpcGxlU2VsZWN0aW9ucyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh2ID0+IHYpLFxuICAgIHN0YXRpYzogdHJ1ZVxufSk7XG5jb25zdCBsaW5lU2VwYXJhdG9yID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiB1bmRlZmluZWQsXG4gICAgc3RhdGljOiB0cnVlXG59KTtcbmNvbnN0IGNoYW5nZUZpbHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdHJhbnNhY3Rpb25FeHRlbmRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHJlYWRPbmx5ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbMF0gOiBmYWxzZVxufSk7XG5cbi8qKlxuQW5ub3RhdGlvbnMgYXJlIHRhZ2dlZCB2YWx1ZXMgdGhhdCBhcmUgdXNlZCB0byBhZGQgbWV0YWRhdGEgdG9cbnRyYW5zYWN0aW9ucyBpbiBhbiBleHRlbnNpYmxlIHdheS4gVGhleSBzaG91bGQgYmUgdXNlZCB0byBtb2RlbFxudGhpbmdzIHRoYXQgZWZmZWN0IHRoZSBlbnRpcmUgdHJhbnNhY3Rpb24gKHN1Y2ggYXMgaXRzIFt0aW1lXG5zdGFtcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbl50aW1lKSBvciBpbmZvcm1hdGlvbiBhYm91dCBpdHNcbltvcmlnaW5dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edXNlckV2ZW50KSkuIEZvciBlZmZlY3RzIHRoYXQgaGFwcGVuXG5fYWxvbmdzaWRlXyB0aGUgb3RoZXIgY2hhbmdlcyBtYWRlIGJ5IHRoZSB0cmFuc2FjdGlvbiwgW3N0YXRlXG5lZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0KSBhcmUgbW9yZSBhcHByb3ByaWF0ZS5cbiovXG5jbGFzcyBBbm5vdGF0aW9uIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBhbm5vdGF0aW9uIHR5cGUuXG4gICAgKi9cbiAgICB0eXBlLCBcbiAgICAvKipcbiAgICBUaGUgdmFsdWUgb2YgdGhpcyBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgdHlwZSBvZiBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZSgpIHsgcmV0dXJuIG5ldyBBbm5vdGF0aW9uVHlwZSgpOyB9XG59XG4vKipcbk1hcmtlciB0aGF0IGlkZW50aWZpZXMgYSB0eXBlIG9mIFthbm5vdGF0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkFubm90YXRpb24pLlxuKi9cbmNsYXNzIEFubm90YXRpb25UeXBlIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBhbm5vdGF0aW9uLlxuICAgICovXG4gICAgb2YodmFsdWUpIHsgcmV0dXJuIG5ldyBBbm5vdGF0aW9uKHRoaXMsIHZhbHVlKTsgfVxufVxuLyoqXG5SZXByZXNlbnRhdGlvbiBvZiBhIHR5cGUgb2Ygc3RhdGUgZWZmZWN0LiBEZWZpbmVkIHdpdGhcbltgU3RhdGVFZmZlY3QuZGVmaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdF5kZWZpbmUpLlxuKi9cbmNsYXNzIFN0YXRlRWZmZWN0VHlwZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgYGFueWAgdHlwZXMgaW4gdGhlc2UgZnVuY3Rpb24gdHlwZXMgYXJlIHRoZXJlIHRvIHdvcmtcbiAgICAvLyBhcm91bmQgVHlwZVNjcmlwdCBpc3N1ZSAjMzc2MzEsIHdoZXJlIHRoZSB0eXBlIGd1YXJkIG9uXG4gICAgLy8gYFN0YXRlRWZmZWN0LmlzYCBteXN0ZXJpb3VzbHkgc3RvcHMgd29ya2luZyB3aGVuIHRoZXNlIHByb3Blcmx5XG4gICAgLy8gaGF2ZSB0eXBlIGBWYWx1ZWAuXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBtYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFtzdGF0ZSBlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QpIGluc3RhbmNlIG9mIHRoaXNcbiAgICB0eXBlLlxuICAgICovXG4gICAgb2YodmFsdWUpIHsgcmV0dXJuIG5ldyBTdGF0ZUVmZmVjdCh0aGlzLCB2YWx1ZSk7IH1cbn1cbi8qKlxuU3RhdGUgZWZmZWN0cyBjYW4gYmUgdXNlZCB0byByZXByZXNlbnQgYWRkaXRpb25hbCBlZmZlY3RzXG5hc3NvY2lhdGVkIHdpdGggYSBbdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uZWZmZWN0cykuIFRoZXlcbmFyZSBvZnRlbiB1c2VmdWwgdG8gbW9kZWwgY2hhbmdlcyB0byBjdXN0b20gW3N0YXRlXG5maWVsZHNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVGaWVsZCksIHdoZW4gdGhvc2UgY2hhbmdlcyBhcmVuJ3QgaW1wbGljaXQgaW5cbmRvY3VtZW50IG9yIHNlbGVjdGlvbiBjaGFuZ2VzLlxuKi9cbmNsYXNzIFN0YXRlRWZmZWN0IHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdHlwZSwgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIG9mIHRoaXMgZWZmZWN0LlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyBlZmZlY3QgdGhyb3VnaCBhIHBvc2l0aW9uIG1hcHBpbmcuIFdpbGwgcmV0dXJuXG4gICAgYHVuZGVmaW5lZGAgd2hlbiB0aGF0IGVuZHMgdXAgZGVsZXRpbmcgdGhlIGVmZmVjdC5cbiAgICAqL1xuICAgIG1hcChtYXBwaW5nKSB7XG4gICAgICAgIGxldCBtYXBwZWQgPSB0aGlzLnR5cGUubWFwKHRoaXMudmFsdWUsIG1hcHBpbmcpO1xuICAgICAgICByZXR1cm4gbWFwcGVkID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBtYXBwZWQgPT0gdGhpcy52YWx1ZSA/IHRoaXMgOiBuZXcgU3RhdGVFZmZlY3QodGhpcy50eXBlLCBtYXBwZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciB0aGlzIGVmZmVjdCBvYmplY3QgaXMgb2YgYSBnaXZlblxuICAgIFt0eXBlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0VHlwZSkuXG4gICAgKi9cbiAgICBpcyh0eXBlKSB7IHJldHVybiB0aGlzLnR5cGUgPT0gdHlwZTsgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBlZmZlY3QgdHlwZS4gVGhlIHR5cGUgcGFyYW1ldGVyIGluZGljYXRlcyB0aGUgdHlwZVxuICAgIG9mIHZhbHVlcyB0aGF0IGhpcyBlZmZlY3QgaG9sZHMuIEl0IHNob3VsZCBiZSBhIHR5cGUgdGhhdFxuICAgIGRvZXNuJ3QgaW5jbHVkZSBgdW5kZWZpbmVkYCwgc2luY2UgdGhhdCBpcyB1c2VkIGluXG4gICAgW21hcHBpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QubWFwKSB0byBpbmRpY2F0ZSB0aGF0IGFuIGVmZmVjdCBpc1xuICAgIHJlbW92ZWQuXG4gICAgKi9cbiAgICBzdGF0aWMgZGVmaW5lKHNwZWMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRlRWZmZWN0VHlwZShzcGVjLm1hcCB8fCAodiA9PiB2KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hcCBhbiBhcnJheSBvZiBlZmZlY3RzIHRocm91Z2ggYSBjaGFuZ2Ugc2V0LlxuICAgICovXG4gICAgc3RhdGljIG1hcEVmZmVjdHMoZWZmZWN0cywgbWFwcGluZykge1xuICAgICAgICBpZiAoIWVmZmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGVmZmVjdHM7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBtYXBwZWQgPSBlZmZlY3QubWFwKG1hcHBpbmcpO1xuICAgICAgICAgICAgaWYgKG1hcHBlZClcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtYXBwZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5UaGlzIGVmZmVjdCBjYW4gYmUgdXNlZCB0byByZWNvbmZpZ3VyZSB0aGUgcm9vdCBleHRlbnNpb25zIG9mXG50aGUgZWRpdG9yLiBEb2luZyB0aGlzIHdpbGwgZGlzY2FyZCBhbnkgZXh0ZW5zaW9uc1xuW2FwcGVuZGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0XmFwcGVuZENvbmZpZyksIGJ1dCBkb2VzIG5vdCByZXNldFxudGhlIGNvbnRlbnQgb2YgW3JlY29uZmlndXJlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSlcbmNvbXBhcnRtZW50cy5cbiovXG5TdGF0ZUVmZmVjdC5yZWNvbmZpZ3VyZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8qKlxuQXBwZW5kIGV4dGVuc2lvbnMgdG8gdGhlIHRvcC1sZXZlbCBjb25maWd1cmF0aW9uIG9mIHRoZSBlZGl0b3IuXG4qL1xuU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5DaGFuZ2VzIHRvIHRoZSBlZGl0b3Igc3RhdGUgYXJlIGdyb3VwZWQgaW50byB0cmFuc2FjdGlvbnMuXG5UeXBpY2FsbHksIGEgdXNlciBhY3Rpb24gY3JlYXRlcyBhIHNpbmdsZSB0cmFuc2FjdGlvbiwgd2hpY2ggbWF5XG5jb250YWluIGFueSBudW1iZXIgb2YgZG9jdW1lbnQgY2hhbmdlcywgbWF5IGNoYW5nZSB0aGUgc2VsZWN0aW9uLFxub3IgaGF2ZSBvdGhlciBlZmZlY3RzLiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBieSBjYWxsaW5nXG5bYEVkaXRvclN0YXRlLnVwZGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSwgb3IgaW1tZWRpYXRlbHlcbmRpc3BhdGNoIG9uZSBieSBjYWxsaW5nXG5bYEVkaXRvclZpZXcuZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkuXG4qL1xuY2xhc3MgVHJhbnNhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGF0ZSBmcm9tIHdoaWNoIHRoZSB0cmFuc2FjdGlvbiBzdGFydHMuXG4gICAgKi9cbiAgICBzdGFydFN0YXRlLCBcbiAgICAvKipcbiAgICBUaGUgZG9jdW1lbnQgY2hhbmdlcyBtYWRlIGJ5IHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBjaGFuZ2VzLCBcbiAgICAvKipcbiAgICBUaGUgc2VsZWN0aW9uIHNldCBieSB0aGlzIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgaXRcbiAgICBkb2Vzbid0IGV4cGxpY2l0bHkgc2V0IGEgc2VsZWN0aW9uLlxuICAgICovXG4gICAgc2VsZWN0aW9uLCBcbiAgICAvKipcbiAgICBUaGUgZWZmZWN0cyBhZGRlZCB0byB0aGUgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBlZmZlY3RzLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFubm90YXRpb25zLCBcbiAgICAvKipcbiAgICBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIHNjcm9sbGVkIGludG8gdmlldyBhZnRlciB0aGlzXG4gICAgdHJhbnNhY3Rpb24gaXMgZGlzcGF0Y2hlZC5cbiAgICAqL1xuICAgIHNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgIHRoaXMuc3RhcnRTdGF0ZSA9IHN0YXJ0U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLmVmZmVjdHMgPSBlZmZlY3RzO1xuICAgICAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gICAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcgPSBzY3JvbGxJbnRvVmlldztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kb2MgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKHNlbGVjdGlvbilcbiAgICAgICAgICAgIGNoZWNrU2VsZWN0aW9uKHNlbGVjdGlvbiwgY2hhbmdlcy5uZXdMZW5ndGgpO1xuICAgICAgICBpZiAoIWFubm90YXRpb25zLnNvbWUoKGEpID0+IGEudHlwZSA9PSBUcmFuc2FjdGlvbi50aW1lKSlcbiAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5jb25jYXQoVHJhbnNhY3Rpb24udGltZS5vZihEYXRlLm5vdygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShzdGFydFN0YXRlLCBjaGFuZ2VzLCBzZWxlY3Rpb24sIGVmZmVjdHMsIGFubm90YXRpb25zLCBzY3JvbGxJbnRvVmlldykge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHN0YXJ0U3RhdGUsIGNoYW5nZXMsIHNlbGVjdGlvbiwgZWZmZWN0cywgYW5ub3RhdGlvbnMsIHNjcm9sbEludG9WaWV3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBkb2N1bWVudCBwcm9kdWNlZCBieSB0aGUgdHJhbnNhY3Rpb24uIENvbnRyYXJ5IHRvXG4gICAgW2Auc3RhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLnN0YXRlKWAuZG9jYCwgYWNjZXNzaW5nIHRoaXMgd29uJ3RcbiAgICBmb3JjZSB0aGUgZW50aXJlIG5ldyBzdGF0ZSB0byBiZSBjb21wdXRlZCByaWdodCBhd2F5LCBzbyBpdCBpc1xuICAgIHJlY29tbWVuZGVkIHRoYXQgW3RyYW5zYWN0aW9uXG4gICAgZmlsdGVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50cmFuc2FjdGlvbkZpbHRlcikgdXNlIHRoaXMgZ2V0dGVyXG4gICAgd2hlbiB0aGV5IG5lZWQgdG8gbG9vayBhdCB0aGUgbmV3IGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IG5ld0RvYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvYyB8fCAodGhpcy5fZG9jID0gdGhpcy5jaGFuZ2VzLmFwcGx5KHRoaXMuc3RhcnRTdGF0ZS5kb2MpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBzZWxlY3Rpb24gcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBJZlxuICAgIFtgdGhpcy5zZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLnNlbGVjdGlvbikgaXMgdW5kZWZpbmVkLFxuICAgIHRoaXMgd2lsbCBbbWFwXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclNlbGVjdGlvbi5tYXApIHRoZSBzdGFydCBzdGF0ZSdzXG4gICAgY3VycmVudCBzZWxlY3Rpb24gdGhyb3VnaCB0aGUgY2hhbmdlcyBtYWRlIGJ5IHRoZSB0cmFuc2FjdGlvbi5cbiAgICAqL1xuICAgIGdldCBuZXdTZWxlY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbiB8fCB0aGlzLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLm1hcCh0aGlzLmNoYW5nZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbmV3IHN0YXRlIGNyZWF0ZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBDb21wdXRlZCBvbiBkZW1hbmRcbiAgICAoYnV0IHJldGFpbmVkIGZvciBzdWJzZXF1ZW50IGFjY2VzcyksIHNvIGl0IGlzIHJlY29tbWVuZGVkIG5vdCB0b1xuICAgIGFjY2VzcyBpdCBpbiBbdHJhbnNhY3Rpb25cbiAgICBmaWx0ZXJzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRyYW5zYWN0aW9uRmlsdGVyKSB3aGVuIHBvc3NpYmxlLlxuICAgICovXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXRlKVxuICAgICAgICAgICAgdGhpcy5zdGFydFN0YXRlLmFwcGx5VHJhbnNhY3Rpb24odGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gYW5ub3RhdGlvbiB0eXBlLCBpZiBhbnkuXG4gICAgKi9cbiAgICBhbm5vdGF0aW9uKHR5cGUpIHtcbiAgICAgICAgZm9yIChsZXQgYW5uIG9mIHRoaXMuYW5ub3RhdGlvbnMpXG4gICAgICAgICAgICBpZiAoYW5uLnR5cGUgPT0gdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5uLnZhbHVlO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdHJhbnNhY3Rpb24gY2hhbmdlZCB0aGUgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBnZXQgZG9jQ2hhbmdlZCgpIHsgcmV0dXJuICF0aGlzLmNoYW5nZXMuZW1wdHk7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIHRyYW5zYWN0aW9uIHJlY29uZmlndXJlcyB0aGUgc3RhdGVcbiAgICAodGhyb3VnaCBhIFtjb25maWd1cmF0aW9uIGNvbXBhcnRtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNvbXBhcnRtZW50KSBvclxuICAgIHdpdGggYSB0b3AtbGV2ZWwgY29uZmlndXJhdGlvblxuICAgIFtlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3RecmVjb25maWd1cmUpLlxuICAgICovXG4gICAgZ2V0IHJlY29uZmlndXJlZCgpIHsgcmV0dXJuIHRoaXMuc3RhcnRTdGF0ZS5jb25maWcgIT0gdGhpcy5zdGF0ZS5jb25maWc7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgaWYgdGhlIHRyYW5zYWN0aW9uIGhhcyBhIFt1c2VyXG4gICAgZXZlbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edXNlckV2ZW50KSBhbm5vdGF0aW9uIHRoYXQgaXMgZXF1YWwgdG9cbiAgICBvciBtb3JlIHNwZWNpZmljIHRoYW4gYGV2ZW50YC4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0cmFuc2FjdGlvblxuICAgIGhhcyBgXCJzZWxlY3QucG9pbnRlclwiYCBhcyB1c2VyIGV2ZW50LCBgXCJzZWxlY3RcImAgYW5kXG4gICAgYFwic2VsZWN0LnBvaW50ZXJcImAgd2lsbCBtYXRjaCBpdC5cbiAgICAqL1xuICAgIGlzVXNlckV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5hbm5vdGF0aW9uKFRyYW5zYWN0aW9uLnVzZXJFdmVudCk7XG4gICAgICAgIHJldHVybiAhIShlICYmIChlID09IGV2ZW50IHx8IGUubGVuZ3RoID4gZXZlbnQubGVuZ3RoICYmIGUuc2xpY2UoMCwgZXZlbnQubGVuZ3RoKSA9PSBldmVudCAmJiBlW2V2ZW50Lmxlbmd0aF0gPT0gXCIuXCIpKTtcbiAgICB9XG59XG4vKipcbkFubm90YXRpb24gdXNlZCB0byBzdG9yZSB0cmFuc2FjdGlvbiB0aW1lc3RhbXBzLiBBdXRvbWF0aWNhbGx5XG5hZGRlZCB0byBldmVyeSB0cmFuc2FjdGlvbiwgaG9sZGluZyBgRGF0ZS5ub3coKWAuXG4qL1xuVHJhbnNhY3Rpb24udGltZSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIHVzZWQgdG8gYXNzb2NpYXRlIGEgdHJhbnNhY3Rpb24gd2l0aCBhIHVzZXIgaW50ZXJmYWNlXG5ldmVudC4gSG9sZHMgYSBzdHJpbmcgaWRlbnRpZnlpbmcgdGhlIGV2ZW50LCB1c2luZyBhXG5kb3Qtc2VwYXJhdGVkIGZvcm1hdCB0byBzdXBwb3J0IGF0dGFjaGluZyBtb3JlIHNwZWNpZmljXG5pbmZvcm1hdGlvbi4gVGhlIGV2ZW50cyB1c2VkIGJ5IHRoZSBjb3JlIGxpYnJhcmllcyBhcmU6XG5cbiAtIGBcImlucHV0XCJgIHdoZW4gY29udGVudCBpcyBlbnRlcmVkXG4gICAtIGBcImlucHV0LnR5cGVcImAgZm9yIHR5cGVkIGlucHV0XG4gICAgIC0gYFwiaW5wdXQudHlwZS5jb21wb3NlXCJgIGZvciBjb21wb3NpdGlvblxuICAgLSBgXCJpbnB1dC5wYXN0ZVwiYCBmb3IgcGFzdGVkIGlucHV0XG4gICAtIGBcImlucHV0LmRyb3BcImAgd2hlbiBhZGRpbmcgY29udGVudCB3aXRoIGRyYWctYW5kLWRyb3BcbiAgIC0gYFwiaW5wdXQuY29tcGxldGVcImAgd2hlbiBhdXRvY29tcGxldGluZ1xuIC0gYFwiZGVsZXRlXCJgIHdoZW4gdGhlIHVzZXIgZGVsZXRlcyBjb250ZW50XG4gICAtIGBcImRlbGV0ZS5zZWxlY3Rpb25cImAgd2hlbiBkZWxldGluZyB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5mb3J3YXJkXCJgIHdoZW4gZGVsZXRpbmcgZm9yd2FyZCBmcm9tIHRoZSBzZWxlY3Rpb25cbiAgIC0gYFwiZGVsZXRlLmJhY2t3YXJkXCJgIHdoZW4gZGVsZXRpbmcgYmFja3dhcmQgZnJvbSB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5jdXRcImAgd2hlbiBjdXR0aW5nIHRvIHRoZSBjbGlwYm9hcmRcbiAtIGBcIm1vdmVcImAgd2hlbiBjb250ZW50IGlzIG1vdmVkXG4gICAtIGBcIm1vdmUuZHJvcFwiYCB3aGVuIGNvbnRlbnQgaXMgbW92ZWQgd2l0aGluIHRoZSBlZGl0b3IgdGhyb3VnaCBkcmFnLWFuZC1kcm9wXG4gLSBgXCJzZWxlY3RcImAgd2hlbiBleHBsaWNpdGx5IGNoYW5naW5nIHRoZSBzZWxlY3Rpb25cbiAgIC0gYFwic2VsZWN0LnBvaW50ZXJcImAgd2hlbiBzZWxlY3Rpbmcgd2l0aCBhIG1vdXNlIG9yIG90aGVyIHBvaW50aW5nIGRldmljZVxuIC0gYFwidW5kb1wiYCBhbmQgYFwicmVkb1wiYCBmb3IgaGlzdG9yeSBhY3Rpb25zXG5cblVzZSBbYGlzVXNlckV2ZW50YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5pc1VzZXJFdmVudCkgdG8gY2hlY2tcbndoZXRoZXIgdGhlIGFubm90YXRpb24gbWF0Y2hlcyBhIGdpdmVuIGV2ZW50LlxuKi9cblRyYW5zYWN0aW9uLnVzZXJFdmVudCA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIGluZGljYXRpbmcgd2hldGhlciBhIHRyYW5zYWN0aW9uIHNob3VsZCBiZSBhZGRlZCB0b1xudGhlIHVuZG8gaGlzdG9yeSBvciBub3QuXG4qL1xuVHJhbnNhY3Rpb24uYWRkVG9IaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcbkFubm90YXRpb24gaW5kaWNhdGluZyAod2hlbiBwcmVzZW50IGFuZCB0cnVlKSB0aGF0IGEgdHJhbnNhY3Rpb25cbnJlcHJlc2VudHMgYSBjaGFuZ2UgbWFkZSBieSBzb21lIG90aGVyIGFjdG9yLCBub3QgdGhlIHVzZXIuIFRoaXNcbmlzIHVzZWQsIGZvciBleGFtcGxlLCB0byB0YWcgb3RoZXIgcGVvcGxlJ3MgY2hhbmdlcyBpblxuY29sbGFib3JhdGl2ZSBlZGl0aW5nLlxuKi9cblRyYW5zYWN0aW9uLnJlbW90ZSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuZnVuY3Rpb24gam9pblJhbmdlcyhhLCBiKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGlBID0gMCwgaUIgPSAwOzspIHtcbiAgICAgICAgbGV0IGZyb20sIHRvO1xuICAgICAgICBpZiAoaUEgPCBhLmxlbmd0aCAmJiAoaUIgPT0gYi5sZW5ndGggfHwgYltpQl0gPj0gYVtpQV0pKSB7XG4gICAgICAgICAgICBmcm9tID0gYVtpQSsrXTtcbiAgICAgICAgICAgIHRvID0gYVtpQSsrXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpQiA8IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBmcm9tID0gYltpQisrXTtcbiAgICAgICAgICAgIHRvID0gYltpQisrXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBpZiAoIXJlc3VsdC5sZW5ndGggfHwgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA8IGZyb20pXG4gICAgICAgICAgICByZXN1bHQucHVzaChmcm9tLCB0byk7XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPCB0bylcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSB0bztcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVRyYW5zYWN0aW9uKGEsIGIsIHNlcXVlbnRpYWwpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG1hcEZvckEsIG1hcEZvckIsIGNoYW5nZXM7XG4gICAgaWYgKHNlcXVlbnRpYWwpIHtcbiAgICAgICAgbWFwRm9yQSA9IGIuY2hhbmdlcztcbiAgICAgICAgbWFwRm9yQiA9IENoYW5nZVNldC5lbXB0eShiLmNoYW5nZXMubGVuZ3RoKTtcbiAgICAgICAgY2hhbmdlcyA9IGEuY2hhbmdlcy5jb21wb3NlKGIuY2hhbmdlcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXBGb3JBID0gYi5jaGFuZ2VzLm1hcChhLmNoYW5nZXMpO1xuICAgICAgICBtYXBGb3JCID0gYS5jaGFuZ2VzLm1hcERlc2MoYi5jaGFuZ2VzLCB0cnVlKTtcbiAgICAgICAgY2hhbmdlcyA9IGEuY2hhbmdlcy5jb21wb3NlKG1hcEZvckEpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IGIuc2VsZWN0aW9uID8gYi5zZWxlY3Rpb24ubWFwKG1hcEZvckIpIDogKF9hID0gYS5zZWxlY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAobWFwRm9yQSksXG4gICAgICAgIGVmZmVjdHM6IFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoYS5lZmZlY3RzLCBtYXBGb3JBKS5jb25jYXQoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhiLmVmZmVjdHMsIG1hcEZvckIpKSxcbiAgICAgICAgYW5ub3RhdGlvbnM6IGEuYW5ub3RhdGlvbnMubGVuZ3RoID8gYS5hbm5vdGF0aW9ucy5jb25jYXQoYi5hbm5vdGF0aW9ucykgOiBiLmFubm90YXRpb25zLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogYS5zY3JvbGxJbnRvVmlldyB8fCBiLnNjcm9sbEludG9WaWV3XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBzcGVjLCBkb2NTaXplKSB7XG4gICAgbGV0IHNlbCA9IHNwZWMuc2VsZWN0aW9uLCBhbm5vdGF0aW9ucyA9IGFzQXJyYXkoc3BlYy5hbm5vdGF0aW9ucyk7XG4gICAgaWYgKHNwZWMudXNlckV2ZW50KVxuICAgICAgICBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmNvbmNhdChUcmFuc2FjdGlvbi51c2VyRXZlbnQub2Yoc3BlYy51c2VyRXZlbnQpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGFuZ2VzOiBzcGVjLmNoYW5nZXMgaW5zdGFuY2VvZiBDaGFuZ2VTZXQgPyBzcGVjLmNoYW5nZXNcbiAgICAgICAgICAgIDogQ2hhbmdlU2V0Lm9mKHNwZWMuY2hhbmdlcyB8fCBbXSwgZG9jU2l6ZSwgc3RhdGUuZmFjZXQobGluZVNlcGFyYXRvcikpLFxuICAgICAgICBzZWxlY3Rpb246IHNlbCAmJiAoc2VsIGluc3RhbmNlb2YgRWRpdG9yU2VsZWN0aW9uID8gc2VsIDogRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShzZWwuYW5jaG9yLCBzZWwuaGVhZCkpLFxuICAgICAgICBlZmZlY3RzOiBhc0FycmF5KHNwZWMuZWZmZWN0cyksXG4gICAgICAgIGFubm90YXRpb25zLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogISFzcGVjLnNjcm9sbEludG9WaWV3XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2FjdGlvbihzdGF0ZSwgc3BlY3MsIGZpbHRlcikge1xuICAgIGxldCBzID0gcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIHNwZWNzLmxlbmd0aCA/IHNwZWNzWzBdIDoge30sIHN0YXRlLmRvYy5sZW5ndGgpO1xuICAgIGlmIChzcGVjcy5sZW5ndGggJiYgc3BlY3NbMF0uZmlsdGVyID09PSBmYWxzZSlcbiAgICAgICAgZmlsdGVyID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3BlY3NbaV0uZmlsdGVyID09PSBmYWxzZSlcbiAgICAgICAgICAgIGZpbHRlciA9IGZhbHNlO1xuICAgICAgICBsZXQgc2VxID0gISFzcGVjc1tpXS5zZXF1ZW50aWFsO1xuICAgICAgICBzID0gbWVyZ2VUcmFuc2FjdGlvbihzLCByZXNvbHZlVHJhbnNhY3Rpb25Jbm5lcihzdGF0ZSwgc3BlY3NbaV0sIHNlcSA/IHMuY2hhbmdlcy5uZXdMZW5ndGggOiBzdGF0ZS5kb2MubGVuZ3RoKSwgc2VxKTtcbiAgICB9XG4gICAgbGV0IHRyID0gVHJhbnNhY3Rpb24uY3JlYXRlKHN0YXRlLCBzLmNoYW5nZXMsIHMuc2VsZWN0aW9uLCBzLmVmZmVjdHMsIHMuYW5ub3RhdGlvbnMsIHMuc2Nyb2xsSW50b1ZpZXcpO1xuICAgIHJldHVybiBleHRlbmRUcmFuc2FjdGlvbihmaWx0ZXIgPyBmaWx0ZXJUcmFuc2FjdGlvbih0cikgOiB0cik7XG59XG4vLyBGaW5pc2ggYSB0cmFuc2FjdGlvbiBieSBhcHBseWluZyBmaWx0ZXJzIGlmIG5lY2Vzc2FyeS5cbmZ1bmN0aW9uIGZpbHRlclRyYW5zYWN0aW9uKHRyKSB7XG4gICAgbGV0IHN0YXRlID0gdHIuc3RhcnRTdGF0ZTtcbiAgICAvLyBDaGFuZ2UgZmlsdGVyc1xuICAgIGxldCByZXN1bHQgPSB0cnVlO1xuICAgIGZvciAobGV0IGZpbHRlciBvZiBzdGF0ZS5mYWNldChjaGFuZ2VGaWx0ZXIpKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGZpbHRlcih0cik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB0cnVlID8gdmFsdWUgOiBqb2luUmFuZ2VzKHJlc3VsdCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzLCBiYWNrO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYmFjayA9IHRyLmNoYW5nZXMuaW52ZXJ0ZWREZXNjO1xuICAgICAgICAgICAgY2hhbmdlcyA9IENoYW5nZVNldC5lbXB0eShzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJlZCA9IHRyLmNoYW5nZXMuZmlsdGVyKHJlc3VsdCk7XG4gICAgICAgICAgICBjaGFuZ2VzID0gZmlsdGVyZWQuY2hhbmdlcztcbiAgICAgICAgICAgIGJhY2sgPSBmaWx0ZXJlZC5maWx0ZXJlZC5tYXBEZXNjKGZpbHRlcmVkLmNoYW5nZXMpLmludmVydGVkRGVzYztcbiAgICAgICAgfVxuICAgICAgICB0ciA9IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgY2hhbmdlcywgdHIuc2VsZWN0aW9uICYmIHRyLnNlbGVjdGlvbi5tYXAoYmFjayksIFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHModHIuZWZmZWN0cywgYmFjayksIHRyLmFubm90YXRpb25zLCB0ci5zY3JvbGxJbnRvVmlldyk7XG4gICAgfVxuICAgIC8vIFRyYW5zYWN0aW9uIGZpbHRlcnNcbiAgICBsZXQgZmlsdGVycyA9IHN0YXRlLmZhY2V0KHRyYW5zYWN0aW9uRmlsdGVyKTtcbiAgICBmb3IgKGxldCBpID0gZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZmlsdGVyZWQgPSBmaWx0ZXJzW2ldKHRyKTtcbiAgICAgICAgaWYgKGZpbHRlcmVkIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24pXG4gICAgICAgICAgICB0ciA9IGZpbHRlcmVkO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcmVkKSAmJiBmaWx0ZXJlZC5sZW5ndGggPT0gMSAmJiBmaWx0ZXJlZFswXSBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgdHIgPSBmaWx0ZXJlZFswXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdHIgPSByZXNvbHZlVHJhbnNhY3Rpb24oc3RhdGUsIGFzQXJyYXkoZmlsdGVyZWQpLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB0cjtcbn1cbmZ1bmN0aW9uIGV4dGVuZFRyYW5zYWN0aW9uKHRyKSB7XG4gICAgbGV0IHN0YXRlID0gdHIuc3RhcnRTdGF0ZSwgZXh0ZW5kZXJzID0gc3RhdGUuZmFjZXQodHJhbnNhY3Rpb25FeHRlbmRlciksIHNwZWMgPSB0cjtcbiAgICBmb3IgKGxldCBpID0gZXh0ZW5kZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBleHRlbnNpb24gPSBleHRlbmRlcnNbaV0odHIpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uICYmIE9iamVjdC5rZXlzKGV4dGVuc2lvbikubGVuZ3RoKVxuICAgICAgICAgICAgc3BlYyA9IG1lcmdlVHJhbnNhY3Rpb24oc3BlYywgcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIGV4dGVuc2lvbiwgdHIuY2hhbmdlcy5uZXdMZW5ndGgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwZWMgPT0gdHIgPyB0ciA6IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgdHIuY2hhbmdlcywgdHIuc2VsZWN0aW9uLCBzcGVjLmVmZmVjdHMsIHNwZWMuYW5ub3RhdGlvbnMsIHNwZWMuc2Nyb2xsSW50b1ZpZXcpO1xufVxuY29uc3Qgbm9uZSA9IFtdO1xuZnVuY3Rpb24gYXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gbm9uZSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuXG4vKipcblRoZSBjYXRlZ29yaWVzIHByb2R1Y2VkIGJ5IGEgW2NoYXJhY3RlclxuY2F0ZWdvcml6ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKS4gVGhlc2UgYXJlIHVzZWRcbmRvIHRoaW5ncyBsaWtlIHNlbGVjdGluZyBieSB3b3JkLlxuKi9cbnZhciBDaGFyQ2F0ZWdvcnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDaGFyQ2F0ZWdvcnkpIHtcbiAgICAvKipcbiAgICBXb3JkIGNoYXJhY3RlcnMuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiV29yZFwiXSA9IDBdID0gXCJXb3JkXCI7XG4gICAgLyoqXG4gICAgV2hpdGVzcGFjZS5cbiAgICAqL1xuICAgIENoYXJDYXRlZ29yeVtDaGFyQ2F0ZWdvcnlbXCJTcGFjZVwiXSA9IDFdID0gXCJTcGFjZVwiO1xuICAgIC8qKlxuICAgIEFueXRoaW5nIGVsc2UuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiT3RoZXJcIl0gPSAyXSA9IFwiT3RoZXJcIjtcbnJldHVybiBDaGFyQ2F0ZWdvcnl9KShDaGFyQ2F0ZWdvcnkgfHwgKENoYXJDYXRlZ29yeSA9IHt9KSk7XG5jb25zdCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciA9IC9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztcbmxldCB3b3JkQ2hhcjtcbnRyeSB7XG4gICAgd29yZENoYXIgPSAvKkBfX1BVUkVfXyovbmV3IFJlZ0V4cChcIltcXFxccHtBbHBoYWJldGljfVxcXFxwe051bWJlcn1fXVwiLCBcInVcIik7XG59XG5jYXRjaCAoXykgeyB9XG5mdW5jdGlvbiBoYXNXb3JkQ2hhcihzdHIpIHtcbiAgICBpZiAod29yZENoYXIpXG4gICAgICAgIHJldHVybiB3b3JkQ2hhci50ZXN0KHN0cik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoID0gc3RyW2ldO1xuICAgICAgICBpZiAoL1xcdy8udGVzdChjaCkgfHwgY2ggPiBcIlxceDgwXCIgJiYgKGNoLnRvVXBwZXJDYXNlKCkgIT0gY2gudG9Mb3dlckNhc2UoKSB8fCBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhci50ZXN0KGNoKSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gbWFrZUNhdGVnb3JpemVyKHdvcmRDaGFycykge1xuICAgIHJldHVybiAoY2hhcikgPT4ge1xuICAgICAgICBpZiAoIS9cXFMvLnRlc3QoY2hhcikpXG4gICAgICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5LlNwYWNlO1xuICAgICAgICBpZiAoaGFzV29yZENoYXIoY2hhcikpXG4gICAgICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5LldvcmQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZENoYXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKGNoYXIuaW5kZXhPZih3b3JkQ2hhcnNbaV0pID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5Xb3JkO1xuICAgICAgICByZXR1cm4gQ2hhckNhdGVnb3J5Lk90aGVyO1xuICAgIH07XG59XG5cbi8qKlxuVGhlIGVkaXRvciBzdGF0ZSBjbGFzcyBpcyBhIHBlcnNpc3RlbnQgKGltbXV0YWJsZSkgZGF0YSBzdHJ1Y3R1cmUuXG5UbyB1cGRhdGUgYSBzdGF0ZSwgeW91IFtjcmVhdGVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSBhXG5bdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24pLCB3aGljaCBwcm9kdWNlcyBhIF9uZXdfIHN0YXRlXG5pbnN0YW5jZSwgd2l0aG91dCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIG9iamVjdC5cblxuQXMgc3VjaCwgX25ldmVyXyBtdXRhdGUgcHJvcGVydGllcyBvZiBhIHN0YXRlIGRpcmVjdGx5LiBUaGF0J2xsXG5qdXN0IGJyZWFrIHRoaW5ncy5cbiovXG5jbGFzcyBFZGl0b3JTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25maWcsIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgICovXG4gICAgZG9jLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBzZWxlY3Rpb24sIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdmFsdWVzLCBjb21wdXRlU2xvdCwgdHIpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gY29uZmlnLnN0YXR1c1RlbXBsYXRlLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuY29tcHV0ZVNsb3QgPSBjb21wdXRlU2xvdDtcbiAgICAgICAgLy8gRmlsbCBpbiB0aGUgY29tcHV0ZWQgc3RhdGUgaW1tZWRpYXRlbHksIHNvIHRoYXQgZnVydGhlciBxdWVyaWVzXG4gICAgICAgIC8vIGZvciBpdCBtYWRlIGR1cmluZyB0aGUgdXBkYXRlIHJldHVybiB0aGlzIHN0YXRlXG4gICAgICAgIGlmICh0cilcbiAgICAgICAgICAgIHRyLl9zdGF0ZSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWcuZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgZW5zdXJlQWRkcih0aGlzLCBpIDw8IDEpO1xuICAgICAgICB0aGlzLmNvbXB1dGVTbG90ID0gbnVsbDtcbiAgICB9XG4gICAgZmllbGQoZmllbGQsIHJlcXVpcmUgPSB0cnVlKSB7XG4gICAgICAgIGxldCBhZGRyID0gdGhpcy5jb25maWcuYWRkcmVzc1tmaWVsZC5pZF07XG4gICAgICAgIGlmIChhZGRyID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZXF1aXJlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRmllbGQgaXMgbm90IHByZXNlbnQgaW4gdGhpcyBzdGF0ZVwiKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlQWRkcih0aGlzLCBhZGRyKTtcbiAgICAgICAgcmV0dXJuIGdldEFkZHIodGhpcywgYWRkcik7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIFt0cmFuc2FjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbikgdGhhdCB1cGRhdGVzIHRoaXNcbiAgICBzdGF0ZS4gQW55IG51bWJlciBvZiBbdHJhbnNhY3Rpb24gc3BlY3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKVxuICAgIGNhbiBiZSBwYXNzZWQuIFVubGVzc1xuICAgIFtgc2VxdWVudGlhbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlcXVlbnRpYWwpIGlzIHNldCwgdGhlXG4gICAgW2NoYW5nZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmNoYW5nZXMpIChpZiBhbnkpIG9mIGVhY2ggc3BlY1xuICAgIGFyZSBhc3N1bWVkIHRvIHN0YXJ0IGluIHRoZSBfY3VycmVudF8gZG9jdW1lbnQgKG5vdCB0aGUgZG9jdW1lbnRcbiAgICBwcm9kdWNlZCBieSBwcmV2aW91cyBzcGVjcyksIGFuZCBpdHNcbiAgICBbc2VsZWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZWxlY3Rpb24pIGFuZFxuICAgIFtlZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKSBhcmUgYXNzdW1lZCB0byByZWZlclxuICAgIHRvIHRoZSBkb2N1bWVudCBjcmVhdGVkIGJ5IGl0cyBfb3duXyBjaGFuZ2VzLiBUaGUgcmVzdWx0aW5nXG4gICAgdHJhbnNhY3Rpb24gY29udGFpbnMgdGhlIGNvbWJpbmVkIGVmZmVjdCBvZiBhbGwgdGhlIGRpZmZlcmVudFxuICAgIHNwZWNzLiBGb3IgW3NlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuc2VsZWN0aW9uKSwgbGF0ZXJcbiAgICBzcGVjcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBlYXJsaWVyIG9uZXMuXG4gICAgKi9cbiAgICB1cGRhdGUoLi4uc3BlY3MpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVUcmFuc2FjdGlvbih0aGlzLCBzcGVjcywgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYXBwbHlUcmFuc2FjdGlvbih0cikge1xuICAgICAgICBsZXQgY29uZiA9IHRoaXMuY29uZmlnLCB7IGJhc2UsIGNvbXBhcnRtZW50cyB9ID0gY29uZjtcbiAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoQ29tcGFydG1lbnQucmVjb25maWd1cmUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFydG1lbnRzID0gbmV3IE1hcDtcbiAgICAgICAgICAgICAgICAgICAgY29uZi5jb21wYXJ0bWVudHMuZm9yRWFjaCgodmFsLCBrZXkpID0+IGNvbXBhcnRtZW50cy5zZXQoa2V5LCB2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBhcnRtZW50cy5zZXQoZWZmZWN0LnZhbHVlLmNvbXBhcnRtZW50LCBlZmZlY3QudmFsdWUuZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyhTdGF0ZUVmZmVjdC5yZWNvbmZpZ3VyZSkpIHtcbiAgICAgICAgICAgICAgICBjb25mID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlID0gZWZmZWN0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBjb25mID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlID0gYXNBcnJheShiYXNlKS5jb25jYXQoZWZmZWN0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnRWYWx1ZXM7XG4gICAgICAgIGlmICghY29uZikge1xuICAgICAgICAgICAgY29uZiA9IENvbmZpZ3VyYXRpb24ucmVzb2x2ZShiYXNlLCBjb21wYXJ0bWVudHMsIHRoaXMpO1xuICAgICAgICAgICAgbGV0IGludGVybWVkaWF0ZVN0YXRlID0gbmV3IEVkaXRvclN0YXRlKGNvbmYsIHRoaXMuZG9jLCB0aGlzLnNlbGVjdGlvbiwgY29uZi5keW5hbWljU2xvdHMubWFwKCgpID0+IG51bGwpLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QucmVjb25maWd1cmUoc3RhdGUsIHRoaXMpLCBudWxsKTtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWVzID0gaW50ZXJtZWRpYXRlU3RhdGUudmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRWYWx1ZXMgPSB0ci5zdGFydFN0YXRlLnZhbHVlcy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB0ci5zdGFydFN0YXRlLmZhY2V0KGFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKSA/IHRyLm5ld1NlbGVjdGlvbiA6IHRyLm5ld1NlbGVjdGlvbi5hc1NpbmdsZSgpO1xuICAgICAgICBuZXcgRWRpdG9yU3RhdGUoY29uZiwgdHIubmV3RG9jLCBzZWxlY3Rpb24sIHN0YXJ0VmFsdWVzLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QudXBkYXRlKHN0YXRlLCB0ciksIHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3RyYW5zYWN0aW9uIHNwZWNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKSB0aGF0XG4gICAgcmVwbGFjZXMgZXZlcnkgc2VsZWN0aW9uIHJhbmdlIHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlU2VsZWN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy50b1RleHQodGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4gKHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogdGV4dCB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIHRleHQubGVuZ3RoKSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiBjaGFuZ2VzIGFuZCBhIG5ldyBzZWxlY3Rpb24gYnkgcnVubmluZyB0aGUgZ2l2ZW5cbiAgICBmdW5jdGlvbiBmb3IgZWFjaCByYW5nZSBpbiB0aGUgYWN0aXZlIHNlbGVjdGlvbi4gVGhlIGZ1bmN0aW9uXG4gICAgY2FuIHJldHVybiBhbiBvcHRpb25hbCBzZXQgb2YgY2hhbmdlcyAoaW4gdGhlIGNvb3JkaW5hdGUgc3BhY2VcbiAgICBvZiB0aGUgc3RhcnQgZG9jdW1lbnQpLCBwbHVzIGFuIHVwZGF0ZWQgcmFuZ2UgKGluIHRoZSBjb29yZGluYXRlXG4gICAgc3BhY2Ugb2YgdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IHRoZSBjYWxsJ3Mgb3duIGNoYW5nZXMpLiBUaGlzXG4gICAgbWV0aG9kIHdpbGwgbWVyZ2UgYWxsIHRoZSBjaGFuZ2VzIGFuZCByYW5nZXMgaW50byBhIHNpbmdsZVxuICAgIGNoYW5nZXNldCBhbmQgc2VsZWN0aW9uLCBhbmQgcmV0dXJuIGl0IGFzIGEgW3RyYW5zYWN0aW9uXG4gICAgc3BlY10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMpLCB3aGljaCBjYW4gYmUgcGFzc2VkIHRvXG4gICAgW2B1cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkuXG4gICAgKi9cbiAgICBjaGFuZ2VCeVJhbmdlKGYpIHtcbiAgICAgICAgbGV0IHNlbCA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgcmVzdWx0MSA9IGYoc2VsLnJhbmdlc1swXSk7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gdGhpcy5jaGFuZ2VzKHJlc3VsdDEuY2hhbmdlcyksIHJhbmdlcyA9IFtyZXN1bHQxLnJhbmdlXTtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSBhc0FycmF5KHJlc3VsdDEuZWZmZWN0cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGYoc2VsLnJhbmdlc1tpXSk7XG4gICAgICAgICAgICBsZXQgbmV3Q2hhbmdlcyA9IHRoaXMuY2hhbmdlcyhyZXN1bHQuY2hhbmdlcyksIG5ld01hcHBlZCA9IG5ld0NoYW5nZXMubWFwKGNoYW5nZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspXG4gICAgICAgICAgICAgICAgcmFuZ2VzW2pdID0gcmFuZ2VzW2pdLm1hcChuZXdNYXBwZWQpO1xuICAgICAgICAgICAgbGV0IG1hcEJ5ID0gY2hhbmdlcy5tYXBEZXNjKG5ld0NoYW5nZXMsIHRydWUpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmVzdWx0LnJhbmdlLm1hcChtYXBCeSkpO1xuICAgICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMuY29tcG9zZShuZXdNYXBwZWQpO1xuICAgICAgICAgICAgZWZmZWN0cyA9IFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoZWZmZWN0cywgbmV3TWFwcGVkKS5jb25jYXQoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhhc0FycmF5KHJlc3VsdC5lZmZlY3RzKSwgbWFwQnkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMsIHNlbC5tYWluSW5kZXgpLFxuICAgICAgICAgICAgZWZmZWN0c1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbY2hhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQpIGZyb20gdGhlIGdpdmVuIGNoYW5nZVxuICAgIGRlc2NyaXB0aW9uLCB0YWtpbmcgdGhlIHN0YXRlJ3MgZG9jdW1lbnQgbGVuZ3RoIGFuZCBsaW5lXG4gICAgc2VwYXJhdG9yIGludG8gYWNjb3VudC5cbiAgICAqL1xuICAgIGNoYW5nZXMoc3BlYyA9IFtdKSB7XG4gICAgICAgIGlmIChzcGVjIGluc3RhbmNlb2YgQ2hhbmdlU2V0KVxuICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgIHJldHVybiBDaGFuZ2VTZXQub2Yoc3BlYywgdGhpcy5kb2MubGVuZ3RoLCB0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXNpbmcgdGhlIHN0YXRlJ3MgW2xpbmVcbiAgICBzZXBhcmF0b3JdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVebGluZVNlcGFyYXRvciksIGNyZWF0ZSBhXG4gICAgW2BUZXh0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UZXh0KSBpbnN0YW5jZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICB0b1RleHQoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBUZXh0Lm9mKHN0cmluZy5zcGxpdCh0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpIHx8IERlZmF1bHRTcGxpdCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGdpdmVuIHJhbmdlIG9mIHRoZSBkb2N1bWVudCBhcyBhIHN0cmluZy5cbiAgICAqL1xuICAgIHNsaWNlRG9jKGZyb20gPSAwLCB0byA9IHRoaXMuZG9jLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8sIHRoaXMubGluZUJyZWFrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiBhIHN0YXRlIFtmYWNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldCkuXG4gICAgKi9cbiAgICBmYWNldChmYWNldCkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuY29uZmlnLmFkZHJlc3NbZmFjZXQuaWRdO1xuICAgICAgICBpZiAoYWRkciA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhY2V0LmRlZmF1bHQ7XG4gICAgICAgIGVuc3VyZUFkZHIodGhpcywgYWRkcik7XG4gICAgICAgIHJldHVybiBnZXRBZGRyKHRoaXMsIGFkZHIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc3RhdGUgdG8gYSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QuIFdoZW4gY3VzdG9tXG4gICAgZmllbGRzIHNob3VsZCBiZSBzZXJpYWxpemVkLCB5b3UgY2FuIHBhc3MgdGhlbSBpbiBhcyBhbiBvYmplY3RcbiAgICBtYXBwaW5nIHByb3BlcnR5IG5hbWVzIChpbiB0aGUgcmVzdWx0aW5nIG9iamVjdCwgd2hpY2ggc2hvdWxkXG4gICAgbm90IHVzZSBgZG9jYCBvciBgc2VsZWN0aW9uYCkgdG8gZmllbGRzLlxuICAgICovXG4gICAgdG9KU09OKGZpZWxkcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZG9jOiB0aGlzLnNsaWNlRG9jKCksXG4gICAgICAgICAgICBzZWxlY3Rpb246IHRoaXMuc2VsZWN0aW9uLnRvSlNPTigpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmaWVsZHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZpZWxkc1twcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkICYmIHRoaXMuY29uZmlnLmFkZHJlc3NbdmFsdWUuaWRdICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IHZhbHVlLnNwZWMudG9KU09OKHRoaXMuZmllbGQoZmllbGRzW3Byb3BdKSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlc2VyaWFsaXplIGEgc3RhdGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gV2hlbiBjdXN0b21cbiAgICBmaWVsZHMgc2hvdWxkIGJlIGRlc2VyaWFsaXplZCwgcGFzcyB0aGUgc2FtZSBvYmplY3QgeW91IHBhc3NlZFxuICAgIHRvIFtgdG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS50b0pTT04pIHdoZW4gc2VyaWFsaXppbmcgYXNcbiAgICB0aGlyZCBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uLCBjb25maWcgPSB7fSwgZmllbGRzKSB7XG4gICAgICAgIGlmICghanNvbiB8fCB0eXBlb2YganNvbi5kb2MgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTdGF0ZVwiKTtcbiAgICAgICAgbGV0IGZpZWxkSW5pdCA9IFtdO1xuICAgICAgICBpZiAoZmllbGRzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IGZpZWxkc1twcm9wXSwgdmFsdWUgPSBqc29uW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEluaXQucHVzaChmaWVsZC5pbml0KHN0YXRlID0+IGZpZWxkLnNwZWMuZnJvbUpTT04odmFsdWUsIHN0YXRlKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgICAgICBkb2M6IGpzb24uZG9jLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04oanNvbi5zZWxlY3Rpb24pLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnLmV4dGVuc2lvbnMgPyBmaWVsZEluaXQuY29uY2F0KFtjb25maWcuZXh0ZW5zaW9uc10pIDogZmllbGRJbml0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgc3RhdGUuIFlvdSdsbCB1c3VhbGx5IG9ubHkgbmVlZCB0aGlzIHdoZW5cbiAgICBpbml0aWFsaXppbmcgYW4gZWRpdG9y4oCUdXBkYXRlZCBzdGF0ZXMgYXJlIGNyZWF0ZWQgYnkgYXBwbHlpbmdcbiAgICB0cmFuc2FjdGlvbnMuXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIGxldCBjb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbi5yZXNvbHZlKGNvbmZpZy5leHRlbnNpb25zIHx8IFtdLCBuZXcgTWFwKTtcbiAgICAgICAgbGV0IGRvYyA9IGNvbmZpZy5kb2MgaW5zdGFuY2VvZiBUZXh0ID8gY29uZmlnLmRvY1xuICAgICAgICAgICAgOiBUZXh0Lm9mKChjb25maWcuZG9jIHx8IFwiXCIpLnNwbGl0KGNvbmZpZ3VyYXRpb24uc3RhdGljRmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgRGVmYXVsdFNwbGl0KSk7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSAhY29uZmlnLnNlbGVjdGlvbiA/IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoMClcbiAgICAgICAgICAgIDogY29uZmlnLnNlbGVjdGlvbiBpbnN0YW5jZW9mIEVkaXRvclNlbGVjdGlvbiA/IGNvbmZpZy5zZWxlY3Rpb25cbiAgICAgICAgICAgICAgICA6IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoY29uZmlnLnNlbGVjdGlvbi5hbmNob3IsIGNvbmZpZy5zZWxlY3Rpb24uaGVhZCk7XG4gICAgICAgIGNoZWNrU2VsZWN0aW9uKHNlbGVjdGlvbiwgZG9jLmxlbmd0aCk7XG4gICAgICAgIGlmICghY29uZmlndXJhdGlvbi5zdGF0aWNGYWNldChhbGxvd011bHRpcGxlU2VsZWN0aW9ucykpXG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uYXNTaW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0b3JTdGF0ZShjb25maWd1cmF0aW9uLCBkb2MsIHNlbGVjdGlvbiwgY29uZmlndXJhdGlvbi5keW5hbWljU2xvdHMubWFwKCgpID0+IG51bGwpLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QuY3JlYXRlKHN0YXRlKSwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzaXplIChpbiBjb2x1bW5zKSBvZiBhIHRhYiBpbiB0aGUgZG9jdW1lbnQsIGRldGVybWluZWQgYnlcbiAgICB0aGUgW2B0YWJTaXplYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50YWJTaXplKSBmYWNldC5cbiAgICAqL1xuICAgIGdldCB0YWJTaXplKCkgeyByZXR1cm4gdGhpcy5mYWNldChFZGl0b3JTdGF0ZS50YWJTaXplKTsgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcHJvcGVyIFtsaW5lLWJyZWFrXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmxpbmVTZXBhcmF0b3IpXG4gICAgc3RyaW5nIGZvciB0aGlzIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IGxpbmVCcmVhaygpIHsgcmV0dXJuIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgXCJcXG5cIjsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICBbY29uZmlndXJlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5yZWFkT25seSkgdG8gYmUgcmVhZC1vbmx5LlxuICAgICovXG4gICAgZ2V0IHJlYWRPbmx5KCkgeyByZXR1cm4gdGhpcy5mYWNldChyZWFkT25seSk7IH1cbiAgICAvKipcbiAgICBMb29rIHVwIGEgdHJhbnNsYXRpb24gZm9yIHRoZSBnaXZlbiBwaHJhc2UgKHZpYSB0aGVcbiAgICBbYHBocmFzZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnBocmFzZXMpIGZhY2V0KSwgb3IgcmV0dXJuIHRoZVxuICAgIG9yaWdpbmFsIHN0cmluZyBpZiBubyB0cmFuc2xhdGlvbiBpcyBmb3VuZC5cbiAgICBcbiAgICBJZiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCB0aGV5IHdpbGwgYmUgaW5zZXJ0ZWQgaW5cbiAgICBwbGFjZSBvZiBtYXJrZXJzIGxpa2UgYCQxYCAoZm9yIHRoZSBmaXJzdCB2YWx1ZSkgYW5kIGAkMmAsIGV0Yy5cbiAgICBBIHNpbmdsZSBgJGAgaXMgZXF1aXZhbGVudCB0byBgJDFgLCBhbmQgYCQkYCB3aWxsIHByb2R1Y2UgYVxuICAgIGxpdGVyYWwgZG9sbGFyIHNpZ24uXG4gICAgKi9cbiAgICBwaHJhc2UocGhyYXNlLCAuLi5pbnNlcnQpIHtcbiAgICAgICAgZm9yIChsZXQgbWFwIG9mIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwgcGhyYXNlKSkge1xuICAgICAgICAgICAgICAgIHBocmFzZSA9IG1hcFtwaHJhc2VdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBpZiAoaW5zZXJ0Lmxlbmd0aClcbiAgICAgICAgICAgIHBocmFzZSA9IHBocmFzZS5yZXBsYWNlKC9cXCQoXFwkfFxcZCopL2csIChtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gXCIkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiRcIjtcbiAgICAgICAgICAgICAgICBsZXQgbiA9ICsoaSB8fCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIW4gfHwgbiA+IGluc2VydC5sZW5ndGggPyBtIDogaW5zZXJ0W24gLSAxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGhyYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gbGFuZ3VhZ2UgZGF0YSBmaWVsZCwgcHJvdmlkZWQgYnkgdGhlXG4gICAgdGhlIFtgbGFuZ3VhZ2VEYXRhYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5sYW5ndWFnZURhdGEpIGZhY2V0LlxuICAgIFxuICAgIEV4YW1wbGVzIG9mIGxhbmd1YWdlIGRhdGEgZmllbGRzIGFyZS4uLlxuICAgIFxuICAgIC0gW2BcImNvbW1lbnRUb2tlbnNcImBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuQ29tbWVudFRva2VucykgZm9yIHNwZWNpZnlpbmdcbiAgICAgIGNvbW1lbnQgc3ludGF4LlxuICAgIC0gW2BcImF1dG9jb21wbGV0ZVwiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuYXV0b2NvbXBsZXRpb25eY29uZmlnLm92ZXJyaWRlKVxuICAgICAgZm9yIHByb3ZpZGluZyBsYW5ndWFnZS1zcGVjaWZpYyBjb21wbGV0aW9uIHNvdXJjZXMuXG4gICAgLSBbYFwid29yZENoYXJzXCJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikgZm9yIGFkZGluZ1xuICAgICAgY2hhcmFjdGVycyB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2Ygd29yZHMgaW4gdGhpc1xuICAgICAgbGFuZ3VhZ2UuXG4gICAgLSBbYFwiY2xvc2VCcmFja2V0c1wiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ2xvc2VCcmFja2V0Q29uZmlnKSBjb250cm9sc1xuICAgICAgYnJhY2tldCBjbG9zaW5nIGJlaGF2aW9yLlxuICAgICovXG4gICAgbGFuZ3VhZ2VEYXRhQXQobmFtZSwgcG9zLCBzaWRlID0gLTEpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcm92aWRlciBvZiB0aGlzLmZhY2V0KGxhbmd1YWdlRGF0YSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3VsdCBvZiBwcm92aWRlcih0aGlzLCBwb3MsIHNpZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIG5hbWUpKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHRbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY2FuIGNhdGVnb3JpemUgc3RyaW5ncyAoZXhwZWN0ZWQgdG9cbiAgICByZXByZXNlbnQgYSBzaW5nbGUgW2dyYXBoZW1lIGNsdXN0ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuZmluZENsdXN0ZXJCcmVhaykpXG4gICAgaW50byBvbmUgb2Y6XG4gICAgXG4gICAgIC0gV29yZCAoY29udGFpbnMgYW4gYWxwaGFudW1lcmljIGNoYXJhY3RlciBvciBhIGNoYXJhY3RlclxuICAgICAgIGV4cGxpY2l0bHkgbGlzdGVkIGluIHRoZSBsb2NhbCBsYW5ndWFnZSdzIGBcIndvcmRDaGFyc1wiYFxuICAgICAgIGxhbmd1YWdlIGRhdGEsIHdoaWNoIHNob3VsZCBiZSBhIHN0cmluZylcbiAgICAgLSBTcGFjZSAoY29udGFpbnMgb25seSB3aGl0ZXNwYWNlKVxuICAgICAtIE90aGVyIChhbnl0aGluZyBlbHNlKVxuICAgICovXG4gICAgY2hhckNhdGVnb3JpemVyKGF0KSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2F0ZWdvcml6ZXIodGhpcy5sYW5ndWFnZURhdGFBdChcIndvcmRDaGFyc1wiLCBhdCkuam9pbihcIlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIHdvcmQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBtZWFuaW5nIHRoZSByYW5nZVxuICAgIGNvbnRhaW5pbmcgYWxsIFt3b3JkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYXJDYXRlZ29yeS5Xb3JkKSBjaGFyYWN0ZXJzXG4gICAgYXJvdW5kIGl0LiBJZiBubyB3b3JkIGNoYXJhY3RlcnMgYXJlIGFkamFjZW50IHRvIHRoZSBwb3NpdGlvbixcbiAgICB0aGlzIHJldHVybnMgbnVsbC5cbiAgICAqL1xuICAgIHdvcmRBdChwb3MpIHtcbiAgICAgICAgbGV0IHsgdGV4dCwgZnJvbSwgbGVuZ3RoIH0gPSB0aGlzLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IGNhdCA9IHRoaXMuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgICAgIGxldCBzdGFydCA9IHBvcyAtIGZyb20sIGVuZCA9IHBvcyAtIGZyb207XG4gICAgICAgIHdoaWxlIChzdGFydCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gZmluZENsdXN0ZXJCcmVhayh0ZXh0LCBzdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGNhdCh0ZXh0LnNsaWNlKHByZXYsIHN0YXJ0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzdGFydCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGVuZCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKHRleHQsIGVuZCk7XG4gICAgICAgICAgICBpZiAoY2F0KHRleHQuc2xpY2UoZW5kLCBuZXh0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbmQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydCA9PSBlbmQgPyBudWxsIDogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHN0YXJ0ICsgZnJvbSwgZW5kICsgZnJvbSk7XG4gICAgfVxufVxuLyoqXG5BIGZhY2V0IHRoYXQsIHdoZW4gZW5hYmxlZCwgY2F1c2VzIHRoZSBlZGl0b3IgdG8gYWxsb3cgbXVsdGlwbGVcbnJhbmdlcyB0byBiZSBzZWxlY3RlZC4gQmUgY2FyZWZ1bCB0aG91Z2gsIGJlY2F1c2UgYnkgZGVmYXVsdCB0aGVcbmVkaXRvciByZWxpZXMgb24gdGhlIG5hdGl2ZSBET00gc2VsZWN0aW9uLCB3aGljaCBjYW5ub3QgaGFuZGxlXG5tdWx0aXBsZSBzZWxlY3Rpb25zLiBBbiBleHRlbnNpb24gbGlrZVxuW2BkcmF3U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmRyYXdTZWxlY3Rpb24pIGNhbiBiZSB1c2VkIHRvIG1ha2VcbnNlY29uZGFyeSBzZWxlY3Rpb25zIHZpc2libGUgdG8gdGhlIHVzZXIuXG4qL1xuRWRpdG9yU3RhdGUuYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMgPSBhbGxvd011bHRpcGxlU2VsZWN0aW9ucztcbi8qKlxuQ29uZmlndXJlcyB0aGUgdGFiIHNpemUgdG8gdXNlIGluIHRoaXMgc3RhdGUuIFRoZSBmaXJzdFxuKGhpZ2hlc3QtcHJlY2VkZW5jZSkgdmFsdWUgb2YgdGhlIGZhY2V0IGlzIHVzZWQuIElmIG5vIHZhbHVlIGlzXG5naXZlbiwgdGhpcyBkZWZhdWx0cyB0byA0LlxuKi9cbkVkaXRvclN0YXRlLnRhYlNpemUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IDRcbn0pO1xuLyoqXG5UaGUgbGluZSBzZXBhcmF0b3IgdG8gdXNlLiBCeSBkZWZhdWx0LCBhbnkgb2YgYFwiXFxuXCJgLCBgXCJcXHJcXG5cImBcbmFuZCBgXCJcXHJcImAgaXMgdHJlYXRlZCBhcyBhIHNlcGFyYXRvciB3aGVuIHNwbGl0dGluZyBsaW5lcywgYW5kXG5saW5lcyBhcmUgam9pbmVkIHdpdGggYFwiXFxuXCJgLlxuXG5XaGVuIHlvdSBjb25maWd1cmUgYSB2YWx1ZSBoZXJlLCBvbmx5IHRoYXQgcHJlY2lzZSBzZXBhcmF0b3JcbndpbGwgYmUgdXNlZCwgYWxsb3dpbmcgeW91IHRvIHJvdW5kLXRyaXAgZG9jdW1lbnRzIHRocm91Z2ggdGhlXG5lZGl0b3Igd2l0aG91dCBub3JtYWxpemluZyBsaW5lIHNlcGFyYXRvcnMuXG4qL1xuRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvciA9IGxpbmVTZXBhcmF0b3I7XG4vKipcblRoaXMgZmFjZXQgY29udHJvbHMgdGhlIHZhbHVlIG9mIHRoZVxuW2ByZWFkT25seWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucmVhZE9ubHkpIGdldHRlciwgd2hpY2ggaXNcbmNvbnN1bHRlZCBieSBjb21tYW5kcyBhbmQgZXh0ZW5zaW9ucyB0aGF0IGltcGxlbWVudCBlZGl0aW5nXG5mdW5jdGlvbmFsaXR5IHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkgc2hvdWxkIGFwcGx5LiBJdFxuZGVmYXVsdHMgdG8gZmFsc2UsIGJ1dCB3aGVuIGl0cyBoaWdoZXN0LXByZWNlZGVuY2UgdmFsdWUgaXNcbmB0cnVlYCwgc3VjaCBmdW5jdGlvbmFsaXR5IGRpc2FibGVzIGl0c2VsZi5cblxuTm90IHRvIGJlIGNvbmZ1c2VkIHdpdGhcbltgRWRpdG9yVmlldy5lZGl0YWJsZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRhYmxlKSwgd2hpY2hcbmNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvcidzIERPTSBpcyBzZXQgdG8gYmUgZWRpdGFibGUgKGFuZFxudGh1cyBmb2N1c2FibGUpLlxuKi9cbkVkaXRvclN0YXRlLnJlYWRPbmx5ID0gcmVhZE9ubHk7XG4vKipcblJlZ2lzdGVycyB0cmFuc2xhdGlvbiBwaHJhc2VzLiBUaGVcbltgcGhyYXNlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5waHJhc2UpIG1ldGhvZCB3aWxsIGxvb2sgdGhyb3VnaFxuYWxsIG9iamVjdHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgZmFjZXQgdG8gZmluZCB0cmFuc2xhdGlvbnMgZm9yXG5pdHMgYXJndW1lbnQuXG4qL1xuRWRpdG9yU3RhdGUucGhyYXNlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbXBhcmUoYSwgYikge1xuICAgICAgICBsZXQga0EgPSBPYmplY3Qua2V5cyhhKSwga0IgPSBPYmplY3Qua2V5cyhiKTtcbiAgICAgICAgcmV0dXJuIGtBLmxlbmd0aCA9PSBrQi5sZW5ndGggJiYga0EuZXZlcnkoayA9PiBhW2tdID09IGJba10pO1xuICAgIH1cbn0pO1xuLyoqXG5BIGZhY2V0IHVzZWQgdG8gcmVnaXN0ZXIgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KSBwcm92aWRlcnMuXG4qL1xuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhID0gbGFuZ3VhZ2VEYXRhO1xuLyoqXG5GYWNldCB1c2VkIHRvIHJlZ2lzdGVyIGNoYW5nZSBmaWx0ZXJzLCB3aGljaCBhcmUgY2FsbGVkIGZvciBlYWNoXG50cmFuc2FjdGlvbiAodW5sZXNzIGV4cGxpY2l0bHlcbltkaXNhYmxlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSksIGFuZCBjYW4gc3VwcHJlc3NcbnBhcnQgb2YgdGhlIHRyYW5zYWN0aW9uJ3MgY2hhbmdlcy5cblxuU3VjaCBhIGZ1bmN0aW9uIGNhbiByZXR1cm4gYHRydWVgIHRvIGluZGljYXRlIHRoYXQgaXQgZG9lc24ndFxud2FudCB0byBkbyBhbnl0aGluZywgYGZhbHNlYCB0byBjb21wbGV0ZWx5IHN0b3AgdGhlIGNoYW5nZXMgaW5cbnRoZSB0cmFuc2FjdGlvbiwgb3IgYSBzZXQgb2YgcmFuZ2VzIGluIHdoaWNoIGNoYW5nZXMgc2hvdWxkIGJlXG5zdXBwcmVzc2VkLiBTdWNoIHJhbmdlcyBhcmUgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgbnVtYmVycyxcbndpdGggZWFjaCBwYWlyIG9mIHR3byBudW1iZXJzIGluZGljYXRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgYVxucmFuZ2UuIFNvIGZvciBleGFtcGxlIGBbMTAsIDIwLCAxMDAsIDExMF1gIHN1cHByZXNzZXMgY2hhbmdlc1xuYmV0d2VlbiAxMCBhbmQgMjAsIGFuZCBiZXR3ZWVuIDEwMCBhbmQgMTEwLlxuKi9cbkVkaXRvclN0YXRlLmNoYW5nZUZpbHRlciA9IGNoYW5nZUZpbHRlcjtcbi8qKlxuRmFjZXQgdXNlZCB0byByZWdpc3RlciBhIGhvb2sgdGhhdCBnZXRzIGEgY2hhbmNlIHRvIHVwZGF0ZSBvclxucmVwbGFjZSB0cmFuc2FjdGlvbiBzcGVjcyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZC4gVGhpcyB3aWxsXG5vbmx5IGJlIGFwcGxpZWQgZm9yIHRyYW5zYWN0aW9ucyB0aGF0IGRvbid0IGhhdmVcbltgZmlsdGVyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSBzZXQgdG8gYGZhbHNlYC4gWW91XG5jYW4gZWl0aGVyIHJldHVybiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBzcGVjIChwb3NzaWJseSB0aGUgaW5wdXRcbnRyYW5zYWN0aW9uKSwgb3IgYW4gYXJyYXkgb2Ygc3BlY3MgKHdoaWNoIHdpbGwgYmUgY29tYmluZWQgaW5cbnRoZSBzYW1lIHdheSBhcyB0aGUgYXJndW1lbnRzIHRvXG5bYEVkaXRvclN0YXRlLnVwZGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSkuXG5cbldoZW4gcG9zc2libGUsIGl0IGlzIHJlY29tbWVuZGVkIHRvIGF2b2lkIGFjY2Vzc2luZ1xuW2BUcmFuc2FjdGlvbi5zdGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uc3RhdGUpIGluIGEgZmlsdGVyLFxuc2luY2UgaXQgd2lsbCBmb3JjZSBjcmVhdGlvbiBvZiBhIHN0YXRlIHRoYXQgd2lsbCB0aGVuIGJlXG5kaXNjYXJkZWQgYWdhaW4sIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBhY3R1YWxseSBmaWx0ZXJlZC5cblxuKFRoaXMgZnVuY3Rpb25hbGl0eSBzaG91bGQgYmUgdXNlZCB3aXRoIGNhcmUuIEluZGlzY3JpbWluYXRlbHlcbm1vZGlmeWluZyB0cmFuc2FjdGlvbiBpcyBsaWtlbHkgdG8gYnJlYWsgc29tZXRoaW5nIG9yIGRlZ3JhZGVcbnRoZSB1c2VyIGV4cGVyaWVuY2UuKVxuKi9cbkVkaXRvclN0YXRlLnRyYW5zYWN0aW9uRmlsdGVyID0gdHJhbnNhY3Rpb25GaWx0ZXI7XG4vKipcblRoaXMgaXMgYSBtb3JlIGxpbWl0ZWQgZm9ybSBvZlxuW2B0cmFuc2FjdGlvbkZpbHRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedHJhbnNhY3Rpb25GaWx0ZXIpLFxud2hpY2ggY2FuIG9ubHkgYWRkXG5bYW5ub3RhdGlvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmFubm90YXRpb25zKSBhbmRcbltlZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKS4gX0J1dF8sIHRoaXMgdHlwZVxub2YgZmlsdGVyIHJ1bnMgZXZlbiBpZiB0aGUgdHJhbnNhY3Rpb24gaGFzIGRpc2FibGVkIHJlZ3VsYXJcbltmaWx0ZXJpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmZpbHRlciksIG1ha2luZyBpdCBzdWl0YWJsZVxuZm9yIGVmZmVjdHMgdGhhdCBkb24ndCBuZWVkIHRvIHRvdWNoIHRoZSBjaGFuZ2VzIG9yIHNlbGVjdGlvbixcbmJ1dCBkbyB3YW50IHRvIHByb2Nlc3MgZXZlcnkgdHJhbnNhY3Rpb24uXG5cbkV4dGVuZGVycyBydW4gX2FmdGVyXyBmaWx0ZXJzLCB3aGVuIGJvdGggYXJlIHByZXNlbnQuXG4qL1xuRWRpdG9yU3RhdGUudHJhbnNhY3Rpb25FeHRlbmRlciA9IHRyYW5zYWN0aW9uRXh0ZW5kZXI7XG5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcblxuLyoqXG5VdGlsaXR5IGZ1bmN0aW9uIGZvciBjb21iaW5pbmcgYmVoYXZpb3JzIHRvIGZpbGwgaW4gYSBjb25maWdcbm9iamVjdCBmcm9tIGFuIGFycmF5IG9mIHByb3ZpZGVkIGNvbmZpZ3MuIGBkZWZhdWx0c2Agc2hvdWxkIGhvbGRcbmRlZmF1bHQgdmFsdWVzIGZvciBhbGwgb3B0aW9uYWwgZmllbGRzIGluIGBDb25maWdgLlxuXG5UaGUgZnVuY3Rpb24gd2lsbCwgYnkgZGVmYXVsdCwgZXJyb3JcbndoZW4gYSBmaWVsZCBnZXRzIHR3byB2YWx1ZXMgdGhhdCBhcmVuJ3QgYD09PWAtZXF1YWwsIGJ1dCB5b3UgY2FuXG5wcm92aWRlIGNvbWJpbmUgZnVuY3Rpb25zIHBlciBmaWVsZCB0byBkbyBzb21ldGhpbmcgZWxzZS5cbiovXG5mdW5jdGlvbiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIGRlZmF1bHRzLCAvLyBTaG91bGQgaG9sZCBvbmx5IHRoZSBvcHRpb25hbCBwcm9wZXJ0aWVzIG9mIENvbmZpZywgYnV0IEkgaGF2ZW4ndCBtYW5hZ2VkIHRvIGV4cHJlc3MgdGhhdFxuY29tYmluZSA9IHt9KSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdzKVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gY29uZmlnW2tleV0sIGN1cnJlbnQgPSByZXN1bHRba2V5XTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgPT09IHZhbHVlIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIDsgLy8gTm8gY29uZmxpY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbWJpbmUsIGtleSkpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBjb21iaW5lW2tleV0oY3VycmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbmZpZyBtZXJnZSBjb25mbGljdCBmb3IgZmllbGQgXCIgKyBrZXkpO1xuICAgICAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKVxuICAgICAgICBpZiAocmVzdWx0W2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbkVhY2ggcmFuZ2UgaXMgYXNzb2NpYXRlZCB3aXRoIGEgdmFsdWUsIHdoaWNoIG11c3QgaW5oZXJpdCBmcm9tXG50aGlzIGNsYXNzLlxuKi9cbmNsYXNzIFJhbmdlVmFsdWUge1xuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyB2YWx1ZSB3aXRoIGFub3RoZXIgdmFsdWUuIFVzZWQgd2hlbiBjb21wYXJpbmdcbiAgICByYW5nZXNldHMuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGNvbXBhcmVzIGJ5IGlkZW50aXR5LlxuICAgIFVubGVzcyB5b3UgYXJlIG9ubHkgY3JlYXRpbmcgYSBmaXhlZCBudW1iZXIgb2YgdW5pcXVlIGluc3RhbmNlc1xuICAgIG9mIHlvdXIgdmFsdWUgdHlwZSwgaXQgaXMgYSBnb29kIGlkZWEgdG8gaW1wbGVtZW50IHRoaXNcbiAgICBwcm9wZXJseS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiB0aGlzID09IG90aGVyOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSB3aXRoIHRoaXMgdmFsdWUuXG4gICAgKi9cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHsgcmV0dXJuIFJhbmdlLmNyZWF0ZShmcm9tLCB0bywgdGhpcyk7IH1cbn1cblJhbmdlVmFsdWUucHJvdG90eXBlLnN0YXJ0U2lkZSA9IFJhbmdlVmFsdWUucHJvdG90eXBlLmVuZFNpZGUgPSAwO1xuUmFuZ2VWYWx1ZS5wcm90b3R5cGUucG9pbnQgPSBmYWxzZTtcblJhbmdlVmFsdWUucHJvdG90eXBlLm1hcE1vZGUgPSBNYXBNb2RlLlRyYWNrRGVsO1xuLyoqXG5BIHJhbmdlIGFzc29jaWF0ZXMgYSB2YWx1ZSB3aXRoIGEgcmFuZ2Ugb2YgcG9zaXRpb25zLlxuKi9cbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIEl0cyBlbmQgcG9zaXRpb24uXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJhbmdlLlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShmcm9tLCB0bywgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShmcm9tLCB0bywgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNtcFJhbmdlKGEsIGIpIHtcbiAgICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudmFsdWUuc3RhcnRTaWRlIC0gYi52YWx1ZS5zdGFydFNpZGU7XG59XG5jbGFzcyBDaHVuayB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHZhbHVlLCBcbiAgICAvLyBDaHVua3MgYXJlIG1hcmtlZCB3aXRoIHRoZSBsYXJnZXN0IHBvaW50IHRoYXQgb2NjdXJzXG4gICAgLy8gaW4gdGhlbSAob3IgLTEgZm9yIG5vIHBvaW50cyksIHNvIHRoYXQgc2NhbnMgdGhhdCBhcmVcbiAgICAvLyBvbmx5IGludGVyZXN0ZWQgaW4gcG9pbnRzIChzdWNoIGFzIHRoZVxuICAgIC8vIGhlaWdodG1hcC1yZWxhdGVkIGxvZ2ljKSBjYW4gc2tpcCByYW5nZS1vbmx5IGNodW5rcy5cbiAgICBtYXhQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy50b1t0aGlzLnRvLmxlbmd0aCAtIDFdOyB9XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBzaWRlLiBVc2UgdGhlIHJhbmdlcydcbiAgICAvLyBgZnJvbWAgcG9zIHdoZW4gYGVuZCA9PSBmYWxzZWAsIGB0b2Agd2hlbiBgZW5kID09IHRydWVgLlxuICAgIGZpbmRJbmRleChwb3MsIHNpZGUsIGVuZCwgc3RhcnRBdCA9IDApIHtcbiAgICAgICAgbGV0IGFyciA9IGVuZCA/IHRoaXMudG8gOiB0aGlzLmZyb207XG4gICAgICAgIGZvciAobGV0IGxvID0gc3RhcnRBdCwgaGkgPSBhcnIubGVuZ3RoOzspIHtcbiAgICAgICAgICAgIGlmIChsbyA9PSBoaSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG87XG4gICAgICAgICAgICBsZXQgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IGFyclttaWRdIC0gcG9zIHx8IChlbmQgPyB0aGlzLnZhbHVlW21pZF0uZW5kU2lkZSA6IHRoaXMudmFsdWVbbWlkXS5zdGFydFNpZGUpIC0gc2lkZTtcbiAgICAgICAgICAgIGlmIChtaWQgPT0gbG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYgPj0gMCA/IGxvIDogaGk7XG4gICAgICAgICAgICBpZiAoZGlmZiA+PSAwKVxuICAgICAgICAgICAgICAgIGhpID0gbWlkO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxvID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZXR3ZWVuKG9mZnNldCwgZnJvbSwgdG8sIGYpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmluZEluZGV4KGZyb20sIC0xMDAwMDAwMDAwIC8qIEMuRmFyICovLCB0cnVlKSwgZSA9IHRoaXMuZmluZEluZGV4KHRvLCAxMDAwMDAwMDAwIC8qIEMuRmFyICovLCBmYWxzZSwgaSk7IGkgPCBlOyBpKyspXG4gICAgICAgICAgICBpZiAoZih0aGlzLmZyb21baV0gKyBvZmZzZXQsIHRoaXMudG9baV0gKyBvZmZzZXQsIHRoaXMudmFsdWVbaV0pID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1hcChvZmZzZXQsIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gW10sIGZyb20gPSBbXSwgdG8gPSBbXSwgbmV3UG9zID0gLTEsIG1heFBvaW50ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMudmFsdWVbaV0sIGN1ckZyb20gPSB0aGlzLmZyb21baV0gKyBvZmZzZXQsIGN1clRvID0gdGhpcy50b1tpXSArIG9mZnNldCwgbmV3RnJvbSwgbmV3VG87XG4gICAgICAgICAgICBpZiAoY3VyRnJvbSA9PSBjdXJUbykge1xuICAgICAgICAgICAgICAgIGxldCBtYXBwZWQgPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuc3RhcnRTaWRlLCB2YWwubWFwTW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBlZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gbmV3VG8gPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC5zdGFydFNpZGUgIT0gdmFsLmVuZFNpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuZW5kU2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUbyA8IG5ld0Zyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gY2hhbmdlcy5tYXBQb3MoY3VyRnJvbSwgdmFsLnN0YXJ0U2lkZSk7XG4gICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJUbywgdmFsLmVuZFNpZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdGcm9tID4gbmV3VG8gfHwgbmV3RnJvbSA9PSBuZXdUbyAmJiB2YWwuc3RhcnRTaWRlID4gMCAmJiB2YWwuZW5kU2lkZSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobmV3VG8gLSBuZXdGcm9tIHx8IHZhbC5lbmRTaWRlIC0gdmFsLnN0YXJ0U2lkZSkgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG5ld1BvcyA8IDApXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gbmV3RnJvbTtcbiAgICAgICAgICAgIGlmICh2YWwucG9pbnQpXG4gICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBNYXRoLm1heChtYXhQb2ludCwgbmV3VG8gLSBuZXdGcm9tKTtcbiAgICAgICAgICAgIHZhbHVlLnB1c2godmFsKTtcbiAgICAgICAgICAgIGZyb20ucHVzaChuZXdGcm9tIC0gbmV3UG9zKTtcbiAgICAgICAgICAgIHRvLnB1c2gobmV3VG8gLSBuZXdQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1hcHBlZDogdmFsdWUubGVuZ3RoID8gbmV3IENodW5rKGZyb20sIHRvLCB2YWx1ZSwgbWF4UG9pbnQpIDogbnVsbCwgcG9zOiBuZXdQb3MgfTtcbiAgICB9XG59XG4vKipcbkEgcmFuZ2Ugc2V0IHN0b3JlcyBhIGNvbGxlY3Rpb24gb2YgW3Jhbmdlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSkgaW4gYVxud2F5IHRoYXQgbWFrZXMgdGhlbSBlZmZpY2llbnQgdG8gW21hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC5tYXApIGFuZFxuW3VwZGF0ZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC51cGRhdGUpLiBUaGlzIGlzIGFuIGltbXV0YWJsZSBkYXRhXG5zdHJ1Y3R1cmUuXG4qL1xuY2xhc3MgUmFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtQb3MsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmssIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbmV4dExheWVyLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1heFBvaW50KSB7XG4gICAgICAgIHRoaXMuY2h1bmtQb3MgPSBjaHVua1BvcztcbiAgICAgICAgdGhpcy5jaHVuayA9IGNodW5rO1xuICAgICAgICB0aGlzLm5leHRMYXllciA9IG5leHRMYXllcjtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VTZXQoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY2h1bmsubGVuZ3RoIC0gMTtcbiAgICAgICAgcmV0dXJuIGxhc3QgPCAwID8gMCA6IE1hdGgubWF4KHRoaXMuY2h1bmtFbmQobGFzdCksIHRoaXMubmV4dExheWVyLmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBudW1iZXIgb2YgcmFuZ2VzIGluIHRoZSBzZXQuXG4gICAgKi9cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMubmV4dExheWVyLnNpemU7XG4gICAgICAgIGZvciAobGV0IGNodW5rIG9mIHRoaXMuY2h1bmspXG4gICAgICAgICAgICBzaXplICs9IGNodW5rLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtFbmQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtQb3NbaW5kZXhdICsgdGhpcy5jaHVua1tpbmRleF0ubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBVcGRhdGUgdGhlIHJhbmdlIHNldCwgb3B0aW9uYWxseSBhZGRpbmcgbmV3IHJhbmdlcyBvciBmaWx0ZXJpbmdcbiAgICBvdXQgZXhpc3Rpbmcgb25lcy5cbiAgICBcbiAgICAoTm90ZTogVGhlIHR5cGUgcGFyYW1ldGVyIGlzIGp1c3QgdGhlcmUgYXMgYSBrbHVkZ2UgdG8gd29ya1xuICAgIGFyb3VuZCBUeXBlU2NyaXB0IHZhcmlhbmNlIGlzc3VlcyB0aGF0IHByZXZlbnRlZCBgUmFuZ2VTZXQ8WD5gXG4gICAgZnJvbSBiZWluZyBhIHN1YnR5cGUgb2YgYFJhbmdlU2V0PFk+YCB3aGVuIGBYYCBpcyBhIHN1YnR5cGUgb2ZcbiAgICBgWWAuKVxuICAgICovXG4gICAgdXBkYXRlKHVwZGF0ZVNwZWMpIHtcbiAgICAgICAgbGV0IHsgYWRkID0gW10sIHNvcnQgPSBmYWxzZSwgZmlsdGVyRnJvbSA9IDAsIGZpbHRlclRvID0gdGhpcy5sZW5ndGggfSA9IHVwZGF0ZVNwZWM7XG4gICAgICAgIGxldCBmaWx0ZXIgPSB1cGRhdGVTcGVjLmZpbHRlcjtcbiAgICAgICAgaWYgKGFkZC5sZW5ndGggPT0gMCAmJiAhZmlsdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChzb3J0KVxuICAgICAgICAgICAgYWRkID0gYWRkLnNsaWNlKCkuc29ydChjbXBSYW5nZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gYWRkLmxlbmd0aCA/IFJhbmdlU2V0Lm9mKGFkZCkgOiB0aGlzO1xuICAgICAgICBsZXQgY3VyID0gbmV3IExheWVyQ3Vyc29yKHRoaXMsIG51bGwsIC0xKS5nb3RvKDApLCBpID0gMCwgc3BpbGwgPSBbXTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIHdoaWxlIChjdXIudmFsdWUgfHwgaSA8IGFkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpIDwgYWRkLmxlbmd0aCAmJiAoY3VyLmZyb20gLSBhZGRbaV0uZnJvbSB8fCBjdXIuc3RhcnRTaWRlIC0gYWRkW2ldLnZhbHVlLnN0YXJ0U2lkZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGFkZFtpKytdO1xuICAgICAgICAgICAgICAgIGlmICghYnVpbGRlci5hZGRJbm5lcihyYW5nZS5mcm9tLCByYW5nZS50bywgcmFuZ2UudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ci5yYW5nZUluZGV4ID09IDEgJiYgY3VyLmNodW5rSW5kZXggPCB0aGlzLmNodW5rLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIChpID09IGFkZC5sZW5ndGggfHwgdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgPCBhZGRbaV0uZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgfHwgZmlsdGVyVG8gPCB0aGlzLmNodW5rUG9zW2N1ci5jaHVua0luZGV4XSkgJiZcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFkZENodW5rKHRoaXMuY2h1bmtQb3NbY3VyLmNodW5rSW5kZXhdLCB0aGlzLmNodW5rW2N1ci5jaHVua0luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBjdXIubmV4dENodW5rKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gY3VyLnRvIHx8IGZpbHRlclRvIDwgY3VyLmZyb20gfHwgZmlsdGVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWlsZGVyLmFkZElubmVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKFJhbmdlLmNyZWF0ZShjdXIuZnJvbSwgY3VyLnRvLCBjdXIudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2hJbm5lcih0aGlzLm5leHRMYXllci5pc0VtcHR5ICYmICFzcGlsbC5sZW5ndGggPyBSYW5nZVNldC5lbXB0eVxuICAgICAgICAgICAgOiB0aGlzLm5leHRMYXllci51cGRhdGUoeyBhZGQ6IHNwaWxsLCBmaWx0ZXIsIGZpbHRlckZyb20sIGZpbHRlclRvIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgcmFuZ2Ugc2V0IHRocm91Z2ggYSBzZXQgb2YgY2hhbmdlcywgcmV0dXJuIHRoZSBuZXcgc2V0LlxuICAgICovXG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuZW1wdHkgfHwgdGhpcy5pc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCBjaHVua3MgPSBbXSwgY2h1bmtQb3MgPSBbXSwgbWF4UG9pbnQgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmNodW5rUG9zW2ldLCBjaHVuayA9IHRoaXMuY2h1bmtbaV07XG4gICAgICAgICAgICBsZXQgdG91Y2ggPSBjaGFuZ2VzLnRvdWNoZXNSYW5nZShzdGFydCwgc3RhcnQgKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHRvdWNoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIGNodW5rLm1heFBvaW50KTtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgY2h1bmtQb3MucHVzaChjaGFuZ2VzLm1hcFBvcyhzdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG91Y2ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBtYXBwZWQsIHBvcyB9ID0gY2h1bmsubWFwKHN0YXJ0LCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIG1hcHBlZC5tYXhQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKG1hcHBlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rUG9zLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLm5leHRMYXllci5tYXAoY2hhbmdlcyk7XG4gICAgICAgIHJldHVybiBjaHVua3MubGVuZ3RoID09IDAgPyBuZXh0IDogbmV3IFJhbmdlU2V0KGNodW5rUG9zLCBjaHVua3MsIG5leHQgfHwgUmFuZ2VTZXQuZW1wdHksIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSByYW5nZXMgdGhhdCB0b3VjaCB0aGUgcmVnaW9uIGBmcm9tYCB0byBgdG9gLFxuICAgIGNhbGxpbmcgYGZgIGZvciBlYWNoLiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgcmFuZ2VzIHdpbGxcbiAgICBiZSByZXBvcnRlZCBpbiBhbnkgc3BlY2lmaWMgb3JkZXIuIFdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnNcbiAgICBgZmFsc2VgLCBpdGVyYXRpb24gc3RvcHMuXG4gICAgKi9cbiAgICBiZXR3ZWVuKGZyb20sIHRvLCBmKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5jaHVua1Bvc1tpXSwgY2h1bmsgPSB0aGlzLmNodW5rW2ldO1xuICAgICAgICAgICAgaWYgKHRvID49IHN0YXJ0ICYmIGZyb20gPD0gc3RhcnQgKyBjaHVuay5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBjaHVuay5iZXR3ZWVuKHN0YXJ0LCBmcm9tIC0gc3RhcnQsIHRvIC0gc3RhcnQsIGYpID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0TGF5ZXIuYmV0d2Vlbihmcm9tLCB0bywgZik7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIHRoaXMgc2V0LCBpbiBvcmRlciwgaW5jbHVkaW5nIGFsbFxuICAgIHJhbmdlcyB0aGF0IGVuZCBhdCBvciBhZnRlciBgZnJvbWAuXG4gICAgKi9cbiAgICBpdGVyKGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oW3RoaXNdKS5nb3RvKGZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkgeyByZXR1cm4gdGhpcy5uZXh0TGF5ZXIgPT0gdGhpczsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIGEgY29sbGVjdGlvbiBvZiBzZXRzLCBpbiBvcmRlcixcbiAgICBzdGFydGluZyBmcm9tIGBmcm9tYC5cbiAgICAqL1xuICAgIHN0YXRpYyBpdGVyKHNldHMsIGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oc2V0cykuZ290byhmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHR3byBncm91cHMgb2Ygc2V0cywgY2FsbGluZyBtZXRob2RzIG9uIGBjb21wYXJhdG9yYFxuICAgIHRvIG5vdGlmeSBpdCBvZiBwb3NzaWJsZSBkaWZmZXJlbmNlcy5cbiAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlKG9sZFNldHMsIG5ld1NldHMsIFxuICAgIC8qKlxuICAgIFRoaXMgaW5kaWNhdGVzIGhvdyB0aGUgdW5kZXJseWluZyBkYXRhIGNoYW5nZWQgYmV0d2VlbiB0aGVzZVxuICAgIHJhbmdlcywgYW5kIGlzIG5lZWRlZCB0byBzeW5jaHJvbml6ZSB0aGUgaXRlcmF0aW9uLlxuICAgICovXG4gICAgdGV4dERpZmYsIGNvbXBhcmF0b3IsIFxuICAgIC8qKlxuICAgIENhbiBiZSB1c2VkIHRvIGlnbm9yZSBhbGwgbm9uLXBvaW50IHJhbmdlcywgYW5kIHBvaW50cyBiZWxvd1xuICAgIHRoZSBnaXZlbiBzaXplLiBXaGVuIC0xLCBhbGwgcmFuZ2VzIGFyZSBjb21wYXJlZC5cbiAgICAqL1xuICAgIG1pblBvaW50U2l6ZSA9IC0xKSB7XG4gICAgICAgIGxldCBhID0gb2xkU2V0cy5maWx0ZXIoc2V0ID0+IHNldC5tYXhQb2ludCA+IDAgfHwgIXNldC5pc0VtcHR5ICYmIHNldC5tYXhQb2ludCA+PSBtaW5Qb2ludFNpemUpO1xuICAgICAgICBsZXQgYiA9IG5ld1NldHMuZmlsdGVyKHNldCA9PiBzZXQubWF4UG9pbnQgPiAwIHx8ICFzZXQuaXNFbXB0eSAmJiBzZXQubWF4UG9pbnQgPj0gbWluUG9pbnRTaXplKTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYiwgdGV4dERpZmYpO1xuICAgICAgICBsZXQgc2lkZUEgPSBuZXcgU3BhbkN1cnNvcihhLCBzaGFyZWRDaHVua3MsIG1pblBvaW50U2l6ZSk7XG4gICAgICAgIGxldCBzaWRlQiA9IG5ldyBTcGFuQ3Vyc29yKGIsIHNoYXJlZENodW5rcywgbWluUG9pbnRTaXplKTtcbiAgICAgICAgdGV4dERpZmYuaXRlckdhcHMoKGZyb21BLCBmcm9tQiwgbGVuZ3RoKSA9PiBjb21wYXJlKHNpZGVBLCBmcm9tQSwgc2lkZUIsIGZyb21CLCBsZW5ndGgsIGNvbXBhcmF0b3IpKTtcbiAgICAgICAgaWYgKHRleHREaWZmLmVtcHR5ICYmIHRleHREaWZmLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgY29tcGFyZShzaWRlQSwgMCwgc2lkZUIsIDAsIDAsIGNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoZSBjb250ZW50cyBvZiB0d28gZ3JvdXBzIG9mIHJhbmdlIHNldHMsIHJldHVybmluZyB0cnVlXG4gICAgaWYgdGhleSBhcmUgZXF1aXZhbGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZXEob2xkU2V0cywgbmV3U2V0cywgZnJvbSA9IDAsIHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKVxuICAgICAgICAgICAgdG8gPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovIC0gMTtcbiAgICAgICAgbGV0IGEgPSBvbGRTZXRzLmZpbHRlcihzZXQgPT4gIXNldC5pc0VtcHR5ICYmIG5ld1NldHMuaW5kZXhPZihzZXQpIDwgMCk7XG4gICAgICAgIGxldCBiID0gbmV3U2V0cy5maWx0ZXIoc2V0ID0+ICFzZXQuaXNFbXB0eSAmJiBvbGRTZXRzLmluZGV4T2Yoc2V0KSA8IDApO1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghYS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYik7XG4gICAgICAgIGxldCBzaWRlQSA9IG5ldyBTcGFuQ3Vyc29yKGEsIHNoYXJlZENodW5rcywgMCkuZ290byhmcm9tKSwgc2lkZUIgPSBuZXcgU3BhbkN1cnNvcihiLCBzaGFyZWRDaHVua3MsIDApLmdvdG8oZnJvbSk7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChzaWRlQS50byAhPSBzaWRlQi50byB8fFxuICAgICAgICAgICAgICAgICFzYW1lVmFsdWVzKHNpZGVBLmFjdGl2ZSwgc2lkZUIuYWN0aXZlKSB8fFxuICAgICAgICAgICAgICAgIHNpZGVBLnBvaW50ICYmICghc2lkZUIucG9pbnQgfHwgIXNpZGVBLnBvaW50LmVxKHNpZGVCLnBvaW50KSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNpZGVBLnRvID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzaWRlQS5uZXh0KCk7XG4gICAgICAgICAgICBzaWRlQi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgZ3JvdXAgb2YgcmFuZ2Ugc2V0cyBhdCB0aGUgc2FtZSB0aW1lLCBub3RpZnlpbmdcbiAgICB0aGUgaXRlcmF0b3IgYWJvdXQgdGhlIHJhbmdlcyBjb3ZlcmluZyBldmVyeSBnaXZlbiBwaWVjZSBvZlxuICAgIGNvbnRlbnQuIFJldHVybnMgdGhlIG9wZW4gY291bnQgKHNlZVxuICAgIFtgU3Bhbkl0ZXJhdG9yLnNwYW5gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNwYW5JdGVyYXRvci5zcGFuKSkgYXQgdGhlIGVuZFxuICAgIG9mIHRoZSBpdGVyYXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgc3BhbnMoc2V0cywgZnJvbSwgdG8sIGl0ZXJhdG9yLCBcbiAgICAvKipcbiAgICBXaGVuIGdpdmVuIGFuZCBncmVhdGVyIHRoYW4gLTEsIG9ubHkgcG9pbnRzIG9mIGF0IGxlYXN0IHRoaXNcbiAgICBzaXplIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAgKi9cbiAgICBtaW5Qb2ludFNpemUgPSAtMSkge1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFNwYW5DdXJzb3Ioc2V0cywgbnVsbCwgbWluUG9pbnRTaXplKS5nb3RvKGZyb20pLCBwb3MgPSBmcm9tO1xuICAgICAgICBsZXQgb3BlblJhbmdlcyA9IGN1cnNvci5vcGVuU3RhcnQ7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBjdXJUbyA9IE1hdGgubWluKGN1cnNvci50bywgdG8pO1xuICAgICAgICAgICAgaWYgKGN1cnNvci5wb2ludCkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSBjdXJzb3IuYWN0aXZlRm9yUG9pbnQoY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBsZXQgb3BlbkNvdW50ID0gY3Vyc29yLnBvaW50RnJvbSA8IGZyb20gPyBhY3RpdmUubGVuZ3RoICsgMVxuICAgICAgICAgICAgICAgICAgICA6IGN1cnNvci5wb2ludC5zdGFydFNpZGUgPCAwID8gYWN0aXZlLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLm1pbihhY3RpdmUubGVuZ3RoLCBvcGVuUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5wb2ludChwb3MsIGN1clRvLCBjdXJzb3IucG9pbnQsIGFjdGl2ZSwgb3BlbkNvdW50LCBjdXJzb3IucG9pbnRSYW5rKTtcbiAgICAgICAgICAgICAgICBvcGVuUmFuZ2VzID0gTWF0aC5taW4oY3Vyc29yLm9wZW5FbmQoY3VyVG8pLCBhY3RpdmUubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1clRvID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3Bhbihwb3MsIGN1clRvLCBjdXJzb3IuYWN0aXZlLCBvcGVuUmFuZ2VzKTtcbiAgICAgICAgICAgICAgICBvcGVuUmFuZ2VzID0gY3Vyc29yLm9wZW5FbmQoY3VyVG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnNvci50byA+IHRvKVxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVuUmFuZ2VzICsgKGN1cnNvci5wb2ludCAmJiBjdXJzb3IudG8gPiB0byA/IDEgOiAwKTtcbiAgICAgICAgICAgIHBvcyA9IGN1cnNvci50bztcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcmFuZ2Ugc2V0IGZvciB0aGUgZ2l2ZW4gcmFuZ2Ugb3IgYXJyYXkgb2YgcmFuZ2VzLiBCeVxuICAgIGRlZmF1bHQsIHRoaXMgZXhwZWN0cyB0aGUgcmFuZ2VzIHRvIGJlIF9zb3J0ZWRfIChieSBzdGFydFxuICAgIHBvc2l0aW9uIGFuZCwgaWYgdHdvIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uLFxuICAgIGB2YWx1ZS5zdGFydFNpZGVgKS4gWW91IGNhbiBwYXNzIGB0cnVlYCBhcyBzZWNvbmQgYXJndW1lbnQgdG9cbiAgICBjYXVzZSB0aGUgbWV0aG9kIHRvIHNvcnQgdGhlbS5cbiAgICAqL1xuICAgIHN0YXRpYyBvZihyYW5nZXMsIHNvcnQgPSBmYWxzZSkge1xuICAgICAgICBsZXQgYnVpbGQgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHJhbmdlcyBpbnN0YW5jZW9mIFJhbmdlID8gW3Jhbmdlc10gOiBzb3J0ID8gbGF6eVNvcnQocmFuZ2VzKSA6IHJhbmdlcylcbiAgICAgICAgICAgIGJ1aWxkLmFkZChyYW5nZS5mcm9tLCByYW5nZS50bywgcmFuZ2UudmFsdWUpO1xuICAgICAgICByZXR1cm4gYnVpbGQuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEpvaW4gYW4gYXJyYXkgb2YgcmFuZ2Ugc2V0cyBpbnRvIGEgc2luZ2xlIHNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBqb2luKHNldHMpIHtcbiAgICAgICAgaWYgKCFzZXRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBSYW5nZVNldC5lbXB0eTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNldHNbc2V0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNldHMubGVuZ3RoIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGxheWVyID0gc2V0c1tpXTsgbGF5ZXIgIT0gUmFuZ2VTZXQuZW1wdHk7IGxheWVyID0gbGF5ZXIubmV4dExheWVyKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBSYW5nZVNldChsYXllci5jaHVua1BvcywgbGF5ZXIuY2h1bmssIHJlc3VsdCwgTWF0aC5tYXgobGF5ZXIubWF4UG9pbnQsIHJlc3VsdC5tYXhQb2ludCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5UaGUgZW1wdHkgc2V0IG9mIHJhbmdlcy5cbiovXG5SYW5nZVNldC5lbXB0eSA9IC8qQF9fUFVSRV9fKi9uZXcgUmFuZ2VTZXQoW10sIFtdLCBudWxsLCAtMSk7XG5mdW5jdGlvbiBsYXp5U29ydChyYW5nZXMpIHtcbiAgICBpZiAocmFuZ2VzLmxlbmd0aCA+IDEpXG4gICAgICAgIGZvciAobGV0IHByZXYgPSByYW5nZXNbMF0sIGkgPSAxOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKGNtcFJhbmdlKHByZXYsIGN1cikgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZXMuc2xpY2UoKS5zb3J0KGNtcFJhbmdlKTtcbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuUmFuZ2VTZXQuZW1wdHkubmV4dExheWVyID0gUmFuZ2VTZXQuZW1wdHk7XG4vKipcbkEgcmFuZ2Ugc2V0IGJ1aWxkZXIgaXMgYSBkYXRhIHN0cnVjdHVyZSB0aGF0IGhlbHBzIGJ1aWxkIHVwIGFcbltyYW5nZSBzZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2VTZXQpIGRpcmVjdGx5LCB3aXRob3V0IGZpcnN0IGFsbG9jYXRpbmdcbmFuIGFycmF5IG9mIFtgUmFuZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSBvYmplY3RzLlxuKi9cbmNsYXNzIFJhbmdlU2V0QnVpbGRlciB7XG4gICAgZmluaXNoQ2h1bmsobmV3QXJyYXlzKSB7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobmV3IENodW5rKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy52YWx1ZSwgdGhpcy5tYXhQb2ludCkpO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0KTtcbiAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMuc2V0TWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLnNldE1heFBvaW50LCB0aGlzLm1heFBvaW50KTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICBpZiAobmV3QXJyYXlzKSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZW1wdHkgYnVpbGRlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUG9zID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RGcm9tID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMubGFzdFRvID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMuZnJvbSA9IFtdO1xuICAgICAgICB0aGlzLnRvID0gW107XG4gICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICB0aGlzLnNldE1heFBvaW50ID0gLTE7XG4gICAgICAgIHRoaXMubmV4dExheWVyID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkIGEgcmFuZ2UuIFJhbmdlcyBzaG91bGQgYmUgYWRkZWQgaW4gc29ydGVkIChieSBgZnJvbWAgYW5kXG4gICAgYHZhbHVlLnN0YXJ0U2lkZWApIG9yZGVyLlxuICAgICovXG4gICAgYWRkKGZyb20sIHRvLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuYWRkSW5uZXIoZnJvbSwgdG8sIHZhbHVlKSlcbiAgICAgICAgICAgICh0aGlzLm5leHRMYXllciB8fCAodGhpcy5uZXh0TGF5ZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKSkuYWRkKGZyb20sIHRvLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgYWRkSW5uZXIoZnJvbSwgdG8sIHZhbHVlKSB7XG4gICAgICAgIGxldCBkaWZmID0gZnJvbSAtIHRoaXMubGFzdFRvIHx8IHZhbHVlLnN0YXJ0U2lkZSAtIHRoaXMubGFzdC5lbmRTaWRlO1xuICAgICAgICBpZiAoZGlmZiA8PSAwICYmIChmcm9tIC0gdGhpcy5sYXN0RnJvbSB8fCB2YWx1ZS5zdGFydFNpZGUgLSB0aGlzLmxhc3Quc3RhcnRTaWRlKSA8IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZXMgbXVzdCBiZSBhZGRlZCBzb3J0ZWQgYnkgYGZyb21gIHBvc2l0aW9uIGFuZCBgc3RhcnRTaWRlYFwiKTtcbiAgICAgICAgaWYgKGRpZmYgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aCA9PSAyNTAgLyogQy5DaHVua1NpemUgKi8pXG4gICAgICAgICAgICB0aGlzLmZpbmlzaENodW5rKHRydWUpO1xuICAgICAgICBpZiAodGhpcy5jaHVua1N0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IGZyb207XG4gICAgICAgIHRoaXMuZnJvbS5wdXNoKGZyb20gLSB0aGlzLmNodW5rU3RhcnQpO1xuICAgICAgICB0aGlzLnRvLnB1c2godG8gLSB0aGlzLmNodW5rU3RhcnQpO1xuICAgICAgICB0aGlzLmxhc3QgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5sYXN0RnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMubGFzdFRvID0gdG87XG4gICAgICAgIHRoaXMudmFsdWUucHVzaCh2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZS5wb2ludClcbiAgICAgICAgICAgIHRoaXMubWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLm1heFBvaW50LCB0byAtIGZyb20pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBhZGRDaHVuayhmcm9tLCBjaHVuaykge1xuICAgICAgICBpZiAoKGZyb20gLSB0aGlzLmxhc3RUbyB8fCBjaHVuay52YWx1ZVswXS5zdGFydFNpZGUgLSB0aGlzLmxhc3QuZW5kU2lkZSkgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0TWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLnNldE1heFBvaW50LCBjaHVuay5tYXhQb2ludCk7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2goZnJvbSk7XG4gICAgICAgIGxldCBsYXN0ID0gY2h1bmsudmFsdWUubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5sYXN0ID0gY2h1bmsudmFsdWVbbGFzdF07XG4gICAgICAgIHRoaXMubGFzdEZyb20gPSBjaHVuay5mcm9tW2xhc3RdICsgZnJvbTtcbiAgICAgICAgdGhpcy5sYXN0VG8gPSBjaHVuay50b1tsYXN0XSArIGZyb207XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5pc2ggdGhlIHJhbmdlIHNldC4gUmV0dXJucyB0aGUgbmV3IHNldC4gVGhlIGJ1aWxkZXIgY2FuJ3QgYmVcbiAgICB1c2VkIGFueW1vcmUgYWZ0ZXIgdGhpcyBoYXMgYmVlbiBjYWxsZWQuXG4gICAgKi9cbiAgICBmaW5pc2goKSB7IHJldHVybiB0aGlzLmZpbmlzaElubmVyKFJhbmdlU2V0LmVtcHR5KTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZmluaXNoSW5uZXIobmV4dCkge1xuICAgICAgICBpZiAodGhpcy5mcm9tLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsoZmFsc2UpO1xuICAgICAgICBpZiAodGhpcy5jaHVua3MubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFJhbmdlU2V0LmNyZWF0ZSh0aGlzLmNodW5rUG9zLCB0aGlzLmNodW5rcywgdGhpcy5uZXh0TGF5ZXIgPyB0aGlzLm5leHRMYXllci5maW5pc2hJbm5lcihuZXh0KSA6IG5leHQsIHRoaXMuc2V0TWF4UG9pbnQpO1xuICAgICAgICB0aGlzLmZyb20gPSBudWxsOyAvLyBNYWtlIHN1cmUgZnVydGhlciBgYWRkYCBjYWxscyBwcm9kdWNlIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmRTaGFyZWRDaHVua3MoYSwgYiwgdGV4dERpZmYpIHtcbiAgICBsZXQgaW5BID0gbmV3IE1hcCgpO1xuICAgIGZvciAobGV0IHNldCBvZiBhKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5jaHVuay5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChzZXQuY2h1bmtbaV0ubWF4UG9pbnQgPD0gMClcbiAgICAgICAgICAgICAgICBpbkEuc2V0KHNldC5jaHVua1tpXSwgc2V0LmNodW5rUG9zW2ldKTtcbiAgICBsZXQgc2hhcmVkID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IHNldCBvZiBiKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGtub3duID0gaW5BLmdldChzZXQuY2h1bmtbaV0pO1xuICAgICAgICAgICAgaWYgKGtub3duICE9IG51bGwgJiYgKHRleHREaWZmID8gdGV4dERpZmYubWFwUG9zKGtub3duKSA6IGtub3duKSA9PSBzZXQuY2h1bmtQb3NbaV0gJiZcbiAgICAgICAgICAgICAgICAhKHRleHREaWZmID09PSBudWxsIHx8IHRleHREaWZmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0RGlmZi50b3VjaGVzUmFuZ2Uoa25vd24sIGtub3duICsgc2V0LmNodW5rW2ldLmxlbmd0aCkpKVxuICAgICAgICAgICAgICAgIHNoYXJlZC5hZGQoc2V0LmNodW5rW2ldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBzaGFyZWQ7XG59XG5jbGFzcyBMYXllckN1cnNvciB7XG4gICAgY29uc3RydWN0b3IobGF5ZXIsIHNraXAsIG1pblBvaW50LCByYW5rID0gMCkge1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuc2tpcCA9IHNraXA7XG4gICAgICAgIHRoaXMubWluUG9pbnQgPSBtaW5Qb2ludDtcbiAgICAgICAgdGhpcy5yYW5rID0gcmFuaztcbiAgICB9XG4gICAgZ2V0IHN0YXJ0U2lkZSgpIHsgcmV0dXJuIHRoaXMudmFsdWUgPyB0aGlzLnZhbHVlLnN0YXJ0U2lkZSA6IDA7IH1cbiAgICBnZXQgZW5kU2lkZSgpIHsgcmV0dXJuIHRoaXMudmFsdWUgPyB0aGlzLnZhbHVlLmVuZFNpZGUgOiAwOyB9XG4gICAgZ290byhwb3MsIHNpZGUgPSAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLykge1xuICAgICAgICB0aGlzLmNodW5rSW5kZXggPSB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmdvdG9Jbm5lcihwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdvdG9Jbm5lcihwb3MsIHNpZGUsIGZvcndhcmQpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XTtcbiAgICAgICAgICAgIGlmICghKHRoaXMuc2tpcCAmJiB0aGlzLnNraXAuaGFzKG5leHQpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5jaHVua0VuZCh0aGlzLmNodW5rSW5kZXgpIDwgcG9zIHx8XG4gICAgICAgICAgICAgICAgbmV4dC5tYXhQb2ludCA8IHRoaXMubWluUG9pbnQpKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICBmb3J3YXJkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2VJbmRleCA9IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XS5maW5kSW5kZXgocG9zIC0gdGhpcy5sYXllci5jaHVua1Bvc1t0aGlzLmNodW5rSW5kZXhdLCBzaWRlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghZm9yd2FyZCB8fCB0aGlzLnJhbmdlSW5kZXggPCByYW5nZUluZGV4KVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2VJbmRleChyYW5nZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gICAgZm9yd2FyZChwb3MsIHNpZGUpIHtcbiAgICAgICAgaWYgKCh0aGlzLnRvIC0gcG9zIHx8IHRoaXMuZW5kU2lkZSAtIHNpZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMuZ290b0lubmVyKHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNodW5rSW5kZXggPT0gdGhpcy5sYXllci5jaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb20gPSB0aGlzLnRvID0gMTAwMDAwMDAwMCAvKiBDLkZhciAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjaHVua1BvcyA9IHRoaXMubGF5ZXIuY2h1bmtQb3NbdGhpcy5jaHVua0luZGV4XSwgY2h1bmsgPSB0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBjaHVua1BvcyArIGNodW5rLmZyb21bdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSBjaHVua1BvcyArIGNodW5rLnRvW3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGNodW5rLnZhbHVlW3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSYW5nZUluZGV4KHRoaXMucmFuZ2VJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1pblBvaW50IDwgMCB8fCB0aGlzLnZhbHVlLnBvaW50ICYmIHRoaXMudG8gLSB0aGlzLmZyb20gPj0gdGhpcy5taW5Qb2ludClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmFuZ2VJbmRleChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5za2lwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuY2h1bmtJbmRleCA8IHRoaXMubGF5ZXIuY2h1bmsubGVuZ3RoICYmIHRoaXMuc2tpcC5oYXModGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dENodW5rKCkge1xuICAgICAgICB0aGlzLmNodW5rSW5kZXgrKztcbiAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfVxuICAgIGNvbXBhcmUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbSAtIG90aGVyLmZyb20gfHwgdGhpcy5zdGFydFNpZGUgLSBvdGhlci5zdGFydFNpZGUgfHwgdGhpcy5yYW5rIC0gb3RoZXIucmFuayB8fFxuICAgICAgICAgICAgdGhpcy50byAtIG90aGVyLnRvIHx8IHRoaXMuZW5kU2lkZSAtIG90aGVyLmVuZFNpZGU7XG4gICAgfVxufVxuY2xhc3MgSGVhcEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoaGVhcCkge1xuICAgICAgICB0aGlzLmhlYXAgPSBoZWFwO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShzZXRzLCBza2lwID0gbnVsbCwgbWluUG9pbnQgPSAtMSkge1xuICAgICAgICBsZXQgaGVhcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGN1ciA9IHNldHNbaV07ICFjdXIuaXNFbXB0eTsgY3VyID0gY3VyLm5leHRMYXllcikge1xuICAgICAgICAgICAgICAgIGlmIChjdXIubWF4UG9pbnQgPj0gbWluUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGhlYXAucHVzaChuZXcgTGF5ZXJDdXJzb3IoY3VyLCBza2lwLCBtaW5Qb2ludCwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFwLmxlbmd0aCA9PSAxID8gaGVhcFswXSA6IG5ldyBIZWFwQ3Vyc29yKGhlYXApO1xuICAgIH1cbiAgICBnZXQgc3RhcnRTaWRlKCkgeyByZXR1cm4gdGhpcy52YWx1ZSA/IHRoaXMudmFsdWUuc3RhcnRTaWRlIDogMDsgfVxuICAgIGdvdG8ocG9zLCBzaWRlID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi8pIHtcbiAgICAgICAgZm9yIChsZXQgY3VyIG9mIHRoaXMuaGVhcClcbiAgICAgICAgICAgIGN1ci5nb3RvKHBvcywgc2lkZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhlYXAubGVuZ3RoID4+IDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgaGVhcEJ1YmJsZSh0aGlzLmhlYXAsIGkpO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZvcndhcmQocG9zLCBzaWRlKSB7XG4gICAgICAgIGZvciAobGV0IGN1ciBvZiB0aGlzLmhlYXApXG4gICAgICAgICAgICBjdXIuZm9yd2FyZChwb3MsIHNpZGUpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5oZWFwLmxlbmd0aCA+PiAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIGhlYXBCdWJibGUodGhpcy5oZWFwLCBpKTtcbiAgICAgICAgaWYgKCh0aGlzLnRvIC0gcG9zIHx8IHRoaXMudmFsdWUuZW5kU2lkZSAtIHNpZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5oZWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSB0aGlzLnRvID0gMTAwMDAwMDAwMCAvKiBDLkZhciAqLztcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yYW5rID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdG9wID0gdGhpcy5oZWFwWzBdO1xuICAgICAgICAgICAgdGhpcy5mcm9tID0gdG9wLmZyb207XG4gICAgICAgICAgICB0aGlzLnRvID0gdG9wLnRvO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRvcC52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucmFuayA9IHRvcC5yYW5rO1xuICAgICAgICAgICAgaWYgKHRvcC52YWx1ZSlcbiAgICAgICAgICAgICAgICB0b3AubmV4dCgpO1xuICAgICAgICAgICAgaGVhcEJ1YmJsZSh0aGlzLmhlYXAsIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaGVhcEJ1YmJsZShoZWFwLCBpbmRleCkge1xuICAgIGZvciAobGV0IGN1ciA9IGhlYXBbaW5kZXhdOzspIHtcbiAgICAgICAgbGV0IGNoaWxkSW5kZXggPSAoaW5kZXggPDwgMSkgKyAxO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBoZWFwLmxlbmd0aClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsZXQgY2hpbGQgPSBoZWFwW2NoaWxkSW5kZXhdO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCArIDEgPCBoZWFwLmxlbmd0aCAmJiBjaGlsZC5jb21wYXJlKGhlYXBbY2hpbGRJbmRleCArIDFdKSA+PSAwKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGhlYXBbY2hpbGRJbmRleCArIDFdO1xuICAgICAgICAgICAgY2hpbGRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXIuY29tcGFyZShjaGlsZCkgPCAwKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGhlYXBbY2hpbGRJbmRleF0gPSBjdXI7XG4gICAgICAgIGhlYXBbaW5kZXhdID0gY2hpbGQ7XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICB9XG59XG5jbGFzcyBTcGFuQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihzZXRzLCBza2lwLCBtaW5Qb2ludCkge1xuICAgICAgICB0aGlzLm1pblBvaW50ID0gbWluUG9pbnQ7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlVG8gPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVSYW5rID0gW107XG4gICAgICAgIHRoaXMubWluQWN0aXZlID0gLTE7XG4gICAgICAgIC8vIEEgY3VycmVudGx5IGFjdGl2ZSBwb2ludCByYW5nZSwgaWYgYW55XG4gICAgICAgIHRoaXMucG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBvaW50RnJvbSA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRSYW5rID0gMDtcbiAgICAgICAgdGhpcy50byA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICB0aGlzLmVuZFNpZGUgPSAwO1xuICAgICAgICAvLyBUaGUgYW1vdW50IG9mIG9wZW4gYWN0aXZlIHJhbmdlcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAvLyBOb3QgaW5jbHVkaW5nIHBvaW50cy5cbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBIZWFwQ3Vyc29yLmZyb20oc2V0cywgc2tpcCwgbWluUG9pbnQpO1xuICAgIH1cbiAgICBnb3RvKHBvcywgc2lkZSA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yLmdvdG8ocG9zLCBzaWRlKTtcbiAgICAgICAgdGhpcy5hY3RpdmUubGVuZ3RoID0gdGhpcy5hY3RpdmVUby5sZW5ndGggPSB0aGlzLmFjdGl2ZVJhbmsubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5taW5BY3RpdmUgPSAtMTtcbiAgICAgICAgdGhpcy50byA9IHBvcztcbiAgICAgICAgdGhpcy5lbmRTaWRlID0gc2lkZTtcbiAgICAgICAgdGhpcy5vcGVuU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmb3J3YXJkKHBvcywgc2lkZSkge1xuICAgICAgICB3aGlsZSAodGhpcy5taW5BY3RpdmUgPiAtMSAmJiAodGhpcy5hY3RpdmVUb1t0aGlzLm1pbkFjdGl2ZV0gLSBwb3MgfHwgdGhpcy5hY3RpdmVbdGhpcy5taW5BY3RpdmVdLmVuZFNpZGUgLSBzaWRlKSA8IDApXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZSh0aGlzLm1pbkFjdGl2ZSk7XG4gICAgICAgIHRoaXMuY3Vyc29yLmZvcndhcmQocG9zLCBzaWRlKTtcbiAgICB9XG4gICAgcmVtb3ZlQWN0aXZlKGluZGV4KSB7XG4gICAgICAgIHJlbW92ZSh0aGlzLmFjdGl2ZSwgaW5kZXgpO1xuICAgICAgICByZW1vdmUodGhpcy5hY3RpdmVUbywgaW5kZXgpO1xuICAgICAgICByZW1vdmUodGhpcy5hY3RpdmVSYW5rLCBpbmRleCk7XG4gICAgICAgIHRoaXMubWluQWN0aXZlID0gZmluZE1pbkluZGV4KHRoaXMuYWN0aXZlLCB0aGlzLmFjdGl2ZVRvKTtcbiAgICB9XG4gICAgYWRkQWN0aXZlKHRyYWNrT3Blbikge1xuICAgICAgICBsZXQgaSA9IDAsIHsgdmFsdWUsIHRvLCByYW5rIH0gPSB0aGlzLmN1cnNvcjtcbiAgICAgICAgLy8gT3JnYW5pemUgYWN0aXZlIG1hcmtzIGJ5IHJhbmsgZmlyc3QsIHRoZW4gYnkgc2l6ZVxuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuYWN0aXZlUmFuay5sZW5ndGggJiYgKHJhbmsgLSB0aGlzLmFjdGl2ZVJhbmtbaV0gfHwgdG8gLSB0aGlzLmFjdGl2ZVRvW2ldKSA+IDApXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIGluc2VydCh0aGlzLmFjdGl2ZSwgaSwgdmFsdWUpO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVUbywgaSwgdG8pO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVSYW5rLCBpLCByYW5rKTtcbiAgICAgICAgaWYgKHRyYWNrT3BlbilcbiAgICAgICAgICAgIGluc2VydCh0cmFja09wZW4sIGksIHRoaXMuY3Vyc29yLmZyb20pO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IGZpbmRNaW5JbmRleCh0aGlzLmFjdGl2ZSwgdGhpcy5hY3RpdmVUbyk7XG4gICAgfVxuICAgIC8vIEFmdGVyIGNhbGxpbmcgdGhpcywgaWYgYHRoaXMucG9pbnRgICE9IG51bGwsIHRoZSBuZXh0IHJhbmdlIGlzIGFcbiAgICAvLyBwb2ludC4gT3RoZXJ3aXNlLCBpdCdzIGEgcmVndWxhciByYW5nZSwgY292ZXJlZCBieSBgdGhpcy5hY3RpdmVgLlxuICAgIG5leHQoKSB7XG4gICAgICAgIGxldCBmcm9tID0gdGhpcy50bywgd2FzUG9pbnQgPSB0aGlzLnBvaW50O1xuICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IHRyYWNrT3BlbiA9IHRoaXMub3BlblN0YXJ0IDwgMCA/IFtdIDogbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLm1pbkFjdGl2ZTtcbiAgICAgICAgICAgIGlmIChhID4gLTEgJiYgKHRoaXMuYWN0aXZlVG9bYV0gLSB0aGlzLmN1cnNvci5mcm9tIHx8IHRoaXMuYWN0aXZlW2FdLmVuZFNpZGUgLSB0aGlzLmN1cnNvci5zdGFydFNpZGUpIDwgMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVRvW2FdID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5hY3RpdmVUb1thXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRTaWRlID0gdGhpcy5hY3RpdmVbYV0uZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlKGEpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja09wZW4pXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0cmFja09wZW4sIGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3Vyc29yLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50byA9IHRoaXMuZW5kU2lkZSA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvci5mcm9tID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSB0aGlzLmN1cnNvci5mcm9tO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IHRoaXMuY3Vyc29yLnN0YXJ0U2lkZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0VmFsID0gdGhpcy5jdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0VmFsLnBvaW50KSB7IC8vIE9wZW5pbmcgYSByYW5nZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2ZSh0cmFja09wZW4pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc1BvaW50ICYmIHRoaXMuY3Vyc29yLnRvID09IHRoaXMudG8gJiYgdGhpcy5jdXJzb3IuZnJvbSA8IHRoaXMuY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgbm9uLWVtcHR5IHBvaW50cyB0aGF0IGVuZCBwcmVjaXNlbHkgYXQgdGhlIGVuZCBvZiB0aGUgcHJldiBwb2ludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBOZXcgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludCA9IG5leHRWYWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRGcm9tID0gdGhpcy5jdXJzb3IuZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludFJhbmsgPSB0aGlzLmN1cnNvci5yYW5rO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5jdXJzb3IudG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IG5leHRWYWwuZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmQodGhpcy50bywgdGhpcy5lbmRTaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0cmFja09wZW4ubGVuZ3RoIC0gMTsgaSA+PSAwICYmIHRyYWNrT3BlbltpXSA8IGZyb207IGktLSlcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TdGFydCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGl2ZUZvclBvaW50KHRvKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgICAgICBsZXQgYWN0aXZlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlUmFua1tpXSA8IHRoaXMucG9pbnRSYW5rKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVG9baV0gPiB0byB8fCB0aGlzLmFjdGl2ZVRvW2ldID09IHRvICYmIHRoaXMuYWN0aXZlW2ldLmVuZFNpZGUgPj0gdGhpcy5wb2ludC5lbmRTaWRlKVxuICAgICAgICAgICAgICAgIGFjdGl2ZS5wdXNoKHRoaXMuYWN0aXZlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aXZlLnJldmVyc2UoKTtcbiAgICB9XG4gICAgb3BlbkVuZCh0bykge1xuICAgICAgICBsZXQgb3BlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZVRvLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiB0aGlzLmFjdGl2ZVRvW2ldID4gdG87IGktLSlcbiAgICAgICAgICAgIG9wZW4rKztcbiAgICAgICAgcmV0dXJuIG9wZW47XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZShhLCBzdGFydEEsIGIsIHN0YXJ0QiwgbGVuZ3RoLCBjb21wYXJhdG9yKSB7XG4gICAgYS5nb3RvKHN0YXJ0QSk7XG4gICAgYi5nb3RvKHN0YXJ0Qik7XG4gICAgbGV0IGVuZEIgPSBzdGFydEIgKyBsZW5ndGg7XG4gICAgbGV0IHBvcyA9IHN0YXJ0QiwgZFBvcyA9IHN0YXJ0QiAtIHN0YXJ0QTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBkRW5kID0gKGEudG8gKyBkUG9zKSAtIGIudG8sIGRpZmYgPSBkRW5kIHx8IGEuZW5kU2lkZSAtIGIuZW5kU2lkZTtcbiAgICAgICAgbGV0IGVuZCA9IGRpZmYgPCAwID8gYS50byArIGRQb3MgOiBiLnRvLCBjbGlwRW5kID0gTWF0aC5taW4oZW5kLCBlbmRCKTtcbiAgICAgICAgaWYgKGEucG9pbnQgfHwgYi5wb2ludCkge1xuICAgICAgICAgICAgaWYgKCEoYS5wb2ludCAmJiBiLnBvaW50ICYmIChhLnBvaW50ID09IGIucG9pbnQgfHwgYS5wb2ludC5lcShiLnBvaW50KSkgJiZcbiAgICAgICAgICAgICAgICBzYW1lVmFsdWVzKGEuYWN0aXZlRm9yUG9pbnQoYS50byksIGIuYWN0aXZlRm9yUG9pbnQoYi50bykpKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVQb2ludChwb3MsIGNsaXBFbmQsIGEucG9pbnQsIGIucG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNsaXBFbmQgPiBwb3MgJiYgIXNhbWVWYWx1ZXMoYS5hY3RpdmUsIGIuYWN0aXZlKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVSYW5nZShwb3MsIGNsaXBFbmQsIGEuYWN0aXZlLCBiLmFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA+IGVuZEIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKChkRW5kIHx8IGEub3BlbkVuZCAhPSBiLm9wZW5FbmQpICYmIGNvbXBhcmF0b3IuYm91bmRDaGFuZ2UpXG4gICAgICAgICAgICBjb21wYXJhdG9yLmJvdW5kQ2hhbmdlKGVuZCk7XG4gICAgICAgIHBvcyA9IGVuZDtcbiAgICAgICAgaWYgKGRpZmYgPD0gMClcbiAgICAgICAgICAgIGEubmV4dCgpO1xuICAgICAgICBpZiAoZGlmZiA+PSAwKVxuICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZVZhbHVlcyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoYVtpXSAhPSBiW2ldICYmICFhW2ldLmVxKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpbmRleCkge1xuICAgIGZvciAobGV0IGkgPSBpbmRleCwgZSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPCBlOyBpKyspXG4gICAgICAgIGFycmF5W2ldID0gYXJyYXlbaSArIDFdO1xuICAgIGFycmF5LnBvcCgpO1xufVxuZnVuY3Rpb24gaW5zZXJ0KGFycmF5LCBpbmRleCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSBpbmRleDsgaS0tKVxuICAgICAgICBhcnJheVtpICsgMV0gPSBhcnJheVtpXTtcbiAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGZpbmRNaW5JbmRleCh2YWx1ZSwgYXJyYXkpIHtcbiAgICBsZXQgZm91bmQgPSAtMSwgZm91bmRQb3MgPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICgoYXJyYXlbaV0gLSBmb3VuZFBvcyB8fCB2YWx1ZVtpXS5lbmRTaWRlIC0gdmFsdWVbZm91bmRdLmVuZFNpZGUpIDwgMCkge1xuICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgZm91bmRQb3MgPSBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cblxuLyoqXG5Db3VudCB0aGUgY29sdW1uIHBvc2l0aW9uIGF0IHRoZSBnaXZlbiBvZmZzZXQgaW50byB0aGUgc3RyaW5nLFxudGFraW5nIGV4dGVuZGluZyBjaGFyYWN0ZXJzIGFuZCB0YWIgc2l6ZSBpbnRvIGFjY291bnQuXG4qL1xuZnVuY3Rpb24gY291bnRDb2x1bW4oc3RyaW5nLCB0YWJTaXplLCB0byA9IHN0cmluZy5sZW5ndGgpIHtcbiAgICBsZXQgbiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0byAmJiBpIDwgc3RyaW5nLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkpIHtcbiAgICAgICAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuKys7XG4gICAgICAgICAgICBpID0gZmluZENsdXN0ZXJCcmVhayhzdHJpbmcsIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG5GaW5kIHRoZSBvZmZzZXQgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gY29sdW1uIHBvc2l0aW9uIGluIGFcbnN0cmluZywgdGFraW5nIGV4dGVuZGluZyBjaGFyYWN0ZXJzIGFuZCB0YWIgc2l6ZSBpbnRvIGFjY291bnQuIEJ5XG5kZWZhdWx0LCB0aGUgc3RyaW5nIGxlbmd0aCBpcyByZXR1cm5lZCB3aGVuIGl0IGlzIHRvbyBzaG9ydCB0b1xucmVhY2ggdGhlIGNvbHVtbi4gUGFzcyBgc3RyaWN0YCB0cnVlIHRvIG1ha2UgaXQgcmV0dXJuIC0xIGluIHRoYXRcbnNpdHVhdGlvbi5cbiovXG5mdW5jdGlvbiBmaW5kQ29sdW1uKHN0cmluZywgY29sLCB0YWJTaXplLCBzdHJpY3QpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbiA9IDA7Oykge1xuICAgICAgICBpZiAobiA+PSBjb2wpXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgaWYgKGkgPT0gc3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBuICs9IHN0cmluZy5jaGFyQ29kZUF0KGkpID09IDkgPyB0YWJTaXplIC0gKG4gJSB0YWJTaXplKSA6IDE7XG4gICAgICAgIGkgPSBmaW5kQ2x1c3RlckJyZWFrKHN0cmluZywgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHJpY3QgPT09IHRydWUgPyAtMSA6IHN0cmluZy5sZW5ndGg7XG59XG5cbmV4cG9ydCB7IEFubm90YXRpb24sIEFubm90YXRpb25UeXBlLCBDaGFuZ2VEZXNjLCBDaGFuZ2VTZXQsIENoYXJDYXRlZ29yeSwgQ29tcGFydG1lbnQsIEVkaXRvclNlbGVjdGlvbiwgRWRpdG9yU3RhdGUsIEZhY2V0LCBMaW5lLCBNYXBNb2RlLCBQcmVjLCBSYW5nZSwgUmFuZ2VTZXQsIFJhbmdlU2V0QnVpbGRlciwgUmFuZ2VWYWx1ZSwgU2VsZWN0aW9uUmFuZ2UsIFN0YXRlRWZmZWN0LCBTdGF0ZUVmZmVjdFR5cGUsIFN0YXRlRmllbGQsIFRleHQsIFRyYW5zYWN0aW9uLCBjb2RlUG9pbnRBdCwgY29kZVBvaW50U2l6ZSwgY29tYmluZUNvbmZpZywgY291bnRDb2x1bW4sIGZpbmRDbHVzdGVyQnJlYWssIGZpbmRDb2x1bW4sIGZyb21Db2RlUG9pbnQgfTtcbiIsIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHkgPSAwLFxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7XG5cbiAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH1cblxuICAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImV4cG9ydCB2YXIgYmFzZSA9IHtcbiAgODogXCJCYWNrc3BhY2VcIixcbiAgOTogXCJUYWJcIixcbiAgMTA6IFwiRW50ZXJcIixcbiAgMTI6IFwiTnVtTG9ja1wiLFxuICAxMzogXCJFbnRlclwiLFxuICAxNjogXCJTaGlmdFwiLFxuICAxNzogXCJDb250cm9sXCIsXG4gIDE4OiBcIkFsdFwiLFxuICAyMDogXCJDYXBzTG9ja1wiLFxuICAyNzogXCJFc2NhcGVcIixcbiAgMzI6IFwiIFwiLFxuICAzMzogXCJQYWdlVXBcIixcbiAgMzQ6IFwiUGFnZURvd25cIixcbiAgMzU6IFwiRW5kXCIsXG4gIDM2OiBcIkhvbWVcIixcbiAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gIDM4OiBcIkFycm93VXBcIixcbiAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICA0MDogXCJBcnJvd0Rvd25cIixcbiAgNDQ6IFwiUHJpbnRTY3JlZW5cIixcbiAgNDU6IFwiSW5zZXJ0XCIsXG4gIDQ2OiBcIkRlbGV0ZVwiLFxuICA1OTogXCI7XCIsXG4gIDYxOiBcIj1cIixcbiAgOTE6IFwiTWV0YVwiLFxuICA5MjogXCJNZXRhXCIsXG4gIDEwNjogXCIqXCIsXG4gIDEwNzogXCIrXCIsXG4gIDEwODogXCIsXCIsXG4gIDEwOTogXCItXCIsXG4gIDExMDogXCIuXCIsXG4gIDExMTogXCIvXCIsXG4gIDE0NDogXCJOdW1Mb2NrXCIsXG4gIDE0NTogXCJTY3JvbGxMb2NrXCIsXG4gIDE2MDogXCJTaGlmdFwiLFxuICAxNjE6IFwiU2hpZnRcIixcbiAgMTYyOiBcIkNvbnRyb2xcIixcbiAgMTYzOiBcIkNvbnRyb2xcIixcbiAgMTY0OiBcIkFsdFwiLFxuICAxNjU6IFwiQWx0XCIsXG4gIDE3MzogXCItXCIsXG4gIDE4NjogXCI7XCIsXG4gIDE4NzogXCI9XCIsXG4gIDE4ODogXCIsXCIsXG4gIDE4OTogXCItXCIsXG4gIDE5MDogXCIuXCIsXG4gIDE5MTogXCIvXCIsXG4gIDE5MjogXCJgXCIsXG4gIDIxOTogXCJbXCIsXG4gIDIyMDogXCJcXFxcXCIsXG4gIDIyMTogXCJdXCIsXG4gIDIyMjogXCInXCJcbn1cblxuZXhwb3J0IHZhciBzaGlmdCA9IHtcbiAgNDg6IFwiKVwiLFxuICA0OTogXCIhXCIsXG4gIDUwOiBcIkBcIixcbiAgNTE6IFwiI1wiLFxuICA1MjogXCIkXCIsXG4gIDUzOiBcIiVcIixcbiAgNTQ6IFwiXlwiLFxuICA1NTogXCImXCIsXG4gIDU2OiBcIipcIixcbiAgNTc6IFwiKFwiLFxuICA1OTogXCI6XCIsXG4gIDYxOiBcIitcIixcbiAgMTczOiBcIl9cIixcbiAgMTg2OiBcIjpcIixcbiAgMTg3OiBcIitcIixcbiAgMTg4OiBcIjxcIixcbiAgMTg5OiBcIl9cIixcbiAgMTkwOiBcIj5cIixcbiAgMTkxOiBcIj9cIixcbiAgMTkyOiBcIn5cIixcbiAgMjE5OiBcIntcIixcbiAgMjIwOiBcInxcIixcbiAgMjIxOiBcIn1cIixcbiAgMjIyOiBcIlxcXCJcIlxufVxuXG52YXIgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxudmFyIGllID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFxcZHxUcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4vLyBGaWxsIGluIHRoZSBkaWdpdCBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGJhc2VbNDggKyBpXSA9IGJhc2VbOTYgKyBpXSA9IFN0cmluZyhpKVxuXG4vLyBUaGUgZnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gMjQ7IGkrKykgYmFzZVtpICsgMTExXSA9IFwiRlwiICsgaVxuXG4vLyBBbmQgdGhlIGFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgYmFzZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDMyKVxuICBzaGlmdFtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSlcbn1cblxuLy8gRm9yIGVhY2ggY29kZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHNoaWZ0LWVxdWl2YWxlbnQsIGNvcHkgdGhlIGJhc2UgbmFtZVxuZm9yICh2YXIgY29kZSBpbiBiYXNlKSBpZiAoIXNoaWZ0Lmhhc093blByb3BlcnR5KGNvZGUpKSBzaGlmdFtjb2RlXSA9IGJhc2VbY29kZV1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleU5hbWUoZXZlbnQpIHtcbiAgLy8gT24gbWFjT1MsIGtleXMgaGVsZCB3aXRoIFNoaWZ0IGFuZCBDbWQgZG9uJ3QgcmVmbGVjdCB0aGUgZWZmZWN0IG9mIFNoaWZ0IGluIGAua2V5YC5cbiAgLy8gT24gSUUsIHNoaWZ0IGVmZmVjdCBpcyBuZXZlciBpbmNsdWRlZCBpbiBgLmtleWAuXG4gIHZhciBpZ25vcmVLZXkgPSBtYWMgJiYgZXZlbnQubWV0YUtleSAmJiBldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5IHx8XG4gICAgICBpZSAmJiBldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PSAxIHx8XG4gICAgICBldmVudC5rZXkgPT0gXCJVbmlkZW50aWZpZWRcIlxuICB2YXIgbmFtZSA9ICghaWdub3JlS2V5ICYmIGV2ZW50LmtleSkgfHxcbiAgICAoZXZlbnQuc2hpZnRLZXkgPyBzaGlmdCA6IGJhc2UpW2V2ZW50LmtleUNvZGVdIHx8XG4gICAgZXZlbnQua2V5IHx8IFwiVW5pZGVudGlmaWVkXCJcbiAgLy8gRWRnZSBzb21ldGltZXMgcHJvZHVjZXMgd3JvbmcgbmFtZXMgKElzc3VlICMzKVxuICBpZiAobmFtZSA9PSBcIkVzY1wiKSBuYW1lID0gXCJFc2NhcGVcIlxuICBpZiAobmFtZSA9PSBcIkRlbFwiKSBuYW1lID0gXCJEZWxldGVcIlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICBpZiAobmFtZSA9PSBcIkxlZnRcIikgbmFtZSA9IFwiQXJyb3dMZWZ0XCJcbiAgaWYgKG5hbWUgPT0gXCJVcFwiKSBuYW1lID0gXCJBcnJvd1VwXCJcbiAgaWYgKG5hbWUgPT0gXCJSaWdodFwiKSBuYW1lID0gXCJBcnJvd1JpZ2h0XCJcbiAgaWYgKG5hbWUgPT0gXCJEb3duXCIpIG5hbWUgPSBcIkFycm93RG93blwiXG4gIHJldHVybiBuYW1lXG59XG4iLCJpbXBvcnQgeyBUZXh0LCBSYW5nZVNldCwgTWFwTW9kZSwgUmFuZ2VWYWx1ZSwgZmluZENsdXN0ZXJCcmVhaywgRWRpdG9yU2VsZWN0aW9uLCBGYWNldCwgU3RhdGVFZmZlY3QsIENoYW5nZVNldCwgZmluZENvbHVtbiwgQ2hhckNhdGVnb3J5LCBFZGl0b3JTdGF0ZSwgQW5ub3RhdGlvbiwgVHJhbnNhY3Rpb24sIFByZWMsIGNvZGVQb2ludEF0LCBjb2RlUG9pbnRTaXplLCBjb21iaW5lQ29uZmlnLCBTdGF0ZUZpZWxkLCBSYW5nZVNldEJ1aWxkZXIsIGNvdW50Q29sdW1uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgU3R5bGVNb2R1bGUgfSBmcm9tICdzdHlsZS1tb2QnO1xuaW1wb3J0IHsga2V5TmFtZSwgYmFzZSwgc2hpZnQgfSBmcm9tICd3M2Mta2V5bmFtZSc7XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihyb290KSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICAvLyBCcm93c2VycyBkaWZmZXIgb24gd2hldGhlciBzaGFkb3cgcm9vdHMgaGF2ZSBhIGdldFNlbGVjdGlvblxuICAgIC8vIG1ldGhvZC4gSWYgaXQgZXhpc3RzLCB1c2UgdGhhdCwgb3RoZXJ3aXNlLCBjYWxsIGl0IG9uIHRoZVxuICAgIC8vIGRvY3VtZW50LlxuICAgIGlmIChyb290Lm5vZGVUeXBlID09IDExKSB7IC8vIFNoYWRvdyByb290XG4gICAgICAgIHRhcmdldCA9IHJvb3QuZ2V0U2VsZWN0aW9uID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHJvb3Q7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQuZ2V0U2VsZWN0aW9uKCk7XG59XG5mdW5jdGlvbiBjb250YWlucyhkb20sIG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSA/IGRvbSA9PSBub2RlIHx8IGRvbS5jb250YWlucyhub2RlLm5vZGVUeXBlICE9IDEgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlKSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzU2VsZWN0aW9uKGRvbSwgc2VsZWN0aW9uKSB7XG4gICAgaWYgKCFzZWxlY3Rpb24uYW5jaG9yTm9kZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEZpcmVmb3ggd2lsbCByYWlzZSAncGVybWlzc2lvbiBkZW5pZWQnIGVycm9ycyB3aGVuIGFjY2Vzc2luZ1xuICAgICAgICAvLyBwcm9wZXJ0aWVzIG9mIGBzZWwuYW5jaG9yTm9kZWAgd2hlbiBpdCdzIGluIGEgZ2VuZXJhdGVkIENTU1xuICAgICAgICAvLyBlbGVtZW50LlxuICAgICAgICByZXR1cm4gY29udGFpbnMoZG9tLCBzZWxlY3Rpb24uYW5jaG9yTm9kZSk7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGllbnRSZWN0c0Zvcihkb20pIHtcbiAgICBpZiAoZG9tLm5vZGVUeXBlID09IDMpXG4gICAgICAgIHJldHVybiB0ZXh0UmFuZ2UoZG9tLCAwLCBkb20ubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMSlcbiAgICAgICAgcmV0dXJuIGRvbS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIFtdO1xufVxuLy8gU2NhbnMgZm9yd2FyZCBhbmQgYmFja3dhcmQgdGhyb3VnaCBET00gcG9zaXRpb25zIGVxdWl2YWxlbnQgdG8gdGhlXG4vLyBnaXZlbiBvbmUgdG8gc2VlIGlmIHRoZSB0d28gYXJlIGluIHRoZSBzYW1lIHBsYWNlIChpLmUuIGFmdGVyIGFcbi8vIHRleHQgbm9kZSB2cyBhdCB0aGUgZW5kIG9mIHRoYXQgdGV4dCBub2RlKVxuZnVuY3Rpb24gaXNFcXVpdmFsZW50UG9zaXRpb24obm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYpIHtcbiAgICByZXR1cm4gdGFyZ2V0Tm9kZSA/IChzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCAtMSkgfHxcbiAgICAgICAgc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgMSkpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBkb21JbmRleChub2RlKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOzsgaW5kZXgrKykge1xuICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0Jsb2NrRWxlbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMSAmJiAvXihESVZ8UHxMSXxVTHxPTHxCTE9DS1FVT1RFfEREfERUfEhcXGR8U0VDVElPTnxQUkUpJC8udGVzdChub2RlLm5vZGVOYW1lKTtcbn1cbmZ1bmN0aW9uIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIGRpcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGFyZ2V0Tm9kZSAmJiBvZmYgPT0gdGFyZ2V0T2ZmKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChvZmYgPT0gKGRpciA8IDAgPyAwIDogbWF4T2Zmc2V0KG5vZGUpKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50Lm5vZGVUeXBlICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgb2ZmID0gZG9tSW5kZXgobm9kZSkgKyAoZGlyIDwgMCA/IDAgOiAxKTtcbiAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBvZmYgPSBkaXIgPCAwID8gbWF4T2Zmc2V0KG5vZGUpIDogMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1heE9mZnNldChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBmbGF0dGVuUmVjdChyZWN0LCBsZWZ0KSB7XG4gICAgbGV0IHggPSBsZWZ0ID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodDtcbiAgICByZXR1cm4geyBsZWZ0OiB4LCByaWdodDogeCwgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LmJvdHRvbSB9O1xufVxuZnVuY3Rpb24gd2luZG93UmVjdCh3aW4pIHtcbiAgICBsZXQgdnAgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZwKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogMCwgcmlnaHQ6IHZwLndpZHRoLFxuICAgICAgICAgICAgdG9wOiAwLCBib3R0b206IHZwLmhlaWdodFxuICAgICAgICB9O1xuICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiB3aW4uaW5uZXJXaWR0aCxcbiAgICAgICAgdG9wOiAwLCBib3R0b206IHdpbi5pbm5lckhlaWdodCB9O1xufVxuZnVuY3Rpb24gZ2V0U2NhbGUoZWx0LCByZWN0KSB7XG4gICAgbGV0IHNjYWxlWCA9IHJlY3Qud2lkdGggLyBlbHQub2Zmc2V0V2lkdGg7XG4gICAgbGV0IHNjYWxlWSA9IHJlY3QuaGVpZ2h0IC8gZWx0Lm9mZnNldEhlaWdodDtcbiAgICBpZiAoc2NhbGVYID4gMC45OTUgJiYgc2NhbGVYIDwgMS4wMDUgfHwgIWlzRmluaXRlKHNjYWxlWCkgfHwgTWF0aC5hYnMocmVjdC53aWR0aCAtIGVsdC5vZmZzZXRXaWR0aCkgPCAxKVxuICAgICAgICBzY2FsZVggPSAxO1xuICAgIGlmIChzY2FsZVkgPiAwLjk5NSAmJiBzY2FsZVkgPCAxLjAwNSB8fCAhaXNGaW5pdGUoc2NhbGVZKSB8fCBNYXRoLmFicyhyZWN0LmhlaWdodCAtIGVsdC5vZmZzZXRIZWlnaHQpIDwgMSlcbiAgICAgICAgc2NhbGVZID0gMTtcbiAgICByZXR1cm4geyBzY2FsZVgsIHNjYWxlWSB9O1xufVxuZnVuY3Rpb24gc2Nyb2xsUmVjdEludG9WaWV3KGRvbSwgcmVjdCwgc2lkZSwgeCwgeSwgeE1hcmdpbiwgeU1hcmdpbiwgbHRyKSB7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbSwgc3RvcCA9IGZhbHNlOyBjdXIgJiYgIXN0b3A7KSB7XG4gICAgICAgIGlmIChjdXIubm9kZVR5cGUgPT0gMSkgeyAvLyBFbGVtZW50XG4gICAgICAgICAgICBsZXQgYm91bmRpbmcsIHRvcCA9IGN1ciA9PSBkb2MuYm9keTtcbiAgICAgICAgICAgIGxldCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxO1xuICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0gd2luZG93UmVjdCh3aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKC9eKGZpeGVkfHN0aWNreSkkLy50ZXN0KGdldENvbXB1dGVkU3R5bGUoY3VyKS5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjdXIuc2Nyb2xsSGVpZ2h0IDw9IGN1ci5jbGllbnRIZWlnaHQgJiYgY3VyLnNjcm9sbFdpZHRoIDw9IGN1ci5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBjdXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgKHsgc2NhbGVYLCBzY2FsZVkgfSA9IGdldFNjYWxlKGN1ciwgcmVjdCkpO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzY3JvbGxiYXIgd2lkdGggaXNuJ3QgaW5jbHVkZWQgaW4gdGhlIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0geyBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LmxlZnQgKyBjdXIuY2xpZW50V2lkdGggKiBzY2FsZVgsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC50b3AgKyBjdXIuY2xpZW50SGVpZ2h0ICogc2NhbGVZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbW92ZVggPSAwLCBtb3ZlWSA9IDA7XG4gICAgICAgICAgICBpZiAoeSA9PSBcIm5lYXJlc3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LnRvcCA8IGJvdW5kaW5nLnRvcCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IHJlY3QudG9wIC0gKGJvdW5kaW5nLnRvcCArIHlNYXJnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZSA+IDAgJiYgcmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gKyBtb3ZlWSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC5ib3R0b20gLSBib3VuZGluZy5ib3R0b20gKyB5TWFyZ2luO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IHJlY3QuYm90dG9tIC0gYm91bmRpbmcuYm90dG9tICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPCAwICYmIChyZWN0LnRvcCAtIG1vdmVZKSA8IGJvdW5kaW5nLnRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVZID0gcmVjdC50b3AgLSAoYm91bmRpbmcudG9wICsgeU1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3RIZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wLCBib3VuZGluZ0hlaWdodCA9IGJvdW5kaW5nLmJvdHRvbSAtIGJvdW5kaW5nLnRvcDtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0VG9wID0geSA9PSBcImNlbnRlclwiICYmIHJlY3RIZWlnaHQgPD0gYm91bmRpbmdIZWlnaHQgPyByZWN0LnRvcCArIHJlY3RIZWlnaHQgLyAyIC0gYm91bmRpbmdIZWlnaHQgLyAyIDpcbiAgICAgICAgICAgICAgICAgICAgeSA9PSBcInN0YXJ0XCIgfHwgeSA9PSBcImNlbnRlclwiICYmIHNpZGUgPCAwID8gcmVjdC50b3AgLSB5TWFyZ2luIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QuYm90dG9tIC0gYm91bmRpbmdIZWlnaHQgKyB5TWFyZ2luO1xuICAgICAgICAgICAgICAgIG1vdmVZID0gdGFyZ2V0VG9wIC0gYm91bmRpbmcudG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPT0gXCJuZWFyZXN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdC5sZWZ0IDwgYm91bmRpbmcubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IHJlY3QubGVmdCAtIChib3VuZGluZy5sZWZ0ICsgeE1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlID4gMCAmJiByZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQgKyBtb3ZlWClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVjdC5yaWdodCA+IGJvdW5kaW5nLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPCAwICYmIHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQgKyBtb3ZlWClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVYID0gcmVjdC5sZWZ0IC0gKGJvdW5kaW5nLmxlZnQgKyB4TWFyZ2luKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TGVmdCA9IHggPT0gXCJjZW50ZXJcIiA/IHJlY3QubGVmdCArIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAvIDIgLSAoYm91bmRpbmcucmlnaHQgLSBib3VuZGluZy5sZWZ0KSAvIDIgOlxuICAgICAgICAgICAgICAgICAgICAoeCA9PSBcInN0YXJ0XCIpID09IGx0ciA/IHJlY3QubGVmdCAtIHhNYXJnaW4gOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC5yaWdodCAtIChib3VuZGluZy5yaWdodCAtIGJvdW5kaW5nLmxlZnQpICsgeE1hcmdpbjtcbiAgICAgICAgICAgICAgICBtb3ZlWCA9IHRhcmdldExlZnQgLSBib3VuZGluZy5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgICAgICB3aW4uc2Nyb2xsQnkobW92ZVgsIG1vdmVZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3ZlZFggPSAwLCBtb3ZlZFkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZVkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGN1ci5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIuc2Nyb2xsVG9wICs9IG1vdmVZIC8gc2NhbGVZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWRZID0gKGN1ci5zY3JvbGxUb3AgLSBzdGFydCkgKiBzY2FsZVk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVYKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBjdXIuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ci5zY3JvbGxMZWZ0ICs9IG1vdmVYIC8gc2NhbGVYO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWRYID0gKGN1ci5zY3JvbGxMZWZ0IC0gc3RhcnQpICogc2NhbGVYO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlY3QgPSB7IGxlZnQ6IHJlY3QubGVmdCAtIG1vdmVkWCwgdG9wOiByZWN0LnRvcCAtIG1vdmVkWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IC0gbW92ZWRYLCBib3R0b206IHJlY3QuYm90dG9tIC0gbW92ZWRZIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlZFggJiYgTWF0aC5hYnMobW92ZWRYIC0gbW92ZVgpIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBcIm5lYXJlc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVkWSAmJiBNYXRoLmFicyhtb3ZlZFkgLSBtb3ZlWSkgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFwibmVhcmVzdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3AgfHwgcmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gfHxcbiAgICAgICAgICAgICAgICByZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0IHx8IHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodClcbiAgICAgICAgICAgICAgICByZWN0ID0geyBsZWZ0OiBNYXRoLm1heChyZWN0LmxlZnQsIGJvdW5kaW5nLmxlZnQpLCByaWdodDogTWF0aC5taW4ocmVjdC5yaWdodCwgYm91bmRpbmcucmlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IE1hdGgubWF4KHJlY3QudG9wLCBib3VuZGluZy50b3ApLCBib3R0b206IE1hdGgubWluKHJlY3QuYm90dG9tLCBib3VuZGluZy5ib3R0b20pIH07XG4gICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxMSkgeyAvLyBBIHNoYWRvdyByb290XG4gICAgICAgICAgICBjdXIgPSBjdXIuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2Nyb2xsYWJsZVBhcmVudHMoZG9tKSB7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB4LCB5O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbS5wYXJlbnROb2RlOyBjdXI7KSB7XG4gICAgICAgIGlmIChjdXIgPT0gZG9jLmJvZHkgfHwgKHggJiYgeSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBpZiAoIXkgJiYgY3VyLnNjcm9sbEhlaWdodCA+IGN1ci5jbGllbnRIZWlnaHQpXG4gICAgICAgICAgICAgICAgeSA9IGN1cjtcbiAgICAgICAgICAgIGlmICgheCAmJiBjdXIuc2Nyb2xsV2lkdGggPiBjdXIuY2xpZW50V2lkdGgpXG4gICAgICAgICAgICAgICAgeCA9IGN1cjtcbiAgICAgICAgICAgIGN1ciA9IGN1ci5hc3NpZ25lZFNsb3QgfHwgY3VyLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VyLm5vZGVUeXBlID09IDExKSB7XG4gICAgICAgICAgICBjdXIgPSBjdXIuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHgsIHkgfTtcbn1cbmNsYXNzIERPTVNlbGVjdGlvblN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbmNob3JOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmNob3JPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmZvY3VzTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSAwO1xuICAgIH1cbiAgICBlcShkb21TZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5jaG9yTm9kZSA9PSBkb21TZWwuYW5jaG9yTm9kZSAmJiB0aGlzLmFuY2hvck9mZnNldCA9PSBkb21TZWwuYW5jaG9yT2Zmc2V0ICYmXG4gICAgICAgICAgICB0aGlzLmZvY3VzTm9kZSA9PSBkb21TZWwuZm9jdXNOb2RlICYmIHRoaXMuZm9jdXNPZmZzZXQgPT0gZG9tU2VsLmZvY3VzT2Zmc2V0O1xuICAgIH1cbiAgICBzZXRSYW5nZShyYW5nZSkge1xuICAgICAgICBsZXQgeyBhbmNob3JOb2RlLCBmb2N1c05vZGUgfSA9IHJhbmdlO1xuICAgICAgICAvLyBDbGlwIG9mZnNldHMgdG8gbm9kZSBzaXplIHRvIGF2b2lkIGNyYXNoZXMgd2hlbiBTYWZhcmkgcmVwb3J0cyBib2d1cyBvZmZzZXRzICgjMTE1MilcbiAgICAgICAgdGhpcy5zZXQoYW5jaG9yTm9kZSwgTWF0aC5taW4ocmFuZ2UuYW5jaG9yT2Zmc2V0LCBhbmNob3JOb2RlID8gbWF4T2Zmc2V0KGFuY2hvck5vZGUpIDogMCksIGZvY3VzTm9kZSwgTWF0aC5taW4ocmFuZ2UuZm9jdXNPZmZzZXQsIGZvY3VzTm9kZSA/IG1heE9mZnNldChmb2N1c05vZGUpIDogMCkpO1xuICAgIH1cbiAgICBzZXQoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTm9kZSA9IGFuY2hvck5vZGU7XG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gYW5jaG9yT2Zmc2V0O1xuICAgICAgICB0aGlzLmZvY3VzTm9kZSA9IGZvY3VzTm9kZTtcbiAgICAgICAgdGhpcy5mb2N1c09mZnNldCA9IGZvY3VzT2Zmc2V0O1xuICAgIH1cbn1cbmxldCBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gbnVsbDtcbi8vIEZlYXR1cmUtZGV0ZWN0cyBzdXBwb3J0IGZvciAuZm9jdXMoe3ByZXZlbnRTY3JvbGw6IHRydWV9KSwgYW5kIHVzZXNcbi8vIGEgZmFsbGJhY2sga2x1ZGdlIHdoZW4gbm90IHN1cHBvcnRlZC5cbmZ1bmN0aW9uIGZvY3VzUHJldmVudFNjcm9sbChkb20pIHtcbiAgICBpZiAoZG9tLnNldEFjdGl2ZSlcbiAgICAgICAgcmV0dXJuIGRvbS5zZXRBY3RpdmUoKTsgLy8gaW4gSUVcbiAgICBpZiAocHJldmVudFNjcm9sbFN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKTtcbiAgICBsZXQgc3RhY2sgPSBbXTtcbiAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgc3RhY2sucHVzaChjdXIsIGN1ci5zY3JvbGxUb3AsIGN1ci5zY3JvbGxMZWZ0KTtcbiAgICAgICAgaWYgKGN1ciA9PSBjdXIub3duZXJEb2N1bWVudClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCA9PSBudWxsID8ge1xuICAgICAgICBnZXQgcHJldmVudFNjcm9sbCgpIHtcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSB7IHByZXZlbnRTY3JvbGw6IHRydWUgfTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSA6IHVuZGVmaW5lZCk7XG4gICAgaWYgKCFwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKSB7XG4gICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgZWx0ID0gc3RhY2tbaSsrXSwgdG9wID0gc3RhY2tbaSsrXSwgbGVmdCA9IHN0YWNrW2krK107XG4gICAgICAgICAgICBpZiAoZWx0LnNjcm9sbFRvcCAhPSB0b3ApXG4gICAgICAgICAgICAgICAgZWx0LnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgICAgIGlmIChlbHQuc2Nyb2xsTGVmdCAhPSBsZWZ0KVxuICAgICAgICAgICAgICAgIGVsdC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmxldCBzY3JhdGNoUmFuZ2U7XG5mdW5jdGlvbiB0ZXh0UmFuZ2Uobm9kZSwgZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgbGV0IHJhbmdlID0gc2NyYXRjaFJhbmdlIHx8IChzY3JhdGNoUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpKTtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgdG8pO1xuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGZyb20pO1xuICAgIHJldHVybiByYW5nZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoS2V5KGVsdCwgbmFtZSwgY29kZSwgbW9kcykge1xuICAgIGxldCBvcHRpb25zID0geyBrZXk6IG5hbWUsIGNvZGU6IG5hbWUsIGtleUNvZGU6IGNvZGUsIHdoaWNoOiBjb2RlLCBjYW5jZWxhYmxlOiB0cnVlIH07XG4gICAgaWYgKG1vZHMpXG4gICAgICAgICh7IGFsdEtleTogb3B0aW9ucy5hbHRLZXksIGN0cmxLZXk6IG9wdGlvbnMuY3RybEtleSwgc2hpZnRLZXk6IG9wdGlvbnMuc2hpZnRLZXksIG1ldGFLZXk6IG9wdGlvbnMubWV0YUtleSB9ID0gbW9kcyk7XG4gICAgbGV0IGRvd24gPSBuZXcgS2V5Ym9hcmRFdmVudChcImtleWRvd25cIiwgb3B0aW9ucyk7XG4gICAgZG93bi5zeW50aGV0aWMgPSB0cnVlO1xuICAgIGVsdC5kaXNwYXRjaEV2ZW50KGRvd24pO1xuICAgIGxldCB1cCA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5dXBcIiwgb3B0aW9ucyk7XG4gICAgdXAuc3ludGhldGljID0gdHJ1ZTtcbiAgICBlbHQuZGlzcGF0Y2hFdmVudCh1cCk7XG4gICAgcmV0dXJuIGRvd24uZGVmYXVsdFByZXZlbnRlZCB8fCB1cC5kZWZhdWx0UHJldmVudGVkO1xufVxuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT0gOSB8fCBub2RlLm5vZGVUeXBlID09IDExICYmIG5vZGUuaG9zdCkpXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuYXNzaWduZWRTbG90IHx8IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjbGVhckF0dHJpYnV0ZXMobm9kZSkge1xuICAgIHdoaWxlIChub2RlLmF0dHJpYnV0ZXMubGVuZ3RoKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUobm9kZS5hdHRyaWJ1dGVzWzBdKTtcbn1cbmZ1bmN0aW9uIGF0RWxlbWVudFN0YXJ0KGRvYywgc2VsZWN0aW9uKSB7XG4gICAgbGV0IG5vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlLCBvZmZzZXQgPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgaWYgKCFub2RlIHx8IHNlbGVjdGlvbi5hbmNob3JOb2RlICE9IG5vZGUgfHwgc2VsZWN0aW9uLmFuY2hvck9mZnNldCAhPSBvZmZzZXQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBTYWZhcmkgY2FuIHJlcG9ydCBib2d1cyBvZmZzZXRzICgjMTE1MilcbiAgICBvZmZzZXQgPSBNYXRoLm1pbihvZmZzZXQsIG1heE9mZnNldChub2RlKSk7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgaWYgKHByZXYuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICBvZmZzZXQtLTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBwcmV2O1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG1heE9mZnNldChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlID09IGRvYykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1Njcm9sbGVkVG9Cb3R0b20oZWx0KSB7XG4gICAgcmV0dXJuIGVsdC5zY3JvbGxUb3AgPiBNYXRoLm1heCgxLCBlbHQuc2Nyb2xsSGVpZ2h0IC0gZWx0LmNsaWVudEhlaWdodCAtIDQpO1xufVxuZnVuY3Rpb24gdGV4dE5vZGVCZWZvcmUoc3RhcnROb2RlLCBzdGFydE9mZnNldCkge1xuICAgIGZvciAobGV0IG5vZGUgPSBzdGFydE5vZGUsIG9mZnNldCA9IHN0YXJ0T2Zmc2V0OzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIG9mZnNldCA9IG1heE9mZnNldChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgJiYgIWlzQmxvY2tFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBkb21JbmRleChub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRleHROb2RlQWZ0ZXIoc3RhcnROb2RlLCBzdGFydE9mZnNldCkge1xuICAgIGZvciAobGV0IG5vZGUgPSBzdGFydE5vZGUsIG9mZnNldCA9IHN0YXJ0T2Zmc2V0OzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiBvZmZzZXQgPCBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiAhaXNCbG9ja0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IGRvbUluZGV4KG5vZGUpICsgMTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRE9NUG9zIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBvZmZzZXQsIHByZWNpc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnByZWNpc2UgPSBwcmVjaXNlO1xuICAgIH1cbiAgICBzdGF0aWMgYmVmb3JlKGRvbSwgcHJlY2lzZSkgeyByZXR1cm4gbmV3IERPTVBvcyhkb20ucGFyZW50Tm9kZSwgZG9tSW5kZXgoZG9tKSwgcHJlY2lzZSk7IH1cbiAgICBzdGF0aWMgYWZ0ZXIoZG9tLCBwcmVjaXNlKSB7IHJldHVybiBuZXcgRE9NUG9zKGRvbS5wYXJlbnROb2RlLCBkb21JbmRleChkb20pICsgMSwgcHJlY2lzZSk7IH1cbn1cbmNvbnN0IG5vQ2hpbGRyZW4gPSBbXTtcbmNsYXNzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgcG9zQXRTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucG9zQmVmb3JlKHRoaXMpIDogMDtcbiAgICB9XG4gICAgZ2V0IHBvc0F0RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHBvc0JlZm9yZSh2aWV3KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PSB2aWV3KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gY2hpbGQubGVuZ3RoICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY2hpbGQgaW4gcG9zQmVmb3JlXCIpO1xuICAgIH1cbiAgICBwb3NBZnRlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc0JlZm9yZSh2aWV3KSArIHZpZXcubGVuZ3RoO1xuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmZsYWdzICYgMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi8pIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmRvbTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbnVsbCwgbmV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZmxhZ3MgJiA3IC8qIFZpZXdGbGFnLkRpcnR5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQuZG9tICYmIChuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZW50VmlldyA9IENvbnRlbnRWaWV3LmdldChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudFZpZXcgfHwgIWNvbnRlbnRWaWV3LnBhcmVudCAmJiBjb250ZW50Vmlldy5jYW5SZXVzZURPTShjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmV1c2VET00obmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2sgJiYgIXRyYWNrLndyaXR0ZW4gJiYgdHJhY2subm9kZSA9PSBwYXJlbnQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQuZG9tLCBuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IGNoaWxkLmRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5leHQgJiYgdHJhY2sgJiYgdHJhY2subm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAobmV4dClcbiAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgMSAvKiBWaWV3RmxhZy5DaGlsZERpcnR5ICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmZsYWdzICY9IH43IC8qIFZpZXdGbGFnLkRpcnR5ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZURPTShfZG9tKSB7IH1cbiAgICBsb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBhZnRlcjtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGFmdGVyID0gdGhpcy5kb20uY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJpYXMgPSBtYXhPZmZzZXQobm9kZSkgPT0gMCA/IDAgOiBvZmZzZXQgPT0gMCA/IC0xIDogMTtcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgPT0gdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChiaWFzID09IDAgJiYgcGFyZW50LmZpcnN0Q2hpbGQgIT0gcGFyZW50Lmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpYXMgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYmlhcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmlhcyA8IDApXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBub2RlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGFmdGVyID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZ0ZXIgPT0gdGhpcy5kb20uZmlyc3RDaGlsZClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB3aGlsZSAoYWZ0ZXIgJiYgIUNvbnRlbnRWaWV3LmdldChhZnRlcikpXG4gICAgICAgICAgICBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIWFmdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20gPT0gYWZ0ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIHBvcyArPSBjaGlsZC5sZW5ndGggKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgb2Zmc2V0ID0gMCkge1xuICAgICAgICBsZXQgZnJvbUkgPSAtMSwgZnJvbVN0YXJ0ID0gLTEsIHRvSSA9IC0xLCB0b0VuZCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gb2Zmc2V0LCBwcmV2RW5kID0gb2Zmc2V0OyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHBvcyA8IGZyb20gJiYgZW5kID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRvbUJvdW5kc0Fyb3VuZChmcm9tLCB0bywgcG9zKTtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gZnJvbSAmJiBmcm9tSSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZyb21JID0gaTtcbiAgICAgICAgICAgICAgICBmcm9tU3RhcnQgPSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zID4gdG8gJiYgY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB0b0kgPSBpO1xuICAgICAgICAgICAgICAgIHRvRW5kID0gcHJldkVuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZFbmQgPSBlbmQ7XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZyb206IGZyb21TdGFydCwgdG86IHRvRW5kIDwgMCA/IG9mZnNldCArIHRoaXMubGVuZ3RoIDogdG9FbmQsXG4gICAgICAgICAgICBzdGFydERPTTogKGZyb21JID8gdGhpcy5jaGlsZHJlbltmcm9tSSAtIDFdLmRvbS5uZXh0U2libGluZyA6IG51bGwpIHx8IHRoaXMuZG9tLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBlbmRET006IHRvSSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmIHRvSSA+PSAwID8gdGhpcy5jaGlsZHJlblt0b0ldLmRvbSA6IG51bGwgfTtcbiAgICB9XG4gICAgbWFya0RpcnR5KGFuZFBhcmVudCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZmxhZ3MgfD0gMiAvKiBWaWV3RmxhZy5Ob2RlRGlydHkgKi87XG4gICAgICAgIHRoaXMubWFya1BhcmVudHNEaXJ0eShhbmRQYXJlbnQpO1xuICAgIH1cbiAgICBtYXJrUGFyZW50c0RpcnR5KGNoaWxkTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDsgcGFyZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0KVxuICAgICAgICAgICAgICAgIHBhcmVudC5mbGFncyB8PSAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZmxhZ3MgJiAxIC8qIFZpZXdGbGFnLkNoaWxkRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGFyZW50LmZsYWdzIHw9IDEgLyogVmlld0ZsYWcuQ2hpbGREaXJ0eSAqLztcbiAgICAgICAgICAgIGNoaWxkTGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFBhcmVudChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5mbGFncyAmIDcgLyogVmlld0ZsYWcuRGlydHkgKi8pXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrUGFyZW50c0RpcnR5KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldERPTShkb20pIHtcbiAgICAgICAgaWYgKHRoaXMuZG9tID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5kb20uY21WaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb20gPSBkb207XG4gICAgICAgIGRvbS5jbVZpZXcgPSB0aGlzO1xuICAgIH1cbiAgICBnZXQgcm9vdFZpZXcoKSB7XG4gICAgICAgIGZvciAobGV0IHYgPSB0aGlzOzspIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB2LnBhcmVudDtcbiAgICAgICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgdiA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlQ2hpbGRyZW4oZnJvbSwgdG8sIGNoaWxkcmVuID0gbm9DaGlsZHJlbikge1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09IHRoaXMgJiYgY2hpbGRyZW4uaW5kZXhPZihjaGlsZCkgPCAwKVxuICAgICAgICAgICAgICAgIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoIDwgMjUwKVxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoZnJvbSwgdG8gLSBmcm9tLCAuLi5jaGlsZHJlbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXS5jb25jYXQodGhpcy5jaGlsZHJlbi5zbGljZSgwLCBmcm9tKSwgY2hpbGRyZW4sIHRoaXMuY2hpbGRyZW4uc2xpY2UodG8pKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnNldFBhcmVudCh0aGlzKTtcbiAgICB9XG4gICAgaWdub3JlTXV0YXRpb24oX3JlYykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZ25vcmVFdmVudChfZXZlbnQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgY2hpbGRDdXJzb3IocG9zID0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGlsZEN1cnNvcih0aGlzLmNoaWxkcmVuLCBwb3MsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICB9XG4gICAgY2hpbGRQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZEN1cnNvcigpLmZpbmRQb3MocG9zLCBiaWFzKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLnJlcGxhY2UoXCJWaWV3XCIsIFwiXCIpO1xuICAgICAgICByZXR1cm4gbmFtZSArICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgdGhpcy5jaGlsZHJlbi5qb2luKCkgKyBcIilcIiA6XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA/IFwiW1wiICsgKG5hbWUgPT0gXCJUZXh0XCIgPyB0aGlzLnRleHQgOiB0aGlzLmxlbmd0aCkgKyBcIl1cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICh0aGlzLmJyZWFrQWZ0ZXIgPyBcIiNcIiA6IFwiXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KG5vZGUpIHsgcmV0dXJuIG5vZGUuY21WaWV3OyB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZ2V0IGlzV2lkZ2V0KCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBiZWNvbWUob3RoZXIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgY2FuUmV1c2VET00ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyLmNvbnN0cnVjdG9yID09IHRoaXMuY29uc3RydWN0b3IgJiYgISgodGhpcy5mbGFncyB8IG90aGVyLmZsYWdzKSAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgIH1cbiAgICAvLyBXaGVuIHRoaXMgaXMgYSB6ZXJvLWxlbmd0aCB2aWV3IHdpdGggYSBzaWRlLCB0aGlzIHNob3VsZCByZXR1cm4gYVxuICAgIC8vIG51bWJlciA8PSAwIHRvIGluZGljYXRlIGl0IGlzIGJlZm9yZSBpdHMgcG9zaXRpb24sIG9yIGFcbiAgICAvLyBudW1iZXIgPiAwIHdoZW4gYWZ0ZXIgaXRzIHBvc2l0aW9uLlxuICAgIGdldFNpZGUoKSB7IHJldHVybiAwOyB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbilcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQgPT0gdGhpcylcbiAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG59XG5Db250ZW50Vmlldy5wcm90b3R5cGUuYnJlYWtBZnRlciA9IDA7XG4vLyBSZW1vdmUgYSBET00gbm9kZSBhbmQgcmV0dXJuIGl0cyBuZXh0IHNpYmxpbmcuXG5mdW5jdGlvbiBybSQxKGRvbSkge1xuICAgIGxldCBuZXh0ID0gZG9tLm5leHRTaWJsaW5nO1xuICAgIGRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbSk7XG4gICAgcmV0dXJuIG5leHQ7XG59XG5jbGFzcyBDaGlsZEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4sIHBvcywgaSkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLmkgPSBpO1xuICAgICAgICB0aGlzLm9mZiA9IDA7XG4gICAgfVxuICAgIGZpbmRQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAocG9zID4gdGhpcy5wb3MgfHwgcG9zID09IHRoaXMucG9zICYmXG4gICAgICAgICAgICAgICAgKGJpYXMgPiAwIHx8IHRoaXMuaSA9PSAwIHx8IHRoaXMuY2hpbGRyZW5bdGhpcy5pIC0gMV0uYnJlYWtBZnRlcikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZiA9IHBvcyAtIHRoaXMucG9zO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmNoaWxkcmVuWy0tdGhpcy5pXTtcbiAgICAgICAgICAgIHRoaXMucG9zIC09IG5leHQubGVuZ3RoICsgbmV4dC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVwbGFjZVJhbmdlKHBhcmVudCwgZnJvbUksIGZyb21PZmYsIHRvSSwgdG9PZmYsIGluc2VydCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICBsZXQgeyBjaGlsZHJlbiB9ID0gcGFyZW50O1xuICAgIGxldCBiZWZvcmUgPSBjaGlsZHJlbi5sZW5ndGggPyBjaGlsZHJlbltmcm9tSV0gOiBudWxsO1xuICAgIGxldCBsYXN0ID0gaW5zZXJ0Lmxlbmd0aCA/IGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIGxldCBicmVha0F0RW5kID0gbGFzdCA/IGxhc3QuYnJlYWtBZnRlciA6IGJyZWFrQXRTdGFydDtcbiAgICAvLyBDaGFuZ2Ugd2l0aGluIGEgc2luZ2xlIGNoaWxkXG4gICAgaWYgKGZyb21JID09IHRvSSAmJiBiZWZvcmUgJiYgIWJyZWFrQXRTdGFydCAmJiAhYnJlYWtBdEVuZCAmJiBpbnNlcnQubGVuZ3RoIDwgMiAmJlxuICAgICAgICBiZWZvcmUubWVyZ2UoZnJvbU9mZiwgdG9PZmYsIGluc2VydC5sZW5ndGggPyBsYXN0IDogbnVsbCwgZnJvbU9mZiA9PSAwLCBvcGVuU3RhcnQsIG9wZW5FbmQpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHRvSSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSBjaGlsZHJlblt0b0ldO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVuZCBvZiB0aGUgY2hpbGQgYWZ0ZXIgdGhlIHVwZGF0ZSBpcyBwcmVzZXJ2ZWQgaW4gYGFmdGVyYFxuICAgICAgICBpZiAoYWZ0ZXIgJiYgKHRvT2ZmIDwgYWZ0ZXIubGVuZ3RoIHx8IGFmdGVyLmJyZWFrQWZ0ZXIgJiYgKGxhc3QgPT09IG51bGwgfHwgbGFzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGFzdC5icmVha0FmdGVyKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIHNwbGl0dGluZyBhIGNoaWxkLCBzZXBhcmF0ZSBwYXJ0IG9mIGl0IHRvIGF2b2lkIHRoYXRcbiAgICAgICAgICAgIC8vIGJlaW5nIG1hbmdsZWQgd2hlbiB1cGRhdGluZyB0aGUgY2hpbGQgYmVmb3JlIHRoZSB1cGRhdGUuXG4gICAgICAgICAgICBpZiAoZnJvbUkgPT0gdG9JKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBhZnRlci5zcGxpdCh0b09mZik7XG4gICAgICAgICAgICAgICAgdG9PZmYgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgYWZ0ZXIgdGhlIHJlcGxhY2VtZW50IHNob3VsZCBiZSBtZXJnZWQgd2l0aFxuICAgICAgICAgICAgLy8gdGhlIGxhc3QgcmVwbGFjaW5nIGVsZW1lbnQsIHVwZGF0ZSBgY29udGVudGBcbiAgICAgICAgICAgIGlmICghYnJlYWtBdEVuZCAmJiBsYXN0ICYmIGFmdGVyLm1lcmdlKDAsIHRvT2ZmLCBsYXN0LCB0cnVlLCAwLCBvcGVuRW5kKSkge1xuICAgICAgICAgICAgICAgIGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0gPSBhZnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc3RhcnQgb2YgdGhlIGFmdGVyIGVsZW1lbnQsIGlmIG5lY2Vzc2FyeSwgYW5kXG4gICAgICAgICAgICAgICAgLy8gYWRkIGl0IHRvIGBjb250ZW50YC5cbiAgICAgICAgICAgICAgICBpZiAodG9PZmYgfHwgYWZ0ZXIuY2hpbGRyZW4ubGVuZ3RoICYmICFhZnRlci5jaGlsZHJlblswXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyLm1lcmdlKDAsIHRvT2ZmLCBudWxsLCBmYWxzZSwgMCwgb3BlbkVuZCk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0LnB1c2goYWZ0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFmdGVyID09PSBudWxsIHx8IGFmdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZnRlci5icmVha0FmdGVyKSB7XG4gICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBhdCBgdG9JYCBpcyBlbnRpcmVseSBjb3ZlcmVkIGJ5IHRoaXMgcmFuZ2UuXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSBpdHMgbGluZSBicmVhaywgaWYgYW55LlxuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgbGFzdC5icmVha0FmdGVyID0gMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVha0F0U3RhcnQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIHdlJ3ZlIGhhbmRsZWQgdGhlIG5leHQgZWxlbWVudCBmcm9tIHRoZSBjdXJyZW50IGVsZW1lbnRzXG4gICAgICAgIC8vIG5vdywgbWFrZSBzdXJlIGB0b0lgIHBvaW50cyBhZnRlciB0aGF0LlxuICAgICAgICB0b0krKztcbiAgICB9XG4gICAgaWYgKGJlZm9yZSkge1xuICAgICAgICBiZWZvcmUuYnJlYWtBZnRlciA9IGJyZWFrQXRTdGFydDtcbiAgICAgICAgaWYgKGZyb21PZmYgPiAwKSB7XG4gICAgICAgICAgICBpZiAoIWJyZWFrQXRTdGFydCAmJiBpbnNlcnQubGVuZ3RoICYmIGJlZm9yZS5tZXJnZShmcm9tT2ZmLCBiZWZvcmUubGVuZ3RoLCBpbnNlcnRbMF0sIGZhbHNlLCBvcGVuU3RhcnQsIDApKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlLmJyZWFrQWZ0ZXIgPSBpbnNlcnQuc2hpZnQoKS5icmVha0FmdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbU9mZiA8IGJlZm9yZS5sZW5ndGggfHwgYmVmb3JlLmNoaWxkcmVuLmxlbmd0aCAmJiBiZWZvcmUuY2hpbGRyZW5bYmVmb3JlLmNoaWxkcmVuLmxlbmd0aCAtIDFdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlLm1lcmdlKGZyb21PZmYsIGJlZm9yZS5sZW5ndGgsIG51bGwsIGZhbHNlLCBvcGVuU3RhcnQsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbUkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUcnkgdG8gbWVyZ2Ugd2lkZ2V0cyBvbiB0aGUgYm91bmRhcmllcyBvZiB0aGUgcmVwbGFjZW1lbnRcbiAgICB3aGlsZSAoZnJvbUkgPCB0b0kgJiYgaW5zZXJ0Lmxlbmd0aCkge1xuICAgICAgICBpZiAoY2hpbGRyZW5bdG9JIC0gMV0uYmVjb21lKGluc2VydFtpbnNlcnQubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICB0b0ktLTtcbiAgICAgICAgICAgIGluc2VydC5wb3AoKTtcbiAgICAgICAgICAgIG9wZW5FbmQgPSBpbnNlcnQubGVuZ3RoID8gMCA6IG9wZW5TdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbltmcm9tSV0uYmVjb21lKGluc2VydFswXSkpIHtcbiAgICAgICAgICAgIGZyb21JKys7XG4gICAgICAgICAgICBpbnNlcnQuc2hpZnQoKTtcbiAgICAgICAgICAgIG9wZW5TdGFydCA9IGluc2VydC5sZW5ndGggPyAwIDogb3BlbkVuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaW5zZXJ0Lmxlbmd0aCAmJiBmcm9tSSAmJiB0b0kgPCBjaGlsZHJlbi5sZW5ndGggJiYgIWNoaWxkcmVuW2Zyb21JIC0gMV0uYnJlYWtBZnRlciAmJlxuICAgICAgICBjaGlsZHJlblt0b0ldLm1lcmdlKDAsIDAsIGNoaWxkcmVuW2Zyb21JIC0gMV0sIGZhbHNlLCBvcGVuU3RhcnQsIG9wZW5FbmQpKVxuICAgICAgICBmcm9tSS0tO1xuICAgIGlmIChmcm9tSSA8IHRvSSB8fCBpbnNlcnQubGVuZ3RoKVxuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkcmVuKGZyb21JLCB0b0ksIGluc2VydCk7XG59XG5mdW5jdGlvbiBtZXJnZUNoaWxkcmVuSW50byhwYXJlbnQsIGZyb20sIHRvLCBpbnNlcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgIGxldCBjdXIgPSBwYXJlbnQuY2hpbGRDdXJzb3IoKTtcbiAgICBsZXQgeyBpOiB0b0ksIG9mZjogdG9PZmYgfSA9IGN1ci5maW5kUG9zKHRvLCAxKTtcbiAgICBsZXQgeyBpOiBmcm9tSSwgb2ZmOiBmcm9tT2ZmIH0gPSBjdXIuZmluZFBvcyhmcm9tLCAtMSk7XG4gICAgbGV0IGRMZW4gPSBmcm9tIC0gdG87XG4gICAgZm9yIChsZXQgdmlldyBvZiBpbnNlcnQpXG4gICAgICAgIGRMZW4gKz0gdmlldy5sZW5ndGg7XG4gICAgcGFyZW50Lmxlbmd0aCArPSBkTGVuO1xuICAgIHJlcGxhY2VSYW5nZShwYXJlbnQsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBpbnNlcnQsIDAsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG59XG5cbmxldCBuYXYgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogXCJcIiwgdmVuZG9yOiBcIlwiLCBwbGF0Zm9ybTogXCJcIiB9O1xubGV0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiID8gZG9jdW1lbnQgOiB7IGRvY3VtZW50RWxlbWVudDogeyBzdHlsZToge30gfSB9O1xuY29uc3QgaWVfZWRnZSA9IC8qQF9fUFVSRV9fKi8vRWRnZVxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IGllX3VwdG8xMCA9IC8qQF9fUFVSRV9fKi8vTVNJRSBcXGQvLnRlc3QobmF2LnVzZXJBZ2VudCk7XG5jb25zdCBpZV8xMXVwID0gLypAX19QVVJFX18qLy9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IGllID0gISEoaWVfdXB0bzEwIHx8IGllXzExdXAgfHwgaWVfZWRnZSk7XG5jb25zdCBnZWNrbyA9ICFpZSAmJiAvKkBfX1BVUkVfXyovL2dlY2tvXFwvKFxcZCspL2kudGVzdChuYXYudXNlckFnZW50KTtcbmNvbnN0IGNocm9tZSA9ICFpZSAmJiAvKkBfX1BVUkVfXyovL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KTtcbmNvbnN0IHdlYmtpdCA9IFwid2Via2l0Rm9udFNtb290aGluZ1wiIGluIGRvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5jb25zdCBzYWZhcmkgPSAhaWUgJiYgLypAX19QVVJFX18qLy9BcHBsZSBDb21wdXRlci8udGVzdChuYXYudmVuZG9yKTtcbmNvbnN0IGlvcyA9IHNhZmFyaSAmJiAoLypAX19QVVJFX18qLy9Nb2JpbGVcXC9cXHcrLy50ZXN0KG5hdi51c2VyQWdlbnQpIHx8IG5hdi5tYXhUb3VjaFBvaW50cyA+IDIpO1xudmFyIGJyb3dzZXIgPSB7XG4gICAgbWFjOiBpb3MgfHwgLypAX19QVVJFX18qLy9NYWMvLnRlc3QobmF2LnBsYXRmb3JtKSxcbiAgICB3aW5kb3dzOiAvKkBfX1BVUkVfXyovL1dpbi8udGVzdChuYXYucGxhdGZvcm0pLFxuICAgIGxpbnV4OiAvKkBfX1BVUkVfXyovL0xpbnV4fFgxMS8udGVzdChuYXYucGxhdGZvcm0pLFxuICAgIGllLFxuICAgIGllX3ZlcnNpb246IGllX3VwdG8xMCA/IGRvYy5kb2N1bWVudE1vZGUgfHwgNiA6IGllXzExdXAgPyAraWVfMTF1cFsxXSA6IGllX2VkZ2UgPyAraWVfZWRnZVsxXSA6IDAsXG4gICAgZ2Vja28sXG4gICAgZ2Vja29fdmVyc2lvbjogZ2Vja28gPyArKC8qQF9fUFVSRV9fKi8vRmlyZWZveFxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdIDogMCxcbiAgICBjaHJvbWU6ICEhY2hyb21lLFxuICAgIGNocm9tZV92ZXJzaW9uOiBjaHJvbWUgPyArY2hyb21lWzFdIDogMCxcbiAgICBpb3MsXG4gICAgYW5kcm9pZDogLypAX19QVVJFX18qLy9BbmRyb2lkXFxiLy50ZXN0KG5hdi51c2VyQWdlbnQpLFxuICAgIHdlYmtpdCxcbiAgICBzYWZhcmksXG4gICAgd2Via2l0X3ZlcnNpb246IHdlYmtpdCA/ICsoLypAX19QVVJFX18qLy9cXGJBcHBsZVdlYktpdFxcLyhcXGQrKS8uZXhlYyhuYXYudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdIDogMCxcbiAgICB0YWJTaXplOiBkb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRhYlNpemUgIT0gbnVsbCA/IFwidGFiLXNpemVcIiA6IFwiLW1vei10YWItc2l6ZVwiXG59O1xuXG5jb25zdCBNYXhKb2luTGVuID0gMjU2O1xuY2xhc3MgVGV4dFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IodGV4dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aDsgfVxuICAgIGNyZWF0ZURPTSh0ZXh0RE9NKSB7XG4gICAgICAgIHRoaXMuc2V0RE9NKHRleHRET00gfHwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy50ZXh0KSk7XG4gICAgfVxuICAgIHN5bmModmlldywgdHJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRE9NKCk7XG4gICAgICAgIGlmICh0aGlzLmRvbS5ub2RlVmFsdWUgIT0gdGhpcy50ZXh0KSB7XG4gICAgICAgICAgICBpZiAodHJhY2sgJiYgdHJhY2subm9kZSA9PSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICB0cmFjay53cml0dGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZG9tLm5vZGVWYWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXVzZURPTShkb20pIHtcbiAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVET00oZG9tKTtcbiAgICB9XG4gICAgbWVyZ2UoZnJvbSwgdG8sIHNvdXJjZSkge1xuICAgICAgICBpZiAoKHRoaXMuZmxhZ3MgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKSB8fFxuICAgICAgICAgICAgc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIFRleHRWaWV3KSB8fFxuICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoIC0gKHRvIC0gZnJvbSkgKyBzb3VyY2UubGVuZ3RoID4gTWF4Sm9pbkxlbiB8fFxuICAgICAgICAgICAgICAgIChzb3VyY2UuZmxhZ3MgJiA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zbGljZSgwLCBmcm9tKSArIChzb3VyY2UgPyBzb3VyY2UudGV4dCA6IFwiXCIpICsgdGhpcy50ZXh0LnNsaWNlKHRvKTtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBUZXh0Vmlldyh0aGlzLnRleHQuc2xpY2UoZnJvbSkpO1xuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuc2xpY2UoMCwgZnJvbSk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJlc3VsdC5mbGFncyB8PSB0aGlzLmZsYWdzICYgOCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gbm9kZSA9PSB0aGlzLmRvbSA/IG9mZnNldCA6IG9mZnNldCA/IHRoaXMudGV4dC5sZW5ndGggOiAwO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHsgcmV0dXJuIG5ldyBET01Qb3ModGhpcy5kb20sIHBvcyk7IH1cbiAgICBkb21Cb3VuZHNBcm91bmQoX2Zyb20sIF90bywgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7IGZyb206IG9mZnNldCwgdG86IG9mZnNldCArIHRoaXMubGVuZ3RoLCBzdGFydERPTTogdGhpcy5kb20sIGVuZERPTTogdGhpcy5kb20ubmV4dFNpYmxpbmcgfTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiB0ZXh0Q29vcmRzKHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgIH1cbn1cbmNsYXNzIE1hcmtWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKG1hcmssIGNoaWxkcmVuID0gW10sIGxlbmd0aCA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tYXJrID0gbWFyaztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgY2ggb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICBjaC5zZXRQYXJlbnQodGhpcyk7XG4gICAgfVxuICAgIHNldEF0dHJzKGRvbSkge1xuICAgICAgICBjbGVhckF0dHJpYnV0ZXMoZG9tKTtcbiAgICAgICAgaWYgKHRoaXMubWFyay5jbGFzcylcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSB0aGlzLm1hcmsuY2xhc3M7XG4gICAgICAgIGlmICh0aGlzLm1hcmsuYXR0cnMpXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMubWFyay5hdHRycylcbiAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKG5hbWUsIHRoaXMubWFyay5hdHRyc1tuYW1lXSk7XG4gICAgICAgIHJldHVybiBkb207XG4gICAgfVxuICAgIGNhblJldXNlRE9NKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jYW5SZXVzZURPTShvdGhlcikgJiYgISgodGhpcy5mbGFncyB8IG90aGVyLmZsYWdzKSAmIDggLyogVmlld0ZsYWcuQ29tcG9zaXRpb24gKi8pO1xuICAgIH1cbiAgICByZXVzZURPTShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IHRoaXMubWFyay50YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5mbGFncyB8PSA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8gfCAyIC8qIFZpZXdGbGFnLk5vZGVEaXJ0eSAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzeW5jKHZpZXcsIHRyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLnNldERPTSh0aGlzLnNldEF0dHJzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5tYXJrLnRhZ05hbWUpKSk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmxhZ3MgJiA0IC8qIFZpZXdGbGFnLkF0dHJzRGlydHkgKi8pXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJzKHRoaXMuZG9tKTtcbiAgICAgICAgc3VwZXIuc3luYyh2aWV3LCB0cmFjayk7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIF9oYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgc291cmNlLm1hcmsuZXEodGhpcy5tYXJrKSkgfHxcbiAgICAgICAgICAgIChmcm9tICYmIG9wZW5TdGFydCA8PSAwKSB8fCAodG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbWVyZ2VDaGlsZHJlbkludG8odGhpcywgZnJvbSwgdG8sIHNvdXJjZSA/IHNvdXJjZS5jaGlsZHJlbi5zbGljZSgpIDogW10sIG9wZW5TdGFydCAtIDEsIG9wZW5FbmQgLSAxKTtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBvZmYgPSAwLCBkZXRhY2hGcm9tID0gLTEsIGkgPSAwO1xuICAgICAgICBmb3IgKGxldCBlbHQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IGVuZCA9IG9mZiArIGVsdC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID4gZnJvbSlcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChvZmYgPCBmcm9tID8gZWx0LnNwbGl0KGZyb20gLSBvZmYpIDogZWx0KTtcbiAgICAgICAgICAgIGlmIChkZXRhY2hGcm9tIDwgMCAmJiBvZmYgPj0gZnJvbSlcbiAgICAgICAgICAgICAgICBkZXRhY2hGcm9tID0gaTtcbiAgICAgICAgICAgIG9mZiA9IGVuZDtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5sZW5ndGggLSBmcm9tO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb207XG4gICAgICAgIGlmIChkZXRhY2hGcm9tID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gZGV0YWNoRnJvbTtcbiAgICAgICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrVmlldyh0aGlzLm1hcmssIHJlc3VsdCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiBpbmxpbmVET01BdFBvcyh0aGlzLCBwb3MpO1xuICAgIH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvb3Jkc0luQ2hpbGRyZW4odGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0ZXh0Q29vcmRzKHRleHQsIHBvcywgc2lkZSkge1xuICAgIGxldCBsZW5ndGggPSB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgaWYgKHBvcyA+IGxlbmd0aClcbiAgICAgICAgcG9zID0gbGVuZ3RoO1xuICAgIGxldCBmcm9tID0gcG9zLCB0byA9IHBvcywgZmxhdHRlbiA9IDA7XG4gICAgaWYgKHBvcyA9PSAwICYmIHNpZGUgPCAwIHx8IHBvcyA9PSBsZW5ndGggJiYgc2lkZSA+PSAwKSB7XG4gICAgICAgIGlmICghKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuZ2Vja28pKSB7IC8vIFRoZXNlIGJyb3dzZXJzIHJlbGlhYmx5IHJldHVybiB2YWxpZCByZWN0YW5nbGVzIGZvciBlbXB0eSByYW5nZXNcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICBmcm9tLS07XG4gICAgICAgICAgICAgICAgZmxhdHRlbiA9IDE7XG4gICAgICAgICAgICB9IC8vIEZJWE1FIHRoaXMgaXMgd3JvbmcgaW4gUlRMIHRleHRcbiAgICAgICAgICAgIGVsc2UgaWYgKHRvIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG8rKztcbiAgICAgICAgICAgICAgICBmbGF0dGVuID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChzaWRlIDwgMClcbiAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgZWxzZSBpZiAodG8gPCBsZW5ndGgpXG4gICAgICAgICAgICB0bysrO1xuICAgIH1cbiAgICBsZXQgcmVjdHMgPSB0ZXh0UmFuZ2UodGV4dCwgZnJvbSwgdG8pLmdldENsaWVudFJlY3RzKCk7XG4gICAgaWYgKCFyZWN0cy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCByZWN0ID0gcmVjdHNbKGZsYXR0ZW4gPyBmbGF0dGVuIDwgMCA6IHNpZGUgPj0gMCkgPyAwIDogcmVjdHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGJyb3dzZXIuc2FmYXJpICYmICFmbGF0dGVuICYmIHJlY3Qud2lkdGggPT0gMClcbiAgICAgICAgcmVjdCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwocmVjdHMsIHIgPT4gci53aWR0aCkgfHwgcmVjdDtcbiAgICByZXR1cm4gZmxhdHRlbiA/IGZsYXR0ZW5SZWN0KHJlY3QsIGZsYXR0ZW4gPCAwKSA6IHJlY3QgfHwgbnVsbDtcbn1cbi8vIEFsc28gdXNlZCBmb3IgY29sbGFwc2VkIHJhbmdlcyB0aGF0IGRvbid0IGhhdmUgYSBwbGFjZWhvbGRlciB3aWRnZXQhXG5jbGFzcyBXaWRnZXRWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIHN0YXRpYyBjcmVhdGUod2lkZ2V0LCBsZW5ndGgsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXRWaWV3KHdpZGdldCwgbGVuZ3RoLCBzaWRlKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnNpZGUgPSBzaWRlO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBXaWRnZXRWaWV3LmNyZWF0ZSh0aGlzLndpZGdldCwgdGhpcy5sZW5ndGggLSBmcm9tLCB0aGlzLnNpZGUpO1xuICAgICAgICB0aGlzLmxlbmd0aCAtPSBmcm9tO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzeW5jKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tLCB2aWV3KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odmlldykpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5lZGl0YWJsZSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFdpZGdldFZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGUgJiZcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yID09IG90aGVyLndpZGdldC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5jb21wYXJlKG90aGVyLndpZGdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrRGlydHkodHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kb20gJiYgIXRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSB0aGlzLndpZGdldDtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0ID0gb3RoZXIud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBvdGhlci5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0aGlzLndpZGdldC5pZ25vcmVFdmVudChldmVudCk7IH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBUZXh0LmVtcHR5O1xuICAgICAgICBsZXQgdG9wID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHRvcC5wYXJlbnQpXG4gICAgICAgICAgICB0b3AgPSB0b3AucGFyZW50O1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0b3AsIHRleHQgPSB2aWV3ICYmIHZpZXcuc3RhdGUuZG9jLCBzdGFydCA9IHRoaXMucG9zQXRTdGFydDtcbiAgICAgICAgcmV0dXJuIHRleHQgPyB0ZXh0LnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMubGVuZ3RoKSA6IFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gKHRoaXMubGVuZ3RoID8gcG9zID09IDAgOiB0aGlzLnNpZGUgPiAwKVxuICAgICAgICAgICAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKVxuICAgICAgICAgICAgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20sIHBvcyA9PSB0aGlzLmxlbmd0aCk7XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgbGV0IHJlY3RzID0gdGhpcy5kb20uZ2V0Q2xpZW50UmVjdHMoKSwgcmVjdCA9IG51bGw7XG4gICAgICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBmcm9tQmFjayA9IHRoaXMuc2lkZSA/IHRoaXMuc2lkZSA8IDAgOiBwb3MgPiAwO1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbUJhY2sgPyByZWN0cy5sZW5ndGggLSAxIDogMDs7IGkgKz0gKGZyb21CYWNrID8gLTEgOiAxKSkge1xuICAgICAgICAgICAgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKHBvcyA+IDAgPyBpID09IDAgOiBpID09IHJlY3RzLmxlbmd0aCAtIDEgfHwgcmVjdC50b3AgPCByZWN0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QocmVjdCwgIWZyb21CYWNrKTtcbiAgICB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLndpZGdldC5pc0hpZGRlbjsgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy53aWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgfVxufVxuLy8gVGhlc2UgYXJlIGRyYXduIGFyb3VuZCB1bmVkaXRhYmxlIHdpZGdldHMgdG8gYXZvaWQgYSBudW1iZXIgb2Zcbi8vIGJyb3dzZXIgYnVncyB0aGF0IHNob3cgdXAgd2hlbiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IG5leHQgdG9cbi8vIHVuZWRpdGFibGUgaW5saW5lIGNvbnRlbnQuXG5jbGFzcyBXaWRnZXRCdWZmZXJWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaWRlID0gc2lkZTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIDA7IH1cbiAgICBtZXJnZSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFdpZGdldEJ1ZmZlclZpZXcgJiYgb3RoZXIuc2lkZSA9PSB0aGlzLnNpZGU7XG4gICAgfVxuICAgIHNwbGl0KCkgeyByZXR1cm4gbmV3IFdpZGdldEJ1ZmZlclZpZXcodGhpcy5zaWRlKTsgfVxuICAgIHN5bmMoKSB7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiY20td2lkZ2V0QnVmZmVyXCI7XG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgdGhpcy5zZXRET00oZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTaWRlKCkgeyByZXR1cm4gdGhpcy5zaWRlOyB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiB0aGlzLnNpZGUgPiAwID8gRE9NUG9zLmJlZm9yZSh0aGlzLmRvbSkgOiBET01Qb3MuYWZ0ZXIodGhpcy5kb20pOyB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKCkgeyByZXR1cm4gMDsgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBnZXQgb3ZlcnJpZGVET01UZXh0KCkge1xuICAgICAgICByZXR1cm4gVGV4dC5lbXB0eTtcbiAgICB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuVGV4dFZpZXcucHJvdG90eXBlLmNoaWxkcmVuID0gV2lkZ2V0Vmlldy5wcm90b3R5cGUuY2hpbGRyZW4gPSBXaWRnZXRCdWZmZXJWaWV3LnByb3RvdHlwZS5jaGlsZHJlbiA9IG5vQ2hpbGRyZW47XG5mdW5jdGlvbiBpbmxpbmVET01BdFBvcyhwYXJlbnQsIHBvcykge1xuICAgIGxldCBkb20gPSBwYXJlbnQuZG9tLCB7IGNoaWxkcmVuIH0gPSBwYXJlbnQsIGkgPSAwO1xuICAgIGZvciAobGV0IG9mZiA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICBpZiAoZW5kID09IG9mZiAmJiBjaGlsZC5nZXRTaWRlKCkgPD0gMClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAocG9zID4gb2ZmICYmIHBvcyA8IGVuZCAmJiBjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuZG9tQXRQb3MocG9zIC0gb2ZmKTtcbiAgICAgICAgaWYgKHBvcyA8PSBvZmYpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgb2ZmID0gZW5kO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICBsZXQgcHJldiA9IGNoaWxkcmVuW2ogLSAxXTtcbiAgICAgICAgaWYgKHByZXYuZG9tLnBhcmVudE5vZGUgPT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIHByZXYuZG9tQXRQb3MocHJldi5sZW5ndGgpO1xuICAgIH1cbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gY2hpbGRyZW5bal07XG4gICAgICAgIGlmIChuZXh0LmRvbS5wYXJlbnROb2RlID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbUF0UG9zKDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERPTVBvcyhkb20sIDApO1xufVxuLy8gQXNzdW1lcyBgdmlld2AsIGlmIGEgbWFyayB2aWV3LCBoYXMgcHJlY2lzZWx5IDEgY2hpbGQuXG5mdW5jdGlvbiBqb2luSW5saW5lSW50byhwYXJlbnQsIHZpZXcsIG9wZW4pIHtcbiAgICBsZXQgbGFzdCwgeyBjaGlsZHJlbiB9ID0gcGFyZW50O1xuICAgIGlmIChvcGVuID4gMCAmJiB2aWV3IGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIChsYXN0ID0gY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0pIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgbGFzdC5tYXJrLmVxKHZpZXcubWFyaykpIHtcbiAgICAgICAgam9pbklubGluZUludG8obGFzdCwgdmlldy5jaGlsZHJlblswXSwgb3BlbiAtIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh2aWV3KTtcbiAgICAgICAgdmlldy5zZXRQYXJlbnQocGFyZW50KTtcbiAgICB9XG4gICAgcGFyZW50Lmxlbmd0aCArPSB2aWV3Lmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNvb3Jkc0luQ2hpbGRyZW4odmlldywgcG9zLCBzaWRlKSB7XG4gICAgbGV0IGJlZm9yZSA9IG51bGwsIGJlZm9yZVBvcyA9IC0xLCBhZnRlciA9IG51bGwsIGFmdGVyUG9zID0gLTE7XG4gICAgZnVuY3Rpb24gc2Nhbih2aWV3LCBwb3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCB2aWV3LmNoaWxkcmVuLmxlbmd0aCAmJiBvZmYgPD0gcG9zOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHZpZXcuY2hpbGRyZW5baV0sIGVuZCA9IG9mZiArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPj0gcG9zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzY2FuKGNoaWxkLCBwb3MgLSBvZmYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoIWFmdGVyIHx8IGFmdGVyLmlzSGlkZGVuICYmIChzaWRlID4gMCB8fCBvblNhbWVMaW5lKGFmdGVyLCBjaGlsZCkpKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZW5kID4gcG9zIHx8IG9mZiA9PSBlbmQgJiYgY2hpbGQuZ2V0U2lkZSgpID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJQb3MgPSBwb3MgLSBvZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9mZiA8IHBvcyB8fCAob2ZmID09IGVuZCAmJiBjaGlsZC5nZXRTaWRlKCkgPCAwKSAmJiAhY2hpbGQuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVBvcyA9IHBvcyAtIG9mZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgPSBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2Nhbih2aWV3LCBwb3MpO1xuICAgIGxldCB0YXJnZXQgPSAoc2lkZSA8IDAgPyBiZWZvcmUgOiBhZnRlcikgfHwgYmVmb3JlIHx8IGFmdGVyO1xuICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHJldHVybiB0YXJnZXQuY29vcmRzQXQoTWF0aC5tYXgoMCwgdGFyZ2V0ID09IGJlZm9yZSA/IGJlZm9yZVBvcyA6IGFmdGVyUG9zKSwgc2lkZSk7XG4gICAgcmV0dXJuIGZhbGxiYWNrUmVjdCh2aWV3KTtcbn1cbmZ1bmN0aW9uIGZhbGxiYWNrUmVjdCh2aWV3KSB7XG4gICAgbGV0IGxhc3QgPSB2aWV3LmRvbS5sYXN0Q2hpbGQ7XG4gICAgaWYgKCFsYXN0KVxuICAgICAgICByZXR1cm4gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IobGFzdCk7XG4gICAgcmV0dXJuIHJlY3RzW3JlY3RzLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5mdW5jdGlvbiBvblNhbWVMaW5lKGEsIGIpIHtcbiAgICBsZXQgcG9zQSA9IGEuY29vcmRzQXQoMCwgMSksIHBvc0IgPSBiLmNvb3Jkc0F0KDAsIDEpO1xuICAgIHJldHVybiBwb3NBICYmIHBvc0IgJiYgcG9zQi50b3AgPCBwb3NBLmJvdHRvbTtcbn1cblxuZnVuY3Rpb24gY29tYmluZUF0dHJzKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJjbGFzc1wiICYmIHRhcmdldC5jbGFzcylcbiAgICAgICAgICAgIHRhcmdldC5jbGFzcyArPSBcIiBcIiArIHNvdXJjZS5jbGFzcztcbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PSBcInN0eWxlXCIgJiYgdGFyZ2V0LnN0eWxlKVxuICAgICAgICAgICAgdGFyZ2V0LnN0eWxlICs9IFwiO1wiICsgc291cmNlLnN0eWxlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBzb3VyY2VbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5jb25zdCBub0F0dHJzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBhdHRyc0VxKGEsIGIsIGlnbm9yZSkge1xuICAgIGlmIChhID09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghYSlcbiAgICAgICAgYSA9IG5vQXR0cnM7XG4gICAgaWYgKCFiKVxuICAgICAgICBiID0gbm9BdHRycztcbiAgICBsZXQga2V5c0EgPSBPYmplY3Qua2V5cyhhKSwga2V5c0IgPSBPYmplY3Qua2V5cyhiKTtcbiAgICBpZiAoa2V5c0EubGVuZ3RoIC0gKGlnbm9yZSAmJiBrZXlzQS5pbmRleE9mKGlnbm9yZSkgPiAtMSA/IDEgOiAwKSAhPVxuICAgICAgICBrZXlzQi5sZW5ndGggLSAoaWdub3JlICYmIGtleXNCLmluZGV4T2YoaWdub3JlKSA+IC0xID8gMSA6IDApKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXNBKSB7XG4gICAgICAgIGlmIChrZXkgIT0gaWdub3JlICYmIChrZXlzQi5pbmRleE9mKGtleSkgPT0gLTEgfHwgYVtrZXldICE9PSBiW2tleV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUF0dHJzKGRvbSwgcHJldiwgYXR0cnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGlmIChwcmV2KVxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHByZXYpXG4gICAgICAgICAgICBpZiAoIShhdHRycyAmJiBuYW1lIGluIGF0dHJzKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09IFwic3R5bGVcIilcbiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLmNzc1RleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICBpZiAoYXR0cnMpXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpXG4gICAgICAgICAgICBpZiAoIShwcmV2ICYmIHByZXZbbmFtZV0gPT0gYXR0cnNbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKVxuICAgICAgICAgICAgICAgICAgICBkb20uc3R5bGUuY3NzVGV4dCA9IGF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyc1tuYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBnZXRBdHRycyhkb20pIHtcbiAgICBsZXQgYXR0cnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGF0dHIgPSBkb20uYXR0cmlidXRlc1tpXTtcbiAgICAgICAgYXR0cnNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbn1cblxuLyoqXG5XaWRnZXRzIGFkZGVkIHRvIHRoZSBjb250ZW50IGFyZSBkZXNjcmliZWQgYnkgc3ViY2xhc3NlcyBvZiB0aGlzXG5jbGFzcy4gVXNpbmcgYSBkZXNjcmlwdGlvbiBvYmplY3QgbGlrZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvXG5kZWxheSBjcmVhdGluZyBvZiB0aGUgRE9NIHN0cnVjdHVyZSBmb3IgYSB3aWRnZXQgdW50aWwgaXQgaXNcbm5lZWRlZCwgYW5kIHRvIGF2b2lkIHJlZHJhd2luZyB3aWRnZXRzIGV2ZW4gaWYgdGhlIGRlY29yYXRpb25zXG50aGF0IGRlZmluZSB0aGVtIGFyZSByZWNyZWF0ZWQuXG4qL1xuY2xhc3MgV2lkZ2V0VHlwZSB7XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIGluc3RhbmNlIHRvIGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAoVHlwZVNjcmlwdCBjYW4ndCBleHByZXNzIHRoaXMsIGJ1dCBvbmx5IGluc3RhbmNlcyBvZiB0aGUgc2FtZVxuICAgIHNwZWNpZmljIGNsYXNzIHdpbGwgYmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kLikgVGhpcyBpcyB1c2VkIHRvXG4gICAgYXZvaWQgcmVkcmF3aW5nIHdpZGdldHMgd2hlbiB0aGV5IGFyZSByZXBsYWNlZCBieSBhIG5ld1xuICAgIGRlY29yYXRpb24gb2YgdGhlIHNhbWUgdHlwZS4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24ganVzdFxuICAgIHJldHVybnMgYGZhbHNlYCwgd2hpY2ggd2lsbCBjYXVzZSBuZXcgaW5zdGFuY2VzIG9mIHRoZSB3aWRnZXQgdG9cbiAgICBhbHdheXMgYmUgcmVkcmF3bi5cbiAgICAqL1xuICAgIGVxKHdpZGdldCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBVcGRhdGUgYSBET00gZWxlbWVudCBjcmVhdGVkIGJ5IGEgd2lkZ2V0IG9mIHRoZSBzYW1lIHR5cGUgKGJ1dFxuICAgIGRpZmZlcmVudCwgbm9uLWBlcWAgY29udGVudCkgdG8gcmVmbGVjdCB0aGlzIHdpZGdldC4gTWF5IHJldHVyblxuICAgIHRydWUgdG8gaW5kaWNhdGUgdGhhdCBpdCBjb3VsZCB1cGRhdGUsIGZhbHNlIHRvIGluZGljYXRlIGl0XG4gICAgY291bGRuJ3QgKGluIHdoaWNoIGNhc2UgdGhlIHdpZGdldCB3aWxsIGJlIHJlZHJhd24pLiBUaGUgZGVmYXVsdFxuICAgIGltcGxlbWVudGF0aW9uIGp1c3QgcmV0dXJucyBmYWxzZS5cbiAgICAqL1xuICAgIHVwZGF0ZURPTShkb20sIHZpZXcpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlc3RpbWF0ZWQgaGVpZ2h0IHRoaXMgd2lkZ2V0IHdpbGwgaGF2ZSwgdG8gYmUgdXNlZCB3aGVuXG4gICAgZXN0aW1hdGluZyB0aGUgaGVpZ2h0IG9mIGNvbnRlbnQgdGhhdCBoYXNuJ3QgYmVlbiBkcmF3bi4gTWF5XG4gICAgcmV0dXJuIC0xIHRvIGluZGljYXRlIHlvdSBkb24ndCBrbm93LiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgIHJldHVybnMgLTEuXG4gICAgKi9cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gLTE7IH1cbiAgICAvKipcbiAgICBGb3IgaW5saW5lIHdpZGdldHMgdGhhdCBhcmUgZGlzcGxheWVkIGlubGluZSAoYXMgb3Bwb3NlZCB0b1xuICAgIGBpbmxpbmUtYmxvY2tgKSBhbmQgaW50cm9kdWNlIGxpbmUgYnJlYWtzICh0aHJvdWdoIGA8YnI+YCB0YWdzXG4gICAgb3IgdGV4dHVhbCBuZXdsaW5lcyksIHRoaXMgbXVzdCBpbmRpY2F0ZSB0aGUgYW1vdW50IG9mIGxpbmVcbiAgICBicmVha3MgdGhleSBpbnRyb2R1Y2UuIERlZmF1bHRzIHRvIDAuXG4gICAgKi9cbiAgICBnZXQgbGluZUJyZWFrcygpIHsgcmV0dXJuIDA7IH1cbiAgICAvKipcbiAgICBDYW4gYmUgdXNlZCB0byBjb25maWd1cmUgd2hpY2gga2luZHMgb2YgZXZlbnRzIGluc2lkZSB0aGUgd2lkZ2V0XG4gICAgc2hvdWxkIGJlIGlnbm9yZWQgYnkgdGhlIGVkaXRvci4gVGhlIGRlZmF1bHQgaXMgdG8gaWdub3JlIGFsbFxuICAgIGV2ZW50cy5cbiAgICAqL1xuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0cnVlOyB9XG4gICAgLyoqXG4gICAgT3ZlcnJpZGUgdGhlIHdheSBzY3JlZW4gY29vcmRpbmF0ZXMgZm9yIHBvc2l0aW9ucyBhdC9pbiB0aGVcbiAgICB3aWRnZXQgYXJlIGZvdW5kLiBgcG9zYCB3aWxsIGJlIHRoZSBvZmZzZXQgaW50byB0aGUgd2lkZ2V0LCBhbmRcbiAgICBgc2lkZWAgdGhlIHNpZGUgb2YgdGhlIHBvc2l0aW9uIHRoYXQgaXMgYmVpbmcgcXVlcmllZOKAlGxlc3MgdGhhblxuICAgIHplcm8gZm9yIGJlZm9yZSwgZ3JlYXRlciB0aGFuIHplcm8gZm9yIGFmdGVyLCBhbmQgemVybyBmb3JcbiAgICBkaXJlY3RseSBhdCB0aGF0IHBvc2l0aW9uLlxuICAgICovXG4gICAgY29vcmRzQXQoZG9tLCBwb3MsIHNpZGUpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpc0hpZGRlbigpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgZWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgY2FsbGVkIHdoZW4gdGhlIGFuIGluc3RhbmNlIG9mIHRoZSB3aWRnZXQgaXMgcmVtb3ZlZFxuICAgIGZyb20gdGhlIGVkaXRvciB2aWV3LlxuICAgICovXG4gICAgZGVzdHJveShkb20pIHsgfVxufVxuLyoqXG5UaGUgZGlmZmVyZW50IHR5cGVzIG9mIGJsb2NrcyB0aGF0IGNhbiBvY2N1ciBpbiBhbiBlZGl0b3Igdmlldy5cbiovXG52YXIgQmxvY2tUeXBlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmxvY2tUeXBlKSB7XG4gICAgLyoqXG4gICAgQSBsaW5lIG9mIHRleHQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiVGV4dFwiXSA9IDBdID0gXCJUZXh0XCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBhZnRlciBpdC5cbiAgICAqL1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJXaWRnZXRCZWZvcmVcIl0gPSAxXSA9IFwiV2lkZ2V0QmVmb3JlXCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwb3NpdGlvbiBiZWZvcmUgaXQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0QWZ0ZXJcIl0gPSAyXSA9IFwiV2lkZ2V0QWZ0ZXJcIjtcbiAgICAvKipcbiAgICBBIGJsb2NrIHdpZGdldCBbcmVwbGFjaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBhIHJhbmdlIG9mIGNvbnRlbnQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0UmFuZ2VcIl0gPSAzXSA9IFwiV2lkZ2V0UmFuZ2VcIjtcbnJldHVybiBCbG9ja1R5cGV9KShCbG9ja1R5cGUgfHwgKEJsb2NrVHlwZSA9IHt9KSk7XG4vKipcbkEgZGVjb3JhdGlvbiBwcm92aWRlcyBpbmZvcm1hdGlvbiBvbiBob3cgdG8gZHJhdyBvciBzdHlsZSBhIHBpZWNlXG5vZiBjb250ZW50LiBZb3UnbGwgdXN1YWxseSB1c2UgaXQgd3JhcHBlZCBpbiBhXG5bYFJhbmdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSksIHdoaWNoIGFkZHMgYSBzdGFydCBhbmQgZW5kIHBvc2l0aW9uLlxuQG5vbmFic3RyYWN0XG4qL1xuY2xhc3MgRGVjb3JhdGlvbiBleHRlbmRzIFJhbmdlVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhcnRTaWRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVuZFNpZGUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgd2lkZ2V0LCBcbiAgICAvKipcbiAgICBUaGUgY29uZmlnIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIGRlY29yYXRpb24uIFlvdSBjYW5cbiAgICBpbmNsdWRlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbiB0aGVyZSB0byBzdG9yZSBtZXRhZGF0YSBhYm91dFxuICAgIHlvdXIgZGVjb3JhdGlvbi5cbiAgICAqL1xuICAgIHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdGFydFNpZGUgPSBzdGFydFNpZGU7XG4gICAgICAgIHRoaXMuZW5kU2lkZSA9IGVuZFNpZGU7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbWFyayBkZWNvcmF0aW9uLCB3aGljaCBpbmZsdWVuY2VzIHRoZSBzdHlsaW5nIG9mIHRoZVxuICAgIGNvbnRlbnQgaW4gaXRzIHJhbmdlLiBOZXN0ZWQgbWFyayBkZWNvcmF0aW9ucyB3aWxsIGNhdXNlIG5lc3RlZFxuICAgIERPTSBlbGVtZW50cyB0byBiZSBjcmVhdGVkLiBOZXN0aW5nIG9yZGVyIGlzIGRldGVybWluZWQgYnlcbiAgICBwcmVjZWRlbmNlIG9mIHRoZSBbZmFjZXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRlY29yYXRpb25zKSwgd2l0aFxuICAgIHRoZSBoaWdoZXItcHJlY2VkZW5jZSBkZWNvcmF0aW9ucyBjcmVhdGluZyB0aGUgaW5uZXIgRE9NIG5vZGVzLlxuICAgIFN1Y2ggZWxlbWVudHMgYXJlIHNwbGl0IG9uIGxpbmUgYm91bmRhcmllcyBhbmQgb24gdGhlIGJvdW5kYXJpZXNcbiAgICBvZiBsb3dlci1wcmVjZWRlbmNlIGRlY29yYXRpb25zLlxuICAgICovXG4gICAgc3RhdGljIG1hcmsoc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IE1hcmtEZWNvcmF0aW9uKHNwZWMpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggZGlzcGxheXMgYSBET00gZWxlbWVudCBhdCB0aGVcbiAgICBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyB3aWRnZXQoc3BlYykge1xuICAgICAgICBsZXQgc2lkZSA9IE1hdGgubWF4KC0xMDAwMCwgTWF0aC5taW4oMTAwMDAsIHNwZWMuc2lkZSB8fCAwKSksIGJsb2NrID0gISFzcGVjLmJsb2NrO1xuICAgICAgICBzaWRlICs9IChibG9jayAmJiAhc3BlYy5pbmxpbmVPcmRlcilcbiAgICAgICAgICAgID8gKHNpZGUgPiAwID8gMzAwMDAwMDAwIC8qIFNpZGUuQmxvY2tBZnRlciAqLyA6IC00MDAwMDAwMDAgLyogU2lkZS5CbG9ja0JlZm9yZSAqLylcbiAgICAgICAgICAgIDogKHNpZGUgPiAwID8gMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQWZ0ZXIgKi8gOiAtMTAwMDAwMDAwIC8qIFNpZGUuSW5saW5lQmVmb3JlICovKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc2lkZSwgc2lkZSwgYmxvY2ssIHNwZWMud2lkZ2V0IHx8IG51bGwsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgcmVwbGFjZSBkZWNvcmF0aW9uIHdoaWNoIHJlcGxhY2VzIHRoZSBnaXZlbiByYW5nZSB3aXRoXG4gICAgYSB3aWRnZXQsIG9yIHNpbXBseSBoaWRlcyBpdC5cbiAgICAqL1xuICAgIHN0YXRpYyByZXBsYWNlKHNwZWMpIHtcbiAgICAgICAgbGV0IGJsb2NrID0gISFzcGVjLmJsb2NrLCBzdGFydFNpZGUsIGVuZFNpZGU7XG4gICAgICAgIGlmIChzcGVjLmlzQmxvY2tHYXApIHtcbiAgICAgICAgICAgIHN0YXJ0U2lkZSA9IC01MDAwMDAwMDAgLyogU2lkZS5HYXBTdGFydCAqLztcbiAgICAgICAgICAgIGVuZFNpZGUgPSA0MDAwMDAwMDAgLyogU2lkZS5HYXBFbmQgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYywgYmxvY2spO1xuICAgICAgICAgICAgc3RhcnRTaWRlID0gKHN0YXJ0ID8gKGJsb2NrID8gLTMwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jU3RhcnQgKi8gOiAtMSAvKiBTaWRlLklubGluZUluY1N0YXJ0ICovKSA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovKSAtIDE7XG4gICAgICAgICAgICBlbmRTaWRlID0gKGVuZCA/IChibG9jayA/IDIwMDAwMDAwMCAvKiBTaWRlLkJsb2NrSW5jRW5kICovIDogMSAvKiBTaWRlLklubGluZUluY0VuZCAqLykgOiAtNjAwMDAwMDAwIC8qIFNpZGUuTm9uSW5jRW5kICovKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludERlY29yYXRpb24oc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgc3BlYy53aWRnZXQgfHwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGxpbmUgZGVjb3JhdGlvbiwgd2hpY2ggY2FuIGFkZCBET00gYXR0cmlidXRlcyB0byB0aGVcbiAgICBsaW5lIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBsaW5lKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lRGVjb3JhdGlvbihzcGVjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQnVpbGQgYSBbYERlY29yYXRpb25TZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvblNldCkgZnJvbSB0aGUgZ2l2ZW5cbiAgICBkZWNvcmF0ZWQgcmFuZ2Ugb3IgcmFuZ2VzLiBJZiB0aGUgcmFuZ2VzIGFyZW4ndCBhbHJlYWR5IHNvcnRlZCxcbiAgICBwYXNzIGB0cnVlYCBmb3IgYHNvcnRgIHRvIG1ha2UgdGhlIGxpYnJhcnkgc29ydCB0aGVtIGZvciB5b3UuXG4gICAgKi9cbiAgICBzdGF0aWMgc2V0KG9mLCBzb3J0ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlU2V0Lm9mKG9mLCBzb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBoYXNIZWlnaHQoKSB7IHJldHVybiB0aGlzLndpZGdldCA/IHRoaXMud2lkZ2V0LmVzdGltYXRlZEhlaWdodCA+IC0xIDogZmFsc2U7IH1cbn1cbi8qKlxuVGhlIGVtcHR5IHNldCBvZiBkZWNvcmF0aW9ucy5cbiovXG5EZWNvcmF0aW9uLm5vbmUgPSBSYW5nZVNldC5lbXB0eTtcbmNsYXNzIE1hcmtEZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICBsZXQgeyBzdGFydCwgZW5kIH0gPSBnZXRJbmNsdXNpdmUoc3BlYyk7XG4gICAgICAgIHN1cGVyKHN0YXJ0ID8gLTEgLyogU2lkZS5JbmxpbmVJbmNTdGFydCAqLyA6IDUwMDAwMDAwMCAvKiBTaWRlLk5vbkluY1N0YXJ0ICovLCBlbmQgPyAxIC8qIFNpZGUuSW5saW5lSW5jRW5kICovIDogLTYwMDAwMDAwMCAvKiBTaWRlLk5vbkluY0VuZCAqLywgbnVsbCwgc3BlYyk7XG4gICAgICAgIHRoaXMudGFnTmFtZSA9IHNwZWMudGFnTmFtZSB8fCBcInNwYW5cIjtcbiAgICAgICAgdGhpcy5jbGFzcyA9IHNwZWMuY2xhc3MgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5hdHRycyA9IHNwZWMuYXR0cmlidXRlcyB8fCBudWxsO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgICAgICAgb3RoZXIgaW5zdGFuY2VvZiBNYXJrRGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgICAgIHRoaXMudGFnTmFtZSA9PSBvdGhlci50YWdOYW1lICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuY2xhc3MgfHwgKChfYSA9IHRoaXMuYXR0cnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzcykpID09IChvdGhlci5jbGFzcyB8fCAoKF9iID0gb3RoZXIuYXR0cnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbGFzcykpICYmXG4gICAgICAgICAgICAgICAgYXR0cnNFcSh0aGlzLmF0dHJzLCBvdGhlci5hdHRycywgXCJjbGFzc1wiKTtcbiAgICB9XG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRvKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNYXJrIGRlY29yYXRpb25zIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuTWFya0RlY29yYXRpb24ucHJvdG90eXBlLnBvaW50ID0gZmFsc2U7XG5jbGFzcyBMaW5lRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoLTIwMDAwMDAwMCAvKiBTaWRlLkxpbmUgKi8sIC0yMDAwMDAwMDAgLyogU2lkZS5MaW5lICovLCBudWxsLCBzcGVjKTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTGluZURlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHRoaXMuc3BlYy5jbGFzcyA9PSBvdGhlci5zcGVjLmNsYXNzICYmXG4gICAgICAgICAgICBhdHRyc0VxKHRoaXMuc3BlYy5hdHRyaWJ1dGVzLCBvdGhlci5zcGVjLmF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRvICE9IGZyb20pXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkxpbmUgZGVjb3JhdGlvbiByYW5nZXMgbXVzdCBiZSB6ZXJvLWxlbmd0aFwiKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUubWFwTW9kZSA9IE1hcE1vZGUuVHJhY2tCZWZvcmU7XG5MaW5lRGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuY2xhc3MgUG9pbnREZWNvcmF0aW9uIGV4dGVuZHMgRGVjb3JhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc3BlYywgc3RhcnRTaWRlLCBlbmRTaWRlLCBibG9jaywgd2lkZ2V0LCBpc1JlcGxhY2UpIHtcbiAgICAgICAgc3VwZXIoc3RhcnRTaWRlLCBlbmRTaWRlLCB3aWRnZXQsIHNwZWMpO1xuICAgICAgICB0aGlzLmJsb2NrID0gYmxvY2s7XG4gICAgICAgIHRoaXMuaXNSZXBsYWNlID0gaXNSZXBsYWNlO1xuICAgICAgICB0aGlzLm1hcE1vZGUgPSAhYmxvY2sgPyBNYXBNb2RlLlRyYWNrRGVsIDogc3RhcnRTaWRlIDw9IDAgPyBNYXBNb2RlLlRyYWNrQmVmb3JlIDogTWFwTW9kZS5UcmFja0FmdGVyO1xuICAgIH1cbiAgICAvLyBPbmx5IHJlbGV2YW50IHdoZW4gdGhpcy5ibG9jayA9PSB0cnVlXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0U2lkZSAhPSB0aGlzLmVuZFNpZGUgPyBCbG9ja1R5cGUuV2lkZ2V0UmFuZ2VcbiAgICAgICAgICAgIDogdGhpcy5zdGFydFNpZGUgPD0gMCA/IEJsb2NrVHlwZS5XaWRnZXRCZWZvcmUgOiBCbG9ja1R5cGUuV2lkZ2V0QWZ0ZXI7XG4gICAgfVxuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2sgfHwgISF0aGlzLndpZGdldCAmJiAodGhpcy53aWRnZXQuZXN0aW1hdGVkSGVpZ2h0ID49IDUgfHwgdGhpcy53aWRnZXQubGluZUJyZWFrcyA+IDApO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBQb2ludERlY29yYXRpb24gJiZcbiAgICAgICAgICAgIHdpZGdldHNFcSh0aGlzLndpZGdldCwgb3RoZXIud2lkZ2V0KSAmJlxuICAgICAgICAgICAgdGhpcy5ibG9jayA9PSBvdGhlci5ibG9jayAmJlxuICAgICAgICAgICAgdGhpcy5zdGFydFNpZGUgPT0gb3RoZXIuc3RhcnRTaWRlICYmIHRoaXMuZW5kU2lkZSA9PSBvdGhlci5lbmRTaWRlO1xuICAgIH1cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXBsYWNlICYmIChmcm9tID4gdG8gfHwgKGZyb20gPT0gdG8gJiYgdGhpcy5zdGFydFNpZGUgPiAwICYmIHRoaXMuZW5kU2lkZSA8PSAwKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcmFuZ2UgZm9yIHJlcGxhY2VtZW50IGRlY29yYXRpb25cIik7XG4gICAgICAgIGlmICghdGhpcy5pc1JlcGxhY2UgJiYgdG8gIT0gZnJvbSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiV2lkZ2V0IGRlY29yYXRpb25zIGNhbiBvbmx5IGhhdmUgemVyby1sZW5ndGggcmFuZ2VzXCIpO1xuICAgICAgICByZXR1cm4gc3VwZXIucmFuZ2UoZnJvbSwgdG8pO1xuICAgIH1cbn1cblBvaW50RGVjb3JhdGlvbi5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuZnVuY3Rpb24gZ2V0SW5jbHVzaXZlKHNwZWMsIGJsb2NrID0gZmFsc2UpIHtcbiAgICBsZXQgeyBpbmNsdXNpdmVTdGFydDogc3RhcnQsIGluY2x1c2l2ZUVuZDogZW5kIH0gPSBzcGVjO1xuICAgIGlmIChzdGFydCA9PSBudWxsKVxuICAgICAgICBzdGFydCA9IHNwZWMuaW5jbHVzaXZlO1xuICAgIGlmIChlbmQgPT0gbnVsbClcbiAgICAgICAgZW5kID0gc3BlYy5pbmNsdXNpdmU7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0ICE9PSBudWxsICYmIHN0YXJ0ICE9PSB2b2lkIDAgPyBzdGFydCA6IGJsb2NrLCBlbmQ6IGVuZCAhPT0gbnVsbCAmJiBlbmQgIT09IHZvaWQgMCA/IGVuZCA6IGJsb2NrIH07XG59XG5mdW5jdGlvbiB3aWRnZXRzRXEoYSwgYikge1xuICAgIHJldHVybiBhID09IGIgfHwgISEoYSAmJiBiICYmIGEuY29tcGFyZShiKSk7XG59XG5mdW5jdGlvbiBhZGRSYW5nZShmcm9tLCB0bywgcmFuZ2VzLCBtYXJnaW4gPSAwKSB7XG4gICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGFzdCA+PSAwICYmIHJhbmdlc1tsYXN0XSArIG1hcmdpbiA+PSBmcm9tKVxuICAgICAgICByYW5nZXNbbGFzdF0gPSBNYXRoLm1heChyYW5nZXNbbGFzdF0sIHRvKTtcbiAgICBlbHNlXG4gICAgICAgIHJhbmdlcy5wdXNoKGZyb20sIHRvKTtcbn1cblxuY2xhc3MgTGluZVZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hdHRycyA9IG51bGw7XG4gICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IDA7XG4gICAgfVxuICAgIC8vIENvbnN1bWVzIHNvdXJjZVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgTGluZVZpZXcpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kb20pXG4gICAgICAgICAgICAgICAgc291cmNlLnRyYW5zZmVyRE9NKHRoaXMpOyAvLyBSZXVzZSBzb3VyY2UuZG9tIHdoZW4gYXBwcm9wcmlhdGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzU3RhcnQpXG4gICAgICAgICAgICB0aGlzLnNldERlY28oc291cmNlID8gc291cmNlLmF0dHJzIDogbnVsbCk7XG4gICAgICAgIG1lcmdlQ2hpbGRyZW5JbnRvKHRoaXMsIGZyb20sIHRvLCBzb3VyY2UgPyBzb3VyY2UuY2hpbGRyZW4uc2xpY2UoKSA6IFtdLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgZW5kLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGVuZDtcbiAgICAgICAgbGV0IHsgaSwgb2ZmIH0gPSB0aGlzLmNoaWxkUG9zKGF0KTtcbiAgICAgICAgaWYgKG9mZikge1xuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2ldLnNwbGl0KG9mZiksIDApO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5tZXJnZShvZmYsIHRoaXMuY2hpbGRyZW5baV0ubGVuZ3RoLCBudWxsLCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2pdLCAwKTtcbiAgICAgICAgd2hpbGUgKGkgPiAwICYmIHRoaXMuY2hpbGRyZW5baSAtIDFdLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblstLWldLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSBpO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGF0O1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICB0cmFuc2ZlckRPTShvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBvdGhlci5zZXRET00odGhpcy5kb20pO1xuICAgICAgICBvdGhlci5wcmV2QXR0cnMgPSB0aGlzLnByZXZBdHRycyA9PT0gdW5kZWZpbmVkID8gdGhpcy5hdHRycyA6IHRoaXMucHJldkF0dHJzO1xuICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kb20gPSBudWxsO1xuICAgIH1cbiAgICBzZXREZWNvKGF0dHJzKSB7XG4gICAgICAgIGlmICghYXR0cnNFcSh0aGlzLmF0dHJzLCBhdHRycykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdGhpcy5hdHRycztcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZChjaGlsZCwgb3BlblN0YXJ0KSB7XG4gICAgICAgIGpvaW5JbmxpbmVJbnRvKHRoaXMsIGNoaWxkLCBvcGVuU3RhcnQpO1xuICAgIH1cbiAgICAvLyBPbmx5IGNhbGxlZCB3aGVuIGJ1aWxkaW5nIGEgbGluZSB2aWV3IGluIENvbnRlbnRCdWlsZGVyXG4gICAgYWRkTGluZURlY28oZGVjbykge1xuICAgICAgICBsZXQgYXR0cnMgPSBkZWNvLnNwZWMuYXR0cmlidXRlcywgY2xzID0gZGVjby5zcGVjLmNsYXNzO1xuICAgICAgICBpZiAoYXR0cnMpXG4gICAgICAgICAgICB0aGlzLmF0dHJzID0gY29tYmluZUF0dHJzKGF0dHJzLCB0aGlzLmF0dHJzIHx8IHt9KTtcbiAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSBjb21iaW5lQXR0cnMoeyBjbGFzczogY2xzIH0sIHRoaXMuYXR0cnMgfHwge30pO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIGlubGluZURPTUF0UG9zKHRoaXMsIHBvcyk7XG4gICAgfVxuICAgIHJldXNlRE9NKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRET00obm9kZSk7XG4gICAgICAgICAgICB0aGlzLmZsYWdzIHw9IDQgLyogVmlld0ZsYWcuQXR0cnNEaXJ0eSAqLyB8IDIgLyogVmlld0ZsYWcuTm9kZURpcnR5ICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN5bmModmlldywgdHJhY2spIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICB0aGlzLnNldERPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IFwiY20tbGluZVwiO1xuICAgICAgICAgICAgdGhpcy5wcmV2QXR0cnMgPSB0aGlzLmF0dHJzID8gbnVsbCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZsYWdzICYgNCAvKiBWaWV3RmxhZy5BdHRyc0RpcnR5ICovKSB7XG4gICAgICAgICAgICBjbGVhckF0dHJpYnV0ZXModGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByZXZBdHRycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cGRhdGVBdHRycyh0aGlzLmRvbSwgdGhpcy5wcmV2QXR0cnMsIHRoaXMuYXR0cnMpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLWxpbmVcIik7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zeW5jKHZpZXcsIHRyYWNrKTtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmRvbS5sYXN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChsYXN0ICYmIENvbnRlbnRWaWV3LmdldChsYXN0KSBpbnN0YW5jZW9mIE1hcmtWaWV3KVxuICAgICAgICAgICAgbGFzdCA9IGxhc3QubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWxhc3QgfHwgIXRoaXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBsYXN0Lm5vZGVOYW1lICE9IFwiQlJcIiAmJiAoKF9hID0gQ29udGVudFZpZXcuZ2V0KGxhc3QpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNFZGl0YWJsZSkgPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAoIWJyb3dzZXIuaW9zIHx8ICF0aGlzLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUZXh0VmlldykpKSB7XG4gICAgICAgICAgICBsZXQgaGFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJCUlwiKTtcbiAgICAgICAgICAgIGhhY2suY21JZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoaGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVRleHRTaXplKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMCB8fCB0aGlzLmxlbmd0aCA+IDIwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMCwgdGV4dEhlaWdodDtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBUZXh0VmlldykgfHwgL1teIC1+XS8udGVzdChjaGlsZC50ZXh0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGNoaWxkLmRvbSk7XG4gICAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IHJlY3RzWzBdLndpZHRoO1xuICAgICAgICAgICAgdGV4dEhlaWdodCA9IHJlY3RzWzBdLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRvdGFsV2lkdGggPyBudWxsIDoge1xuICAgICAgICAgICAgbGluZUhlaWdodDogdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LFxuICAgICAgICAgICAgY2hhcldpZHRoOiB0b3RhbFdpZHRoIC8gdGhpcy5sZW5ndGgsXG4gICAgICAgICAgICB0ZXh0SGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICBsZXQgcmVjdCA9IGNvb3Jkc0luQ2hpbGRyZW4odGhpcywgcG9zLCBzaWRlKTtcbiAgICAgICAgLy8gQ29ycmVjdCByZWN0YW5nbGUgaGVpZ2h0IGZvciBlbXB0eSBsaW5lcyB3aGVuIHRoZSByZXR1cm5lZFxuICAgICAgICAvLyBoZWlnaHQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRleHQgaGVpZ2h0LlxuICAgICAgICBpZiAoIXRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmIHJlY3QgJiYgdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCB7IGhlaWdodE9yYWNsZSB9ID0gdGhpcy5wYXJlbnQudmlldy52aWV3U3RhdGUsIGhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaGVpZ2h0IC0gaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQpIDwgMiAmJiBoZWlnaHRPcmFjbGUudGV4dEhlaWdodCA8IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxldCBkaXN0ID0gKGhlaWdodCAtIGhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdG9wOiByZWN0LnRvcCArIGRpc3QsIGJvdHRvbTogcmVjdC5ib3R0b20gLSBkaXN0LCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LmxlZnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIExpbmVWaWV3ICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiYgb3RoZXIuY2hpbGRyZW4ubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgIGF0dHJzRXEodGhpcy5hdHRycywgb3RoZXIuYXR0cnMpICYmIHRoaXMuYnJlYWtBZnRlciA9PSBvdGhlci5icmVha0FmdGVyO1xuICAgIH1cbiAgICBjb3ZlcnMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgc3RhdGljIGZpbmQoZG9jVmlldywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgZG9jVmlldy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGJsb2NrID0gZG9jVmlldy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgYmxvY2subGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+PSBwb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gZW5kICsgYmxvY2suYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBCbG9ja1dpZGdldFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIGRlY28pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLmRlY28gPSBkZWNvO1xuICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSAwO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBfdGFrZURlY28sIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldykgfHwgIXRoaXMud2lkZ2V0LmNvbXBhcmUoc291cmNlLndpZGdldCkgfHxcbiAgICAgICAgICAgIGZyb20gPiAwICYmIG9wZW5TdGFydCA8PSAwIHx8IHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tICsgKHNvdXJjZSA/IHNvdXJjZS5sZW5ndGggOiAwKSArICh0aGlzLmxlbmd0aCAtIHRvKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gcG9zID09IDAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKSA6IERPTVBvcy5hZnRlcih0aGlzLmRvbSwgcG9zID09IHRoaXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoIC0gYXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXQ7XG4gICAgICAgIGxldCBlbmQgPSBuZXcgQmxvY2tXaWRnZXRWaWV3KHRoaXMud2lkZ2V0LCBsZW4sIHRoaXMuZGVjbyk7XG4gICAgICAgIGVuZC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiBub0NoaWxkcmVuOyB9XG4gICAgc3luYyh2aWV3KSB7XG4gICAgICAgIGlmICghdGhpcy5kb20gfHwgIXRoaXMud2lkZ2V0LnVwZGF0ZURPTSh0aGlzLmRvbSwgdmlldykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiB0aGlzLnByZXZXaWRnZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKHRoaXMud2lkZ2V0LnRvRE9NKHZpZXcpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy53aWRnZXQuZWRpdGFibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5kb20uY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvdmVycmlkZURPTVRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnZpZXcuc3RhdGUuZG9jLnNsaWNlKHRoaXMucG9zQXRTdGFydCwgdGhpcy5wb3NBdEVuZCkgOiBUZXh0LmVtcHR5O1xuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJlxuICAgICAgICAgICAgb3RoZXIud2lkZ2V0LmNvbnN0cnVjdG9yID09IHRoaXMud2lkZ2V0LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW90aGVyLndpZGdldC5jb21wYXJlKHRoaXMud2lkZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiAhdGhpcy5wcmV2V2lkZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucHJldldpZGdldCA9IHRoaXMud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBvdGhlci53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZGVjbyA9IG90aGVyLmRlY287XG4gICAgICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBvdGhlci5icmVha0FmdGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaWdub3JlRXZlbnQoZXZlbnQpOyB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBpc1dpZGdldCgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHRoaXMud2lkZ2V0LmNvb3Jkc0F0KHRoaXMuZG9tLCBwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0IGluc3RhbmNlb2YgQmxvY2tHYXBXaWRnZXQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5SZWN0KHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0aGlzLmxlbmd0aCA/IHBvcyA9PSAwIDogc2lkZSA8PSAwKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLndpZGdldC5kZXN0cm95KHRoaXMuZG9tKTtcbiAgICB9XG4gICAgY292ZXJzKHNpZGUpIHtcbiAgICAgICAgbGV0IHsgc3RhcnRTaWRlLCBlbmRTaWRlIH0gPSB0aGlzLmRlY287XG4gICAgICAgIHJldHVybiBzdGFydFNpZGUgPT0gZW5kU2lkZSA/IGZhbHNlIDogc2lkZSA8IDAgPyBzdGFydFNpZGUgPCAwIDogZW5kU2lkZSA+IDA7XG4gICAgfVxufVxuY2xhc3MgQmxvY2tHYXBXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWlnaHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIHRvRE9NKCkge1xuICAgICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWx0LmNsYXNzTmFtZSA9IFwiY20tZ2FwXCI7XG4gICAgICAgIHRoaXMudXBkYXRlRE9NKGVsdCk7XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci5oZWlnaHQgPT0gdGhpcy5oZWlnaHQ7IH1cbiAgICB1cGRhdGVET00oZWx0KSB7XG4gICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGdldCBlZGl0YWJsZSgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy5oZWlnaHQ7IH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5cbmNsYXNzIENvbnRlbnRCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2MsIHBvcywgZW5kLCBkaXNhbGxvd0Jsb2NrRWZmZWN0c0Zvcikge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICB0aGlzLmRpc2FsbG93QmxvY2tFZmZlY3RzRm9yID0gZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3I7XG4gICAgICAgIHRoaXMuY29udGVudCA9IFtdO1xuICAgICAgICB0aGlzLmN1ckxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLmJyZWFrQXRTdGFydCA9IDA7XG4gICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICB0aGlzLmJ1ZmZlck1hcmtzID0gW107XG4gICAgICAgIC8vIFNldCB0byBmYWxzZSBkaXJlY3RseSBhZnRlciBhIHdpZGdldCB0aGF0IGNvdmVycyB0aGUgcG9zaXRpb24gYWZ0ZXIgaXRcbiAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMub3BlbkVuZCA9IC0xO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgICAgIHRoaXMuc2tpcCA9IHBvcztcbiAgICB9XG4gICAgcG9zQ292ZXJlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5icmVha0F0U3RhcnQgJiYgdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS5mcm9tICE9IHRoaXMucG9zO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiAhKGxhc3QuYnJlYWtBZnRlciB8fCBsYXN0IGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmIGxhc3QuZGVjby5lbmRTaWRlIDwgMCk7XG4gICAgfVxuICAgIGdldExpbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQucHVzaCh0aGlzLmN1ckxpbmUgPSBuZXcgTGluZVZpZXcpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyTGluZTtcbiAgICB9XG4gICAgZmx1c2hCdWZmZXIoYWN0aXZlID0gdGhpcy5idWZmZXJNYXJrcykge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmN1ckxpbmUuYXBwZW5kKHdyYXBNYXJrcyhuZXcgV2lkZ2V0QnVmZmVyVmlldygtMSksIGFjdGl2ZSksIGFjdGl2ZS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkQmxvY2tXaWRnZXQodmlldykge1xuICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudC5wdXNoKHZpZXcpO1xuICAgIH1cbiAgICBmaW5pc2gob3BlbkVuZCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQnVmZmVyICYmIG9wZW5FbmQgPD0gdGhpcy5idWZmZXJNYXJrcy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICBpZiAoIXRoaXMucG9zQ292ZXJlZCgpICYmXG4gICAgICAgICAgICAhKG9wZW5FbmQgJiYgdGhpcy5jb250ZW50Lmxlbmd0aCAmJiB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3KSlcbiAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgpO1xuICAgIH1cbiAgICBidWlsZFRleHQobGVuZ3RoLCBhY3RpdmUsIG9wZW5TdGFydCkge1xuICAgICAgICB3aGlsZSAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dE9mZiA9PSB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgdmFsdWUsIGxpbmVCcmVhaywgZG9uZSB9ID0gdGhpcy5jdXJzb3IubmV4dCh0aGlzLnNraXApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbiBvdXQgb2YgdGV4dCBjb250ZW50IHdoZW4gZHJhd2luZyBpbmxpbmUgdmlld3NcIik7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVCcmVhaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9zQ292ZXJlZCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXS5icmVha0FmdGVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmVha0F0U3RhcnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXRDdXJzb3JQb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGFrZSA9IE1hdGgubWluKHRoaXMudGV4dC5sZW5ndGggLSB0aGlzLnRleHRPZmYsIGxlbmd0aCwgNTEyIC8qIFQuQ2h1bmsgKi8pO1xuICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihhY3RpdmUuc2xpY2UoYWN0aXZlLmxlbmd0aCAtIG9wZW5TdGFydCkpO1xuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCkuYXBwZW5kKHdyYXBNYXJrcyhuZXcgVGV4dFZpZXcodGhpcy50ZXh0LnNsaWNlKHRoaXMudGV4dE9mZiwgdGhpcy50ZXh0T2ZmICsgdGFrZSkpLCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmYgKz0gdGFrZTtcbiAgICAgICAgICAgIGxlbmd0aCAtPSB0YWtlO1xuICAgICAgICAgICAgb3BlblN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcGFuKGZyb20sIHRvLCBhY3RpdmUsIG9wZW5TdGFydCkge1xuICAgICAgICB0aGlzLmJ1aWxkVGV4dCh0byAtIGZyb20sIGFjdGl2ZSwgb3BlblN0YXJ0KTtcbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICAgICAgaWYgKHRoaXMub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gb3BlblN0YXJ0O1xuICAgIH1cbiAgICBwb2ludChmcm9tLCB0bywgZGVjbywgYWN0aXZlLCBvcGVuU3RhcnQsIGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FsbG93QmxvY2tFZmZlY3RzRm9yW2luZGV4XSAmJiBkZWNvIGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJsb2NrIGRlY29yYXRpb25zIG1heSBub3QgYmUgc3BlY2lmaWVkIHZpYSBwbHVnaW5zXCIpO1xuICAgICAgICAgICAgaWYgKHRvID4gdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS50bylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRlY29yYXRpb25zIHRoYXQgcmVwbGFjZSBsaW5lIGJyZWFrcyBtYXkgbm90IGJlIHNwZWNpZmllZCB2aWEgcGx1Z2luc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gdG8gLSBmcm9tO1xuICAgICAgICBpZiAoZGVjbyBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKGRlY28uYmxvY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVjby5zdGFydFNpZGUgPiAwICYmICF0aGlzLnBvc0NvdmVyZWQoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCbG9ja1dpZGdldChuZXcgQmxvY2tXaWRnZXRWaWV3KGRlY28ud2lkZ2V0IHx8IE51bGxXaWRnZXQuYmxvY2ssIGxlbiwgZGVjbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZpZXcgPSBXaWRnZXRWaWV3LmNyZWF0ZShkZWNvLndpZGdldCB8fCBOdWxsV2lkZ2V0LmlubGluZSwgbGVuLCBsZW4gPyAwIDogZGVjby5zdGFydFNpZGUpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JCZWZvcmUgPSB0aGlzLmF0Q3Vyc29yUG9zICYmICF2aWV3LmlzRWRpdGFibGUgJiYgb3BlblN0YXJ0IDw9IGFjdGl2ZS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgKGZyb20gPCB0byB8fCBkZWNvLnN0YXJ0U2lkZSA+IDApO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JBZnRlciA9ICF2aWV3LmlzRWRpdGFibGUgJiYgKGZyb20gPCB0byB8fCBvcGVuU3RhcnQgPiBhY3RpdmUubGVuZ3RoIHx8IGRlY28uc3RhcnRTaWRlIDw9IDApO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gdGhpcy5nZXRMaW5lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0J1ZmZlciA9PSAyIC8qIEJ1Zi5JZkN1cnNvciAqLyAmJiAhY3Vyc29yQmVmb3JlICYmICF2aWV3LmlzRWRpdGFibGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoYWN0aXZlKTtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuYXBwZW5kKHdyYXBNYXJrcyhuZXcgV2lkZ2V0QnVmZmVyVmlldygxKSwgYWN0aXZlKSwgb3BlblN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgb3BlblN0YXJ0ID0gYWN0aXZlLmxlbmd0aCArIE1hdGgubWF4KDAsIG9wZW5TdGFydCAtIGFjdGl2ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lLmFwcGVuZCh3cmFwTWFya3ModmlldywgYWN0aXZlKSwgb3BlblN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0Q3Vyc29yUG9zID0gY3Vyc29yQWZ0ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gIWN1cnNvckFmdGVyID8gMCAvKiBCdWYuTm8gKi8gOiBmcm9tIDwgdG8gfHwgb3BlblN0YXJ0ID4gYWN0aXZlLmxlbmd0aCA/IDEgLyogQnVmLlllcyAqLyA6IDIgLyogQnVmLklmQ3Vyc29yICovO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyTWFya3MgPSBhY3RpdmUuc2xpY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRvYy5saW5lQXQodGhpcy5wb3MpLmZyb20gPT0gdGhpcy5wb3MpIHsgLy8gTGluZSBkZWNvcmF0aW9uXG4gICAgICAgICAgICB0aGlzLmdldExpbmUoKS5hZGRMaW5lRGVjbyhkZWNvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBpdGVyYXRvciBwYXN0IHRoZSByZXBsYWNlZCBjb250ZW50XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0T2ZmICsgbGVuIDw9IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRPZmYgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwICs9IGxlbiAtICh0aGlzLnRleHQubGVuZ3RoIC0gdGhpcy50ZXh0T2ZmKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wZW5TdGFydCA8IDApXG4gICAgICAgICAgICB0aGlzLm9wZW5TdGFydCA9IG9wZW5TdGFydDtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkKHRleHQsIGZyb20sIHRvLCBkZWNvcmF0aW9ucywgZHluYW1pY0RlY29yYXRpb25NYXApIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQ29udGVudEJ1aWxkZXIodGV4dCwgZnJvbSwgdG8sIGR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgYnVpbGRlci5vcGVuRW5kID0gUmFuZ2VTZXQuc3BhbnMoZGVjb3JhdGlvbnMsIGZyb20sIHRvLCBidWlsZGVyKTtcbiAgICAgICAgaWYgKGJ1aWxkZXIub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIGJ1aWxkZXIub3BlblN0YXJ0ID0gYnVpbGRlci5vcGVuRW5kO1xuICAgICAgICBidWlsZGVyLmZpbmlzaChidWlsZGVyLm9wZW5FbmQpO1xuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG59XG5mdW5jdGlvbiB3cmFwTWFya3ModmlldywgYWN0aXZlKSB7XG4gICAgZm9yIChsZXQgbWFyayBvZiBhY3RpdmUpXG4gICAgICAgIHZpZXcgPSBuZXcgTWFya1ZpZXcobWFyaywgW3ZpZXddLCB2aWV3Lmxlbmd0aCk7XG4gICAgcmV0dXJuIHZpZXc7XG59XG5jbGFzcyBOdWxsV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0VHlwZSB7XG4gICAgY29uc3RydWN0b3IodGFnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIudGFnID09IHRoaXMudGFnOyB9XG4gICAgdG9ET00oKSB7IHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKTsgfVxuICAgIHVwZGF0ZURPTShlbHQpIHsgcmV0dXJuIGVsdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09IHRoaXMudGFnOyB9XG4gICAgZ2V0IGlzSGlkZGVuKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuTnVsbFdpZGdldC5pbmxpbmUgPSAvKkBfX1BVUkVfXyovbmV3IE51bGxXaWRnZXQoXCJzcGFuXCIpO1xuTnVsbFdpZGdldC5ibG9jayA9IC8qQF9fUFVSRV9fKi9uZXcgTnVsbFdpZGdldChcImRpdlwiKTtcblxuLyoqXG5Vc2VkIHRvIGluZGljYXRlIFt0ZXh0IGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbikuXG4qL1xudmFyIERpcmVjdGlvbiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpcmVjdGlvbikge1xuICAgIC8vIChUaGVzZSBhcmUgY2hvc2VuIHRvIG1hdGNoIHRoZSBiYXNlIGxldmVscywgaW4gYmlkaSBhbGdvcml0aG1cbiAgICAvLyB0ZXJtcywgb2Ygc3BhbnMgaW4gdGhhdCBkaXJlY3Rpb24uKVxuICAgIC8qKlxuICAgIExlZnQtdG8tcmlnaHQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiTFRSXCJdID0gMF0gPSBcIkxUUlwiO1xuICAgIC8qKlxuICAgIFJpZ2h0LXRvLWxlZnQuXG4gICAgKi9cbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiUlRMXCJdID0gMV0gPSBcIlJUTFwiO1xucmV0dXJuIERpcmVjdGlvbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcbmNvbnN0IExUUiA9IERpcmVjdGlvbi5MVFIsIFJUTCA9IERpcmVjdGlvbi5SVEw7XG4vLyBEZWNvZGUgYSBzdHJpbmcgd2l0aCBlYWNoIHR5cGUgZW5jb2RlZCBhcyBsb2cyKHR5cGUpXG5mdW5jdGlvbiBkZWMoc3RyKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKVxuICAgICAgICByZXN1bHQucHVzaCgxIDw8ICtzdHJbaV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGY4XG5jb25zdCBMb3dUeXBlcyA9IC8qQF9fUFVSRV9fKi9kZWMoXCI4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODY2Njg4ODg4ODc4NzgzMzMzMzMzMzMzNzg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4Nzg2NjY2ODg4ODA4ODg4ODY2MzM4MDg4ODMwODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOFwiKTtcbi8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmOVxuY29uc3QgQXJhYmljVHlwZXMgPSAvKkBfX1BVUkVfXyovZGVjKFwiNDQ0NDQ0ODgyNjYyNzI4ODk5OTk5OTk5OTk5MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyOTk5OTk5OTk5OTk5OTk5OTk5OTk5NDQ0NDQ0NDQ0NDY0NDIyMjgyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjk5OTk5OTk0OTk5OTk5OTIyOTk4OTk5OTIyMzMzMzMzMzMzM1wiKTtcbmNvbnN0IEJyYWNrZXRzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCksIEJyYWNrZXRTdGFjayA9IFtdO1xuLy8gVGhlcmUncyBhIGxvdCBtb3JlIGluXG4vLyBodHRwczovL3d3dy51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvQmlkaUJyYWNrZXRzLnR4dCxcbi8vIHdoaWNoIGFyZSBsZWZ0IG91dCB0byBrZWVwIGNvZGUgc2l6ZSBkb3duLlxuZm9yIChsZXQgcCBvZiBbXCIoKVwiLCBcIltdXCIsIFwie31cIl0pIHtcbiAgICBsZXQgbCA9IC8qQF9fUFVSRV9fKi9wLmNoYXJDb2RlQXQoMCksIHIgPSAvKkBfX1BVUkVfXyovcC5jaGFyQ29kZUF0KDEpO1xuICAgIEJyYWNrZXRzW2xdID0gcjtcbiAgICBCcmFja2V0c1tyXSA9IC1sO1xufVxuZnVuY3Rpb24gY2hhclR5cGUoY2gpIHtcbiAgICByZXR1cm4gY2ggPD0gMHhmNyA/IExvd1R5cGVzW2NoXSA6XG4gICAgICAgIDB4NTkwIDw9IGNoICYmIGNoIDw9IDB4NWY0ID8gMiAvKiBULlIgKi8gOlxuICAgICAgICAgICAgMHg2MDAgPD0gY2ggJiYgY2ggPD0gMHg2ZjkgPyBBcmFiaWNUeXBlc1tjaCAtIDB4NjAwXSA6XG4gICAgICAgICAgICAgICAgMHg2ZWUgPD0gY2ggJiYgY2ggPD0gMHg4YWMgPyA0IC8qIFQuQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAweDIwMDAgPD0gY2ggJiYgY2ggPD0gMHgyMDBjID8gMjU2IC8qIFQuTkkgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgMHhmYjUwIDw9IGNoICYmIGNoIDw9IDB4ZmRmZiA/IDQgLyogVC5BTCAqLyA6IDEgLyogVC5MICovO1xufVxuY29uc3QgQmlkaVJFID0gL1tcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUwNzAwLVxcdTA4YWNcXHVmYjUwLVxcdWZkZmZdLztcbi8qKlxuUmVwcmVzZW50cyBhIGNvbnRpZ3VvdXMgcmFuZ2Ugb2YgdGV4dCB0aGF0IGhhcyBhIHNpbmdsZSBkaXJlY3Rpb25cbihhcyBpbiBsZWZ0LXRvLXJpZ2h0IG9yIHJpZ2h0LXRvLWxlZnQpLlxuKi9cbmNsYXNzIEJpZGlTcGFuIHtcbiAgICAvKipcbiAgICBUaGUgZGlyZWN0aW9uIG9mIHRoaXMgc3Bhbi5cbiAgICAqL1xuICAgIGdldCBkaXIoKSB7IHJldHVybiB0aGlzLmxldmVsICUgMiA/IFJUTCA6IExUUjsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHN0YXJ0IG9mIHRoZSBzcGFuIChyZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUpLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGVuZCBvZiB0aGUgc3Bhbi5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBUaGUgW1wiYmlkaVxuICAgIGxldmVsXCJdKGh0dHBzOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvI0Jhc2ljX0Rpc3BsYXlfQWxnb3JpdGhtKVxuICAgIG9mIHRoZSBzcGFuIChpbiB0aGlzIGNvbnRleHQsIDAgbWVhbnNcbiAgICBsZWZ0LXRvLXJpZ2h0LCAxIG1lYW5zIHJpZ2h0LXRvLWxlZnQsIDIgbWVhbnMgbGVmdC10by1yaWdodFxuICAgIG51bWJlciBpbnNpZGUgcmlnaHQtdG8tbGVmdCB0ZXh0KS5cbiAgICAqL1xuICAgIGxldmVsKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNpZGUoZW5kLCBkaXIpIHsgcmV0dXJuICh0aGlzLmRpciA9PSBkaXIpID09IGVuZCA/IHRoaXMudG8gOiB0aGlzLmZyb207IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZvcndhcmQoZm9yd2FyZCwgZGlyKSB7IHJldHVybiBmb3J3YXJkID09ICh0aGlzLmRpciA9PSBkaXIpOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgZmluZChvcmRlciwgaW5kZXgsIGxldmVsLCBhc3NvYykge1xuICAgICAgICBsZXQgbWF5YmUgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwYW4gPSBvcmRlcltpXTtcbiAgICAgICAgICAgIGlmIChzcGFuLmZyb20gPD0gaW5kZXggJiYgc3Bhbi50byA+PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGFuLmxldmVsID09IGxldmVsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIG11bHRpcGxlIHNwYW5zIG1hdGNoLCBpZiBhc3NvYyAhPSAwLCB0YWtlIHRoZSBvbmUgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGNvdmVycyB0aGF0IHNpZGUsIG90aGVyd2lzZSB0YWtlIHRoZSBvbmUgd2l0aCB0aGUgbWluaW11bVxuICAgICAgICAgICAgICAgIC8vIGxldmVsLlxuICAgICAgICAgICAgICAgIGlmIChtYXliZSA8IDAgfHwgKGFzc29jICE9IDAgPyAoYXNzb2MgPCAwID8gc3Bhbi5mcm9tIDwgaW5kZXggOiBzcGFuLnRvID4gaW5kZXgpIDogb3JkZXJbbWF5YmVdLmxldmVsID4gc3Bhbi5sZXZlbCkpXG4gICAgICAgICAgICAgICAgICAgIG1heWJlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF5YmUgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIHJldHVybiBtYXliZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc29sYXRlc0VxKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGlBID0gYVtpXSwgaUIgPSBiW2ldO1xuICAgICAgICBpZiAoaUEuZnJvbSAhPSBpQi5mcm9tIHx8IGlBLnRvICE9IGlCLnRvIHx8IGlBLmRpcmVjdGlvbiAhPSBpQi5kaXJlY3Rpb24gfHwgIWlzb2xhdGVzRXEoaUEuaW5uZXIsIGlCLmlubmVyKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBSZXVzZWQgYXJyYXkgb2YgY2hhcmFjdGVyIHR5cGVzXG5jb25zdCB0eXBlcyA9IFtdO1xuLy8gRmlsbCBpbiB0aGUgY2hhcmFjdGVyIHR5cGVzIChpbiBgdHlwZXNgKSBmcm9tIGBmcm9tYCB0byBgdG9gIGFuZFxuLy8gYXBwbHkgVyBub3JtYWxpemF0aW9uIHJ1bGVzLlxuZnVuY3Rpb24gY29tcHV0ZUNoYXJUeXBlcyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICBsZXQgcHJldlR5cGUgPSBpSSA/IDI1NiAvKiBULk5JICovIDogb3V0ZXJUeXBlO1xuICAgICAgICAvLyBXMS4gRXhhbWluZSBlYWNoIG5vbi1zcGFjaW5nIG1hcmsgKE5TTSkgaW4gdGhlIGxldmVsIHJ1biwgYW5kXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHNvci5cbiAgICAgICAgLy8gVzIuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgICAgLy8gbnVtYmVyLlxuICAgICAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICAgICAgLy8gKExlZnQgYWZ0ZXIgdGhpczogTCwgUiwgRU4sIEFOLCBFVCwgQ1MsIE5JKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbSwgcHJldiA9IHByZXZUeXBlLCBwcmV2U3Ryb25nID0gcHJldlR5cGU7IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IGNoYXJUeXBlKGxpbmUuY2hhckNvZGVBdChpKSk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSA1MTIgLyogVC5OU00gKi8pXG4gICAgICAgICAgICAgICAgdHlwZSA9IHByZXY7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDQgLyogVC5BTCAqLylcbiAgICAgICAgICAgICAgICB0eXBlID0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgIHR5cGVzW2ldID0gdHlwZSA9PSA0IC8qIFQuQUwgKi8gPyAyIC8qIFQuUiAqLyA6IHR5cGU7XG4gICAgICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICAgICAgcHJldlN0cm9uZyA9IHR5cGU7XG4gICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXNS4gQSBzZXF1ZW5jZSBvZiBFdXJvcGVhbiB0ZXJtaW5hdG9ycyBhZGphY2VudCB0byBFdXJvcGVhblxuICAgICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuXG4gICAgICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgICAgICAvLyBOZXV0cmFsLlxuICAgICAgICAvLyBXNy4gU2VhcmNoIGJhY2t3YXJkcyBmcm9tIGVhY2ggaW5zdGFuY2Ugb2YgYSBFdXJvcGVhbiBudW1iZXJcbiAgICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOLCBOSSlcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIHByZXYgPSBwcmV2VHlwZSwgcHJldlN0cm9uZyA9IHByZXZUeXBlOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDEyOCAvKiBULkNTICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCB0byAtIDEgJiYgcHJldiA9PSB0eXBlc1tpICsgMV0gJiYgKHByZXYgJiAyNCAvKiBULk51bSAqLykpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tpXSA9IDI1NiAvKiBULk5JICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSA2NCAvKiBULkVUICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIHdoaWxlIChlbmQgPCB0byAmJiB0eXBlc1tlbmRdID09IDY0IC8qIFQuRVQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgIGxldCByZXBsYWNlID0gKGkgJiYgcHJldiA9PSA4IC8qIFQuRU4gKi8pIHx8IChlbmQgPCByVG8gJiYgdHlwZXNbZW5kXSA9PSA4IC8qIFQuRU4gKi8pID8gKHByZXZTdHJvbmcgPT0gMSAvKiBULkwgKi8gPyAxIC8qIFQuTCAqLyA6IDggLyogVC5FTiAqLykgOiAyNTYgLyogVC5OSSAqLztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVuZDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgaSA9IGVuZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgdHlwZXNbaV0gPSAxIC8qIFQuTCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgJiA3IC8qIFQuU3Ryb25nICovKVxuICAgICAgICAgICAgICAgIHByZXZTdHJvbmcgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gUHJvY2VzcyBicmFja2V0cyB0aHJvdWdob3V0IGEgcnVuIHNlcXVlbmNlLlxuZnVuY3Rpb24gcHJvY2Vzc0JyYWNrZXRQYWlycyhsaW5lLCByRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgbGV0IG9wcG9zaXRlVHlwZSA9IG91dGVyVHlwZSA9PSAxIC8qIFQuTCAqLyA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi87XG4gICAgZm9yIChsZXQgaUkgPSAwLCBzSSA9IDAsIGNvbnRleHQgPSAwOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMC4gUHJvY2VzcyBicmFja2V0IHBhaXJzIGluIGFuIGlzb2xhdGluZyBydW4gc2VxdWVuY2VcbiAgICAgICAgLy8gc2VxdWVudGlhbGx5IGluIHRoZSBsb2dpY2FsIG9yZGVyIG9mIHRoZSB0ZXh0IHBvc2l0aW9ucyBvZiB0aGVcbiAgICAgICAgLy8gb3BlbmluZyBwYWlyZWQgYnJhY2tldHMgdXNpbmcgdGhlIGxvZ2ljIGdpdmVuIGJlbG93LiBXaXRoaW4gdGhpc1xuICAgICAgICAvLyBzY29wZSwgYmlkaXJlY3Rpb25hbCB0eXBlcyBFTiBhbmQgQU4gYXJlIHRyZWF0ZWQgYXMgUi5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20sIGNoLCBiciwgdHlwZTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEtlZXBzIFtzdGFydEluZGV4LCB0eXBlLCBzdHJvbmdTZWVuXSB0cmlwbGVzIGZvciBlYWNoIG9wZW5cbiAgICAgICAgICAgIC8vIGJyYWNrZXQgb24gQnJhY2tldFN0YWNrLlxuICAgICAgICAgICAgaWYgKGJyID0gQnJhY2tldHNbY2ggPSBsaW5lLmNoYXJDb2RlQXQoaSldKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyIDwgMCkgeyAvLyBDbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc0ogPSBzSSAtIDM7IHNKID49IDA7IHNKIC09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCcmFja2V0U3RhY2tbc0ogKyAxXSA9PSAtYnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmxhZ3MgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IChmbGFncyAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKSA/IG91dGVyVHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoZmxhZ3MgJiA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLykgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncyAmIDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovKSA/IG9wcG9zaXRlVHlwZSA6IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXNbaV0gPSB0eXBlc1tCcmFja2V0U3RhY2tbc0pdXSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc0kgPSBzSjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChCcmFja2V0U3RhY2subGVuZ3RoID09IDE4OSAvKiBCcmFja2V0ZWQuTWF4RGVwdGggKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBpO1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NJKytdID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9IHR5cGVzW2ldKSA9PSAyIC8qIFQuUiAqLyB8fCB0eXBlID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVtYmVkID0gdHlwZSA9PSBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGVtYmVkID8gMCA6IDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHNKID0gc0kgLSAzOyBzSiA+PSAwOyBzSiAtPSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXIgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ciAmIDIgLyogQnJhY2tldGVkLkVtYmVkSW5zaWRlICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQnJhY2tldFN0YWNrW3NKICsgMl0gfD0gMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyICYgNCAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVJbnNpZGUgKi8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHByb2Nlc3NOZXV0cmFscyhyRnJvbSwgclRvLCBpc29sYXRlcywgb3V0ZXJUeXBlKSB7XG4gICAgZm9yIChsZXQgaUkgPSAwLCBwcmV2ID0gb3V0ZXJUeXBlOyBpSSA8PSBpc29sYXRlcy5sZW5ndGg7IGlJKyspIHtcbiAgICAgICAgbGV0IGZyb20gPSBpSSA/IGlzb2xhdGVzW2lJIC0gMV0udG8gOiByRnJvbSwgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAvLyBOMS4gQSBzZXF1ZW5jZSBvZiBuZXV0cmFscyB0YWtlcyB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAgICAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgICAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAgICAgLy8gdGVybXMgb2YgdGhlaXIgaW5mbHVlbmNlIG9uIG5ldXRyYWxzLiBTdGFydC1vZi1sZXZlbC1ydW4gKHNvcilcbiAgICAgICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgICAgIC8vIChMZWZ0IGFmdGVyIHRoaXM6IEwsIFIsIEVOK0FOKVxuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOykge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IDI1NiAvKiBULk5JICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCA9PSB0bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlJID09IGlzb2xhdGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGlzb2xhdGVzW2lJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBpSSA8IGlzb2xhdGVzLmxlbmd0aCA/IGlzb2xhdGVzW2lJXS5mcm9tIDogclRvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW2VuZF0gPT0gMjU2IC8qIFQuTkkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGJlZm9yZUwgPSBwcmV2ID09IDEgLyogVC5MICovO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlckwgPSAoZW5kIDwgclRvID8gdHlwZXNbZW5kXSA6IG91dGVyVHlwZSkgPT0gMSAvKiBULkwgKi87XG4gICAgICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSBiZWZvcmVMID09IGFmdGVyTCA/IChiZWZvcmVMID8gMSAvKiBULkwgKi8gOiAyIC8qIFQuUiAqLykgOiBvdXRlclR5cGU7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGVuZCwgakkgPSBpSSwgZnJvbUogPSBqSSA/IGlzb2xhdGVzW2pJIC0gMV0udG8gOiByRnJvbTsgaiA+IGk7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09IGZyb21KKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21KID0gakkgPyBpc29sYXRlc1tqSSAtIDFdLnRvIDogckZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZXNbLS1qXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBGaW5kIHRoZSBjb250aWd1b3VzIHJhbmdlcyBvZiBjaGFyYWN0ZXIgdHlwZXMgaW4gYSBnaXZlbiByYW5nZSwgYW5kXG4vLyBlbWl0IHNwYW5zIGZvciB0aGVtLiBGbGlwIHRoZSBvcmRlciBvZiB0aGUgc3BhbnMgYXMgYXBwcm9wcmlhdGVcbi8vIGJhc2VkIG9uIHRoZSBsZXZlbCwgYW5kIGNhbGwgdGhyb3VnaCB0byBjb21wdXRlIHRoZSBzcGFucyBmb3Jcbi8vIGlzb2xhdGVzIGF0IHRoZSBwcm9wZXIgcG9pbnQuXG5mdW5jdGlvbiBlbWl0U3BhbnMobGluZSwgZnJvbSwgdG8sIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBvcmRlcikge1xuICAgIGxldCBvdXJUeXBlID0gbGV2ZWwgJSAyID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLztcbiAgICBpZiAoKGxldmVsICUgMikgPT0gKGJhc2VMZXZlbCAlIDIpKSB7IC8vIFNhbWUgZGlyIGFzIGJhc2UgZGlyZWN0aW9uLCBkb24ndCBmbGlwXG4gICAgICAgIGZvciAobGV0IGlDaCA9IGZyb20sIGlJID0gMDsgaUNoIDwgdG87KSB7XG4gICAgICAgICAgICAvLyBTY2FuIGEgc2VjdGlvbiBvZiBjaGFyYWN0ZXJzIGluIGRpcmVjdGlvbiBvdXJUeXBlLCB1bmxlc3NcbiAgICAgICAgICAgIC8vIHRoZXJlJ3MgYW5vdGhlciB0eXBlIG9mIGNoYXIgcmlnaHQgYWZ0ZXIgaUNoLCBpbiB3aGljaCBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBzY2FuIGEgc2VjdGlvbiBvZiBvdGhlciBjaGFyYWN0ZXJzICh3aGljaCwgaWYgb3VyVHlwZSA9PVxuICAgICAgICAgICAgLy8gVC5MLCBtYXkgY29udGFpbiBib3RoIFQuUiBhbmQgVC5BTiBjaGFycykuXG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaUkgPT0gaXNvbGF0ZXMubGVuZ3RoIHx8IGlDaCA8IGlzb2xhdGVzW2lJXS5mcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0eXBlc1tpQ2hdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIb2xkcyBhbiBhcnJheSBvZiBpc29sYXRlcyB0byBwYXNzIHRvIGEgcmVjdXJzaXZlIGNhbGwgaWYgd2VcbiAgICAgICAgICAgIC8vIG11c3QgcmVjdXJzZSAodG8gZGlzdGluZ3Vpc2ggVC5BTiBpbnNpZGUgYW4gUlRMIHNlY3Rpb24gaW5cbiAgICAgICAgICAgIC8vIExUUiB0ZXh0KSwgbnVsbCBpZiB3ZSBjYW4gZW1pdCBkaXJlY3RseVxuICAgICAgICAgICAgbGV0IHJlY3Vyc2UgPSAhc2FtZURpciAmJiBvdXJUeXBlID09IDEgLyogVC5MICovID8gW10gOiBudWxsO1xuICAgICAgICAgICAgbGV0IGxvY2FsTGV2ZWwgPSBzYW1lRGlyID8gbGV2ZWwgOiBsZXZlbCArIDE7XG4gICAgICAgICAgICBsZXQgaVNjYW4gPSBpQ2g7XG4gICAgICAgICAgICBydW46IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAoaUkgPCBpc29sYXRlcy5sZW5ndGggJiYgaVNjYW4gPT0gaXNvbGF0ZXNbaUldLmZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNvID0gaXNvbGF0ZXNbaUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLnRvLCBqSSA9IGlJICsgMTs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwdG8gPT0gdG8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgPCBpc29sYXRlcy5sZW5ndGggJiYgaXNvbGF0ZXNbakldLmZyb20gPT0gdXB0bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXB0byA9IGlzb2xhdGVzW2pJKytdLnRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVzW3VwdG9dID09IG91clR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpSSsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdXJzZS5wdXNoKGlzbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNvLmZyb20gPiBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpc28uZnJvbSwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpclN3YXAgPSAoaXNvLmRpcmVjdGlvbiA9PSBMVFIpICE9ICEobG9jYWxMZXZlbCAlIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZVNlY3Rpb25PcmRlcihsaW5lLCBkaXJTd2FwID8gbGV2ZWwgKyAxIDogbGV2ZWwsIGJhc2VMZXZlbCwgaXNvLmlubmVyLCBpc28uZnJvbSwgaXNvLnRvLCBvcmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpQ2ggPSBpc28udG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28udG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlTY2FuID09IHRvIHx8IChzYW1lRGlyID8gdHlwZXNbaVNjYW5dICE9IG91clR5cGUgOiB0eXBlc1tpU2Nhbl0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2NhbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpQ2gsIGlTY2FuLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaUNoIDwgaVNjYW4pXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaUNoLCBpU2NhbiwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgaW4gcmV2ZXJzZSB0byBmbGlwIHRoZSBzcGFuIG9yZGVyLiBTYW1lIGNvZGUgYWdhaW4sIGJ1dFxuICAgICAgICAvLyBnb2luZyBmcm9tIHRoZSBiYWNrIG9mIHRoZSBzZWN0aW9uIHRvIHRoZSBmcm9udFxuICAgICAgICBmb3IgKGxldCBpQ2ggPSB0bywgaUkgPSBpc29sYXRlcy5sZW5ndGg7IGlDaCA+IGZyb207KSB7XG4gICAgICAgICAgICBsZXQgc2FtZURpciA9IHRydWUsIGlzTnVtID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIWlJIHx8IGlDaCA+IGlzb2xhdGVzW2lJIC0gMV0udG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHR5cGVzW2lDaCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG91clR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtZURpciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc051bSA9IG5leHQgPT0gMTYgLyogVC5BTiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVjdXJzZSA9ICFzYW1lRGlyICYmIG91clR5cGUgPT0gMSAvKiBULkwgKi8gPyBbXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbG9jYWxMZXZlbCA9IHNhbWVEaXIgPyBsZXZlbCA6IGxldmVsICsgMTtcbiAgICAgICAgICAgIGxldCBpU2NhbiA9IGlDaDtcbiAgICAgICAgICAgIHJ1bjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmIChpSSAmJiBpU2NhbiA9PSBpc29sYXRlc1tpSSAtIDFdLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzbyA9IGlzb2xhdGVzWy0taUldO1xuICAgICAgICAgICAgICAgICAgICAvLyBTY2FuIGFoZWFkIHRvIHZlcmlmeSB0aGF0IHRoZXJlIGlzIGFub3RoZXIgY2hhciBpbiB0aGlzIGRpciBhZnRlciB0aGUgaXNvbGF0ZShzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhbWVEaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1cHRvID0gaXNvLmZyb20sIGpJID0gaUk7Oykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHRvID09IGZyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHJ1bjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoakkgJiYgaXNvbGF0ZXNbakkgLSAxXS50byA9PSB1cHRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvID0gaXNvbGF0ZXNbLS1qSV0uZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlc1t1cHRvIC0gMV0gPT0gb3VyVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgcnVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN1cnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN1cnNlLnB1c2goaXNvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc28udG8gPCBpQ2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaXNvLnRvLCBpQ2gsIGxvY2FsTGV2ZWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXJTd2FwID0gKGlzby5kaXJlY3Rpb24gPT0gTFRSKSAhPSAhKGxvY2FsTGV2ZWwgJSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVTZWN0aW9uT3JkZXIobGluZSwgZGlyU3dhcCA/IGxldmVsICsgMSA6IGxldmVsLCBiYXNlTGV2ZWwsIGlzby5pbm5lciwgaXNvLmZyb20sIGlzby50bywgb3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaUNoID0gaXNvLmZyb207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaVNjYW4gPSBpc28uZnJvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPT0gZnJvbSB8fCAoc2FtZURpciA/IHR5cGVzW2lTY2FuIC0gMV0gIT0gb3VyVHlwZSA6IHR5cGVzW2lTY2FuIC0gMV0gPT0gb3VyVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpU2Nhbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWN1cnNlKVxuICAgICAgICAgICAgICAgIGVtaXRTcGFucyhsaW5lLCBpU2NhbiwgaUNoLCBsZXZlbCArIDEsIGJhc2VMZXZlbCwgcmVjdXJzZSwgb3JkZXIpO1xuICAgICAgICAgICAgZWxzZSBpZiAoaVNjYW4gPCBpQ2gpXG4gICAgICAgICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oaVNjYW4sIGlDaCwgbG9jYWxMZXZlbCkpO1xuICAgICAgICAgICAgaUNoID0gaVNjYW47XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBiYXNlTGV2ZWwsIGlzb2xhdGVzLCBmcm9tLCB0bywgb3JkZXIpIHtcbiAgICBsZXQgb3V0ZXJUeXBlID0gKGxldmVsICUgMiA/IDIgLyogVC5SICovIDogMSAvKiBULkwgKi8pO1xuICAgIGNvbXB1dGVDaGFyVHlwZXMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NCcmFja2V0UGFpcnMobGluZSwgZnJvbSwgdG8sIGlzb2xhdGVzLCBvdXRlclR5cGUpO1xuICAgIHByb2Nlc3NOZXV0cmFscyhmcm9tLCB0bywgaXNvbGF0ZXMsIG91dGVyVHlwZSk7XG4gICAgZW1pdFNwYW5zKGxpbmUsIGZyb20sIHRvLCBsZXZlbCwgYmFzZUxldmVsLCBpc29sYXRlcywgb3JkZXIpO1xufVxuZnVuY3Rpb24gY29tcHV0ZU9yZGVyKGxpbmUsIGRpcmVjdGlvbiwgaXNvbGF0ZXMpIHtcbiAgICBpZiAoIWxpbmUpXG4gICAgICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIDAsIGRpcmVjdGlvbiA9PSBSVEwgPyAxIDogMCldO1xuICAgIGlmIChkaXJlY3Rpb24gPT0gTFRSICYmICFpc29sYXRlcy5sZW5ndGggJiYgIUJpZGlSRS50ZXN0KGxpbmUpKVxuICAgICAgICByZXR1cm4gdHJpdmlhbE9yZGVyKGxpbmUubGVuZ3RoKTtcbiAgICBpZiAoaXNvbGF0ZXMubGVuZ3RoKVxuICAgICAgICB3aGlsZSAobGluZS5sZW5ndGggPiB0eXBlcy5sZW5ndGgpXG4gICAgICAgICAgICB0eXBlc1t0eXBlcy5sZW5ndGhdID0gMjU2IC8qIFQuTkkgKi87IC8vIE1ha2Ugc3VyZSB0eXBlcyBhcnJheSBoYXMgbm8gZ2Fwc1xuICAgIGxldCBvcmRlciA9IFtdLCBsZXZlbCA9IGRpcmVjdGlvbiA9PSBMVFIgPyAwIDogMTtcbiAgICBjb21wdXRlU2VjdGlvbk9yZGVyKGxpbmUsIGxldmVsLCBsZXZlbCwgaXNvbGF0ZXMsIDAsIGxpbmUubGVuZ3RoLCBvcmRlcik7XG4gICAgcmV0dXJuIG9yZGVyO1xufVxuZnVuY3Rpb24gdHJpdmlhbE9yZGVyKGxlbmd0aCkge1xuICAgIHJldHVybiBbbmV3IEJpZGlTcGFuKDAsIGxlbmd0aCwgMCldO1xufVxubGV0IG1vdmVkT3ZlciA9IFwiXCI7XG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIG1vdmVzIHN0cmljdGx5IHZpc3VhbGx5LCB3aXRob3V0IGNvbmNlcm4gZm9yIGFcbi8vIHRyYXZlcnNhbCB2aXNpdGluZyBldmVyeSBsb2dpY2FsIHBvc2l0aW9uIGluIHRoZSBzdHJpbmcuIEl0IHdpbGxcbi8vIHN0aWxsIGRvIHNvIGZvciBzaW1wbGUgaW5wdXQsIGJ1dCBzaXR1YXRpb25zIGxpa2UgbXVsdGlwbGUgaXNvbGF0ZXNcbi8vIHdpdGggdGhlIHNhbWUgbGV2ZWwgbmV4dCB0byBlYWNoIG90aGVyLCBvciB0ZXh0IGdvaW5nIGFnYWluc3QgdGhlXG4vLyBtYWluIGRpciBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lLCB3aWxsIG1ha2Ugc29tZSBwb3NpdGlvbnNcbi8vIHVucmVhY2hhYmxlIHdpdGggdGhpcyBtb3Rpb24uIEVhY2ggdmlzaWJsZSBjdXJzb3IgcG9zaXRpb24gd2lsbFxuLy8gY29ycmVzcG9uZCB0byB0aGUgbG93ZXItbGV2ZWwgYmlkaSBzcGFuIHRoYXQgdG91Y2hlcyBpdC5cbi8vXG4vLyBUaGUgYWx0ZXJuYXRpdmUgd291bGQgYmUgdG8gc29sdmUgYW4gb3JkZXIgZ2xvYmFsbHkgZm9yIGEgZ2l2ZW5cbi8vIGxpbmUsIG1ha2luZyBzdXJlIHRoYXQgaXQgaW5jbHVkZXMgZXZlcnkgcG9zaXRpb24sIGJ1dCB0aGF0IHdvdWxkXG4vLyByZXF1aXJlIGFzc29jaWF0aW5nIG5vbi1jYW5vbmljYWwgKGhpZ2hlciBiaWRpIHNwYW4gbGV2ZWwpXG4vLyBwb3NpdGlvbnMgd2l0aCBhIGdpdmVuIHZpc3VhbCBwb3NpdGlvbiwgd2hpY2ggaXMgbGlrZWx5IHRvIGNvbmZ1c2Vcbi8vIHBlb3BsZS4gKEFuZCB3b3VsZCBnZW5lcmFsbHkgYmUgYSBsb3QgbW9yZSBjb21wbGljYXRlZC4pXG5mdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgb3JkZXIsIGRpciwgc3RhcnQsIGZvcndhcmQpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHN0YXJ0SW5kZXggPSBzdGFydC5oZWFkIC0gbGluZS5mcm9tO1xuICAgIGxldCBzcGFuSSA9IEJpZGlTcGFuLmZpbmQob3JkZXIsIHN0YXJ0SW5kZXgsIChfYSA9IHN0YXJ0LmJpZGlMZXZlbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTEsIHN0YXJ0LmFzc29jKTtcbiAgICBsZXQgc3BhbiA9IG9yZGVyW3NwYW5JXSwgc3BhbkVuZCA9IHNwYW4uc2lkZShmb3J3YXJkLCBkaXIpO1xuICAgIC8vIEVuZCBvZiBzcGFuXG4gICAgaWYgKHN0YXJ0SW5kZXggPT0gc3BhbkVuZCkge1xuICAgICAgICBsZXQgbmV4dEkgPSBzcGFuSSArPSBmb3J3YXJkID8gMSA6IC0xO1xuICAgICAgICBpZiAobmV4dEkgPCAwIHx8IG5leHRJID49IG9yZGVyLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBzcGFuID0gb3JkZXJbc3BhbkkgPSBuZXh0SV07XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzcGFuLnNpZGUoIWZvcndhcmQsIGRpcik7XG4gICAgICAgIHNwYW5FbmQgPSBzcGFuLnNpZGUoZm9yd2FyZCwgZGlyKTtcbiAgICB9XG4gICAgbGV0IG5leHRJbmRleCA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBzdGFydEluZGV4LCBzcGFuLmZvcndhcmQoZm9yd2FyZCwgZGlyKSk7XG4gICAgaWYgKG5leHRJbmRleCA8IHNwYW4uZnJvbSB8fCBuZXh0SW5kZXggPiBzcGFuLnRvKVxuICAgICAgICBuZXh0SW5kZXggPSBzcGFuRW5kO1xuICAgIG1vdmVkT3ZlciA9IGxpbmUudGV4dC5zbGljZShNYXRoLm1pbihzdGFydEluZGV4LCBuZXh0SW5kZXgpLCBNYXRoLm1heChzdGFydEluZGV4LCBuZXh0SW5kZXgpKTtcbiAgICBsZXQgbmV4dFNwYW4gPSBzcGFuSSA9PSAoZm9yd2FyZCA/IG9yZGVyLmxlbmd0aCAtIDEgOiAwKSA/IG51bGwgOiBvcmRlcltzcGFuSSArIChmb3J3YXJkID8gMSA6IC0xKV07XG4gICAgaWYgKG5leHRTcGFuICYmIG5leHRJbmRleCA9PSBzcGFuRW5kICYmIG5leHRTcGFuLmxldmVsICsgKGZvcndhcmQgPyAwIDogMSkgPCBzcGFuLmxldmVsKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0U3Bhbi5zaWRlKCFmb3J3YXJkLCBkaXIpICsgbGluZS5mcm9tLCBuZXh0U3Bhbi5mb3J3YXJkKGZvcndhcmQsIGRpcikgPyAxIDogLTEsIG5leHRTcGFuLmxldmVsKTtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0SW5kZXggKyBsaW5lLmZyb20sIHNwYW4uZm9yd2FyZChmb3J3YXJkLCBkaXIpID8gLTEgOiAxLCBzcGFuLmxldmVsKTtcbn1cbmZ1bmN0aW9uIGF1dG9EaXJlY3Rpb24odGV4dCwgZnJvbSwgdG8pIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgbGV0IHR5cGUgPSBjaGFyVHlwZSh0ZXh0LmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICBpZiAodHlwZSA9PSAxIC8qIFQuTCAqLylcbiAgICAgICAgICAgIHJldHVybiBMVFI7XG4gICAgICAgIGlmICh0eXBlID09IDIgLyogVC5SICovIHx8IHR5cGUgPT0gNCAvKiBULkFMICovKVxuICAgICAgICAgICAgcmV0dXJuIFJUTDtcbiAgICB9XG4gICAgcmV0dXJuIExUUjtcbn1cblxuY29uc3QgY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkcmFnTW92ZXNTZWxlY3Rpb24kMSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IG1vdXNlU2VsZWN0aW9uU3R5bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBleGNlcHRpb25TaW5rID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdXBkYXRlTGlzdGVuZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBpbnB1dEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBmb2N1c0NoYW5nZUVmZmVjdCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGNsaXBib2FyZElucHV0RmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgY2xpcGJvYXJkT3V0cHV0RmlsdGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgcGVyTGluZVRleHREaXJlY3Rpb24gPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG5jb25zdCBuYXRpdmVTZWxlY3Rpb25IaWRkZW4gPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUoeCA9PiB4KVxufSk7XG5jb25zdCBzY3JvbGxIYW5kbGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY2xhc3MgU2Nyb2xsVGFyZ2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgeSA9IFwibmVhcmVzdFwiLCB4ID0gXCJuZWFyZXN0XCIsIHlNYXJnaW4gPSA1LCB4TWFyZ2luID0gNSwgXG4gICAgLy8gVGhpcyBkYXRhIHN0cnVjdHVyZSBpcyBhYnVzZWQgdG8gYWxzbyBzdG9yZSBwcmVjaXNlIHNjcm9sbFxuICAgIC8vIHNuYXBzaG90cywgaW5zdGVhZCBvZiBhIGBzY3JvbGxJbnRvVmlld2AgcmVxdWVzdC4gV2hlbiB0aGlzXG4gICAgLy8gZmxhZyBpcyBgdHJ1ZWAsIGByYW5nZWAgcG9pbnRzIGF0IGEgcG9zaXRpb24gaW4gdGhlIHJlZmVyZW5jZVxuICAgIC8vIGxpbmUsIGB5TWFyZ2luYCBob2xkcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhhdFxuICAgIC8vIGxpbmUgYW5kIHRoZSB0b3Agb2YgdGhlIGVkaXRvciwgYW5kIGB4TWFyZ2luYCBob2xkcyB0aGVcbiAgICAvLyBlZGl0b3IncyBgc2Nyb2xsTGVmdGAuXG4gICAgaXNTbmFwc2hvdCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55TWFyZ2luID0geU1hcmdpbjtcbiAgICAgICAgdGhpcy54TWFyZ2luID0geE1hcmdpbjtcbiAgICAgICAgdGhpcy5pc1NuYXBzaG90ID0gaXNTbmFwc2hvdDtcbiAgICB9XG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZXMuZW1wdHkgPyB0aGlzIDpcbiAgICAgICAgICAgIG5ldyBTY3JvbGxUYXJnZXQodGhpcy5yYW5nZS5tYXAoY2hhbmdlcyksIHRoaXMueSwgdGhpcy54LCB0aGlzLnlNYXJnaW4sIHRoaXMueE1hcmdpbiwgdGhpcy5pc1NuYXBzaG90KTtcbiAgICB9XG4gICAgY2xpcChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZS50byA8PSBzdGF0ZS5kb2MubGVuZ3RoID8gdGhpcyA6XG4gICAgICAgICAgICBuZXcgU2Nyb2xsVGFyZ2V0KEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioc3RhdGUuZG9jLmxlbmd0aCksIHRoaXMueSwgdGhpcy54LCB0aGlzLnlNYXJnaW4sIHRoaXMueE1hcmdpbiwgdGhpcy5pc1NuYXBzaG90KTtcbiAgICB9XG59XG5jb25zdCBzY3JvbGxJbnRvVmlldyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoeyBtYXA6ICh0LCBjaCkgPT4gdC5tYXAoY2gpIH0pO1xuY29uc3Qgc2V0RWRpdENvbnRleHRGb3JtYXR0aW5nID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5Mb2cgb3IgcmVwb3J0IGFuIHVuaGFuZGxlZCBleGNlcHRpb24gaW4gY2xpZW50IGNvZGUuIFNob3VsZFxucHJvYmFibHkgb25seSBiZSB1c2VkIGJ5IGV4dGVuc2lvbiBjb2RlIHRoYXQgYWxsb3dzIGNsaWVudCBjb2RlIHRvXG5wcm92aWRlIGZ1bmN0aW9ucywgYW5kIGNhbGxzIHRob3NlIGZ1bmN0aW9ucyBpbiBhIGNvbnRleHQgd2hlcmUgYW5cbmV4Y2VwdGlvbiBjYW4ndCBiZSBwcm9wYWdhdGVkIHRvIGNhbGxpbmcgY29kZSBpbiBhIHJlYXNvbmFibGUgd2F5XG4oZm9yIGV4YW1wbGUgd2hlbiBpbiBhbiBldmVudCBoYW5kbGVyKS5cblxuRWl0aGVyIGNhbGxzIGEgaGFuZGxlciByZWdpc3RlcmVkIHdpdGhcbltgRWRpdG9yVmlldy5leGNlcHRpb25TaW5rYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdeZXhjZXB0aW9uU2luayksXG5gd2luZG93Lm9uZXJyb3JgLCBpZiBkZWZpbmVkLCBvciBgY29uc29sZS5lcnJvcmAgKGluIHdoaWNoIGNhc2Vcbml0J2xsIHBhc3MgYGNvbnRleHRgLCB3aGVuIGdpdmVuLCBhcyBmaXJzdCBhcmd1bWVudCkuXG4qL1xuZnVuY3Rpb24gbG9nRXhjZXB0aW9uKHN0YXRlLCBleGNlcHRpb24sIGNvbnRleHQpIHtcbiAgICBsZXQgaGFuZGxlciA9IHN0YXRlLmZhY2V0KGV4Y2VwdGlvblNpbmspO1xuICAgIGlmIChoYW5kbGVyLmxlbmd0aClcbiAgICAgICAgaGFuZGxlclswXShleGNlcHRpb24pO1xuICAgIGVsc2UgaWYgKHdpbmRvdy5vbmVycm9yKVxuICAgICAgICB3aW5kb3cub25lcnJvcihTdHJpbmcoZXhjZXB0aW9uKSwgY29udGV4dCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGV4Y2VwdGlvbik7XG4gICAgZWxzZSBpZiAoY29udGV4dClcbiAgICAgICAgY29uc29sZS5lcnJvcihjb250ZXh0ICsgXCI6XCIsIGV4Y2VwdGlvbik7XG4gICAgZWxzZVxuICAgICAgICBjb25zb2xlLmVycm9yKGV4Y2VwdGlvbik7XG59XG5jb25zdCBlZGl0YWJsZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IHRydWUgfSk7XG5sZXQgbmV4dFBsdWdpbklEID0gMDtcbmNvbnN0IHZpZXdQbHVnaW4gPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcblZpZXcgcGx1Z2lucyBhc3NvY2lhdGUgc3RhdGVmdWwgdmFsdWVzIHdpdGggYSB2aWV3LiBUaGV5IGNhblxuaW5mbHVlbmNlIHRoZSB3YXkgdGhlIGNvbnRlbnQgaXMgZHJhd24sIGFuZCBhcmUgbm90aWZpZWQgb2YgdGhpbmdzXG50aGF0IGhhcHBlbiBpbiB0aGUgdmlldy5cbiovXG5jbGFzcyBWaWV3UGx1Z2luIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNyZWF0ZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBkb21FdmVudEhhbmRsZXJzLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGRvbUV2ZW50T2JzZXJ2ZXJzLCBidWlsZEV4dGVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAgICAgdGhpcy5kb21FdmVudEhhbmRsZXJzID0gZG9tRXZlbnRIYW5kbGVycztcbiAgICAgICAgdGhpcy5kb21FdmVudE9ic2VydmVycyA9IGRvbUV2ZW50T2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IGJ1aWxkRXh0ZW5zaW9ucyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgcGx1Z2luIGZyb20gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlXG4gICAgcGx1Z2luJ3MgdmFsdWUsIGdpdmVuIGFuIGVkaXRvciB2aWV3LlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjcmVhdGUsIHNwZWMpIHtcbiAgICAgICAgY29uc3QgeyBldmVudEhhbmRsZXJzLCBldmVudE9ic2VydmVycywgcHJvdmlkZSwgZGVjb3JhdGlvbnM6IGRlY28gfSA9IHNwZWMgfHwge307XG4gICAgICAgIHJldHVybiBuZXcgVmlld1BsdWdpbihuZXh0UGx1Z2luSUQrKywgY3JlYXRlLCBldmVudEhhbmRsZXJzLCBldmVudE9ic2VydmVycywgcGx1Z2luID0+IHtcbiAgICAgICAgICAgIGxldCBleHQgPSBbdmlld1BsdWdpbi5vZihwbHVnaW4pXTtcbiAgICAgICAgICAgIGlmIChkZWNvKVxuICAgICAgICAgICAgICAgIGV4dC5wdXNoKGRlY29yYXRpb25zLm9mKHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGx1Z2luSW5zdCA9IHZpZXcucGx1Z2luKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwbHVnaW5JbnN0ID8gZGVjbyhwbHVnaW5JbnN0KSA6IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAocHJvdmlkZSlcbiAgICAgICAgICAgICAgICBleHQucHVzaChwcm92aWRlKHBsdWdpbikpO1xuICAgICAgICAgICAgcmV0dXJuIGV4dDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHBsdWdpbiBmb3IgYSBjbGFzcyB3aG9zZSBjb25zdHJ1Y3RvciB0YWtlcyBhIHNpbmdsZVxuICAgIGVkaXRvciB2aWV3IGFzIGFyZ3VtZW50LlxuICAgICovXG4gICAgc3RhdGljIGZyb21DbGFzcyhjbHMsIHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKHZpZXcgPT4gbmV3IGNscyh2aWV3KSwgc3BlYyk7XG4gICAgfVxufVxuY2xhc3MgUGx1Z2luSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYztcbiAgICAgICAgLy8gV2hlbiBzdGFydGluZyBhbiB1cGRhdGUsIGFsbCBwbHVnaW5zIGhhdmUgdGhpcyBmaWVsZCBzZXQgdG8gdGhlXG4gICAgICAgIC8vIHVwZGF0ZSBvYmplY3QsIGluZGljYXRpbmcgdGhleSBuZWVkIHRvIGJlIHVwZGF0ZWQuIFdoZW4gZmluaXNoZWRcbiAgICAgICAgLy8gdXBkYXRpbmcsIGl0IGlzIHNldCB0byBgZmFsc2VgLiBSZXRyaWV2aW5nIGEgcGx1Z2luIHRoYXQgbmVlZHMgdG9cbiAgICAgICAgLy8gYmUgdXBkYXRlZCB3aXRoIGB2aWV3LnBsdWdpbmAgZm9yY2VzIGFuIGVhZ2VyIHVwZGF0ZS5cbiAgICAgICAgdGhpcy5tdXN0VXBkYXRlID0gbnVsbDtcbiAgICAgICAgLy8gVGhpcyBpcyBudWxsIHdoZW4gdGhlIHBsdWdpbiBpcyBpbml0aWFsbHkgY3JlYXRlZCwgYnV0XG4gICAgICAgIC8vIGluaXRpYWxpemVkIG9uIHRoZSBmaXJzdCB1cGRhdGUuXG4gICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICB1cGRhdGUodmlldykge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNwZWMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zcGVjLmNyZWF0ZSh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUsIFwiQ29kZU1pcnJvciBwbHVnaW4gY3Jhc2hlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubXVzdFVwZGF0ZSkge1xuICAgICAgICAgICAgbGV0IHVwZGF0ZSA9IHRoaXMubXVzdFVwZGF0ZTtcbiAgICAgICAgICAgIHRoaXMubXVzdFVwZGF0ZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZS51cGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odXBkYXRlLnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmRlc3Ryb3kpXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlc3Ryb3kodmlldykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoX2EgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUsIFwiQ29kZU1pcnJvciBwbHVnaW4gY3Jhc2hlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLnNwZWMgPSB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB9XG59XG5jb25zdCBlZGl0b3JBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgY29udGVudEF0dHJpYnV0ZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vLyBQcm92aWRlIGRlY29yYXRpb25zXG5jb25zdCBkZWNvcmF0aW9ucyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IG91dGVyRGVjb3JhdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBhdG9taWNSYW5nZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBiaWRpSXNvbGF0ZWRSYW5nZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5mdW5jdGlvbiBnZXRJc29sYXRlZFJhbmdlcyh2aWV3LCBsaW5lKSB7XG4gICAgbGV0IGlzb2xhdGVzID0gdmlldy5zdGF0ZS5mYWNldChiaWRpSXNvbGF0ZWRSYW5nZXMpO1xuICAgIGlmICghaXNvbGF0ZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gaXNvbGF0ZXM7XG4gICAgbGV0IHNldHMgPSBpc29sYXRlcy5tYXAoaSA9PiBpIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBpKHZpZXcpIDogaSk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIFJhbmdlU2V0LnNwYW5zKHNldHMsIGxpbmUuZnJvbSwgbGluZS50bywge1xuICAgICAgICBwb2ludCgpIHsgfSxcbiAgICAgICAgc3Bhbihmcm9tRG9jLCB0b0RvYywgYWN0aXZlLCBvcGVuKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGZyb21Eb2MgLSBsaW5lLmZyb20sIHRvID0gdG9Eb2MgLSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSByZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYWN0aXZlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tLCBvcGVuLS0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gYWN0aXZlW2ldLnNwZWMuYmlkaUlzb2xhdGUsIHVwZGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGF1dG9EaXJlY3Rpb24obGluZS50ZXh0LCBmcm9tLCB0byk7XG4gICAgICAgICAgICAgICAgaWYgKG9wZW4gPiAwICYmIGxldmVsLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAodXBkYXRlID0gbGV2ZWxbbGV2ZWwubGVuZ3RoIC0gMV0pLnRvID09IGZyb20gJiYgdXBkYXRlLmRpcmVjdGlvbiA9PSBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnRvID0gdG87XG4gICAgICAgICAgICAgICAgICAgIGxldmVsID0gdXBkYXRlLmlubmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZCA9IHsgZnJvbSwgdG8sIGRpcmVjdGlvbiwgaW5uZXI6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLnB1c2goYWRkKTtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBhZGQuaW5uZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHNjcm9sbE1hcmdpbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5mdW5jdGlvbiBnZXRTY3JvbGxNYXJnaW5zKHZpZXcpIHtcbiAgICBsZXQgbGVmdCA9IDAsIHJpZ2h0ID0gMCwgdG9wID0gMCwgYm90dG9tID0gMDtcbiAgICBmb3IgKGxldCBzb3VyY2Ugb2Ygdmlldy5zdGF0ZS5mYWNldChzY3JvbGxNYXJnaW5zKSkge1xuICAgICAgICBsZXQgbSA9IHNvdXJjZSh2aWV3KTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIGlmIChtLmxlZnQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgbS5sZWZ0KTtcbiAgICAgICAgICAgIGlmIChtLnJpZ2h0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1heChyaWdodCwgbS5yaWdodCk7XG4gICAgICAgICAgICBpZiAobS50b3AgIT0gbnVsbClcbiAgICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIG0udG9wKTtcbiAgICAgICAgICAgIGlmIChtLmJvdHRvbSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KGJvdHRvbSwgbS5ib3R0b20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSB9O1xufVxuY29uc3Qgc3R5bGVNb2R1bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jbGFzcyBDaGFuZ2VkUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZyb21BLCB0b0EsIGZyb21CLCB0b0IpIHtcbiAgICAgICAgdGhpcy5mcm9tQSA9IGZyb21BO1xuICAgICAgICB0aGlzLnRvQSA9IHRvQTtcbiAgICAgICAgdGhpcy5mcm9tQiA9IGZyb21CO1xuICAgICAgICB0aGlzLnRvQiA9IHRvQjtcbiAgICB9XG4gICAgam9pbihvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZWRSYW5nZShNYXRoLm1pbih0aGlzLmZyb21BLCBvdGhlci5mcm9tQSksIE1hdGgubWF4KHRoaXMudG9BLCBvdGhlci50b0EpLCBNYXRoLm1pbih0aGlzLmZyb21CLCBvdGhlci5mcm9tQiksIE1hdGgubWF4KHRoaXMudG9CLCBvdGhlci50b0IpKTtcbiAgICB9XG4gICAgYWRkVG9TZXQoc2V0KSB7XG4gICAgICAgIGxldCBpID0gc2V0Lmxlbmd0aCwgbWUgPSB0aGlzO1xuICAgICAgICBmb3IgKDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2V0W2kgLSAxXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tQSA+IG1lLnRvQSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50b0EgPCBtZS5mcm9tQSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG1lID0gbWUuam9pbihyYW5nZSk7XG4gICAgICAgICAgICBzZXQuc3BsaWNlKGkgLSAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQuc3BsaWNlKGksIDAsIG1lKTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgc3RhdGljIGV4dGVuZFdpdGhSYW5nZXMoZGlmZiwgcmFuZ2VzKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkSSA9IDAsIHJJID0gMCwgcG9zQSA9IDAsIHBvc0IgPSAwOzsgZEkrKykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBkSSA9PSBkaWZmLmxlbmd0aCA/IG51bGwgOiBkaWZmW2RJXSwgb2ZmID0gcG9zQSAtIHBvc0I7XG4gICAgICAgICAgICBsZXQgZW5kID0gbmV4dCA/IG5leHQuZnJvbUIgOiAxZTk7XG4gICAgICAgICAgICB3aGlsZSAockkgPCByYW5nZXMubGVuZ3RoICYmIHJhbmdlc1tySV0gPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1tySV0sIHRvID0gcmFuZ2VzW3JJICsgMV07XG4gICAgICAgICAgICAgICAgbGV0IGZyb21CID0gTWF0aC5tYXgocG9zQiwgZnJvbSksIHRvQiA9IE1hdGgubWluKGVuZCwgdG8pO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQiA8PSB0b0IpXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUIgKyBvZmYsIHRvQiArIG9mZiwgZnJvbUIsIHRvQikuYWRkVG9TZXQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiBlbmQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgckkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgbmV3IENoYW5nZWRSYW5nZShuZXh0LmZyb21BLCBuZXh0LnRvQSwgbmV4dC5mcm9tQiwgbmV4dC50b0IpLmFkZFRvU2V0KHJlc3VsdCk7XG4gICAgICAgICAgICBwb3NBID0gbmV4dC50b0E7XG4gICAgICAgICAgICBwb3NCID0gbmV4dC50b0I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcblZpZXcgW3BsdWdpbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5WaWV3UGx1Z2luKSBhcmUgZ2l2ZW4gaW5zdGFuY2VzIG9mIHRoaXNcbmNsYXNzLCB3aGljaCBkZXNjcmliZSB3aGF0IGhhcHBlbmVkLCB3aGVuZXZlciB0aGUgdmlldyBpcyB1cGRhdGVkLlxuKi9cbmNsYXNzIFZpZXdVcGRhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IgdmlldyB0aGF0IHRoZSB1cGRhdGUgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICAgICovXG4gICAgdmlldywgXG4gICAgLyoqXG4gICAgVGhlIG5ldyBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBzdGF0ZSwgXG4gICAgLyoqXG4gICAgVGhlIHRyYW5zYWN0aW9ucyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlLiBNYXkgYmUgZW1wdHkuXG4gICAgKi9cbiAgICB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmZsYWdzID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFN0YXRlID0gdmlldy5zdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gQ2hhbmdlU2V0LmVtcHR5KHRoaXMuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJhbnNhY3Rpb25zKVxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5jaGFuZ2VzLmNvbXBvc2UodHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCBjaGFuZ2VkUmFuZ2VzID0gW107XG4gICAgICAgIHRoaXMuY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikgPT4gY2hhbmdlZFJhbmdlcy5wdXNoKG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikpKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkUmFuZ2VzID0gY2hhbmdlZFJhbmdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKHZpZXcsIHN0YXRlLCB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3VXBkYXRlKHZpZXcsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICBUZWxscyB5b3Ugd2hldGhlciB0aGUgW3ZpZXdwb3J0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy52aWV3cG9ydCkgb3JcbiAgICBbdmlzaWJsZSByYW5nZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnZpc2libGVSYW5nZXMpIGNoYW5nZWQgaW4gdGhpc1xuICAgIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mbGFncyAmIDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgd2hlblxuICAgIFtgdmlld3BvcnRDaGFuZ2VkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlZpZXdVcGRhdGUudmlld3BvcnRDaGFuZ2VkKSBpcyB0cnVlXG4gICAgYW5kIHRoZSB2aWV3cG9ydCBjaGFuZ2UgaXMgbm90IGp1c3QgdGhlIHJlc3VsdCBvZiBtYXBwaW5nIGl0IGluXG4gICAgcmVzcG9uc2UgdG8gZG9jdW1lbnQgY2hhbmdlcy5cbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydE1vdmVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiA4IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnRNb3ZlZCAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgaGVpZ2h0IG9mIGEgYmxvY2sgZWxlbWVudCBpbiB0aGUgZWRpdG9yXG4gICAgY2hhbmdlZCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBoZWlnaHRDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBkb2N1bWVudCB3YXMgbW9kaWZpZWQgb3IgdGhlIHNpemUgb2YgdGhlXG4gICAgZWRpdG9yLCBvciBlbGVtZW50cyB3aXRoaW4gdGhlIGVkaXRvciwgY2hhbmdlZC5cbiAgICAqL1xuICAgIGdldCBnZW9tZXRyeUNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY0NoYW5nZWQgfHwgKHRoaXMuZmxhZ3MgJiAoMTYgLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLyB8IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFRydWUgd2hlbiB0aGlzIHVwZGF0ZSBpbmRpY2F0ZXMgYSBmb2N1cyBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgZm9jdXNDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgZG9jdW1lbnQgY2hhbmdlZCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBkb2NDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuY2hhbmdlcy5lbXB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgc2VsZWN0aW9uIHdhcyBleHBsaWNpdGx5IHNldCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBzZWxlY3Rpb25TZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLnNlbGVjdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGVtcHR5KCkgeyByZXR1cm4gdGhpcy5mbGFncyA9PSAwICYmIHRoaXMudHJhbnNhY3Rpb25zLmxlbmd0aCA9PSAwOyB9XG59XG5cbmNsYXNzIERvY1ZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoOyB9XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gW107XG4gICAgICAgIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXAgPSBbZmFsc2VdO1xuICAgICAgICB0aGlzLmRvbUNoYW5nZWQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0NvbXBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXJrZWRGb3JDb21wb3NpdGlvbiA9IG5ldyBTZXQ7XG4gICAgICAgIHRoaXMuZWRpdENvbnRleHRGb3JtYXR0aW5nID0gRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICB0aGlzLmxhc3RDb21wb3NpdGlvbkFmdGVyQ3Vyc29yID0gZmFsc2U7XG4gICAgICAgIC8vIFRyYWNrIGEgbWluaW11bSB3aWR0aCBmb3IgdGhlIGVkaXRvci4gV2hlbiBtZWFzdXJpbmcgc2l6ZXMgaW5cbiAgICAgICAgLy8gbWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cywgdGhpcyBpcyB1cGRhdGVkIHRvIHBvaW50IGF0IHRoZSB3aWR0aFxuICAgICAgICAvLyBvZiBhIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBleHRlbnQgaW4gdGhlIGRvY3VtZW50LiBXaGVuIGEgY2hhbmdlXG4gICAgICAgIC8vIGhhcHBlbnMgaW4gdGhhdCByYW5nZSwgdGhlc2UgYXJlIHJlc2V0LiBUaGF0IHdheSwgb25jZSB3ZSd2ZSBzZWVuXG4gICAgICAgIC8vIGEgbGluZS9lbGVtZW50IG9mIGEgZ2l2ZW4gbGVuZ3RoLCB3ZSBrZWVwIHRoZSBlZGl0b3Igd2lkZSBlbm91Z2hcbiAgICAgICAgLy8gdG8gZml0IGF0IGxlYXN0IHRoYXQgZWxlbWVudCwgdW50aWwgaXQgaXMgY2hhbmdlZCwgYXQgd2hpY2ggcG9pbnRcbiAgICAgICAgLy8gd2UgZm9yZ2V0IGl0IGFnYWluLlxuICAgICAgICB0aGlzLm1pbldpZHRoID0gMDtcbiAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSAwO1xuICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSAwO1xuICAgICAgICAvLyBUcmFjayB3aGV0aGVyIHRoZSBET00gc2VsZWN0aW9uIHdhcyBzZXQgaW4gYSBsb3NzeSB3YXksIHNvIHRoYXRcbiAgICAgICAgLy8gd2UgZG9uJ3QgbWVzcyBpdCB1cCB3aGVuIHJlYWRpbmcgaXQgYmFjayBpdFxuICAgICAgICB0aGlzLmltcHJlY2lzZUFuY2hvciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgLy8gVXNlZCBieSB0aGUgcmVzaXplIG9ic2VydmVyIHRvIGlnbm9yZSByZXNpemVzIHRoYXQgd2UgY2F1c2VkXG4gICAgICAgIC8vIG91cnNlbHZlc1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnNldERPTSh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW25ldyBMaW5lVmlld107XG4gICAgICAgIHRoaXMuY2hpbGRyZW5bMF0uc2V0UGFyZW50KHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZURlY28oKTtcbiAgICAgICAgdGhpcy51cGRhdGVJbm5lcihbbmV3IENoYW5nZWRSYW5nZSgwLCAwLCAwLCB2aWV3LnN0YXRlLmRvYy5sZW5ndGgpXSwgMCwgbnVsbCk7XG4gICAgfVxuICAgIC8vIFVwZGF0ZSB0aGUgZG9jdW1lbnQgdmlldyB0byBhIGdpdmVuIHN0YXRlLlxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY2hhbmdlZFJhbmdlcyA9IHVwZGF0ZS5jaGFuZ2VkUmFuZ2VzO1xuICAgICAgICBpZiAodGhpcy5taW5XaWR0aCA+IDAgJiYgY2hhbmdlZFJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghY2hhbmdlZFJhbmdlcy5ldmVyeSgoeyBmcm9tQSwgdG9BIH0pID0+IHRvQSA8IHRoaXMubWluV2lkdGhGcm9tIHx8IGZyb21BID4gdGhpcy5taW5XaWR0aFRvKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGggPSB0aGlzLm1pbldpZHRoRnJvbSA9IHRoaXMubWluV2lkdGhUbyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoRnJvbSA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0aGlzLm1pbldpZHRoRnJvbSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aFRvID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHRoaXMubWluV2lkdGhUbywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFZGl0Q29udGV4dEZvcm1hdHRpbmcodXBkYXRlKTtcbiAgICAgICAgbGV0IHJlYWRDb21wb3NpdGlvbkF0ID0gLTE7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPj0gMCAmJiAhdGhpcy52aWV3Lm9ic2VydmVyLmVkaXRDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5kb21DaGFuZ2VkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmV3U2VsKVxuICAgICAgICAgICAgICAgIHJlYWRDb21wb3NpdGlvbkF0ID0gdGhpcy5kb21DaGFuZ2VkLm5ld1NlbC5oZWFkO1xuICAgICAgICAgICAgZWxzZSBpZiAoIXRvdWNoZXNDb21wb3NpdGlvbih1cGRhdGUuY2hhbmdlcywgdGhpcy5oYXNDb21wb3NpdGlvbikgJiYgIXVwZGF0ZS5zZWxlY3Rpb25TZXQpXG4gICAgICAgICAgICAgICAgcmVhZENvbXBvc2l0aW9uQXQgPSB1cGRhdGUuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9zaXRpb24gPSByZWFkQ29tcG9zaXRpb25BdCA+IC0xID8gZmluZENvbXBvc2l0aW9uUmFuZ2UodGhpcy52aWV3LCB1cGRhdGUuY2hhbmdlcywgcmVhZENvbXBvc2l0aW9uQXQpIDogbnVsbDtcbiAgICAgICAgdGhpcy5kb21DaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24uY2xlYXIoKTtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLmhhc0NvbXBvc2l0aW9uO1xuICAgICAgICAgICAgY2hhbmdlZFJhbmdlcyA9IG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbSwgdG8sIHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyhmcm9tLCAtMSksIHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh0bywgMSkpXG4gICAgICAgICAgICAgICAgLmFkZFRvU2V0KGNoYW5nZWRSYW5nZXMuc2xpY2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNDb21wb3NpdGlvbiA9IGNvbXBvc2l0aW9uID8geyBmcm9tOiBjb21wb3NpdGlvbi5yYW5nZS5mcm9tQiwgdG86IGNvbXBvc2l0aW9uLnJhbmdlLnRvQiB9IDogbnVsbDtcbiAgICAgICAgLy8gV2hlbiB0aGUgRE9NIG5vZGVzIGFyb3VuZCB0aGUgc2VsZWN0aW9uIGFyZSBtb3ZlZCB0byBhbm90aGVyXG4gICAgICAgIC8vIHBhcmVudCwgQ2hyb21lIHNvbWV0aW1lcyByZXBvcnRzIGEgZGlmZmVyZW50IHNlbGVjdGlvbiB0aHJvdWdoXG4gICAgICAgIC8vIGdldFNlbGVjdGlvbiB0aGFuIHRoZSBvbmUgdGhhdCBpdCBhY3R1YWxseSBzaG93cyB0byB0aGUgdXNlci5cbiAgICAgICAgLy8gVGhpcyBmb3JjZXMgYSBzZWxlY3Rpb24gdXBkYXRlIHdoZW4gbGluZXMgYXJlIGpvaW5lZCB0byB3b3JrXG4gICAgICAgIC8vIGFyb3VuZCB0aGF0LiBJc3N1ZSAjNTRcbiAgICAgICAgaWYgKChicm93c2VyLmllIHx8IGJyb3dzZXIuY2hyb21lKSAmJiAhY29tcG9zaXRpb24gJiYgdXBkYXRlICYmXG4gICAgICAgICAgICB1cGRhdGUuc3RhdGUuZG9jLmxpbmVzICE9IHVwZGF0ZS5zdGFydFN0YXRlLmRvYy5saW5lcylcbiAgICAgICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgICBsZXQgcHJldkRlY28gPSB0aGlzLmRlY29yYXRpb25zLCBkZWNvID0gdGhpcy51cGRhdGVEZWNvKCk7XG4gICAgICAgIGxldCBkZWNvRGlmZiA9IGZpbmRDaGFuZ2VkRGVjbyhwcmV2RGVjbywgZGVjbywgdXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBjaGFuZ2VkUmFuZ2VzID0gQ2hhbmdlZFJhbmdlLmV4dGVuZFdpdGhSYW5nZXMoY2hhbmdlZFJhbmdlcywgZGVjb0RpZmYpO1xuICAgICAgICBpZiAoISh0aGlzLmZsYWdzICYgNyAvKiBWaWV3RmxhZy5EaXJ0eSAqLykgJiYgY2hhbmdlZFJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbm5lcihjaGFuZ2VkUmFuZ2VzLCB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoLCBjb21wb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFVzZWQgYnkgdXBkYXRlIGFuZCB0aGUgY29uc3RydWN0b3IgZG8gcGVyZm9ybSB0aGUgYWN0dWFsIERPTVxuICAgIC8vIHVwZGF0ZVxuICAgIHVwZGF0ZUlubmVyKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5tdXN0TWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKGNoYW5nZXMsIG9sZExlbmd0aCwgY29tcG9zaXRpb24pO1xuICAgICAgICBsZXQgeyBvYnNlcnZlciB9ID0gdGhpcy52aWV3O1xuICAgICAgICBvYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gTG9jayB0aGUgaGVpZ2h0IGR1cmluZyByZWRyYXdpbmcsIHNpbmNlIENocm9tZSBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIG1lc3NlcyB3aXRoIHRoZSBzY3JvbGwgcG9zaXRpb24gZHVyaW5nIERPTSBtdXRhdGlvbiAodGhvdWdoXG4gICAgICAgICAgICAvLyBubyByZWxheW91dCBpcyB0cmlnZ2VyZWQgYW5kIEkgY2Fubm90IGltYWdpbmUgaG93IGl0IGNhblxuICAgICAgICAgICAgLy8gcmVjb21wdXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gd2l0aG91dCBhIGxheW91dClcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IHRoaXMudmlldy52aWV3U3RhdGUuY29udGVudEhlaWdodCAvIHRoaXMudmlldy5zY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5mbGV4QmFzaXMgPSB0aGlzLm1pbldpZHRoID8gdGhpcy5taW5XaWR0aCArIFwicHhcIiA6IFwiXCI7XG4gICAgICAgICAgICAvLyBDaHJvbWUgd2lsbCBzb21ldGltZXMsIHdoZW4gRE9NIG11dGF0aW9ucyBvY2N1ciBkaXJlY3RseVxuICAgICAgICAgICAgLy8gYXJvdW5kIHRoZSBzZWxlY3Rpb24sIGdldCBjb25mdXNlZCBhbmQgcmVwb3J0IGEgZGlmZmVyZW50XG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gZnJvbSB0aGUgb25lIGl0IGRpc3BsYXlzIChpc3N1ZSAjMjE4KS4gVGhpcyB0cmllc1xuICAgICAgICAgICAgLy8gdG8gZGV0ZWN0IHRoYXQgc2l0dWF0aW9uLlxuICAgICAgICAgICAgbGV0IHRyYWNrID0gYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5pb3MgPyB7IG5vZGU6IG9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSwgd3JpdHRlbjogZmFsc2UgfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc3luYyh0aGlzLnZpZXcsIHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgJj0gfjcgLyogVmlld0ZsYWcuRGlydHkgKi87XG4gICAgICAgICAgICBpZiAodHJhY2sgJiYgKHRyYWNrLndyaXR0ZW4gfHwgb2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UuZm9jdXNOb2RlICE9IHRyYWNrLm5vZGUpKVxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuaGVpZ2h0ID0gXCJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24uZm9yRWFjaChjVmlldyA9PiBjVmlldy5mbGFncyAmPSB+OCAvKiBWaWV3RmxhZy5Db21wb3NpdGlvbiAqLyk7XG4gICAgICAgIGxldCBnYXBzID0gW107XG4gICAgICAgIGlmICh0aGlzLnZpZXcudmlld3BvcnQuZnJvbSB8fCB0aGlzLnZpZXcudmlld3BvcnQudG8gPCB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmIGNoaWxkLndpZGdldCBpbnN0YW5jZW9mIEJsb2NrR2FwV2lkZ2V0KVxuICAgICAgICAgICAgICAgICAgICBnYXBzLnB1c2goY2hpbGQuZG9tKTtcbiAgICAgICAgb2JzZXJ2ZXIudXBkYXRlR2FwcyhnYXBzKTtcbiAgICB9XG4gICAgdXBkYXRlQ2hpbGRyZW4oY2hhbmdlcywgb2xkTGVuZ3RoLCBjb21wb3NpdGlvbikge1xuICAgICAgICBsZXQgcmFuZ2VzID0gY29tcG9zaXRpb24gPyBjb21wb3NpdGlvbi5yYW5nZS5hZGRUb1NldChjaGFuZ2VzLnNsaWNlKCkpIDogY2hhbmdlcztcbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuY2hpbGRDdXJzb3Iob2xkTGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhbmdlcy5sZW5ndGggLSAxOzsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGkgPj0gMCA/IHJhbmdlc1tpXSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgeyBmcm9tQSwgdG9BLCBmcm9tQiwgdG9CIH0gPSBuZXh0LCBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZDtcbiAgICAgICAgICAgIGlmIChjb21wb3NpdGlvbiAmJiBjb21wb3NpdGlvbi5yYW5nZS5mcm9tQiA8IHRvQiAmJiBjb21wb3NpdGlvbi5yYW5nZS50b0IgPiBmcm9tQikge1xuICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBDb250ZW50QnVpbGRlci5idWlsZCh0aGlzLnZpZXcuc3RhdGUuZG9jLCBmcm9tQiwgY29tcG9zaXRpb24ucmFuZ2UuZnJvbUIsIHRoaXMuZGVjb3JhdGlvbnMsIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXApO1xuICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IENvbnRlbnRCdWlsZGVyLmJ1aWxkKHRoaXMudmlldy5zdGF0ZS5kb2MsIGNvbXBvc2l0aW9uLnJhbmdlLnRvQiwgdG9CLCB0aGlzLmRlY29yYXRpb25zLCB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwKTtcbiAgICAgICAgICAgICAgICBicmVha0F0U3RhcnQgPSBiZWZvcmUuYnJlYWtBdFN0YXJ0O1xuICAgICAgICAgICAgICAgIG9wZW5TdGFydCA9IGJlZm9yZS5vcGVuU3RhcnQ7XG4gICAgICAgICAgICAgICAgb3BlbkVuZCA9IGFmdGVyLm9wZW5FbmQ7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBMaW5lID0gdGhpcy5jb21wb3NpdGlvblZpZXcoY29tcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChhZnRlci5icmVha0F0U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUuYnJlYWtBZnRlciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFmdGVyLmNvbnRlbnQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbXBMaW5lLm1lcmdlKGNvbXBMaW5lLmxlbmd0aCwgY29tcExpbmUubGVuZ3RoLCBhZnRlci5jb250ZW50WzBdLCBmYWxzZSwgYWZ0ZXIub3BlblN0YXJ0LCAwKSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wTGluZS5icmVha0FmdGVyID0gYWZ0ZXIuY29udGVudFswXS5icmVha0FmdGVyO1xuICAgICAgICAgICAgICAgICAgICBhZnRlci5jb250ZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUuY29udGVudC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgY29tcExpbmUubWVyZ2UoMCwgMCwgYmVmb3JlLmNvbnRlbnRbYmVmb3JlLmNvbnRlbnQubGVuZ3RoIC0gMV0sIHRydWUsIDAsIGJlZm9yZS5vcGVuRW5kKSkge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUuY29udGVudC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGVudCA9IGJlZm9yZS5jb250ZW50LmNvbmNhdChjb21wTGluZSkuY29uY2F0KGFmdGVyLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHsgY29udGVudCwgYnJlYWtBdFN0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQgfSA9XG4gICAgICAgICAgICAgICAgICAgIENvbnRlbnRCdWlsZGVyLmJ1aWxkKHRoaXMudmlldy5zdGF0ZS5kb2MsIGZyb21CLCB0b0IsIHRoaXMuZGVjb3JhdGlvbnMsIHRoaXMuZHluYW1pY0RlY29yYXRpb25NYXApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB7IGk6IHRvSSwgb2ZmOiB0b09mZiB9ID0gY3Vyc29yLmZpbmRQb3ModG9BLCAxKTtcbiAgICAgICAgICAgIGxldCB7IGk6IGZyb21JLCBvZmY6IGZyb21PZmYgfSA9IGN1cnNvci5maW5kUG9zKGZyb21BLCAtMSk7XG4gICAgICAgICAgICByZXBsYWNlUmFuZ2UodGhpcywgZnJvbUksIGZyb21PZmYsIHRvSSwgdG9PZmYsIGNvbnRlbnQsIGJyZWFrQXRTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLmZpeENvbXBvc2l0aW9uRE9NKGNvbXBvc2l0aW9uKTtcbiAgICB9XG4gICAgdXBkYXRlRWRpdENvbnRleHRGb3JtYXR0aW5nKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0Rm9ybWF0dGluZyA9IHRoaXMuZWRpdENvbnRleHRGb3JtYXR0aW5nLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHVwZGF0ZS50cmFuc2FjdGlvbnMpXG4gICAgICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEVkaXRDb250ZXh0Rm9ybWF0dGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dEZvcm1hdHRpbmcgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb3NpdGlvblZpZXcoY29tcG9zaXRpb24pIHtcbiAgICAgICAgbGV0IGN1ciA9IG5ldyBUZXh0Vmlldyhjb21wb3NpdGlvbi50ZXh0Lm5vZGVWYWx1ZSk7XG4gICAgICAgIGN1ci5mbGFncyB8PSA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovO1xuICAgICAgICBmb3IgKGxldCB7IGRlY28gfSBvZiBjb21wb3NpdGlvbi5tYXJrcylcbiAgICAgICAgICAgIGN1ciA9IG5ldyBNYXJrVmlldyhkZWNvLCBbY3VyXSwgY3VyLmxlbmd0aCk7XG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmVWaWV3O1xuICAgICAgICBsaW5lLmFwcGVuZChjdXIsIDApO1xuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG4gICAgZml4Q29tcG9zaXRpb25ET00oY29tcG9zaXRpb24pIHtcbiAgICAgICAgbGV0IGZpeCA9IChkb20sIGNWaWV3KSA9PiB7XG4gICAgICAgICAgICBjVmlldy5mbGFncyB8PSA4IC8qIFZpZXdGbGFnLkNvbXBvc2l0aW9uICovIHwgKGNWaWV3LmNoaWxkcmVuLnNvbWUoYyA9PiBjLmZsYWdzICYgNyAvKiBWaWV3RmxhZy5EaXJ0eSAqLykgPyAxIC8qIFZpZXdGbGFnLkNoaWxkRGlydHkgKi8gOiAwKTtcbiAgICAgICAgICAgIHRoaXMubWFya2VkRm9yQ29tcG9zaXRpb24uYWRkKGNWaWV3KTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgICAgICBpZiAocHJldiAmJiBwcmV2ICE9IGNWaWV3KVxuICAgICAgICAgICAgICAgIHByZXYuZG9tID0gbnVsbDtcbiAgICAgICAgICAgIGNWaWV3LnNldERPTShkb20pO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5jaGlsZFBvcyhjb21wb3NpdGlvbi5yYW5nZS5mcm9tQiwgMSk7XG4gICAgICAgIGxldCBjVmlldyA9IHRoaXMuY2hpbGRyZW5bcG9zLmldO1xuICAgICAgICBmaXgoY29tcG9zaXRpb24ubGluZSwgY1ZpZXcpO1xuICAgICAgICBmb3IgKGxldCBpID0gY29tcG9zaXRpb24ubWFya3MubGVuZ3RoIC0gMTsgaSA+PSAtMTsgaS0tKSB7XG4gICAgICAgICAgICBwb3MgPSBjVmlldy5jaGlsZFBvcyhwb3Mub2ZmLCAxKTtcbiAgICAgICAgICAgIGNWaWV3ID0gY1ZpZXcuY2hpbGRyZW5bcG9zLmldO1xuICAgICAgICAgICAgZml4KGkgPj0gMCA/IGNvbXBvc2l0aW9uLm1hcmtzW2ldLm5vZGUgOiBjb21wb3NpdGlvbi50ZXh0LCBjVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU3luYyB0aGUgRE9NIHNlbGVjdGlvbiB0byB0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgIHVwZGF0ZVNlbGVjdGlvbihtdXN0UmVhZCA9IGZhbHNlLCBmcm9tUG9pbnRlciA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChtdXN0UmVhZCB8fCAhdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSlcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgbGV0IGFjdGl2ZUVsdCA9IHRoaXMudmlldy5yb290LmFjdGl2ZUVsZW1lbnQsIGZvY3VzZWQgPSBhY3RpdmVFbHQgPT0gdGhpcy5kb207XG4gICAgICAgIGxldCBzZWxlY3Rpb25Ob3RGb2N1cyA9ICFmb2N1c2VkICYmICEodGhpcy52aWV3LnN0YXRlLmZhY2V0KGVkaXRhYmxlKSB8fCB0aGlzLmRvbS50YWJJbmRleCA+IC0xKSAmJlxuICAgICAgICAgICAgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UpICYmICEoYWN0aXZlRWx0ICYmIHRoaXMuZG9tLmNvbnRhaW5zKGFjdGl2ZUVsdCkpO1xuICAgICAgICBpZiAoIShmb2N1c2VkIHx8IGZyb21Qb2ludGVyIHx8IHNlbGVjdGlvbk5vdEZvY3VzKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZvcmNlID0gdGhpcy5mb3JjZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5mb3JjZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICBsZXQgbWFpbiA9IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IGFuY2hvciA9IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uYW5jaG9yKSk7XG4gICAgICAgIGxldCBoZWFkID0gbWFpbi5lbXB0eSA/IGFuY2hvciA6IHRoaXMubW92ZVRvTGluZSh0aGlzLmRvbUF0UG9zKG1haW4uaGVhZCkpO1xuICAgICAgICAvLyBBbHdheXMgcmVzZXQgb24gRmlyZWZveCB3aGVuIG5leHQgdG8gYW4gdW5lZGl0YWJsZSBub2RlIHRvXG4gICAgICAgIC8vIGF2b2lkIGludmlzaWJsZSBjdXJzb3IgYnVncyAoIzExMSlcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbWFpbi5lbXB0eSAmJiAhdGhpcy5oYXNDb21wb3NpdGlvbiAmJiBiZXR3ZWVuVW5lZGl0YWJsZShhbmNob3IpKSB7XG4gICAgICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4gYW5jaG9yLm5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15LCBhbmNob3Iubm9kZS5jaGlsZE5vZGVzW2FuY2hvci5vZmZzZXRdIHx8IG51bGwpKTtcbiAgICAgICAgICAgIGFuY2hvciA9IGhlYWQgPSBuZXcgRE9NUG9zKGR1bW15LCAwKTtcbiAgICAgICAgICAgIGZvcmNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZG9tU2VsID0gdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGFscmVhZHkgaGVyZSwgb3IgaW4gYW4gZXF1aXZhbGVudCBwb3NpdGlvbiwgZG9uJ3QgdG91Y2ggaXRcbiAgICAgICAgaWYgKGZvcmNlIHx8ICFkb21TZWwuZm9jdXNOb2RlIHx8ICghaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSB8fFxuICAgICAgICAgICAgIWlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpICYmICF0aGlzLnN1cHByZXNzV2lkZ2V0Q3Vyc29yQ2hhbmdlKGRvbVNlbCwgbWFpbikpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgaGlkZSB0aGUgdmlydHVhbCBrZXlib2FyZCB3aGVuIHRhcHBpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnNpZGUgYW4gdW5lZGl0YWJsZSBub2RlLCBhbmQgbm90IGJyaW5nIGl0IGJhY2sgd2hlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGN1cnNvciB0byBpdHMgcHJvcGVyIHBvc2l0aW9uLiBUaGlzIHRyaWVzIHRvXG4gICAgICAgICAgICAgICAgLy8gcmVzdG9yZSB0aGUga2V5Ym9hcmQgYnkgY3ljbGluZyBmb2N1cy5cbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmIHRoaXMuZG9tLmNvbnRhaW5zKGRvbVNlbC5mb2N1c05vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVW5lZGl0YWJsZShkb21TZWwuZm9jdXNOb2RlLCB0aGlzLmRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByYXdTZWwgPSBnZXRTZWxlY3Rpb24odGhpcy52aWV3LnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmICghcmF3U2VsKSA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWFpbi5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjEyMDc2XG4gICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvID0gbmV4dFRvVW5lZGl0YWJsZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvICYmIG5leHRUbyAhPSAoMSAvKiBOZXh0VG8uQmVmb3JlICovIHwgMiAvKiBOZXh0VG8uQWZ0ZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSAobmV4dFRvID09IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA/IHRleHROb2RlQmVmb3JlIDogdGV4dE5vZGVBZnRlcikoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXcgRE9NUG9zKHRleHQubm9kZSwgdGV4dC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5jb2xsYXBzZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWluLmJpZGlMZXZlbCAhPSBudWxsICYmIHJhd1NlbC5jYXJldEJpZGlMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmNhcmV0QmlkaUxldmVsID0gbWFpbi5iaWRpTGV2ZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJhd1NlbC5leHRlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VsZWN0aW9uLmV4dGVuZCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gJ2ludmVydGVkJyBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gKG9uZSB3aGVyZSB0aGUgZm9jdXMgaXMgYmVmb3JlIHRoZSBhbmNob3IpLCBidXQgbm90IGFsbFxuICAgICAgICAgICAgICAgICAgICAvLyBicm93c2VycyBzdXBwb3J0IGl0IHlldC5cbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLmNvbGxhcHNlKGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpIHdpbGwgaWdub3JlIHRoZSBjYWxsIGFib3ZlIHdoZW4gdGhlIGVkaXRvciBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWRkZW4sIGFuZCB0aGVuIHJhaXNlIGFuIGVycm9yIG9uIHRoZSBjYWxsIHRvIGV4dGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyAoIzk0MCkuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXdTZWwuZXh0ZW5kKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByaW1pdGl2ZSAoSUUpIHdheVxuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFpbi5hbmNob3IgPiBtYWluLmhlYWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBbYW5jaG9yLCBoZWFkXSA9IFtoZWFkLCBhbmNob3JdO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoaGVhZC5ub2RlLCBoZWFkLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmF3U2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICByYXdTZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uTm90Rm9jdXMgJiYgdGhpcy52aWV3LnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbHQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5zZXRTZWxlY3Rpb25SYW5nZShhbmNob3IsIGhlYWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlQW5jaG9yID0gYW5jaG9yLnByZWNpc2UgPyBudWxsIDogbmV3IERPTVBvcyhkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCk7XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlSGVhZCA9IGhlYWQucHJlY2lzZSA/IG51bGwgOiBuZXcgRE9NUG9zKGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCk7XG4gICAgfVxuICAgIC8vIElmIGEgemVyby1sZW5ndGggd2lkZ2V0IGlzIGluc2VydGVkIG5leHQgdG8gdGhlIGN1cnNvciBkdXJpbmdcbiAgICAvLyBjb21wb3NpdGlvbiwgYXZvaWQgbW92aW5nIGl0IGFjcm9zcyBpdCBhbmQgZGlzcnVwdGluZyB0aGVcbiAgICAvLyBjb21wb3NpdGlvbi5cbiAgICBzdXBwcmVzc1dpZGdldEN1cnNvckNoYW5nZShzZWwsIGN1cnNvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNDb21wb3NpdGlvbiAmJiBjdXJzb3IuZW1wdHkgJiZcbiAgICAgICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpICYmXG4gICAgICAgICAgICB0aGlzLnBvc0Zyb21ET00oc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KSA9PSBjdXJzb3IuaGVhZDtcbiAgICB9XG4gICAgZW5mb3JjZUN1cnNvckFzc29jKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21wb3NpdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgY3Vyc29yID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgICAgICBsZXQgeyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQgfSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICghc2VsIHx8ICFjdXJzb3IuZW1wdHkgfHwgIWN1cnNvci5hc3NvYyB8fCAhc2VsLm1vZGlmeSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGxpbmUgPSBMaW5lVmlldy5maW5kKHRoaXMsIGN1cnNvci5oZWFkKTtcbiAgICAgICAgaWYgKCFsaW5lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGluZVN0YXJ0ID0gbGluZS5wb3NBdFN0YXJ0O1xuICAgICAgICBpZiAoY3Vyc29yLmhlYWQgPT0gbGluZVN0YXJ0IHx8IGN1cnNvci5oZWFkID09IGxpbmVTdGFydCArIGxpbmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgYmVmb3JlID0gdGhpcy5jb29yZHNBdChjdXJzb3IuaGVhZCwgLTEpLCBhZnRlciA9IHRoaXMuY29vcmRzQXQoY3Vyc29yLmhlYWQsIDEpO1xuICAgICAgICBpZiAoIWJlZm9yZSB8fCAhYWZ0ZXIgfHwgYmVmb3JlLmJvdHRvbSA+IGFmdGVyLnRvcClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tQXRQb3MoY3Vyc29yLmhlYWQgKyBjdXJzb3IuYXNzb2MpO1xuICAgICAgICBzZWwuY29sbGFwc2UoZG9tLm5vZGUsIGRvbS5vZmZzZXQpO1xuICAgICAgICBzZWwubW9kaWZ5KFwibW92ZVwiLCBjdXJzb3IuYXNzb2MgPCAwID8gXCJmb3J3YXJkXCIgOiBcImJhY2t3YXJkXCIsIFwibGluZWJvdW5kYXJ5XCIpO1xuICAgICAgICAvLyBUaGlzIGNhbiBnbyB3cm9uZyBpbiBjb3JuZXIgY2FzZXMgbGlrZSBzaW5nbGUtY2hhcmFjdGVyIGxpbmVzLFxuICAgICAgICAvLyBzbyBjaGVjayBhbmQgcmVzZXQgaWYgbmVjZXNzYXJ5LlxuICAgICAgICB2aWV3Lm9ic2VydmVyLnJlYWRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBsZXQgbmV3UmFuZ2UgPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICBpZiAodmlldy5kb2NWaWV3LnBvc0Zyb21ET00obmV3UmFuZ2UuYW5jaG9yTm9kZSwgbmV3UmFuZ2UuYW5jaG9yT2Zmc2V0KSAhPSBjdXJzb3IuZnJvbSlcbiAgICAgICAgICAgIHNlbC5jb2xsYXBzZShhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICAgIH1cbiAgICAvLyBJZiBhIHBvc2l0aW9uIGlzIGluL25lYXIgYSBibG9jayB3aWRnZXQsIG1vdmUgaXQgdG8gYSBuZWFyYnkgdGV4dFxuICAgIC8vIGxpbmUsIHNpbmNlIHdlIGRvbid0IHdhbnQgdGhlIGN1cnNvciBpbnNpZGUgYSBibG9jayB3aWRnZXQuXG4gICAgbW92ZVRvTGluZShwb3MpIHtcbiAgICAgICAgLy8gQmxvY2sgd2lkZ2V0cyB3aWxsIHJldHVybiBwb3NpdGlvbnMgYmVmb3JlL2FmdGVyIHRoZW0sIHdoaWNoXG4gICAgICAgIC8vIGFyZSB0aHVzIGRpcmVjdGx5IGluIHRoZSBkb2N1bWVudCBET00gZWxlbWVudC5cbiAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tLCBuZXdQb3M7XG4gICAgICAgIGlmIChwb3Mubm9kZSAhPSBkb20pXG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldDsgIW5ld1BvcyAmJiBpIDwgZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcygwKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gcG9zLm9mZnNldCAtIDE7ICFuZXdQb3MgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gdmlldy5kb21BdFBvcyh2aWV3Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1BvcyA/IG5ldyBET01Qb3MobmV3UG9zLm5vZGUsIG5ld1Bvcy5vZmZzZXQsIHRydWUpIDogcG9zO1xuICAgIH1cbiAgICBuZWFyZXN0KGRvbSkge1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjspIHtcbiAgICAgICAgICAgIGxldCBkb21WaWV3ID0gQ29udGVudFZpZXcuZ2V0KGN1cik7XG4gICAgICAgICAgICBpZiAoZG9tVmlldyAmJiBkb21WaWV3LnJvb3RWaWV3ID09IHRoaXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVZpZXc7XG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLm5lYXJlc3Qobm9kZSk7XG4gICAgICAgIGlmICghdmlldylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGZpbmQgcG9zaXRpb24gZm9yIGEgRE9NIHBvc2l0aW9uIG91dHNpZGUgb2YgdGhlIGRvY3VtZW50XCIpO1xuICAgICAgICByZXR1cm4gdmlldy5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSArIHZpZXcucG9zQXRTdGFydDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIGxldCB7IGksIG9mZiB9ID0gdGhpcy5jaGlsZEN1cnNvcigpLmZpbmRQb3MocG9zLCAtMSk7XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChvZmYgPCBjaGlsZC5sZW5ndGggfHwgY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIG9mZiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV0uZG9tQXRQb3Mob2ZmKTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCBiZXN0ID0gbnVsbCwgYmVzdFBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IG9mZiA9IHRoaXMubGVuZ3RoLCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmIC0gY2hpbGQuYnJlYWtBZnRlciwgc3RhcnQgPSBlbmQgLSBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kIDwgcG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDw9IHBvcyAmJiAoc3RhcnQgPCBwb3MgfHwgY2hpbGQuY292ZXJzKC0xKSkgJiYgKGVuZCA+IHBvcyB8fCBjaGlsZC5jb3ZlcnMoMSkpICYmXG4gICAgICAgICAgICAgICAgKCFiZXN0IHx8IGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcgJiYgIShiZXN0IGluc3RhbmNlb2YgTGluZVZpZXcgJiYgc2lkZSA+PSAwKSkpIHtcbiAgICAgICAgICAgICAgICBiZXN0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgYmVzdFBvcyA9IHN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmVzdCAmJiBzdGFydCA9PSBwb3MgJiYgZW5kID09IHBvcyAmJiBjaGlsZCBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJiBNYXRoLmFicyhzaWRlKSA8IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZGVjby5zdGFydFNpZGUgPCAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpKVxuICAgICAgICAgICAgICAgICAgICBiZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZiA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0ID8gYmVzdC5jb29yZHNBdChwb3MgLSBiZXN0UG9zLCBzaWRlKSA6IG51bGw7XG4gICAgfVxuICAgIGNvb3Jkc0ZvckNoYXIocG9zKSB7XG4gICAgICAgIGxldCB7IGksIG9mZiB9ID0gdGhpcy5jaGlsZFBvcyhwb3MsIDEpLCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIGlmICghKGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHdoaWxlIChjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGksIG9mZjogY2hpbGRPZmYgfSA9IGNoaWxkLmNoaWxkUG9zKG9mZiwgMSk7XG4gICAgICAgICAgICBmb3IgKDs7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID09IGNoaWxkLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKChjaGlsZCA9IGNoaWxkLmNoaWxkcmVuW2ldKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gY2hpbGRPZmY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBUZXh0VmlldykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IGVuZCA9IGZpbmRDbHVzdGVyQnJlYWsoY2hpbGQudGV4dCwgb2ZmKTtcbiAgICAgICAgaWYgKGVuZCA9PSBvZmYpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKGNoaWxkLmRvbSwgb2ZmLCBlbmQpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PSByZWN0cy5sZW5ndGggLSAxIHx8IHJlY3QudG9wIDwgcmVjdC5ib3R0b20gJiYgcmVjdC5sZWZ0IDwgcmVjdC5yaWdodClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh2aWV3cG9ydCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW10sIHsgZnJvbSwgdG8gfSA9IHZpZXdwb3J0O1xuICAgICAgICBsZXQgY29udGVudFdpZHRoID0gdGhpcy52aWV3LmNvbnRlbnRET00uY2xpZW50V2lkdGg7XG4gICAgICAgIGxldCBpc1dpZGVyID0gY29udGVudFdpZHRoID4gTWF0aC5tYXgodGhpcy52aWV3LnNjcm9sbERPTS5jbGllbnRXaWR0aCwgdGhpcy5taW5XaWR0aCkgKyAxO1xuICAgICAgICBsZXQgd2lkZXN0ID0gLTEsIGx0ciA9IHRoaXMudmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gcG9zICsgY2hpbGQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHBvcyA+PSBmcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkUmVjdCA9IGNoaWxkLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjaGlsZFJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNXaWRlcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGNoaWxkLmRvbS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0cyA9IGxhc3QgPyBjbGllbnRSZWN0c0ZvcihsYXN0KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW3JlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gbHRyID8gcmVjdC5yaWdodCAtIGNoaWxkUmVjdC5sZWZ0IDogY2hpbGRSZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gd2lkZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZXN0ID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aCA9IGNvbnRlbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoRnJvbSA9IHBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBlbmQgKyBjaGlsZC5icmVha0FmdGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRleHREaXJlY3Rpb25BdChwb3MpIHtcbiAgICAgICAgbGV0IHsgaSB9ID0gdGhpcy5jaGlsZFBvcyhwb3MsIDEpO1xuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNoaWxkcmVuW2ldLmRvbSkuZGlyZWN0aW9uID09IFwicnRsXCIgPyBEaXJlY3Rpb24uUlRMIDogRGlyZWN0aW9uLkxUUjtcbiAgICB9XG4gICAgbWVhc3VyZVRleHRTaXplKCkge1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBMaW5lVmlldykge1xuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJlID0gY2hpbGQubWVhc3VyZVRleHRTaXplKCk7XG4gICAgICAgICAgICAgICAgaWYgKG1lYXN1cmUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWFzdXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vIHdvcmthYmxlIGxpbmUgZXhpc3RzLCBmb3JjZSBhIGxheW91dCBvZiBhIG1lYXN1cmFibGUgZWxlbWVudFxuICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIHRleHRIZWlnaHQ7XG4gICAgICAgIGR1bW15LmNsYXNzTmFtZSA9IFwiY20tbGluZVwiO1xuICAgICAgICBkdW1teS5zdHlsZS53aWR0aCA9IFwiOTk5OTlweFwiO1xuICAgICAgICBkdW1teS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZHVtbXkudGV4dENvbnRlbnQgPSBcImFiYyBkZWYgZ2hpIGprbCBtbm8gcHFyIHN0dVwiO1xuICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgICAgIGxldCByZWN0ID0gY2xpZW50UmVjdHNGb3IoZHVtbXkuZmlyc3RDaGlsZClbMF07XG4gICAgICAgICAgICBsaW5lSGVpZ2h0ID0gZHVtbXkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgY2hhcldpZHRoID0gcmVjdCA/IHJlY3Qud2lkdGggLyAyNyA6IDc7XG4gICAgICAgICAgICB0ZXh0SGVpZ2h0ID0gcmVjdCA/IHJlY3QuaGVpZ2h0IDogbGluZUhlaWdodDtcbiAgICAgICAgICAgIGR1bW15LnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0IH07XG4gICAgfVxuICAgIGNoaWxkQ3Vyc29yKHBvcyA9IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIE1vdmUgYmFjayB0byBzdGFydCBvZiBsYXN0IGVsZW1lbnQgd2hlbiBwb3NzaWJsZSwgc28gdGhhdFxuICAgICAgICAvLyBgQ2hpbGRDdXJzb3IuZmluZFBvc2AgZG9lc24ndCBoYXZlIHRvIGRlYWwgd2l0aCB0aGUgZWRnZSBjYXNlXG4gICAgICAgIC8vIG9mIGJlaW5nIGFmdGVyIHRoZSBsYXN0IGVsZW1lbnQuXG4gICAgICAgIGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGlmIChpKVxuICAgICAgICAgICAgcG9zIC09IHRoaXMuY2hpbGRyZW5bLS1pXS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBuZXcgQ2hpbGRDdXJzb3IodGhpcy5jaGlsZHJlbiwgcG9zLCBpKTtcbiAgICB9XG4gICAgY29tcHV0ZUJsb2NrR2FwRGVjbygpIHtcbiAgICAgICAgbGV0IGRlY28gPSBbXSwgdnMgPSB0aGlzLnZpZXcudmlld1N0YXRlO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSAwLCBpID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID09IHZzLnZpZXdwb3J0cy5sZW5ndGggPyBudWxsIDogdnMudmlld3BvcnRzW2ldO1xuICAgICAgICAgICAgbGV0IGVuZCA9IG5leHQgPyBuZXh0LmZyb20gLSAxIDogdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID4gcG9zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9ICh2cy5saW5lQmxvY2tBdChlbmQpLmJvdHRvbSAtIHZzLmxpbmVCbG9ja0F0KHBvcykudG9wKSAvIHRoaXMudmlldy5zY2FsZVk7XG4gICAgICAgICAgICAgICAgZGVjby5wdXNoKERlY29yYXRpb24ucmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldDogbmV3IEJsb2NrR2FwV2lkZ2V0KGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGlzQmxvY2tHYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgfSkucmFuZ2UocG9zLCBlbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHBvcyA9IG5leHQudG8gKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnNldChkZWNvKTtcbiAgICB9XG4gICAgdXBkYXRlRGVjbygpIHtcbiAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICBsZXQgYWxsRGVjbyA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChkZWNvcmF0aW9ucykubWFwKGQgPT4ge1xuICAgICAgICAgICAgbGV0IGR5bmFtaWMgPSB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSB0eXBlb2YgZCA9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICByZXR1cm4gZHluYW1pYyA/IGQodGhpcy52aWV3KSA6IGQ7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgZHluYW1pY091dGVyID0gZmFsc2UsIG91dGVyRGVjbyA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChvdXRlckRlY29yYXRpb25zKS5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBkeW5hbWljID0gdHlwZW9mIGQgPT0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgaWYgKGR5bmFtaWMpXG4gICAgICAgICAgICAgICAgZHluYW1pY091dGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBkeW5hbWljID8gZCh0aGlzLnZpZXcpIDogZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvdXRlckRlY28ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSBkeW5hbWljT3V0ZXI7XG4gICAgICAgICAgICBhbGxEZWNvLnB1c2goUmFuZ2VTZXQuam9pbihvdXRlckRlY28pKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gW1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dEZvcm1hdHRpbmcsXG4gICAgICAgICAgICAuLi5hbGxEZWNvLFxuICAgICAgICAgICAgdGhpcy5jb21wdXRlQmxvY2tHYXBEZWNvKCksXG4gICAgICAgICAgICB0aGlzLnZpZXcudmlld1N0YXRlLmxpbmVHYXBEZWNvXG4gICAgICAgIF07XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5kZWNvcmF0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwW2krK10gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb3JhdGlvbnM7XG4gICAgfVxuICAgIHNjcm9sbEludG9WaWV3KHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0LmlzU25hcHNob3QpIHtcbiAgICAgICAgICAgIGxldCByZWYgPSB0aGlzLnZpZXcudmlld1N0YXRlLmxpbmVCbG9ja0F0KHRhcmdldC5yYW5nZS5oZWFkKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxET00uc2Nyb2xsVG9wID0gcmVmLnRvcCAtIHRhcmdldC55TWFyZ2luO1xuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0ID0gdGFyZ2V0LnhNYXJnaW47XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoc2Nyb2xsSGFuZGxlcikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIodGhpcy52aWV3LCB0YXJnZXQucmFuZ2UsIHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy52aWV3LnN0YXRlLCBlLCBcInNjcm9sbCBoYW5kbGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB7IHJhbmdlIH0gPSB0YXJnZXQ7XG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5jb29yZHNBdChyYW5nZS5oZWFkLCByYW5nZS5lbXB0eSA/IHJhbmdlLmFzc29jIDogcmFuZ2UuaGVhZCA+IHJhbmdlLmFuY2hvciA/IC0xIDogMSksIG90aGVyO1xuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgJiYgKG90aGVyID0gdGhpcy5jb29yZHNBdChyYW5nZS5hbmNob3IsIHJhbmdlLmFuY2hvciA+IHJhbmdlLmhlYWQgPyAtMSA6IDEpKSlcbiAgICAgICAgICAgIHJlY3QgPSB7IGxlZnQ6IE1hdGgubWluKHJlY3QubGVmdCwgb3RoZXIubGVmdCksIHRvcDogTWF0aC5taW4ocmVjdC50b3AsIG90aGVyLnRvcCksXG4gICAgICAgICAgICAgICAgcmlnaHQ6IE1hdGgubWF4KHJlY3QucmlnaHQsIG90aGVyLnJpZ2h0KSwgYm90dG9tOiBNYXRoLm1heChyZWN0LmJvdHRvbSwgb3RoZXIuYm90dG9tKSB9O1xuICAgICAgICBsZXQgbWFyZ2lucyA9IGdldFNjcm9sbE1hcmdpbnModGhpcy52aWV3KTtcbiAgICAgICAgbGV0IHRhcmdldFJlY3QgPSB7XG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBtYXJnaW5zLmxlZnQsIHRvcDogcmVjdC50b3AgLSBtYXJnaW5zLnRvcCxcbiAgICAgICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0ICsgbWFyZ2lucy5yaWdodCwgYm90dG9tOiByZWN0LmJvdHRvbSArIG1hcmdpbnMuYm90dG9tXG4gICAgICAgIH07XG4gICAgICAgIGxldCB7IG9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgfSA9IHRoaXMudmlldy5zY3JvbGxET007XG4gICAgICAgIHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLnZpZXcuc2Nyb2xsRE9NLCB0YXJnZXRSZWN0LCByYW5nZS5oZWFkIDwgcmFuZ2UuYW5jaG9yID8gLTEgOiAxLCB0YXJnZXQueCwgdGFyZ2V0LnksIE1hdGgubWF4KE1hdGgubWluKHRhcmdldC54TWFyZ2luLCBvZmZzZXRXaWR0aCksIC1vZmZzZXRXaWR0aCksIE1hdGgubWF4KE1hdGgubWluKHRhcmdldC55TWFyZ2luLCBvZmZzZXRIZWlnaHQpLCAtb2Zmc2V0SGVpZ2h0KSwgdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUik7XG4gICAgfVxufVxuZnVuY3Rpb24gYmV0d2VlblVuZWRpdGFibGUocG9zKSB7XG4gICAgcmV0dXJuIHBvcy5ub2RlLm5vZGVUeXBlID09IDEgJiYgcG9zLm5vZGUuZmlyc3RDaGlsZCAmJlxuICAgICAgICAocG9zLm9mZnNldCA9PSAwIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldCAtIDFdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpICYmXG4gICAgICAgIChwb3Mub2Zmc2V0ID09IHBvcy5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldF0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIik7XG59XG5mdW5jdGlvbiBmaW5kQ29tcG9zaXRpb25Ob2RlKHZpZXcsIGhlYWRQb3MpIHtcbiAgICBsZXQgc2VsID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICBpZiAoIXNlbC5mb2N1c05vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gdGV4dE5vZGVCZWZvcmUoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICBsZXQgdGV4dEFmdGVyID0gdGV4dE5vZGVBZnRlcihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpO1xuICAgIGxldCB0ZXh0Tm9kZSA9IHRleHRCZWZvcmUgfHwgdGV4dEFmdGVyO1xuICAgIGlmICh0ZXh0QWZ0ZXIgJiYgdGV4dEJlZm9yZSAmJiB0ZXh0QWZ0ZXIubm9kZSAhPSB0ZXh0QmVmb3JlLm5vZGUpIHtcbiAgICAgICAgbGV0IGRlc2NBZnRlciA9IENvbnRlbnRWaWV3LmdldCh0ZXh0QWZ0ZXIubm9kZSk7XG4gICAgICAgIGlmICghZGVzY0FmdGVyIHx8IGRlc2NBZnRlciBpbnN0YW5jZW9mIFRleHRWaWV3ICYmIGRlc2NBZnRlci50ZXh0ICE9IHRleHRBZnRlci5ub2RlLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgdGV4dE5vZGUgPSB0ZXh0QWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmlldy5kb2NWaWV3Lmxhc3RDb21wb3NpdGlvbkFmdGVyQ3Vyc29yKSB7XG4gICAgICAgICAgICBsZXQgZGVzY0JlZm9yZSA9IENvbnRlbnRWaWV3LmdldCh0ZXh0QmVmb3JlLm5vZGUpO1xuICAgICAgICAgICAgaWYgKCEoIWRlc2NCZWZvcmUgfHwgZGVzY0JlZm9yZSBpbnN0YW5jZW9mIFRleHRWaWV3ICYmIGRlc2NCZWZvcmUudGV4dCAhPSB0ZXh0QmVmb3JlLm5vZGUubm9kZVZhbHVlKSlcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZSA9IHRleHRBZnRlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aWV3LmRvY1ZpZXcubGFzdENvbXBvc2l0aW9uQWZ0ZXJDdXJzb3IgPSB0ZXh0Tm9kZSAhPSB0ZXh0QmVmb3JlO1xuICAgIGlmICghdGV4dE5vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBmcm9tID0gaGVhZFBvcyAtIHRleHROb2RlLm9mZnNldDtcbiAgICByZXR1cm4geyBmcm9tLCB0bzogZnJvbSArIHRleHROb2RlLm5vZGUubm9kZVZhbHVlLmxlbmd0aCwgbm9kZTogdGV4dE5vZGUubm9kZSB9O1xufVxuZnVuY3Rpb24gZmluZENvbXBvc2l0aW9uUmFuZ2UodmlldywgY2hhbmdlcywgaGVhZFBvcykge1xuICAgIGxldCBmb3VuZCA9IGZpbmRDb21wb3NpdGlvbk5vZGUodmlldywgaGVhZFBvcyk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHsgbm9kZTogdGV4dE5vZGUsIGZyb20sIHRvIH0gPSBmb3VuZCwgdGV4dCA9IHRleHROb2RlLm5vZGVWYWx1ZTtcbiAgICAvLyBEb24ndCB0cnkgdG8gcHJlc2VydmUgbXVsdGktbGluZSBjb21wb3NpdGlvbnNcbiAgICBpZiAoL1tcXG5cXHJdLy50ZXN0KHRleHQpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAodmlldy5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcoZm91bmQuZnJvbSwgZm91bmQudG8pICE9IHRleHQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBpbnYgPSBjaGFuZ2VzLmludmVydGVkRGVzYztcbiAgICBsZXQgcmFuZ2UgPSBuZXcgQ2hhbmdlZFJhbmdlKGludi5tYXBQb3MoZnJvbSksIGludi5tYXBQb3ModG8pLCBmcm9tLCB0byk7XG4gICAgbGV0IG1hcmtzID0gW107XG4gICAgZm9yIChsZXQgcGFyZW50ID0gdGV4dE5vZGUucGFyZW50Tm9kZTs7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGxldCBwYXJlbnRWaWV3ID0gQ29udGVudFZpZXcuZ2V0KHBhcmVudCk7XG4gICAgICAgIGlmIChwYXJlbnRWaWV3IGluc3RhbmNlb2YgTWFya1ZpZXcpXG4gICAgICAgICAgICBtYXJrcy5wdXNoKHsgbm9kZTogcGFyZW50LCBkZWNvOiBwYXJlbnRWaWV3Lm1hcmsgfSk7XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBMaW5lVmlldyB8fCBwYXJlbnQubm9kZU5hbWUgPT0gXCJESVZcIiAmJiBwYXJlbnQucGFyZW50Tm9kZSA9PSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSwgdGV4dDogdGV4dE5vZGUsIG1hcmtzLCBsaW5lOiBwYXJlbnQgfTtcbiAgICAgICAgZWxzZSBpZiAocGFyZW50ICE9IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgICAgIG1hcmtzLnB1c2goeyBub2RlOiBwYXJlbnQsIGRlY286IG5ldyBNYXJrRGVjb3JhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogZ2V0QXR0cnMocGFyZW50KSxcbiAgICAgICAgICAgICAgICAgICAgdGFnTmFtZTogcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIH0pIH0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXh0VG9VbmVkaXRhYmxlKG5vZGUsIG9mZnNldCkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiAob2Zmc2V0ICYmIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiID8gMSAvKiBOZXh0VG8uQmVmb3JlICovIDogMCkgfFxuICAgICAgICAob2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAmJiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiID8gMiAvKiBOZXh0VG8uQWZ0ZXIgKi8gOiAwKTtcbn1cbmxldCBEZWNvcmF0aW9uQ29tcGFyYXRvciQxID0gY2xhc3MgRGVjb3JhdGlvbkNvbXBhcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBbXTtcbiAgICB9XG4gICAgY29tcGFyZVJhbmdlKGZyb20sIHRvKSB7IGFkZFJhbmdlKGZyb20sIHRvLCB0aGlzLmNoYW5nZXMpOyB9XG4gICAgY29tcGFyZVBvaW50KGZyb20sIHRvKSB7IGFkZFJhbmdlKGZyb20sIHRvLCB0aGlzLmNoYW5nZXMpOyB9XG4gICAgYm91bmRDaGFuZ2UocG9zKSB7IGFkZFJhbmdlKHBvcywgcG9zLCB0aGlzLmNoYW5nZXMpOyB9XG59O1xuZnVuY3Rpb24gZmluZENoYW5nZWREZWNvKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvciQxO1xuICAgIFJhbmdlU2V0LmNvbXBhcmUoYSwgYiwgZGlmZiwgY29tcCk7XG4gICAgcmV0dXJuIGNvbXAuY2hhbmdlcztcbn1cbmZ1bmN0aW9uIGluVW5lZGl0YWJsZShub2RlLCBpbnNpZGUpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOyBjdXIgJiYgY3VyICE9IGluc2lkZTsgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09IDEgJiYgY3VyLmNvbnRlbnRFZGl0YWJsZSA9PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b3VjaGVzQ29tcG9zaXRpb24oY2hhbmdlcywgY29tcG9zaXRpb24pIHtcbiAgICBsZXQgdG91Y2hlZCA9IGZhbHNlO1xuICAgIGlmIChjb21wb3NpdGlvbilcbiAgICAgICAgY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgY29tcG9zaXRpb24udG8gJiYgdG8gPiBjb21wb3NpdGlvbi5mcm9tKVxuICAgICAgICAgICAgICAgIHRvdWNoZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hlZDtcbn1cblxuZnVuY3Rpb24gZ3JvdXBBdChzdGF0ZSwgcG9zLCBiaWFzID0gMSkge1xuICAgIGxldCBjYXRlZ29yaXplID0gc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyksIGxpbmVQb3MgPSBwb3MgLSBsaW5lLmZyb207XG4gICAgaWYgKGxpbmUubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcyk7XG4gICAgaWYgKGxpbmVQb3MgPT0gMClcbiAgICAgICAgYmlhcyA9IDE7XG4gICAgZWxzZSBpZiAobGluZVBvcyA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgYmlhcyA9IC0xO1xuICAgIGxldCBmcm9tID0gbGluZVBvcywgdG8gPSBsaW5lUG9zO1xuICAgIGlmIChiaWFzIDwgMClcbiAgICAgICAgZnJvbSA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBsaW5lUG9zLCBmYWxzZSk7XG4gICAgZWxzZVxuICAgICAgICB0byA9IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBsaW5lUG9zKTtcbiAgICBsZXQgY2F0ID0gY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UoZnJvbSwgdG8pKTtcbiAgICB3aGlsZSAoZnJvbSA+IDApIHtcbiAgICAgICAgbGV0IHByZXYgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgZnJvbSwgZmFsc2UpO1xuICAgICAgICBpZiAoY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UocHJldiwgZnJvbSkpICE9IGNhdClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBmcm9tID0gcHJldjtcbiAgICB9XG4gICAgd2hpbGUgKHRvIDwgbGluZS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgdG8pO1xuICAgICAgICBpZiAoY2F0ZWdvcml6ZShsaW5lLnRleHQuc2xpY2UodG8sIG5leHQpKSAhPSBjYXQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgdG8gPSBuZXh0O1xuICAgIH1cbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20gKyBsaW5lLmZyb20sIHRvICsgbGluZS5mcm9tKTtcbn1cbi8vIFNlYXJjaCB0aGUgRE9NIGZvciB0aGUge25vZGUsIG9mZnNldH0gcG9zaXRpb24gY2xvc2VzdCB0byB0aGUgZ2l2ZW5cbi8vIGNvb3JkaW5hdGVzLiBWZXJ5IGluZWZmaWNpZW50IGFuZCBjcnVkZSwgYnV0IGNhbiB1c3VhbGx5IGJlIGF2b2lkZWRcbi8vIGJ5IGNhbGxpbmcgY2FyZXQoUG9zaXRpb258UmFuZ2UpRnJvbVBvaW50IGluc3RlYWQuXG5mdW5jdGlvbiBnZXRkeCh4LCByZWN0KSB7XG4gICAgcmV0dXJuIHJlY3QubGVmdCA+IHggPyByZWN0LmxlZnQgLSB4IDogTWF0aC5tYXgoMCwgeCAtIHJlY3QucmlnaHQpO1xufVxuZnVuY3Rpb24gZ2V0ZHkoeSwgcmVjdCkge1xuICAgIHJldHVybiByZWN0LnRvcCA+IHkgPyByZWN0LnRvcCAtIHkgOiBNYXRoLm1heCgwLCB5IC0gcmVjdC5ib3R0b20pO1xufVxuZnVuY3Rpb24geU92ZXJsYXAoYSwgYikge1xuICAgIHJldHVybiBhLnRvcCA8IGIuYm90dG9tIC0gMSAmJiBhLmJvdHRvbSA+IGIudG9wICsgMTtcbn1cbmZ1bmN0aW9uIHVwVG9wKHJlY3QsIHRvcCkge1xuICAgIHJldHVybiB0b3AgPCByZWN0LnRvcCA/IHsgdG9wLCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0LCBib3R0b206IHJlY3QuYm90dG9tIH0gOiByZWN0O1xufVxuZnVuY3Rpb24gdXBCb3QocmVjdCwgYm90dG9tKSB7XG4gICAgcmV0dXJuIGJvdHRvbSA+IHJlY3QuYm90dG9tID8geyB0b3A6IHJlY3QudG9wLCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0LCBib3R0b20gfSA6IHJlY3Q7XG59XG5mdW5jdGlvbiBkb21Qb3NBdENvb3JkcyhwYXJlbnQsIHgsIHkpIHtcbiAgICBsZXQgY2xvc2VzdCwgY2xvc2VzdFJlY3QsIGNsb3Nlc3RYLCBjbG9zZXN0WSwgY2xvc2VzdE92ZXJsYXAgPSBmYWxzZTtcbiAgICBsZXQgYWJvdmUsIGJlbG93LCBhYm92ZVJlY3QsIGJlbG93UmVjdDtcbiAgICBmb3IgKGxldCBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICBsZXQgcmVjdHMgPSBjbGllbnRSZWN0c0ZvcihjaGlsZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgICAgICBpZiAoY2xvc2VzdFJlY3QgJiYgeU92ZXJsYXAoY2xvc2VzdFJlY3QsIHJlY3QpKVxuICAgICAgICAgICAgICAgIHJlY3QgPSB1cFRvcCh1cEJvdChyZWN0LCBjbG9zZXN0UmVjdC5ib3R0b20pLCBjbG9zZXN0UmVjdC50b3ApO1xuICAgICAgICAgICAgbGV0IGR4ID0gZ2V0ZHgoeCwgcmVjdCksIGR5ID0gZ2V0ZHkoeSwgcmVjdCk7XG4gICAgICAgICAgICBpZiAoZHggPT0gMCAmJiBkeSA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5ub2RlVHlwZSA9PSAzID8gZG9tUG9zSW5UZXh0KGNoaWxkLCB4LCB5KSA6IGRvbVBvc0F0Q29vcmRzKGNoaWxkLCB4LCB5KTtcbiAgICAgICAgICAgIGlmICghY2xvc2VzdCB8fCBjbG9zZXN0WSA+IGR5IHx8IGNsb3Nlc3RZID09IGR5ICYmIGNsb3Nlc3RYID4gZHgpIHtcbiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFJlY3QgPSByZWN0O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RYID0gZHg7XG4gICAgICAgICAgICAgICAgY2xvc2VzdFkgPSBkeTtcbiAgICAgICAgICAgICAgICBsZXQgc2lkZSA9IGR5ID8gKHkgPCByZWN0LnRvcCA/IC0xIDogMSkgOiBkeCA/ICh4IDwgcmVjdC5sZWZ0ID8gLTEgOiAxKSA6IDA7XG4gICAgICAgICAgICAgICAgY2xvc2VzdE92ZXJsYXAgPSAhc2lkZSB8fCAoc2lkZSA+IDAgPyBpIDwgcmVjdHMubGVuZ3RoIC0gMSA6IGkgPiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHkgPiByZWN0LmJvdHRvbSAmJiAoIWFib3ZlUmVjdCB8fCBhYm92ZVJlY3QuYm90dG9tIDwgcmVjdC5ib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFib3ZlID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGFib3ZlUmVjdCA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHkgPCByZWN0LnRvcCAmJiAoIWJlbG93UmVjdCB8fCBiZWxvd1JlY3QudG9wID4gcmVjdC50b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlbG93ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGJlbG93UmVjdCA9IHJlY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWJvdmVSZWN0ICYmIHlPdmVybGFwKGFib3ZlUmVjdCwgcmVjdCkpIHtcbiAgICAgICAgICAgICAgICBhYm92ZVJlY3QgPSB1cEJvdChhYm92ZVJlY3QsIHJlY3QuYm90dG9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlbG93UmVjdCAmJiB5T3ZlcmxhcChiZWxvd1JlY3QsIHJlY3QpKSB7XG4gICAgICAgICAgICAgICAgYmVsb3dSZWN0ID0gdXBUb3AoYmVsb3dSZWN0LCByZWN0LnRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFib3ZlUmVjdCAmJiBhYm92ZVJlY3QuYm90dG9tID49IHkpIHtcbiAgICAgICAgY2xvc2VzdCA9IGFib3ZlO1xuICAgICAgICBjbG9zZXN0UmVjdCA9IGFib3ZlUmVjdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmVsb3dSZWN0ICYmIGJlbG93UmVjdC50b3AgPD0geSkge1xuICAgICAgICBjbG9zZXN0ID0gYmVsb3c7XG4gICAgICAgIGNsb3Nlc3RSZWN0ID0gYmVsb3dSZWN0O1xuICAgIH1cbiAgICBpZiAoIWNsb3Nlc3QpXG4gICAgICAgIHJldHVybiB7IG5vZGU6IHBhcmVudCwgb2Zmc2V0OiAwIH07XG4gICAgbGV0IGNsaXBYID0gTWF0aC5tYXgoY2xvc2VzdFJlY3QubGVmdCwgTWF0aC5taW4oY2xvc2VzdFJlY3QucmlnaHQsIHgpKTtcbiAgICBpZiAoY2xvc2VzdC5ub2RlVHlwZSA9PSAzKVxuICAgICAgICByZXR1cm4gZG9tUG9zSW5UZXh0KGNsb3Nlc3QsIGNsaXBYLCB5KTtcbiAgICBpZiAoY2xvc2VzdE92ZXJsYXAgJiYgY2xvc2VzdC5jb250ZW50RWRpdGFibGUgIT0gXCJmYWxzZVwiKVxuICAgICAgICByZXR1cm4gZG9tUG9zQXRDb29yZHMoY2xvc2VzdCwgY2xpcFgsIHkpO1xuICAgIGxldCBvZmZzZXQgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHBhcmVudC5jaGlsZE5vZGVzLCBjbG9zZXN0KSArXG4gICAgICAgICh4ID49IChjbG9zZXN0UmVjdC5sZWZ0ICsgY2xvc2VzdFJlY3QucmlnaHQpIC8gMiA/IDEgOiAwKTtcbiAgICByZXR1cm4geyBub2RlOiBwYXJlbnQsIG9mZnNldCB9O1xufVxuZnVuY3Rpb24gZG9tUG9zSW5UZXh0KG5vZGUsIHgsIHkpIHtcbiAgICBsZXQgbGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xuICAgIGxldCBjbG9zZXN0T2Zmc2V0ID0gLTEsIGNsb3Nlc3REWSA9IDFlOSwgZ2VuZXJhbFNpZGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKG5vZGUsIGksIGkgKyAxKS5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2pdO1xuICAgICAgICAgICAgaWYgKHJlY3QudG9wID09IHJlY3QuYm90dG9tKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFnZW5lcmFsU2lkZSlcbiAgICAgICAgICAgICAgICBnZW5lcmFsU2lkZSA9IHggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICBsZXQgZHkgPSAocmVjdC50b3AgPiB5ID8gcmVjdC50b3AgLSB5IDogeSAtIHJlY3QuYm90dG9tKSAtIDE7XG4gICAgICAgICAgICBpZiAocmVjdC5sZWZ0IC0gMSA8PSB4ICYmIHJlY3QucmlnaHQgKyAxID49IHggJiYgZHkgPCBjbG9zZXN0RFkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSB4ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsIGFmdGVyID0gcmlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuZ2Vja28pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIFJUTCBvbiBicm93c2VycyB0aGF0IHN1cHBvcnQgZ2V0dGluZyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdHMgZm9yIGVtcHR5IHJhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3RCZWZvcmUgPSB0ZXh0UmFuZ2Uobm9kZSwgaSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN0QmVmb3JlLmxlZnQgPT0gcmVjdC5yaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyID0gIXJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZHkgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiBpICsgKGFmdGVyID8gMSA6IDApIH07XG4gICAgICAgICAgICAgICAgY2xvc2VzdE9mZnNldCA9IGkgKyAoYWZ0ZXIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgY2xvc2VzdERZID0gZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiBjbG9zZXN0T2Zmc2V0ID4gLTEgPyBjbG9zZXN0T2Zmc2V0IDogZ2VuZXJhbFNpZGUgPiAwID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogMCB9O1xufVxuZnVuY3Rpb24gcG9zQXRDb29yZHModmlldywgY29vcmRzLCBwcmVjaXNlLCBiaWFzID0gLTEpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb2NUb3AgPSBjb250ZW50LnRvcCArIHZpZXcudmlld1N0YXRlLnBhZGRpbmdUb3A7XG4gICAgbGV0IGJsb2NrLCB7IGRvY0hlaWdodCB9ID0gdmlldy52aWV3U3RhdGU7XG4gICAgbGV0IHsgeCwgeSB9ID0gY29vcmRzLCB5T2Zmc2V0ID0geSAtIGRvY1RvcDtcbiAgICBpZiAoeU9mZnNldCA8IDApXG4gICAgICAgIHJldHVybiAwO1xuICAgIGlmICh5T2Zmc2V0ID4gZG9jSGVpZ2h0KVxuICAgICAgICByZXR1cm4gdmlldy5zdGF0ZS5kb2MubGVuZ3RoO1xuICAgIC8vIFNjYW4gZm9yIGEgdGV4dCBibG9jayBuZWFyIHRoZSBxdWVyaWVkIHkgcG9zaXRpb25cbiAgICBmb3IgKGxldCBoYWxmTGluZSA9IHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0IC8gMiwgYm91bmNlZCA9IGZhbHNlOzspIHtcbiAgICAgICAgYmxvY2sgPSB2aWV3LmVsZW1lbnRBdEhlaWdodCh5T2Zmc2V0KTtcbiAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgLy8gTW92ZSB0aGUgeSBwb3NpdGlvbiBvdXQgb2YgdGhpcyBibG9ja1xuICAgICAgICAgICAgeU9mZnNldCA9IGJpYXMgPiAwID8gYmxvY2suYm90dG9tICsgaGFsZkxpbmUgOiBibG9jay50b3AgLSBoYWxmTGluZTtcbiAgICAgICAgICAgIGlmICh5T2Zmc2V0ID49IDAgJiYgeU9mZnNldCA8PSBkb2NIZWlnaHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgY29uc2lzdHMgZW50aXJlbHkgb2YgcmVwbGFjZWQgd2lkZ2V0cywgd2VcbiAgICAgICAgICAgIC8vIHdvbid0IGZpbmQgYSB0ZXh0IGJsb2NrLCBzbyByZXR1cm4gMFxuICAgICAgICAgICAgaWYgKGJvdW5jZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWNpc2UgPyBudWxsIDogMDtcbiAgICAgICAgICAgIGJvdW5jZWQgPSB0cnVlO1xuICAgICAgICAgICAgYmlhcyA9IC1iaWFzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHkgPSBkb2NUb3AgKyB5T2Zmc2V0O1xuICAgIGxldCBsaW5lU3RhcnQgPSBibG9jay5mcm9tO1xuICAgIC8vIElmIHRoaXMgaXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyZWQgdmlld3BvcnQsIHdlIGNhbid0IGRldGVybWluZSBhIHBvc2l0aW9uXG4gICAgaWYgKGxpbmVTdGFydCA8IHZpZXcudmlld3BvcnQuZnJvbSlcbiAgICAgICAgcmV0dXJuIHZpZXcudmlld3BvcnQuZnJvbSA9PSAwID8gMCA6IHByZWNpc2UgPyBudWxsIDogcG9zQXRDb29yZHNJbXByZWNpc2UodmlldywgY29udGVudCwgYmxvY2ssIHgsIHkpO1xuICAgIGlmIChsaW5lU3RhcnQgPiB2aWV3LnZpZXdwb3J0LnRvKVxuICAgICAgICByZXR1cm4gdmlldy52aWV3cG9ydC50byA9PSB2aWV3LnN0YXRlLmRvYy5sZW5ndGggPyB2aWV3LnN0YXRlLmRvYy5sZW5ndGggOlxuICAgICAgICAgICAgcHJlY2lzZSA/IG51bGwgOiBwb3NBdENvb3Jkc0ltcHJlY2lzZSh2aWV3LCBjb250ZW50LCBibG9jaywgeCwgeSk7XG4gICAgLy8gUHJlZmVyIFNoYWRvd1Jvb3RPckRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQgaWYgcHJlc2VudCwgZmFsbCBiYWNrIHRvIGRvY3VtZW50IGlmIG5vdFxuICAgIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICAgIGxldCByb290ID0gdmlldy5yb290LmVsZW1lbnRGcm9tUG9pbnQgPyB2aWV3LnJvb3QgOiBkb2M7XG4gICAgbGV0IGVsZW1lbnQgPSByb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgaWYgKGVsZW1lbnQgJiYgIXZpZXcuY29udGVudERPTS5jb250YWlucyhlbGVtZW50KSlcbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgdW5leHBlY3RlZCwgY2xpcCB4IGF0IHRoZSBzaWRlcyBvZiB0aGUgY29udGVudCBhcmVhIGFuZCB0cnkgYWdhaW5cbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgeCA9IE1hdGgubWF4KGNvbnRlbnQubGVmdCArIDEsIE1hdGgubWluKGNvbnRlbnQucmlnaHQgLSAxLCB4KSk7XG4gICAgICAgIGVsZW1lbnQgPSByb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgICAgIGlmIChlbGVtZW50ICYmICF2aWV3LmNvbnRlbnRET00uY29udGFpbnMoZWxlbWVudCkpXG4gICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgLy8gVGhlcmUncyB2aXNpYmxlIGVkaXRvciBjb250ZW50IHVuZGVyIHRoZSBwb2ludCwgc28gd2UgY2FuIHRyeVxuICAgIC8vIHVzaW5nIGNhcmV0KFBvc2l0aW9ufFJhbmdlKUZyb21Qb2ludCBhcyBhIHNob3J0Y3V0XG4gICAgbGV0IG5vZGUsIG9mZnNldCA9IC0xO1xuICAgIGlmIChlbGVtZW50ICYmICgoX2EgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdChlbGVtZW50KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRWRpdGFibGUpICE9IGZhbHNlKSB7XG4gICAgICAgIGlmIChkb2MuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGRvYy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgaWYgKHBvcylcbiAgICAgICAgICAgICAgICAoeyBvZmZzZXROb2RlOiBub2RlLCBvZmZzZXQgfSA9IHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9jLmNhcmV0UmFuZ2VGcm9tUG9pbnQpIHtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IGRvYy5jYXJldFJhbmdlRnJvbVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgKHsgc3RhcnRDb250YWluZXI6IG5vZGUsIHN0YXJ0T2Zmc2V0OiBvZmZzZXQgfSA9IHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZpZXcuY29udGVudERPTS5jb250YWlucyhub2RlKSB8fFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyLnNhZmFyaSAmJiBpc1N1c3BpY2lvdXNTYWZhcmlDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpIHx8XG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXIuY2hyb21lICYmIGlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkpXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hyb21lIHdpbGwgcmV0dXJuIG9mZnNldHMgaW50byA8aW5wdXQ+IGVsZW1lbnRzIHdpdGhvdXQgY2hpbGRcbiAgICAgICAgLy8gbm9kZXMsIHdoaWNoIHdpbGwgbGVhZCB0byBhIG51bGwgZGVyZWYgYmVsb3csIHNvIGNsaXAgdGhlXG4gICAgICAgIC8vIG9mZnNldCB0byB0aGUgbm9kZSBzaXplLlxuICAgICAgICBpZiAobm9kZSlcbiAgICAgICAgICAgIG9mZnNldCA9IE1hdGgubWluKG1heE9mZnNldChub2RlKSwgb2Zmc2V0KTtcbiAgICB9XG4gICAgLy8gTm8gbHVjaywgZG8gb3VyIG93biAocG90ZW50aWFsbHkgZXhwZW5zaXZlKSBzZWFyY2hcbiAgICBpZiAoIW5vZGUgfHwgIXZpZXcuZG9jVmlldy5kb20uY29udGFpbnMobm9kZSkpIHtcbiAgICAgICAgbGV0IGxpbmUgPSBMaW5lVmlldy5maW5kKHZpZXcuZG9jVmlldywgbGluZVN0YXJ0KTtcbiAgICAgICAgaWYgKCFsaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHlPZmZzZXQgPiBibG9jay50b3AgKyBibG9jay5oZWlnaHQgLyAyID8gYmxvY2sudG8gOiBibG9jay5mcm9tO1xuICAgICAgICAoeyBub2RlLCBvZmZzZXQgfSA9IGRvbVBvc0F0Q29vcmRzKGxpbmUuZG9tLCB4LCB5KSk7XG4gICAgfVxuICAgIGxldCBuZWFyZXN0ID0gdmlldy5kb2NWaWV3Lm5lYXJlc3Qobm9kZSk7XG4gICAgaWYgKCFuZWFyZXN0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobmVhcmVzdC5pc1dpZGdldCAmJiAoKF9iID0gbmVhcmVzdC5kb20pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ub2RlVHlwZSkgPT0gMSkge1xuICAgICAgICBsZXQgcmVjdCA9IG5lYXJlc3QuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4gY29vcmRzLnkgPCByZWN0LnRvcCB8fCBjb29yZHMueSA8PSByZWN0LmJvdHRvbSAmJiBjb29yZHMueCA8PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyXG4gICAgICAgICAgICA/IG5lYXJlc3QucG9zQXRTdGFydCA6IG5lYXJlc3QucG9zQXRFbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmVhcmVzdC5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KSArIG5lYXJlc3QucG9zQXRTdGFydDtcbiAgICB9XG59XG5mdW5jdGlvbiBwb3NBdENvb3Jkc0ltcHJlY2lzZSh2aWV3LCBjb250ZW50UmVjdCwgYmxvY2ssIHgsIHkpIHtcbiAgICBsZXQgaW50byA9IE1hdGgucm91bmQoKHggLSBjb250ZW50UmVjdC5sZWZ0KSAqIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKTtcbiAgICBpZiAodmlldy5saW5lV3JhcHBpbmcgJiYgYmxvY2suaGVpZ2h0ID4gdmlldy5kZWZhdWx0TGluZUhlaWdodCAqIDEuNSkge1xuICAgICAgICBsZXQgdGV4dEhlaWdodCA9IHZpZXcudmlld1N0YXRlLmhlaWdodE9yYWNsZS50ZXh0SGVpZ2h0O1xuICAgICAgICBsZXQgbGluZSA9IE1hdGguZmxvb3IoKHkgLSBibG9jay50b3AgLSAodmlldy5kZWZhdWx0TGluZUhlaWdodCAtIHRleHRIZWlnaHQpICogMC41KSAvIHRleHRIZWlnaHQpO1xuICAgICAgICBpbnRvICs9IGxpbmUgKiB2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUubGluZUxlbmd0aDtcbiAgICB9XG4gICAgbGV0IGNvbnRlbnQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGJsb2NrLmZyb20sIGJsb2NrLnRvKTtcbiAgICByZXR1cm4gYmxvY2suZnJvbSArIGZpbmRDb2x1bW4oY29udGVudCwgaW50bywgdmlldy5zdGF0ZS50YWJTaXplKTtcbn1cbi8vIEluIGNhc2Ugb2YgYSBoaWdoIGxpbmUgaGVpZ2h0LCBTYWZhcmkncyBjYXJldFJhbmdlRnJvbVBvaW50IHRyZWF0c1xuLy8gdGhlIHNwYWNlIGJldHdlZW4gbGluZXMgYXMgYmVsb25naW5nIHRvIHRoZSBsYXN0IGNoYXJhY3RlciBvZiB0aGVcbi8vIGxpbmUgYmVmb3JlLiBUaGlzIGlzIHVzZWQgdG8gZGV0ZWN0IHN1Y2ggYSByZXN1bHQgc28gdGhhdCBpdCBjYW4gYmVcbi8vIGlnbm9yZWQgKGlzc3VlICM0MDEpLlxuZnVuY3Rpb24gaXNTdXNwaWNpb3VzU2FmYXJpQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSB7XG4gICAgbGV0IGxlbjtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAzIHx8IG9mZnNldCAhPSAobGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nOyBuZXh0OyBuZXh0ID0gbmV4dC5uZXh0U2libGluZylcbiAgICAgICAgaWYgKG5leHQubm9kZVR5cGUgIT0gMSB8fCBuZXh0Lm5vZGVOYW1lICE9IFwiQlJcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGV4dFJhbmdlKG5vZGUsIGxlbiAtIDEsIGxlbikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA+IHg7XG59XG4vLyBDaHJvbWUgd2lsbCBtb3ZlIHBvc2l0aW9ucyBiZXR3ZWVuIGxpbmVzIHRvIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBsaW5lXG5mdW5jdGlvbiBpc1N1c3BpY2lvdXNDaHJvbWVDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpIHtcbiAgICBpZiAob2Zmc2V0ICE9IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOzspIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgIT0gMSB8fCBwYXJlbnQuZmlyc3RDaGlsZCAhPSBjdXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY20tbGluZVwiKSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjdXIgPSBwYXJlbnQ7XG4gICAgfVxuICAgIGxldCByZWN0ID0gbm9kZS5ub2RlVHlwZSA9PSAxID8gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICA6IHRleHRSYW5nZShub2RlLCAwLCBNYXRoLm1heChub2RlLm5vZGVWYWx1ZS5sZW5ndGgsIDEpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4geCAtIHJlY3QubGVmdCA+IDU7XG59XG5mdW5jdGlvbiBibG9ja0F0KHZpZXcsIHBvcywgc2lkZSkge1xuICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChwb3MpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxpbmUudHlwZSkpIHtcbiAgICAgICAgbGV0IGJlc3Q7XG4gICAgICAgIGZvciAobGV0IGwgb2YgbGluZS50eXBlKSB7XG4gICAgICAgICAgICBpZiAobC5mcm9tID4gcG9zKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKGwudG8gPCBwb3MpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAobC5mcm9tIDwgcG9zICYmIGwudG8gPiBwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgICAgICBpZiAoIWJlc3QgfHwgKGwudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCAmJiAoYmVzdC50eXBlICE9IGwudHlwZSB8fCAoc2lkZSA8IDAgPyBsLmZyb20gPCBwb3MgOiBsLnRvID4gcG9zKSkpKVxuICAgICAgICAgICAgICAgIGJlc3QgPSBsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0IHx8IGxpbmU7XG4gICAgfVxuICAgIHJldHVybiBsaW5lO1xufVxuZnVuY3Rpb24gbW92ZVRvTGluZUJvdW5kYXJ5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCkge1xuICAgIGxldCBsaW5lID0gYmxvY2tBdCh2aWV3LCBzdGFydC5oZWFkLCBzdGFydC5hc3NvYyB8fCAtMSk7XG4gICAgbGV0IGNvb3JkcyA9ICFpbmNsdWRlV3JhcCB8fCBsaW5lLnR5cGUgIT0gQmxvY2tUeXBlLlRleHQgfHwgISh2aWV3LmxpbmVXcmFwcGluZyB8fCBsaW5lLndpZGdldExpbmVCcmVha3MpID8gbnVsbFxuICAgICAgICA6IHZpZXcuY29vcmRzQXRQb3Moc3RhcnQuYXNzb2MgPCAwICYmIHN0YXJ0LmhlYWQgPiBsaW5lLmZyb20gPyBzdGFydC5oZWFkIC0gMSA6IHN0YXJ0LmhlYWQpO1xuICAgIGlmIChjb29yZHMpIHtcbiAgICAgICAgbGV0IGVkaXRvclJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHZpZXcudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZm9yd2FyZCA9PSAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIpID8gZWRpdG9yUmVjdC5yaWdodCAtIDEgOiBlZGl0b3JSZWN0LmxlZnQgKyAxLFxuICAgICAgICAgICAgeTogKGNvb3Jkcy50b3AgKyBjb29yZHMuYm90dG9tKSAvIDIgfSk7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgZm9yd2FyZCA/IC0xIDogMSk7XG4gICAgfVxuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyBsaW5lLnRvIDogbGluZS5mcm9tLCBmb3J3YXJkID8gLTEgOiAxKTtcbn1cbmZ1bmN0aW9uIG1vdmVCeUNoYXIodmlldywgc3RhcnQsIGZvcndhcmQsIGJ5KSB7XG4gICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQoc3RhcnQuaGVhZCksIHNwYW5zID0gdmlldy5iaWRpU3BhbnMobGluZSk7XG4gICAgbGV0IGRpcmVjdGlvbiA9IHZpZXcudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgZm9yIChsZXQgY3VyID0gc3RhcnQsIGNoZWNrID0gbnVsbDs7KSB7XG4gICAgICAgIGxldCBuZXh0ID0gbW92ZVZpc3VhbGx5KGxpbmUsIHNwYW5zLCBkaXJlY3Rpb24sIGN1ciwgZm9yd2FyZCksIGNoYXIgPSBtb3ZlZE92ZXI7XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgaWYgKGxpbmUubnVtYmVyID09IChmb3J3YXJkID8gdmlldy5zdGF0ZS5kb2MubGluZXMgOiAxKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICAgICAgY2hhciA9IFwiXFxuXCI7XG4gICAgICAgICAgICBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZShsaW5lLm51bWJlciArIChmb3J3YXJkID8gMSA6IC0xKSk7XG4gICAgICAgICAgICBzcGFucyA9IHZpZXcuYmlkaVNwYW5zKGxpbmUpO1xuICAgICAgICAgICAgbmV4dCA9IHZpZXcudmlzdWFsTGluZVNpZGUobGluZSwgIWZvcndhcmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hlY2spIHtcbiAgICAgICAgICAgIGlmICghYnkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICBjaGVjayA9IGJ5KGNoYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFjaGVjayhjaGFyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgfVxuICAgICAgICBjdXIgPSBuZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ5R3JvdXAodmlldywgcG9zLCBzdGFydCkge1xuICAgIGxldCBjYXRlZ29yaXplID0gdmlldy5zdGF0ZS5jaGFyQ2F0ZWdvcml6ZXIocG9zKTtcbiAgICBsZXQgY2F0ID0gY2F0ZWdvcml6ZShzdGFydCk7XG4gICAgcmV0dXJuIChuZXh0KSA9PiB7XG4gICAgICAgIGxldCBuZXh0Q2F0ID0gY2F0ZWdvcml6ZShuZXh0KTtcbiAgICAgICAgaWYgKGNhdCA9PSBDaGFyQ2F0ZWdvcnkuU3BhY2UpXG4gICAgICAgICAgICBjYXQgPSBuZXh0Q2F0O1xuICAgICAgICByZXR1cm4gY2F0ID09IG5leHRDYXQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1vdmVWZXJ0aWNhbGx5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkge1xuICAgIGxldCBzdGFydFBvcyA9IHN0YXJ0LmhlYWQsIGRpciA9IGZvcndhcmQgPyAxIDogLTE7XG4gICAgaWYgKHN0YXJ0UG9zID09IChmb3J3YXJkID8gdmlldy5zdGF0ZS5kb2MubGVuZ3RoIDogMCkpXG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHN0YXJ0UG9zLCBzdGFydC5hc3NvYyk7XG4gICAgbGV0IGdvYWwgPSBzdGFydC5nb2FsQ29sdW1uLCBzdGFydFk7XG4gICAgbGV0IHJlY3QgPSB2aWV3LmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHN0YXJ0Q29vcmRzID0gdmlldy5jb29yZHNBdFBvcyhzdGFydFBvcywgc3RhcnQuYXNzb2MgfHwgLTEpLCBkb2NUb3AgPSB2aWV3LmRvY3VtZW50VG9wO1xuICAgIGlmIChzdGFydENvb3Jkcykge1xuICAgICAgICBpZiAoZ29hbCA9PSBudWxsKVxuICAgICAgICAgICAgZ29hbCA9IHN0YXJ0Q29vcmRzLmxlZnQgLSByZWN0LmxlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGRpciA8IDAgPyBzdGFydENvb3Jkcy50b3AgOiBzdGFydENvb3Jkcy5ib3R0b207XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbGluZSA9IHZpZXcudmlld1N0YXRlLmxpbmVCbG9ja0F0KHN0YXJ0UG9zKTtcbiAgICAgICAgaWYgKGdvYWwgPT0gbnVsbClcbiAgICAgICAgICAgIGdvYWwgPSBNYXRoLm1pbihyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LCB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCAqIChzdGFydFBvcyAtIGxpbmUuZnJvbSkpO1xuICAgICAgICBzdGFydFkgPSAoZGlyIDwgMCA/IGxpbmUudG9wIDogbGluZS5ib3R0b20pICsgZG9jVG9wO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRHb2FsID0gcmVjdC5sZWZ0ICsgZ29hbDtcbiAgICBsZXQgZGlzdCA9IGRpc3RhbmNlICE9PSBudWxsICYmIGRpc3RhbmNlICE9PSB2b2lkIDAgPyBkaXN0YW5jZSA6ICh2aWV3LnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUudGV4dEhlaWdodCA+PiAxKTtcbiAgICBmb3IgKGxldCBleHRyYSA9IDA7OyBleHRyYSArPSAxMCkge1xuICAgICAgICBsZXQgY3VyWSA9IHN0YXJ0WSArIChkaXN0ICsgZXh0cmEpICogZGlyO1xuICAgICAgICBsZXQgcG9zID0gcG9zQXRDb29yZHModmlldywgeyB4OiByZXNvbHZlZEdvYWwsIHk6IGN1clkgfSwgZmFsc2UsIGRpcik7XG4gICAgICAgIGlmIChjdXJZIDwgcmVjdC50b3AgfHwgY3VyWSA+IHJlY3QuYm90dG9tIHx8IChkaXIgPCAwID8gcG9zIDwgc3RhcnRQb3MgOiBwb3MgPiBzdGFydFBvcykpIHtcbiAgICAgICAgICAgIGxldCBjaGFyUmVjdCA9IHZpZXcuZG9jVmlldy5jb29yZHNGb3JDaGFyKHBvcyk7XG4gICAgICAgICAgICBsZXQgYXNzb2MgPSAhY2hhclJlY3QgfHwgY3VyWSA8IGNoYXJSZWN0LnRvcCA/IC0xIDogMTtcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgYXNzb2MsIHVuZGVmaW5lZCwgZ29hbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBza2lwQXRvbWljUmFuZ2VzKGF0b21zLCBwb3MsIGJpYXMpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBtb3ZlZCA9IDA7XG4gICAgICAgIGZvciAobGV0IHNldCBvZiBhdG9tcykge1xuICAgICAgICAgICAgc2V0LmJldHdlZW4ocG9zIC0gMSwgcG9zICsgMSwgKGZyb20sIHRvLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tICYmIHBvcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWRlID0gbW92ZWQgfHwgYmlhcyB8fCAocG9zIC0gZnJvbSA8IHRvIC0gcG9zID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gc2lkZSA8IDAgPyBmcm9tIDogdG87XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkID0gc2lkZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vdmVkKVxuICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG59XG5mdW5jdGlvbiBza2lwQXRvbXModmlldywgb2xkUG9zLCBwb3MpIHtcbiAgICBsZXQgbmV3UG9zID0gc2tpcEF0b21pY1Jhbmdlcyh2aWV3LnN0YXRlLmZhY2V0KGF0b21pY1JhbmdlcykubWFwKGYgPT4gZih2aWV3KSksIHBvcy5mcm9tLCBvbGRQb3MuaGVhZCA+IHBvcy5mcm9tID8gLTEgOiAxKTtcbiAgICByZXR1cm4gbmV3UG9zID09IHBvcy5mcm9tID8gcG9zIDogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXdQb3MsIG5ld1BvcyA8IHBvcy5mcm9tID8gMSA6IC0xKTtcbn1cblxuY29uc3QgTGluZUJyZWFrUGxhY2Vob2xkZXIgPSBcIlxcdWZmZmZcIjtcbmNsYXNzIERPTVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IocG9pbnRzLCBzdGF0ZSkge1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5saW5lU2VwYXJhdG9yID0gc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcik7XG4gICAgfVxuICAgIGFwcGVuZCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCArPSB0ZXh0O1xuICAgIH1cbiAgICBsaW5lQnJlYWsoKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBMaW5lQnJlYWtQbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgcmVhZFJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKCFzdGFydClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgcGFyZW50ID0gc3RhcnQucGFyZW50Tm9kZTtcbiAgICAgICAgZm9yIChsZXQgY3VyID0gc3RhcnQ7Oykge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRCZWZvcmUocGFyZW50LCBjdXIpO1xuICAgICAgICAgICAgbGV0IG9sZExlbiA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnJlYWROb2RlKGN1cik7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGN1ci5uZXh0U2libGluZztcbiAgICAgICAgICAgIGlmIChuZXh0ID09IGVuZClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KGN1ciksIG5leHRWaWV3ID0gQ29udGVudFZpZXcuZ2V0KG5leHQpO1xuICAgICAgICAgICAgaWYgKHZpZXcgJiYgbmV4dFZpZXcgPyB2aWV3LmJyZWFrQWZ0ZXIgOlxuICAgICAgICAgICAgICAgICh2aWV3ID8gdmlldy5icmVha0FmdGVyIDogaXNCbG9ja0VsZW1lbnQoY3VyKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzQmxvY2tFbGVtZW50KG5leHQpICYmIChjdXIubm9kZU5hbWUgIT0gXCJCUlwiIHx8IGN1ci5jbUlnbm9yZSkgJiYgdGhpcy50ZXh0Lmxlbmd0aCA+IG9sZExlbikpXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maW5kUG9pbnRCZWZvcmUocGFyZW50LCBlbmQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVhZFRleHROb2RlKG5vZGUpIHtcbiAgICAgICAgbGV0IHRleHQgPSBub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAocG9pbnQubm9kZSA9PSBub2RlKVxuICAgICAgICAgICAgICAgIHBvaW50LnBvcyA9IHRoaXMudGV4dC5sZW5ndGggKyBNYXRoLm1pbihwb2ludC5vZmZzZXQsIHRleHQubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgb2ZmID0gMCwgcmUgPSB0aGlzLmxpbmVTZXBhcmF0b3IgPyBudWxsIDogL1xcclxcbj98XFxuL2c7Oykge1xuICAgICAgICAgICAgbGV0IG5leHRCcmVhayA9IC0xLCBicmVha1NpemUgPSAxLCBtO1xuICAgICAgICAgICAgaWYgKHRoaXMubGluZVNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIG5leHRCcmVhayA9IHRleHQuaW5kZXhPZih0aGlzLmxpbmVTZXBhcmF0b3IsIG9mZik7XG4gICAgICAgICAgICAgICAgYnJlYWtTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG0gPSByZS5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJyZWFrID0gbS5pbmRleDtcbiAgICAgICAgICAgICAgICBicmVha1NpemUgPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRleHQuc2xpY2Uob2ZmLCBuZXh0QnJlYWsgPCAwID8gdGV4dC5sZW5ndGggOiBuZXh0QnJlYWspKTtcbiAgICAgICAgICAgIGlmIChuZXh0QnJlYWsgPCAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgIGlmIChicmVha1NpemUgPiAxKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQubm9kZSA9PSBub2RlICYmIHBvaW50LnBvcyA+IHRoaXMudGV4dC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5wb3MgLT0gYnJlYWtTaXplIC0gMTtcbiAgICAgICAgICAgIG9mZiA9IG5leHRCcmVhayArIGJyZWFrU2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkTm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmNtSWdub3JlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdmlldyA9IENvbnRlbnRWaWV3LmdldChub2RlKTtcbiAgICAgICAgbGV0IGZyb21WaWV3ID0gdmlldyAmJiB2aWV3Lm92ZXJyaWRlRE9NVGV4dDtcbiAgICAgICAgaWYgKGZyb21WaWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmluZFBvaW50SW5zaWRlKG5vZGUsIGZyb21WaWV3Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZnJvbVZpZXcuaXRlcigpOyAhaS5uZXh0KCkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICBpZiAoaS5saW5lQnJlYWspXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZFRleHROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJCUlwiKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZylcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkUmFuZ2Uobm9kZS5maXJzdENoaWxkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kUG9pbnRCZWZvcmUobm9kZSwgbmV4dCkge1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiB0aGlzLnBvaW50cylcbiAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUgJiYgbm9kZS5jaGlsZE5vZGVzW3BvaW50Lm9mZnNldF0gPT0gbmV4dClcbiAgICAgICAgICAgICAgICBwb2ludC5wb3MgPSB0aGlzLnRleHQubGVuZ3RoO1xuICAgIH1cbiAgICBmaW5kUG9pbnRJbnNpZGUobm9kZSwgbGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyA/IHBvaW50Lm5vZGUgPT0gbm9kZSA6IG5vZGUuY29udGFpbnMocG9pbnQubm9kZSkpXG4gICAgICAgICAgICAgICAgcG9pbnQucG9zID0gdGhpcy50ZXh0Lmxlbmd0aCArIChpc0F0RW5kKG5vZGUsIHBvaW50Lm5vZGUsIHBvaW50Lm9mZnNldCkgPyBsZW5ndGggOiAwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0F0RW5kKHBhcmVudCwgbm9kZSwgb2Zmc2V0KSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAoIW5vZGUgfHwgb2Zmc2V0IDwgbWF4T2Zmc2V0KG5vZGUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSkgKyAxO1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbn1cbmNsYXNzIERPTVBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9zID0gLTE7XG4gICAgfVxufVxuXG5jbGFzcyBET01DaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXJ0LCBlbmQsIHR5cGVPdmVyKSB7XG4gICAgICAgIHRoaXMudHlwZU92ZXIgPSB0eXBlT3ZlcjtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLmRvbUNoYW5nZWQgPSBzdGFydCA+IC0xO1xuICAgICAgICBsZXQgeyBpbXByZWNpc2VIZWFkOiBpSGVhZCwgaW1wcmVjaXNlQW5jaG9yOiBpQW5jaG9yIH0gPSB2aWV3LmRvY1ZpZXc7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5ICYmIHN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBjaGFuZ2VzIHdoZW4gdGhlIGVkaXRvciBpcyByZWFkLW9ubHlcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA+IC0xICYmICh0aGlzLmJvdW5kcyA9IHZpZXcuZG9jVmlldy5kb21Cb3VuZHNBcm91bmQoc3RhcnQsIGVuZCwgMCkpKSB7XG4gICAgICAgICAgICBsZXQgc2VsUG9pbnRzID0gaUhlYWQgfHwgaUFuY2hvciA/IFtdIDogc2VsZWN0aW9uUG9pbnRzKHZpZXcpO1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBET01SZWFkZXIoc2VsUG9pbnRzLCB2aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkUmFuZ2UodGhpcy5ib3VuZHMuc3RhcnRET00sIHRoaXMuYm91bmRzLmVuZERPTSk7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSByZWFkZXIudGV4dDtcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gc2VsZWN0aW9uRnJvbVBvaW50cyhzZWxQb2ludHMsIHRoaXMuYm91bmRzLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRvbVNlbCA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgICAgICBsZXQgaGVhZCA9IGlIZWFkICYmIGlIZWFkLm5vZGUgPT0gZG9tU2VsLmZvY3VzTm9kZSAmJiBpSGVhZC5vZmZzZXQgPT0gZG9tU2VsLmZvY3VzT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmZvY3VzTm9kZSlcbiAgICAgICAgICAgICAgICA/IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZFxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBhbmNob3IgPSBpQW5jaG9yICYmIGlBbmNob3Iubm9kZSA9PSBkb21TZWwuYW5jaG9yTm9kZSAmJiBpQW5jaG9yLm9mZnNldCA9PSBkb21TZWwuYW5jaG9yT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmFuY2hvck5vZGUpXG4gICAgICAgICAgICAgICAgPyB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvclxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgLy8gaU9TIHdpbGwgcmVmdXNlIHRvIHNlbGVjdCB0aGUgYmxvY2sgZ2FwcyB3aGVuIGRvaW5nXG4gICAgICAgICAgICAvLyBzZWxlY3QtYWxsLlxuICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgcHV0IHRoZSBzZWxlY3Rpb24gKmluc2lkZSogdGhlbSwgY29uZnVzaW5nXG4gICAgICAgICAgICAvLyBwb3NGcm9tRE9NXG4gICAgICAgICAgICBsZXQgdnAgPSB2aWV3LnZpZXdwb3J0O1xuICAgICAgICAgICAgaWYgKChicm93c2VyLmlvcyB8fCBicm93c2VyLmNocm9tZSkgJiYgdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5lbXB0eSAmJiBoZWFkICE9IGFuY2hvciAmJlxuICAgICAgICAgICAgICAgICh2cC5mcm9tID4gMCB8fCB2cC50byA8IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWluKGhlYWQsIGFuY2hvciksIHRvID0gTWF0aC5tYXgoaGVhZCwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgb2ZmRnJvbSA9IHZwLmZyb20gLSBmcm9tLCBvZmZUbyA9IHZwLnRvIC0gdG87XG4gICAgICAgICAgICAgICAgaWYgKChvZmZGcm9tID09IDAgfHwgb2ZmRnJvbSA9PSAxIHx8IGZyb20gPT0gMCkgJiYgKG9mZlRvID09IDAgfHwgb2ZmVG8gPT0gLTEgfHwgdG8gPT0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShhbmNob3IsIGhlYWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlET01DaGFuZ2UodmlldywgZG9tQ2hhbmdlKSB7XG4gICAgbGV0IGNoYW5nZTtcbiAgICBsZXQgeyBuZXdTZWwgfSA9IGRvbUNoYW5nZSwgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICBsZXQgbGFzdEtleSA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0S2V5VGltZSA+IERhdGUubm93KCkgLSAxMDAgPyB2aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgOiAtMTtcbiAgICBpZiAoZG9tQ2hhbmdlLmJvdW5kcykge1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gZG9tQ2hhbmdlLmJvdW5kcztcbiAgICAgICAgbGV0IHByZWZlcnJlZFBvcyA9IHNlbC5mcm9tLCBwcmVmZXJyZWRTaWRlID0gbnVsbDtcbiAgICAgICAgLy8gUHJlZmVyIGFuY2hvcmluZyB0byBlbmQgd2hlbiBCYWNrc3BhY2UgaXMgcHJlc3NlZCAob3IsIG9uXG4gICAgICAgIC8vIEFuZHJvaWQsIHdoZW4gc29tZXRoaW5nIHdhcyBkZWxldGVkKVxuICAgICAgICBpZiAobGFzdEtleSA9PT0gOCB8fCBicm93c2VyLmFuZHJvaWQgJiYgZG9tQ2hhbmdlLnRleHQubGVuZ3RoIDwgdG8gLSBmcm9tKSB7XG4gICAgICAgICAgICBwcmVmZXJyZWRQb3MgPSBzZWwudG87XG4gICAgICAgICAgICBwcmVmZXJyZWRTaWRlID0gXCJlbmRcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlmZiA9IGZpbmREaWZmKHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvLCBMaW5lQnJlYWtQbGFjZWhvbGRlciksIGRvbUNoYW5nZS50ZXh0LCBwcmVmZXJyZWRQb3MgLSBmcm9tLCBwcmVmZXJyZWRTaWRlKTtcbiAgICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgICAgIC8vIENocm9tZSBpbnNlcnRzIHR3byBuZXdsaW5lcyB3aGVuIHByZXNzaW5nIHNoaWZ0LWVudGVyIGF0IHRoZVxuICAgICAgICAgICAgLy8gZW5kIG9mIGEgbGluZS4gRG9tQ2hhbmdlIGRyb3BzIG9uZSBvZiB0aG9zZS5cbiAgICAgICAgICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBsYXN0S2V5ID09IDEzICYmXG4gICAgICAgICAgICAgICAgZGlmZi50b0IgPT0gZGlmZi5mcm9tICsgMiAmJiBkb21DaGFuZ2UudGV4dC5zbGljZShkaWZmLmZyb20sIGRpZmYudG9CKSA9PSBMaW5lQnJlYWtQbGFjZWhvbGRlciArIExpbmVCcmVha1BsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgIGRpZmYudG9CLS07XG4gICAgICAgICAgICBjaGFuZ2UgPSB7IGZyb206IGZyb20gKyBkaWZmLmZyb20sIHRvOiBmcm9tICsgZGlmZi50b0EsXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiBUZXh0Lm9mKGRvbUNoYW5nZS50ZXh0LnNsaWNlKGRpZmYuZnJvbSwgZGlmZi50b0IpLnNwbGl0KExpbmVCcmVha1BsYWNlaG9sZGVyKSkgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChuZXdTZWwgJiYgKCF2aWV3Lmhhc0ZvY3VzICYmIHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpIHx8IG5ld1NlbC5tYWluLmVxKHNlbCkpKSB7XG4gICAgICAgIG5ld1NlbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICghY2hhbmdlICYmICFuZXdTZWwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWNoYW5nZSAmJiBkb21DaGFuZ2UudHlwZU92ZXIgJiYgIXNlbC5lbXB0eSAmJiBuZXdTZWwgJiYgbmV3U2VsLm1haW4uZW1wdHkpIHtcbiAgICAgICAgLy8gSGV1cmlzdGljIHRvIG5vdGljZSB0eXBpbmcgb3ZlciBhIHNlbGVjdGVkIGNoYXJhY3RlclxuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlKHNlbC5mcm9tLCBzZWwudG8pIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKChicm93c2VyLm1hYyB8fCBicm93c2VyLmFuZHJvaWQpICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgY2hhbmdlLmZyb20gPT0gc2VsLmhlYWQgLSAxICYmXG4gICAgICAgIC9eXFwuID8kLy50ZXN0KGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKSkgJiYgdmlldy5jb250ZW50RE9NLmdldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIpID09IFwib2ZmXCIpIHtcbiAgICAgICAgLy8gRGV0ZWN0IGluc2VydC1wZXJpb2Qtb24tZG91YmxlLXNwYWNlIE1hYyBhbmQgQW5kcm9pZCBiZWhhdmlvcixcbiAgICAgICAgLy8gYW5kIHRyYW5zZm9ybSBpdCBpbnRvIGEgcmVndWxhciBzcGFjZSBpbnNlcnQuXG4gICAgICAgIGlmIChuZXdTZWwgJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMilcbiAgICAgICAgICAgIG5ld1NlbCA9IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUobmV3U2VsLm1haW4uYW5jaG9yIC0gMSwgbmV3U2VsLm1haW4uaGVhZCAtIDEpO1xuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlLnRvLCBpbnNlcnQ6IFRleHQub2YoW2NoYW5nZS5pbnNlcnQudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIiBcIildKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPj0gc2VsLmZyb20gJiYgY2hhbmdlLnRvIDw9IHNlbC50byAmJlxuICAgICAgICAoY2hhbmdlLmZyb20gIT0gc2VsLmZyb20gfHwgY2hhbmdlLnRvICE9IHNlbC50bykgJiZcbiAgICAgICAgKHNlbC50byAtIHNlbC5mcm9tKSAtIChjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSkgPD0gNCkge1xuICAgICAgICAvLyBJZiB0aGUgY2hhbmdlIGlzIGluc2lkZSB0aGUgc2VsZWN0aW9uIGFuZCBjb3ZlcnMgbW9zdCBvZiBpdCxcbiAgICAgICAgLy8gYXNzdW1lIGl0IGlzIGEgc2VsZWN0aW9uIHJlcGxhY2UgKHdpdGggaWRlbnRpY2FsIGNoYXJhY3RlcnMgYXRcbiAgICAgICAgLy8gdGhlIHN0YXJ0L2VuZCBub3QgaW5jbHVkZWQgaW4gdGhlIGRpZmYpXG4gICAgICAgIGNoYW5nZSA9IHtcbiAgICAgICAgICAgIGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLFxuICAgICAgICAgICAgaW5zZXJ0OiB2aWV3LnN0YXRlLmRvYy5zbGljZShzZWwuZnJvbSwgY2hhbmdlLmZyb20pLmFwcGVuZChjaGFuZ2UuaW5zZXJ0KS5hcHBlbmQodmlldy5zdGF0ZS5kb2Muc2xpY2UoY2hhbmdlLnRvLCBzZWwudG8pKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChicm93c2VyLmNocm9tZSAmJiBjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPT0gY2hhbmdlLnRvICYmIGNoYW5nZS5mcm9tID09IHNlbC5oZWFkICYmXG4gICAgICAgIGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKSA9PSBcIlxcbiBcIiAmJiB2aWV3LmxpbmVXcmFwcGluZykge1xuICAgICAgICAvLyBJbiBDaHJvbWUsIGlmIHlvdSBpbnNlcnQgYSBzcGFjZSBhdCB0aGUgc3RhcnQgb2YgYSB3cmFwcGVkXG4gICAgICAgIC8vIGxpbmUsIGl0IHdpbGwgYWN0dWFsbHkgaW5zZXJ0IGEgbmV3bGluZSBhbmQgYSBzcGFjZSwgY2F1c2luZyBhXG4gICAgICAgIC8vIGJvZ3VzIG5ldyBsaW5lIHRvIGJlIGNyZWF0ZWQgaW4gQ29kZU1pcnJvciAoIzk2OClcbiAgICAgICAgaWYgKG5ld1NlbClcbiAgICAgICAgICAgIG5ld1NlbCA9IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUobmV3U2VsLm1haW4uYW5jaG9yIC0gMSwgbmV3U2VsLm1haW4uaGVhZCAtIDEpO1xuICAgICAgICBjaGFuZ2UgPSB7IGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLCBpbnNlcnQ6IFRleHQub2YoW1wiIFwiXSkgfTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZSkge1xuICAgICAgICByZXR1cm4gYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCBjaGFuZ2UsIG5ld1NlbCwgbGFzdEtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1NlbCAmJiAhbmV3U2VsLm1haW4uZXEoc2VsKSkge1xuICAgICAgICBsZXQgc2Nyb2xsSW50b1ZpZXcgPSBmYWxzZSwgdXNlckV2ZW50ID0gXCJzZWxlY3RcIjtcbiAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uVGltZSA+IERhdGUubm93KCkgLSA1MCkge1xuICAgICAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uT3JpZ2luID09IFwic2VsZWN0XCIpXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgdXNlckV2ZW50ID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTZWxlY3Rpb25PcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IHNlbGVjdGlvbjogbmV3U2VsLCBzY3JvbGxJbnRvVmlldywgdXNlckV2ZW50IH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseURPTUNoYW5nZUlubmVyKHZpZXcsIGNoYW5nZSwgbmV3U2VsLCBsYXN0S2V5ID0gLTEpIHtcbiAgICBpZiAoYnJvd3Nlci5pb3MgJiYgdmlldy5pbnB1dFN0YXRlLmZsdXNoSU9TS2V5KGNoYW5nZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIC8vIEFuZHJvaWQgYnJvd3NlcnMgZG9uJ3QgZmlyZSByZWFzb25hYmxlIGtleSBldmVudHMgZm9yIGVudGVyLFxuICAgIC8vIGJhY2tzcGFjZSwgb3IgZGVsZXRlLiBTbyB0aGlzIGRldGVjdHMgY2hhbmdlcyB0aGF0IGxvb2sgbGlrZVxuICAgIC8vIHRoZXkncmUgY2F1c2VkIGJ5IHRob3NlIGtleXMsIGFuZCByZWludGVycHJldHMgdGhlbSBhcyBrZXlcbiAgICAvLyBldmVudHMuIChTb21lIG9mIHRoZXNlIGtleXMgYXJlIGFsc28gaGFuZGxlZCBieSBiZWZvcmVpbnB1dFxuICAgIC8vIGV2ZW50cyBhbmQgdGhlIHBlbmRpbmdBbmRyb2lkS2V5IG1lY2hhbmlzbSwgYnV0IHRoYXQncyBub3RcbiAgICAvLyByZWxpYWJsZSBpbiBhbGwgc2l0dWF0aW9ucy4pXG4gICAgaWYgKGJyb3dzZXIuYW5kcm9pZCAmJlxuICAgICAgICAoKGNoYW5nZS50byA9PSBzZWwudG8gJiZcbiAgICAgICAgICAgIC8vIEdCb2FyZCB3aWxsIHNvbWV0aW1lcyByZW1vdmUgYSBzcGFjZSBpdCBqdXN0IGluc2VydGVkXG4gICAgICAgICAgICAvLyBhZnRlciBhIGNvbXBsZXRpb24gd2hlbiB5b3UgcHJlc3MgZW50ZXJcbiAgICAgICAgICAgIChjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSB8fCBjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAtIDEgJiYgdmlldy5zdGF0ZS5zbGljZURvYyhjaGFuZ2UuZnJvbSwgc2VsLmZyb20pID09IFwiIFwiKSAmJlxuICAgICAgICAgICAgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMSAmJiBjaGFuZ2UuaW5zZXJ0LmxpbmVzID09IDIgJiZcbiAgICAgICAgICAgIGRpc3BhdGNoS2V5KHZpZXcuY29udGVudERPTSwgXCJFbnRlclwiLCAxMykpIHx8XG4gICAgICAgICAgICAoKGNoYW5nZS5mcm9tID09IHNlbC5mcm9tIC0gMSAmJiBjaGFuZ2UudG8gPT0gc2VsLnRvICYmIGNoYW5nZS5pbnNlcnQubGVuZ3RoID09IDAgfHxcbiAgICAgICAgICAgICAgICBsYXN0S2V5ID09IDggJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPCBjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSAmJiBjaGFuZ2UudG8gPiBzZWwuaGVhZCkgJiZcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiQmFja3NwYWNlXCIsIDgpKSB8fFxuICAgICAgICAgICAgKGNoYW5nZS5mcm9tID09IHNlbC5mcm9tICYmIGNoYW5nZS50byA9PSBzZWwudG8gKyAxICYmIGNoYW5nZS5pbnNlcnQubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiRGVsZXRlXCIsIDQ2KSkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgdGV4dCA9IGNoYW5nZS5pbnNlcnQudG9TdHJpbmcoKTtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwKVxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nKys7XG4gICAgbGV0IGRlZmF1bHRUcjtcbiAgICBsZXQgZGVmYXVsdEluc2VydCA9ICgpID0+IGRlZmF1bHRUciB8fCAoZGVmYXVsdFRyID0gYXBwbHlEZWZhdWx0SW5zZXJ0KHZpZXcsIGNoYW5nZSwgbmV3U2VsKSk7XG4gICAgaWYgKCF2aWV3LnN0YXRlLmZhY2V0KGlucHV0SGFuZGxlcikuc29tZShoID0+IGgodmlldywgY2hhbmdlLmZyb20sIGNoYW5nZS50bywgdGV4dCwgZGVmYXVsdEluc2VydCkpKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKGRlZmF1bHRJbnNlcnQoKSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBhcHBseURlZmF1bHRJbnNlcnQodmlldywgY2hhbmdlLCBuZXdTZWwpIHtcbiAgICBsZXQgdHIsIHN0YXJ0U3RhdGUgPSB2aWV3LnN0YXRlLCBzZWwgPSBzdGFydFN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGlmIChjaGFuZ2UuZnJvbSA+PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPD0gc2VsLnRvICYmIGNoYW5nZS50byAtIGNoYW5nZS5mcm9tID49IChzZWwudG8gLSBzZWwuZnJvbSkgLyAzICYmXG4gICAgICAgICghbmV3U2VsIHx8IG5ld1NlbC5tYWluLmVtcHR5ICYmIG5ld1NlbC5tYWluLmZyb20gPT0gY2hhbmdlLmZyb20gKyBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCkgJiZcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgbGV0IGJlZm9yZSA9IHNlbC5mcm9tIDwgY2hhbmdlLmZyb20gPyBzdGFydFN0YXRlLnNsaWNlRG9jKHNlbC5mcm9tLCBjaGFuZ2UuZnJvbSkgOiBcIlwiO1xuICAgICAgICBsZXQgYWZ0ZXIgPSBzZWwudG8gPiBjaGFuZ2UudG8gPyBzdGFydFN0YXRlLnNsaWNlRG9jKGNoYW5nZS50bywgc2VsLnRvKSA6IFwiXCI7XG4gICAgICAgIHRyID0gc3RhcnRTdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHZpZXcuc3RhdGUudG9UZXh0KGJlZm9yZSArIGNoYW5nZS5pbnNlcnQuc2xpY2VTdHJpbmcoMCwgdW5kZWZpbmVkLCB2aWV3LnN0YXRlLmxpbmVCcmVhaykgKyBhZnRlcikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBzdGFydFN0YXRlLmNoYW5nZXMoY2hhbmdlKTtcbiAgICAgICAgbGV0IG1haW5TZWwgPSBuZXdTZWwgJiYgbmV3U2VsLm1haW4udG8gPD0gY2hhbmdlcy5uZXdMZW5ndGggPyBuZXdTZWwubWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVHJ5IHRvIGFwcGx5IGEgY29tcG9zaXRpb24gY2hhbmdlIHRvIGFsbCBjdXJzb3JzXG4gICAgICAgIGlmIChzdGFydFN0YXRlLnNlbGVjdGlvbi5yYW5nZXMubGVuZ3RoID4gMSAmJiB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDAgJiZcbiAgICAgICAgICAgIGNoYW5nZS50byA8PSBzZWwudG8gJiYgY2hhbmdlLnRvID49IHNlbC50byAtIDEwKSB7XG4gICAgICAgICAgICBsZXQgcmVwbGFjZWQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuICAgICAgICAgICAgbGV0IGNvbXBvc2l0aW9uUmFuZ2UsIGNvbXBvc2l0aW9uID0gbmV3U2VsICYmIGZpbmRDb21wb3NpdGlvbk5vZGUodmlldywgbmV3U2VsLm1haW4uaGVhZCk7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgZExlbiA9IGNoYW5nZS5pbnNlcnQubGVuZ3RoIC0gKGNoYW5nZS50byAtIGNoYW5nZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvblJhbmdlID0geyBmcm9tOiBjb21wb3NpdGlvbi5mcm9tLCB0bzogY29tcG9zaXRpb24udG8gLSBkTGVuIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvblJhbmdlID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHNlbC5oZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSBzZWwudG8gLSBjaGFuZ2UudG8sIHNpemUgPSBzZWwudG8gLSBzZWwuZnJvbTtcbiAgICAgICAgICAgIHRyID0gc3RhcnRTdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiByYW5nZS50byA9PSBzZWwudG8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXMsIHJhbmdlOiBtYWluU2VsIHx8IHJhbmdlLm1hcChjaGFuZ2VzKSB9O1xuICAgICAgICAgICAgICAgIGxldCB0byA9IHJhbmdlLnRvIC0gb2Zmc2V0LCBmcm9tID0gdG8gLSByZXBsYWNlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnRvIC0gcmFuZ2UuZnJvbSAhPSBzaXplIHx8IHZpZXcuc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pICE9IHJlcGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoZXJlJ3Mgbm8gd2F5IHRvIG1ha2UgbXVsdGlwbGVcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlcyBpbiB0aGUgc2FtZSBub2RlIHdvcmsgd2l0aG91dCBhYm9ydGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wb3NpdGlvbiwgc28gY3Vyc29ycyBpbiB0aGUgY29tcG9zaXRpb24gcmFuZ2UgYXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnRvID49IGNvbXBvc2l0aW9uUmFuZ2UuZnJvbSAmJiByYW5nZS5mcm9tIDw9IGNvbXBvc2l0aW9uUmFuZ2UudG8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlQ2hhbmdlcyA9IHN0YXJ0U3RhdGUuY2hhbmdlcyh7IGZyb20sIHRvLCBpbnNlcnQ6IGNoYW5nZS5pbnNlcnQgfSksIHNlbE9mZiA9IHJhbmdlLnRvIC0gc2VsLnRvO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXM6IHJhbmdlQ2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6ICFtYWluU2VsID8gcmFuZ2UubWFwKHJhbmdlQ2hhbmdlcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdG9yU2VsZWN0aW9uLnJhbmdlKE1hdGgubWF4KDAsIG1haW5TZWwuYW5jaG9yICsgc2VsT2ZmKSwgTWF0aC5tYXgoMCwgbWFpblNlbC5oZWFkICsgc2VsT2ZmKSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ciA9IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogbWFpblNlbCAmJiBzdGFydFN0YXRlLnNlbGVjdGlvbi5yZXBsYWNlUmFuZ2UobWFpblNlbClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJFdmVudCA9IFwiaW5wdXQudHlwZVwiO1xuICAgIGlmICh2aWV3LmNvbXBvc2luZyB8fFxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlICYmIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkVuZGVkQXQgPiBEYXRlLm5vdygpIC0gNTApIHtcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICB1c2VyRXZlbnQgKz0gXCIuY29tcG9zZVwiO1xuICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgICAgIHVzZXJFdmVudCArPSBcIi5zdGFydFwiO1xuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhcnRTdGF0ZS51cGRhdGUodHIsIHsgdXNlckV2ZW50LCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbn1cbmZ1bmN0aW9uIGZpbmREaWZmKGEsIGIsIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZSkge1xuICAgIGxldCBtaW5MZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICAgIGxldCBmcm9tID0gMDtcbiAgICB3aGlsZSAoZnJvbSA8IG1pbkxlbiAmJiBhLmNoYXJDb2RlQXQoZnJvbSkgPT0gYi5jaGFyQ29kZUF0KGZyb20pKVxuICAgICAgICBmcm9tKys7XG4gICAgaWYgKGZyb20gPT0gbWluTGVuICYmIGEubGVuZ3RoID09IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgdG9BID0gYS5sZW5ndGgsIHRvQiA9IGIubGVuZ3RoO1xuICAgIHdoaWxlICh0b0EgPiAwICYmIHRvQiA+IDAgJiYgYS5jaGFyQ29kZUF0KHRvQSAtIDEpID09IGIuY2hhckNvZGVBdCh0b0IgLSAxKSkge1xuICAgICAgICB0b0EtLTtcbiAgICAgICAgdG9CLS07XG4gICAgfVxuICAgIGlmIChwcmVmZXJyZWRTaWRlID09IFwiZW5kXCIpIHtcbiAgICAgICAgbGV0IGFkanVzdCA9IE1hdGgubWF4KDAsIGZyb20gLSBNYXRoLm1pbih0b0EsIHRvQikpO1xuICAgICAgICBwcmVmZXJyZWRQb3MgLT0gdG9BICsgYWRqdXN0IC0gZnJvbTtcbiAgICB9XG4gICAgaWYgKHRvQSA8IGZyb20gJiYgYS5sZW5ndGggPCBiLmxlbmd0aCkge1xuICAgICAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBmcm9tICYmIHByZWZlcnJlZFBvcyA+PSB0b0EgPyBmcm9tIC0gcHJlZmVycmVkUG9zIDogMDtcbiAgICAgICAgZnJvbSAtPSBtb3ZlO1xuICAgICAgICB0b0IgPSBmcm9tICsgKHRvQiAtIHRvQSk7XG4gICAgICAgIHRvQSA9IGZyb207XG4gICAgfVxuICAgIGVsc2UgaWYgKHRvQiA8IGZyb20pIHtcbiAgICAgICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gZnJvbSAmJiBwcmVmZXJyZWRQb3MgPj0gdG9CID8gZnJvbSAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgICAgIGZyb20gLT0gbW92ZTtcbiAgICAgICAgdG9BID0gZnJvbSArICh0b0EgLSB0b0IpO1xuICAgICAgICB0b0IgPSBmcm9tO1xuICAgIH1cbiAgICByZXR1cm4geyBmcm9tLCB0b0EsIHRvQiB9O1xufVxuZnVuY3Rpb24gc2VsZWN0aW9uUG9pbnRzKHZpZXcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgaWYgKHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHZpZXcuY29udGVudERPTSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBsZXQgeyBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQgfSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKGFuY2hvck5vZGUpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IERPTVBvaW50KGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCkpO1xuICAgICAgICBpZiAoZm9jdXNOb2RlICE9IGFuY2hvck5vZGUgfHwgZm9jdXNPZmZzZXQgIT0gYW5jaG9yT2Zmc2V0KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IERPTVBvaW50KGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvbkZyb21Qb2ludHMocG9pbnRzLCBiYXNlKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGFuY2hvciA9IHBvaW50c1swXS5wb3MsIGhlYWQgPSBwb2ludHMubGVuZ3RoID09IDIgPyBwb2ludHNbMV0ucG9zIDogYW5jaG9yO1xuICAgIHJldHVybiBhbmNob3IgPiAtMSAmJiBoZWFkID4gLTEgPyBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKGFuY2hvciArIGJhc2UsIGhlYWQgKyBiYXNlKSA6IG51bGw7XG59XG5cbmNsYXNzIElucHV0U3RhdGUge1xuICAgIHNldFNlbGVjdGlvbk9yaWdpbihvcmlnaW4pIHtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb25UaW1lID0gRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gMDtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFRvdWNoVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSAwO1xuICAgICAgICAvLyBPbiBpT1MsIHNvbWUga2V5cyBuZWVkIHRvIGhhdmUgdGhlaXIgZGVmYXVsdCBiZWhhdmlvciBoYXBwZW5cbiAgICAgICAgLy8gKGFmdGVyIHdoaWNoIHdlIHJldHJvYWN0aXZlbHkgaGFuZGxlIHRoZW0gYW5kIHJlc2V0IHRoZSBET00pIHRvXG4gICAgICAgIC8vIGF2b2lkIG1lc3NpbmcgdXAgdGhlIHZpcnR1YWwga2V5Ym9hcmQgc3RhdGUuXG4gICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgIFdoZW4gZW5hYmxlZCAoPi0xKSwgdGFiIHByZXNzZXMgYXJlIG5vdCBnaXZlbiB0byBrZXkgaGFuZGxlcnMsXG4gICAgICAgIGxlYXZpbmcgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yLiBJZiA+MCwgdGhlIG1vZGUgZXhwaXJlc1xuICAgICAgICBhdCB0aGF0IHRpbWVzdGFtcCwgYW5kIGFueSBvdGhlciBrZXlwcmVzcyBjbGVhcnMgaXQuXG4gICAgICAgIEVzYyBlbmFibGVzIHRlbXBvcmFyeSB0YWIgZm9jdXMgbW9kZSBmb3IgdHdvIHNlY29uZHMgd2hlbiBub3RcbiAgICAgICAgb3RoZXJ3aXNlIGhhbmRsZWQuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudGFiRm9jdXNNb2RlID0gLTE7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgICAgICB0aGlzLmxhc3RDb250ZXh0TWVudSA9IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8vIC0xIG1lYW5zIG5vdCBpbiBhIGNvbXBvc2l0aW9uLiBPdGhlcndpc2UsIHRoaXMgY291bnRzIHRoZSBudW1iZXJcbiAgICAgICAgLy8gb2YgY2hhbmdlcyBtYWRlIGR1cmluZyB0aGUgY29tcG9zaXRpb24uIFRoZSBjb3VudCBpcyB1c2VkIHRvXG4gICAgICAgIC8vIGF2b2lkIHRyZWF0aW5nIHRoZSBzdGFydCBzdGF0ZSBvZiB0aGUgY29tcG9zaXRpb24sIGJlZm9yZSBhbnlcbiAgICAgICAgLy8gY2hhbmdlcyBoYXZlIGJlZW4gbWFkZSwgYXMgcGFydCBvZiB0aGUgY29tcG9zaXRpb24uXG4gICAgICAgIHRoaXMuY29tcG9zaW5nID0gLTE7XG4gICAgICAgIC8vIFRyYWNrcyB3aGV0aGVyIHRoZSBuZXh0IGNoYW5nZSBzaG91bGQgYmUgbWFya2VkIGFzIHN0YXJ0aW5nIHRoZVxuICAgICAgICAvLyBjb21wb3NpdGlvbiAobnVsbCBtZWFucyBubyBjb21wb3NpdGlvbiwgdHJ1ZSBtZWFucyBuZXh0IGlzIHRoZVxuICAgICAgICAvLyBmaXJzdCwgZmFsc2UgbWVhbnMgZmlyc3QgaGFzIGFscmVhZHkgYmVlbiBtYXJrZWQgZm9yIHRoaXNcbiAgICAgICAgLy8gY29tcG9zaXRpb24pXG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IG51bGw7XG4gICAgICAgIC8vIEVuZCB0aW1lIG9mIHRoZSBwcmV2aW91cyBjb21wb3NpdGlvblxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRW5kZWRBdCA9IDA7XG4gICAgICAgIC8vIFVzZWQgaW4gYSBrbHVkZ2UgdG8gZGV0ZWN0IHdoZW4gYW4gRW50ZXIga2V5cHJlc3Mgc2hvdWxkIGJlXG4gICAgICAgIC8vIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgY29tcG9zaXRpb24gb24gU2FmYXJpLCB3aGljaCBmaXJlcyBldmVudHNcbiAgICAgICAgLy8gaW4gdGhlIHdyb25nIG9yZGVyXG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25QZW5kaW5nS2V5ID0gZmFsc2U7XG4gICAgICAgIC8vIFVzZWQgdG8gY2F0ZWdvcml6ZSBjaGFuZ2VzIGFzIHBhcnQgb2YgYSBjb21wb3NpdGlvbiwgZXZlbiB3aGVuXG4gICAgICAgIC8vIHRoZSBtdXRhdGlvbiBldmVudHMgZmlyZSBzaG9ydGx5IGFmdGVyIHRoZSBjb21wb3NpdGlvbmVuZCBldmVudFxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgLy8gV2hlbiBhIGRyYWcgZnJvbSB0aGUgZWRpdG9yIGlzIGFjdGl2ZSwgdGhpcyBwb2ludHMgYXQgdGhlIHJhbmdlXG4gICAgICAgIC8vIGJlaW5nIGRyYWdnZWQuXG4gICAgICAgIHRoaXMuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50ID0gdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm5vdGlmaWVkRm9jdXNlZCA9IHZpZXcuaGFzRm9jdXM7XG4gICAgICAgIC8vIE9uIFNhZmFyaSBhZGRpbmcgYW4gaW5wdXQgZXZlbnQgaGFuZGxlciBzb21laG93IHByZXZlbnRzIGFuXG4gICAgICAgIC8vIGlzc3VlIHdoZXJlIHRoZSBjb21wb3NpdGlvbiB2YW5pc2hlcyB3aGVuIHlvdSBwcmVzcyBlbnRlci5cbiAgICAgICAgaWYgKGJyb3dzZXIuc2FmYXJpKVxuICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiBudWxsKTtcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28pXG4gICAgICAgICAgICBmaXJlZm94Q29weUN1dEhhY2sodmlldy5jb250ZW50RE9NLm93bmVyRG9jdW1lbnQpO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50QmVsb25nc1RvRWRpdG9yKHRoaXMudmlldywgZXZlbnQpIHx8IHRoaXMuaWdub3JlRHVyaW5nQ29tcG9zaXRpb24oZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSBcImtleWRvd25cIiAmJiB0aGlzLmtleWRvd24oZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy52aWV3LnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gdGhpcy5ydW5IYW5kbGVycyhldmVudC50eXBlLCBldmVudCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnJ1bkhhbmRsZXJzKGV2ZW50LnR5cGUsIGV2ZW50KTtcbiAgICB9XG4gICAgcnVuSGFuZGxlcnModHlwZSwgZXZlbnQpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1t0eXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBvYnNlcnZlciBvZiBoYW5kbGVycy5vYnNlcnZlcnMpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIodGhpcy52aWV3LCBldmVudCk7XG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIGhhbmRsZXJzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKHRoaXMudmlldywgZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnN1cmVIYW5kbGVycyhwbHVnaW5zKSB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IGNvbXB1dGVIYW5kbGVycyhwbHVnaW5zKSwgcHJldiA9IHRoaXMuaGFuZGxlcnMsIGRvbSA9IHRoaXMudmlldy5jb250ZW50RE9NO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKVxuICAgICAgICAgICAgaWYgKHR5cGUgIT0gXCJzY3JvbGxcIikge1xuICAgICAgICAgICAgICAgIGxldCBwYXNzaXZlID0gIWhhbmRsZXJzW3R5cGVdLmhhbmRsZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgZXhpc3RzID0gcHJldlt0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzICYmIHBhc3NpdmUgIT0gIWV4aXN0cy5oYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGhpcy5oYW5kbGVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICAgICAgICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLmhhbmRsZUV2ZW50LCB7IHBhc3NpdmUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gcHJldilcbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwic2Nyb2xsXCIgJiYgIWhhbmRsZXJzW3R5cGVdKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMuaGFuZGxlRXZlbnQpO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIGtleWRvd24oZXZlbnQpIHtcbiAgICAgICAgLy8gTXVzdCBhbHdheXMgcnVuLCBldmVuIGlmIGEgY3VzdG9tIGhhbmRsZXIgaGFuZGxlZCB0aGUgZXZlbnRcbiAgICAgICAgdGhpcy5sYXN0S2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICAgIHRoaXMubGFzdEtleVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA5ICYmIHRoaXMudGFiRm9jdXNNb2RlID4gLTEgJiYgKCF0aGlzLnRhYkZvY3VzTW9kZSB8fCBEYXRlLm5vdygpIDw9IHRoaXMudGFiRm9jdXNNb2RlKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodGhpcy50YWJGb2N1c01vZGUgPiAwICYmIGV2ZW50LmtleUNvZGUgIT0gMjcgJiYgbW9kaWZpZXJDb2Rlcy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMudGFiRm9jdXNNb2RlID0gLTE7XG4gICAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZCB1c3VhbGx5IGRvZXNuJ3QgZmlyZSBwcm9wZXIga2V5IGV2ZW50cywgYnV0XG4gICAgICAgIC8vIG9jY2FzaW9uYWxseSBkb2VzLCB1c3VhbGx5IHN1cnJvdW5kZWQgYnkgYSBidW5jaCBvZiBjb21wbGljYXRlZFxuICAgICAgICAvLyBjb21wb3NpdGlvbiBjaGFuZ2VzLiBXaGVuIGFuIGVudGVyIG9yIGJhY2tzcGFjZSBrZXkgZXZlbnQgaXNcbiAgICAgICAgLy8gc2VlbiwgaG9sZCBvZmYgb24gaGFuZGxpbmcgRE9NIGV2ZW50cyBmb3IgYSBiaXQsIGFuZCB0aGVuXG4gICAgICAgIC8vIGRpc3BhdGNoIGl0LlxuICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmICFldmVudC5zeW50aGV0aWMgJiZcbiAgICAgICAgICAgIChldmVudC5rZXlDb2RlID09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT0gOCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5kZWxheUFuZHJvaWRLZXkoZXZlbnQua2V5LCBldmVudC5rZXlDb2RlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgRW50ZXIgb24gaU9TIG1ha2VzIHRoZVxuICAgICAgICAvLyB2aXJ0dWFsIGtleWJvYXJkIGdldCBzdHVjayBpbiB0aGUgd3JvbmcgKGxvd2VyY2FzZSlcbiAgICAgICAgLy8gc3RhdGUuIFNvIHdlIGxldCBpdCBnbyB0aHJvdWdoLCBhbmQgdGhlbiwgaW5cbiAgICAgICAgLy8gYXBwbHlET01DaGFuZ2UsIG5vdGlmeSBrZXkgaGFuZGxlcnMgb2YgaXQgYW5kIHJlc2V0IHRvXG4gICAgICAgIC8vIHRoZSBzdGF0ZSB0aGV5IHByb2R1Y2UuXG4gICAgICAgIGxldCBwZW5kaW5nO1xuICAgICAgICBpZiAoYnJvd3Nlci5pb3MgJiYgIWV2ZW50LnN5bnRoZXRpYyAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5tZXRhS2V5ICYmXG4gICAgICAgICAgICAoKHBlbmRpbmcgPSBQZW5kaW5nS2V5cy5maW5kKGtleSA9PiBrZXkua2V5Q29kZSA9PSBldmVudC5rZXlDb2RlKSkgJiYgIWV2ZW50LmN0cmxLZXkgfHxcbiAgICAgICAgICAgICAgICBFbWFjc3lQZW5kaW5nS2V5cy5pbmRleE9mKGV2ZW50LmtleSkgPiAtMSAmJiBldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSkpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0lPU0tleSA9IHBlbmRpbmcgfHwgZXZlbnQ7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZmx1c2hJT1NLZXkoKSwgMjUwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlICE9IDIyOSlcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmx1c2hJT1NLZXkoY2hhbmdlKSB7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLnBlbmRpbmdJT1NLZXk7XG4gICAgICAgIGlmICgha2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgYW4gYXV0b2NvcnJlY3Rpb24gYmVmb3JlIEVudGVyXG4gICAgICAgIGlmIChrZXkua2V5ID09IFwiRW50ZXJcIiAmJiBjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPCBjaGFuZ2UudG8gJiYgL15cXFMrJC8udGVzdChjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdJT1NLZXkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaEtleSh0aGlzLnZpZXcuY29udGVudERPTSwga2V5LmtleSwga2V5LmtleUNvZGUsIGtleSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQgPyBrZXkgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBpZ25vcmVEdXJpbmdDb21wb3NpdGlvbihldmVudCkge1xuICAgICAgICBpZiAoIS9ea2V5Ly50ZXN0KGV2ZW50LnR5cGUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jb21wb3NpbmcgPiAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFNlZSBodHRwczovL3d3dy5zdHVtLmRlLzIwMTYvMDYvMjQvaGFuZGxpbmctaW1lLWV2ZW50cy1pbi1qYXZhc2NyaXB0Ly5cbiAgICAgICAgLy8gT24gc29tZSBpbnB1dCBtZXRob2QgZWRpdG9ycyAoSU1FcyksIHRoZSBFbnRlciBrZXkgaXMgdXNlZCB0b1xuICAgICAgICAvLyBjb25maXJtIGNoYXJhY3RlciBzZWxlY3Rpb24uIE9uIFNhZmFyaSwgd2hlbiBFbnRlciBpcyBwcmVzc2VkLFxuICAgICAgICAvLyBjb21wb3NpdGlvbmVuZCBhbmQga2V5ZG93biBldmVudHMgYXJlIHNvbWV0aW1lcyBlbWl0dGVkIGluIHRoZVxuICAgICAgICAvLyB3cm9uZyBvcmRlci4gVGhlIGtleSBldmVudCBzaG91bGQgc3RpbGwgYmUgaWdub3JlZCwgZXZlbiB3aGVuXG4gICAgICAgIC8vIGl0IGhhcHBlbnMgYWZ0ZXIgdGhlIGNvbXBvc2l0aW9uZW5kIGV2ZW50LlxuICAgICAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgIWJyb3dzZXIuaW9zICYmIHRoaXMuY29tcG9zaXRpb25QZW5kaW5nS2V5ICYmIERhdGUubm93KCkgLSB0aGlzLmNvbXBvc2l0aW9uRW5kZWRBdCA8IDEwMCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpdGlvblBlbmRpbmdLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRNb3VzZVNlbGVjdGlvbihtb3VzZVNlbGVjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uID0gbW91c2VTZWxlY3Rpb247XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy52aWV3Lm9ic2VydmVyLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24udXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWRDb250ZW50ICYmIHVwZGF0ZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdGhpcy5kcmFnZ2VkQ29udGVudCA9IHRoaXMuZHJhZ2dlZENvbnRlbnQubWFwKHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5sYXN0S2V5Q29kZSA9IHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJpbmRIYW5kbGVyKHBsdWdpbiwgaGFuZGxlcikge1xuICAgIHJldHVybiAodmlldywgZXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmNhbGwocGx1Z2luLCBldmVudCwgdmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlSGFuZGxlcnMocGx1Z2lucykge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZ1bmN0aW9uIHJlY29yZCh0eXBlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRbdHlwZV0gfHwgKHJlc3VsdFt0eXBlXSA9IHsgb2JzZXJ2ZXJzOiBbXSwgaGFuZGxlcnM6IFtdIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBwbHVnaW4gb2YgcGx1Z2lucykge1xuICAgICAgICBsZXQgc3BlYyA9IHBsdWdpbi5zcGVjO1xuICAgICAgICBpZiAoc3BlYyAmJiBzcGVjLmRvbUV2ZW50SGFuZGxlcnMpXG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIHNwZWMuZG9tRXZlbnRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGxldCBmID0gc3BlYy5kb21FdmVudEhhbmRsZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChmKVxuICAgICAgICAgICAgICAgICAgICByZWNvcmQodHlwZSkuaGFuZGxlcnMucHVzaChiaW5kSGFuZGxlcihwbHVnaW4udmFsdWUsIGYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWMgJiYgc3BlYy5kb21FdmVudE9ic2VydmVycylcbiAgICAgICAgICAgIGZvciAobGV0IHR5cGUgaW4gc3BlYy5kb21FdmVudE9ic2VydmVycykge1xuICAgICAgICAgICAgICAgIGxldCBmID0gc3BlYy5kb21FdmVudE9ic2VydmVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkKHR5cGUpLm9ic2VydmVycy5wdXNoKGJpbmRIYW5kbGVyKHBsdWdpbi52YWx1ZSwgZikpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKVxuICAgICAgICByZWNvcmQodHlwZSkuaGFuZGxlcnMucHVzaChoYW5kbGVyc1t0eXBlXSk7XG4gICAgZm9yIChsZXQgdHlwZSBpbiBvYnNlcnZlcnMpXG4gICAgICAgIHJlY29yZCh0eXBlKS5vYnNlcnZlcnMucHVzaChvYnNlcnZlcnNbdHlwZV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBQZW5kaW5nS2V5cyA9IFtcbiAgICB7IGtleTogXCJCYWNrc3BhY2VcIiwga2V5Q29kZTogOCwgaW5wdXRUeXBlOiBcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiIH0sXG4gICAgeyBrZXk6IFwiRW50ZXJcIiwga2V5Q29kZTogMTMsIGlucHV0VHlwZTogXCJpbnNlcnRQYXJhZ3JhcGhcIiB9LFxuICAgIHsga2V5OiBcIkVudGVyXCIsIGtleUNvZGU6IDEzLCBpbnB1dFR5cGU6IFwiaW5zZXJ0TGluZUJyZWFrXCIgfSxcbiAgICB7IGtleTogXCJEZWxldGVcIiwga2V5Q29kZTogNDYsIGlucHV0VHlwZTogXCJkZWxldGVDb250ZW50Rm9yd2FyZFwiIH1cbl07XG5jb25zdCBFbWFjc3lQZW5kaW5nS2V5cyA9IFwiZHRoa29cIjtcbi8vIEtleSBjb2RlcyBmb3IgbW9kaWZpZXIga2V5c1xuY29uc3QgbW9kaWZpZXJDb2RlcyA9IFsxNiwgMTcsIDE4LCAyMCwgOTEsIDkyLCAyMjQsIDIyNV07XG5jb25zdCBkcmFnU2Nyb2xsTWFyZ2luID0gNjtcbmZ1bmN0aW9uIGRyYWdTY3JvbGxTcGVlZChkaXN0KSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIGRpc3QpICogMC43ICsgODtcbn1cbmZ1bmN0aW9uIGRpc3QoYSwgYikge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLmFicyhhLmNsaWVudFggLSBiLmNsaWVudFgpLCBNYXRoLmFicyhhLmNsaWVudFkgLSBiLmNsaWVudFkpKTtcbn1cbmNsYXNzIE1vdXNlU2VsZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzdGFydEV2ZW50LCBzdHlsZSwgbXVzdFNlbGVjdCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnN0YXJ0RXZlbnQgPSBzdGFydEV2ZW50O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMubXVzdFNlbGVjdCA9IG11c3RTZWxlY3Q7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgPSBzdGFydEV2ZW50O1xuICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMgPSBzY3JvbGxhYmxlUGFyZW50cyh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLmF0b21zID0gdmlldy5zdGF0ZS5mYWNldChhdG9taWNSYW5nZXMpLm1hcChmID0+IGYodmlldykpO1xuICAgICAgICBsZXQgZG9jID0gdmlldy5jb250ZW50RE9NLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZSA9IHRoaXMubW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXAgPSB0aGlzLnVwLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV4dGVuZCA9IHN0YXJ0RXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIHRoaXMubXVsdGlwbGUgPSB2aWV3LnN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKSAmJiBhZGRzU2VsZWN0aW9uUmFuZ2Uodmlldywgc3RhcnRFdmVudCk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpc0luUHJpbWFyeVNlbGVjdGlvbih2aWV3LCBzdGFydEV2ZW50KSAmJiBnZXRDbGlja1R5cGUoc3RhcnRFdmVudCkgPT0gMSA/IG51bGwgOiBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnQoZXZlbnQpIHtcbiAgICAgICAgLy8gV2hlbiBjbGlja2luZyBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb24sIGltbWVkaWF0ZWx5IGFwcGx5IHRoZVxuICAgICAgICAvLyBlZmZlY3Qgb2Ygc3RhcnRpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdChldmVudCk7XG4gICAgfVxuICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgfHwgdGhpcy5kcmFnZ2luZyA9PSBudWxsICYmIGRpc3QodGhpcy5zdGFydEV2ZW50LCBldmVudCkgPCAxMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5sYXN0RXZlbnQgPSBldmVudCk7XG4gICAgICAgIGxldCBzeCA9IDAsIHN5ID0gMDtcbiAgICAgICAgbGV0IGxlZnQgPSAwLCB0b3AgPSAwLCByaWdodCA9IHRoaXMudmlldy53aW4uaW5uZXJXaWR0aCwgYm90dG9tID0gdGhpcy52aWV3Lndpbi5pbm5lckhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50cy54KVxuICAgICAgICAgICAgKHsgbGVmdCwgcmlnaHQgfSA9IHRoaXMuc2Nyb2xsUGFyZW50cy54LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50cy55KVxuICAgICAgICAgICAgKHsgdG9wLCBib3R0b20gfSA9IHRoaXMuc2Nyb2xsUGFyZW50cy55LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgbGV0IG1hcmdpbnMgPSBnZXRTY3JvbGxNYXJnaW5zKHRoaXMudmlldyk7XG4gICAgICAgIGlmIChldmVudC5jbGllbnRYIC0gbWFyZ2lucy5sZWZ0IDw9IGxlZnQgKyBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3ggPSAtZHJhZ1Njcm9sbFNwZWVkKGxlZnQgLSBldmVudC5jbGllbnRYKTtcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuY2xpZW50WCArIG1hcmdpbnMucmlnaHQgPj0gcmlnaHQgLSBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3ggPSBkcmFnU2Nyb2xsU3BlZWQoZXZlbnQuY2xpZW50WCAtIHJpZ2h0KTtcbiAgICAgICAgaWYgKGV2ZW50LmNsaWVudFkgLSBtYXJnaW5zLnRvcCA8PSB0b3AgKyBkcmFnU2Nyb2xsTWFyZ2luKVxuICAgICAgICAgICAgc3kgPSAtZHJhZ1Njcm9sbFNwZWVkKHRvcCAtIGV2ZW50LmNsaWVudFkpO1xuICAgICAgICBlbHNlIGlmIChldmVudC5jbGllbnRZICsgbWFyZ2lucy5ib3R0b20gPj0gYm90dG9tIC0gZHJhZ1Njcm9sbE1hcmdpbilcbiAgICAgICAgICAgIHN5ID0gZHJhZ1Njcm9sbFNwZWVkKGV2ZW50LmNsaWVudFkgLSBib3R0b20pO1xuICAgICAgICB0aGlzLnNldFNjcm9sbFNwZWVkKHN4LCBzeSk7XG4gICAgfVxuICAgIHVwKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCk7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2luZylcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldFNjcm9sbFNwZWVkKDAsIDApO1xuICAgICAgICBsZXQgZG9jID0gdGhpcy52aWV3LmNvbnRlbnRET00ub3duZXJEb2N1bWVudDtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlKTtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXApO1xuICAgICAgICB0aGlzLnZpZXcuaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbiA9IHRoaXMudmlldy5pbnB1dFN0YXRlLmRyYWdnZWRDb250ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgc2V0U2Nyb2xsU3BlZWQoc3gsIHN5KSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3BlZWQgPSB7IHg6IHN4LCB5OiBzeSB9O1xuICAgICAgICBpZiAoc3ggfHwgc3kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGluZyA8IDApXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnNjcm9sbCgpLCA1MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zY3JvbGxpbmcgPiAtMSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjcm9sbGluZyk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZyA9IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjcm9sbCgpIHtcbiAgICAgICAgbGV0IHsgeCwgeSB9ID0gdGhpcy5zY3JvbGxTcGVlZDtcbiAgICAgICAgaWYgKHggJiYgdGhpcy5zY3JvbGxQYXJlbnRzLngpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFyZW50cy54LnNjcm9sbExlZnQgKz0geDtcbiAgICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5ICYmIHRoaXMuc2Nyb2xsUGFyZW50cy55KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBhcmVudHMueS5zY3JvbGxUb3AgKz0geTtcbiAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4IHx8IHkpXG4gICAgICAgICAgICB0aGlzLnZpZXcud2luLnNjcm9sbEJ5KHgsIHkpO1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCk7XG4gICAgfVxuICAgIHNraXBBdG9tcyhzZWwpIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2VsLnJhbmdlc1tpXSwgdXBkYXRlZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gc2tpcEF0b21pY1Jhbmdlcyh0aGlzLmF0b21zLCByYW5nZS5mcm9tLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zICE9IHJhbmdlLmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLmZyb20sIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSBza2lwQXRvbWljUmFuZ2VzKHRoaXMuYXRvbXMsIHJhbmdlLnRvLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSAhPSByYW5nZS5mcm9tIHx8IHRvICE9IHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmZyb20gPT0gcmFuZ2UuYW5jaG9yID8gZnJvbSA6IHRvLCByYW5nZS5mcm9tID09IHJhbmdlLmhlYWQgPyBmcm9tIDogdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlcylcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzID0gc2VsLnJhbmdlcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlc1tpXSA9IHVwZGF0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlcyA/IEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCBzZWwubWFpbkluZGV4KSA6IHNlbDtcbiAgICB9XG4gICAgc2VsZWN0KGV2ZW50KSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbGVjdGlvbiA9IHRoaXMuc2tpcEF0b21zKHRoaXMuc3R5bGUuZ2V0KGV2ZW50LCB0aGlzLmV4dGVuZCwgdGhpcy5tdWx0aXBsZSkpO1xuICAgICAgICBpZiAodGhpcy5tdXN0U2VsZWN0IHx8ICFzZWxlY3Rpb24uZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24sIHRoaXMuZHJhZ2dpbmcgPT09IGZhbHNlKSlcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogXCJzZWxlY3QucG9pbnRlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXN0U2VsZWN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5pc1VzZXJFdmVudChcImlucHV0LnR5cGVcIikpKVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3R5bGUudXBkYXRlKHVwZGF0ZSkpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KSwgMjApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZHNTZWxlY3Rpb25SYW5nZSh2aWV3LCBldmVudCkge1xuICAgIGxldCBmYWNldCA9IHZpZXcuc3RhdGUuZmFjZXQoY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UpO1xuICAgIHJldHVybiBmYWNldC5sZW5ndGggPyBmYWNldFswXShldmVudCkgOiBicm93c2VyLm1hYyA/IGV2ZW50Lm1ldGFLZXkgOiBldmVudC5jdHJsS2V5O1xufVxuZnVuY3Rpb24gZHJhZ01vdmVzU2VsZWN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IGZhY2V0ID0gdmlldy5zdGF0ZS5mYWNldChkcmFnTW92ZXNTZWxlY3Rpb24kMSk7XG4gICAgcmV0dXJuIGZhY2V0Lmxlbmd0aCA/IGZhY2V0WzBdKGV2ZW50KSA6IGJyb3dzZXIubWFjID8gIWV2ZW50LmFsdEtleSA6ICFldmVudC5jdHJsS2V5O1xufVxuZnVuY3Rpb24gaXNJblByaW1hcnlTZWxlY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgeyBtYWluIH0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAobWFpbi5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIE9uIGJvdW5kYXJ5IGNsaWNrcywgY2hlY2sgd2hldGhlciB0aGUgY29vcmRpbmF0ZXMgYXJlIGluc2lkZSB0aGVcbiAgICAvLyBzZWxlY3Rpb24ncyBjbGllbnQgcmVjdGFuZ2xlc1xuICAgIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICBpZiAoIXNlbCB8fCBzZWwucmFuZ2VDb3VudCA9PSAwKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgcmVjdHMgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tpXTtcbiAgICAgICAgaWYgKHJlY3QubGVmdCA8PSBldmVudC5jbGllbnRYICYmIHJlY3QucmlnaHQgPj0gZXZlbnQuY2xpZW50WCAmJlxuICAgICAgICAgICAgcmVjdC50b3AgPD0gZXZlbnQuY2xpZW50WSAmJiByZWN0LmJvdHRvbSA+PSBldmVudC5jbGllbnRZKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGV2ZW50QmVsb25nc1RvRWRpdG9yKHZpZXcsIGV2ZW50KSB7XG4gICAgaWYgKCFldmVudC5idWJibGVzKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IG5vZGUgPSBldmVudC50YXJnZXQsIGNWaWV3OyBub2RlICE9IHZpZXcuY29udGVudERPTTsgbm9kZSA9IG5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgPT0gMTEgfHwgKChjVmlldyA9IENvbnRlbnRWaWV3LmdldChub2RlKSkgJiYgY1ZpZXcuaWdub3JlRXZlbnQoZXZlbnQpKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IGhhbmRsZXJzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBvYnNlcnZlcnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8vIFRoaXMgaXMgdmVyeSBjcnVkZSwgYnV0IHVuZm9ydHVuYXRlbHkgYm90aCB0aGVzZSBicm93c2VycyBfcHJldGVuZF9cbi8vIHRoYXQgdGhleSBoYXZlIGEgY2xpcGJvYXJkIEFQSeKAlGFsbCB0aGUgb2JqZWN0cyBhbmQgbWV0aG9kcyBhcmVcbi8vIHRoZXJlLCB0aGV5IGp1c3QgZG9uJ3Qgd29yaywgYW5kIHRoZXkgYXJlIGhhcmQgdG8gdGVzdC5cbmNvbnN0IGJyb2tlbkNsaXBib2FyZEFQSSA9IChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8IDE1KSB8fFxuICAgIChicm93c2VyLmlvcyAmJiBicm93c2VyLndlYmtpdF92ZXJzaW9uIDwgNjA0KTtcbmZ1bmN0aW9uIGNhcHR1cmVQYXN0ZSh2aWV3KSB7XG4gICAgbGV0IHBhcmVudCA9IHZpZXcuZG9tLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgdGFyZ2V0ID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSk7XG4gICAgdGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiO1xuICAgIHRhcmdldC5mb2N1cygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudmFsdWUpO1xuICAgIH0sIDUwKTtcbn1cbmZ1bmN0aW9uIHRleHRGaWx0ZXIoc3RhdGUsIGZhY2V0LCB0ZXh0KSB7XG4gICAgZm9yIChsZXQgZmlsdGVyIG9mIHN0YXRlLmZhY2V0KGZhY2V0KSlcbiAgICAgICAgdGV4dCA9IGZpbHRlcih0ZXh0LCBzdGF0ZSk7XG4gICAgcmV0dXJuIHRleHQ7XG59XG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIGlucHV0KSB7XG4gICAgaW5wdXQgPSB0ZXh0RmlsdGVyKHZpZXcuc3RhdGUsIGNsaXBib2FyZElucHV0RmlsdGVyLCBpbnB1dCk7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNoYW5nZXMsIGkgPSAxLCB0ZXh0ID0gc3RhdGUudG9UZXh0KGlucHV0KTtcbiAgICBsZXQgYnlMaW5lID0gdGV4dC5saW5lcyA9PSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aDtcbiAgICBsZXQgbGluZXdpc2UgPSBsYXN0TGluZXdpc2VDb3B5ICE9IG51bGwgJiYgc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5ldmVyeShyID0+IHIuZW1wdHkpICYmIGxhc3RMaW5ld2lzZUNvcHkgPT0gdGV4dC50b1N0cmluZygpO1xuICAgIGlmIChsaW5ld2lzZSkge1xuICAgICAgICBsZXQgbGFzdExpbmUgPSAtMTtcbiAgICAgICAgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUuZnJvbSA9PSBsYXN0TGluZSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICAgICAgbGFzdExpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gc3RhdGUudG9UZXh0KChieUxpbmUgPyB0ZXh0LmxpbmUoaSsrKS50ZXh0IDogaW5wdXQpICsgc3RhdGUubGluZUJyZWFrKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogbGluZS5mcm9tLCBpbnNlcnQgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgaW5zZXJ0Lmxlbmd0aCkgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5TGluZSkge1xuICAgICAgICBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHRleHQubGluZShpKyspO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogbGluZS50ZXh0IH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIGxpbmUubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYW5nZXMgPSBzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHRleHQpO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKGNoYW5nZXMsIHtcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnBhc3RlXCIsXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgfSk7XG59XG5vYnNlcnZlcnMuc2Nyb2xsID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3AgPSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3A7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0ID0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdDtcbn07XG5oYW5kbGVycy5rZXlkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdFwiKTtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNyAmJiB2aWV3LmlucHV0U3RhdGUudGFiRm9jdXNNb2RlICE9IDApXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPSBEYXRlLm5vdygpICsgMjAwMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xub2JzZXJ2ZXJzLnRvdWNoc3RhcnQgPSAodmlldywgZSkgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuc2V0U2VsZWN0aW9uT3JpZ2luKFwic2VsZWN0LnBvaW50ZXJcIik7XG59O1xub2JzZXJ2ZXJzLnRvdWNobW92ZSA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5zZXRTZWxlY3Rpb25PcmlnaW4oXCJzZWxlY3QucG9pbnRlclwiKTtcbn07XG5oYW5kbGVycy5tb3VzZWRvd24gPSAodmlldywgZXZlbnQpID0+IHtcbiAgICB2aWV3Lm9ic2VydmVyLmZsdXNoKCk7XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lID4gRGF0ZS5ub3coKSAtIDIwMDApXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gSWdub3JlIHRvdWNoIGludGVyYWN0aW9uXG4gICAgbGV0IHN0eWxlID0gbnVsbDtcbiAgICBmb3IgKGxldCBtYWtlU3R5bGUgb2Ygdmlldy5zdGF0ZS5mYWNldChtb3VzZVNlbGVjdGlvblN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IG1ha2VTdHlsZSh2aWV3LCBldmVudCk7XG4gICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIXN0eWxlICYmIGV2ZW50LmJ1dHRvbiA9PSAwKVxuICAgICAgICBzdHlsZSA9IGJhc2ljTW91c2VTZWxlY3Rpb24odmlldywgZXZlbnQpO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgICBsZXQgbXVzdEZvY3VzID0gIXZpZXcuaGFzRm9jdXM7XG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5zdGFydE1vdXNlU2VsZWN0aW9uKG5ldyBNb3VzZVNlbGVjdGlvbih2aWV3LCBldmVudCwgc3R5bGUsIG11c3RGb2N1cykpO1xuICAgICAgICBpZiAobXVzdEZvY3VzKVxuICAgICAgICAgICAgdmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvY3VzUHJldmVudFNjcm9sbCh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlICYmICFhY3RpdmUuY29udGFpbnModmlldy5jb250ZW50RE9NKSlcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLmJsdXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBsZXQgbW91c2VTZWwgPSB2aWV3LmlucHV0U3RhdGUubW91c2VTZWxlY3Rpb247XG4gICAgICAgIGlmIChtb3VzZVNlbCkge1xuICAgICAgICAgICAgbW91c2VTZWwuc3RhcnQoZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIG1vdXNlU2VsLmRyYWdnaW5nID09PSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZnVuY3Rpb24gcmFuZ2VGb3JDbGljayh2aWV3LCBwb3MsIGJpYXMsIHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSAxKSB7IC8vIFNpbmdsZSBjbGlja1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MsIGJpYXMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09IDIpIHsgLy8gRG91YmxlIGNsaWNrXG4gICAgICAgIHJldHVybiBncm91cEF0KHZpZXcuc3RhdGUsIHBvcywgYmlhcyk7XG4gICAgfVxuICAgIGVsc2UgeyAvLyBUcmlwbGUgY2xpY2tcbiAgICAgICAgbGV0IHZpc3VhbCA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBwb3MpLCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHZpc3VhbCA/IHZpc3VhbC5wb3NBdEVuZCA6IHBvcyk7XG4gICAgICAgIGxldCBmcm9tID0gdmlzdWFsID8gdmlzdWFsLnBvc0F0U3RhcnQgOiBsaW5lLmZyb20sIHRvID0gdmlzdWFsID8gdmlzdWFsLnBvc0F0RW5kIDogbGluZS50bztcbiAgICAgICAgaWYgKHRvIDwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoICYmIHRvID09IGxpbmUudG8pXG4gICAgICAgICAgICB0bysrO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGZyb20sIHRvKTtcbiAgICB9XG59XG5sZXQgaW5zaWRlID0gKHgsIHksIHJlY3QpID0+IHkgPj0gcmVjdC50b3AgJiYgeSA8PSByZWN0LmJvdHRvbSAmJiB4ID49IHJlY3QubGVmdCAmJiB4IDw9IHJlY3QucmlnaHQ7XG4vLyBUcnkgdG8gZGV0ZXJtaW5lLCBmb3IgdGhlIGdpdmVuIGNvb3JkaW5hdGVzLCBhc3NvY2lhdGVkIHdpdGggdGhlXG4vLyBnaXZlbiBwb3NpdGlvbiwgd2hldGhlciB0aGV5IGFyZSByZWxhdGVkIHRvIHRoZSBlbGVtZW50IGJlZm9yZSBvclxuLy8gdGhlIGVsZW1lbnQgYWZ0ZXIgdGhlIHBvc2l0aW9uLlxuZnVuY3Rpb24gZmluZFBvc2l0aW9uU2lkZSh2aWV3LCBwb3MsIHgsIHkpIHtcbiAgICBsZXQgbGluZSA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBwb3MpO1xuICAgIGlmICghbGluZSlcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgbGV0IG9mZiA9IHBvcyAtIGxpbmUucG9zQXRTdGFydDtcbiAgICAvLyBMaW5lIGJvdW5kYXJpZXMgcG9pbnQgaW50byB0aGUgbGluZVxuICAgIGlmIChvZmYgPT0gMClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKG9mZiA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIC8vIFBvc2l0aW9ucyBvbiB0b3Agb2YgYW4gZWxlbWVudCBwb2ludCBhdCB0aGF0IGVsZW1lbnRcbiAgICBsZXQgYmVmb3JlID0gbGluZS5jb29yZHNBdChvZmYsIC0xKTtcbiAgICBpZiAoYmVmb3JlICYmIGluc2lkZSh4LCB5LCBiZWZvcmUpKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgbGV0IGFmdGVyID0gbGluZS5jb29yZHNBdChvZmYsIDEpO1xuICAgIGlmIChhZnRlciAmJiBpbnNpZGUoeCwgeSwgYWZ0ZXIpKVxuICAgICAgICByZXR1cm4gMTtcbiAgICAvLyBUaGlzIGlzIHByb2JhYmx5IGEgbGluZSB3cmFwIHBvaW50LiBQaWNrIGJlZm9yZSBpZiB0aGUgcG9pbnQgaXNcbiAgICAvLyBhYm92ZSBpdHMgYm90dG9tLlxuICAgIHJldHVybiBiZWZvcmUgJiYgYmVmb3JlLmJvdHRvbSA+PSB5ID8gLTEgOiAxO1xufVxuZnVuY3Rpb24gcXVlcnlQb3ModmlldywgZXZlbnQpIHtcbiAgICBsZXQgcG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIHJldHVybiB7IHBvcywgYmlhczogZmluZFBvc2l0aW9uU2lkZSh2aWV3LCBwb3MsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpIH07XG59XG5jb25zdCBCYWRNb3VzZURldGFpbCA9IGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExO1xubGV0IGxhc3RNb3VzZURvd24gPSBudWxsLCBsYXN0TW91c2VEb3duQ291bnQgPSAwLCBsYXN0TW91c2VEb3duVGltZSA9IDA7XG5mdW5jdGlvbiBnZXRDbGlja1R5cGUoZXZlbnQpIHtcbiAgICBpZiAoIUJhZE1vdXNlRGV0YWlsKVxuICAgICAgICByZXR1cm4gZXZlbnQuZGV0YWlsO1xuICAgIGxldCBsYXN0ID0gbGFzdE1vdXNlRG93biwgbGFzdFRpbWUgPSBsYXN0TW91c2VEb3duVGltZTtcbiAgICBsYXN0TW91c2VEb3duID0gZXZlbnQ7XG4gICAgbGFzdE1vdXNlRG93blRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiBsYXN0TW91c2VEb3duQ291bnQgPSAhbGFzdCB8fCAobGFzdFRpbWUgPiBEYXRlLm5vdygpIC0gNDAwICYmIE1hdGguYWJzKGxhc3QuY2xpZW50WCAtIGV2ZW50LmNsaWVudFgpIDwgMiAmJlxuICAgICAgICBNYXRoLmFicyhsYXN0LmNsaWVudFkgLSBldmVudC5jbGllbnRZKSA8IDIpID8gKGxhc3RNb3VzZURvd25Db3VudCArIDEpICUgMyA6IDE7XG59XG5mdW5jdGlvbiBiYXNpY01vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gcXVlcnlQb3ModmlldywgZXZlbnQpLCB0eXBlID0gZ2V0Q2xpY2tUeXBlKGV2ZW50KTtcbiAgICBsZXQgc3RhcnRTZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBzdGFydC5wb3MgPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3Moc3RhcnQucG9zKTtcbiAgICAgICAgICAgICAgICBzdGFydFNlbCA9IHN0YXJ0U2VsLm1hcCh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldChldmVudCwgZXh0ZW5kLCBtdWx0aXBsZSkge1xuICAgICAgICAgICAgbGV0IGN1ciA9IHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSwgcmVtb3ZlZDtcbiAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlRm9yQ2xpY2sodmlldywgY3VyLnBvcywgY3VyLmJpYXMsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0LnBvcyAhPSBjdXIucG9zICYmICFleHRlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRSYW5nZSA9IHJhbmdlRm9yQ2xpY2sodmlldywgc3RhcnQucG9zLCBzdGFydC5iaWFzLCB0eXBlKTtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWluKHN0YXJ0UmFuZ2UuZnJvbSwgcmFuZ2UuZnJvbSksIHRvID0gTWF0aC5tYXgoc3RhcnRSYW5nZS50bywgcmFuZ2UudG8pO1xuICAgICAgICAgICAgICAgIHJhbmdlID0gZnJvbSA8IHJhbmdlLmZyb20gPyBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgdG8pIDogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRvLCBmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsLnJlcGxhY2VSYW5nZShzdGFydFNlbC5tYWluLmV4dGVuZChyYW5nZS5mcm9tLCByYW5nZS50bykpO1xuICAgICAgICAgICAgZWxzZSBpZiAobXVsdGlwbGUgJiYgdHlwZSA9PSAxICYmIHN0YXJ0U2VsLnJhbmdlcy5sZW5ndGggPiAxICYmIChyZW1vdmVkID0gcmVtb3ZlUmFuZ2VBcm91bmQoc3RhcnRTZWwsIGN1ci5wb3MpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgICAgIGVsc2UgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoW3JhbmdlXSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcmVtb3ZlUmFuZ2VBcm91bmQoc2VsLCBwb3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICAgIGlmIChmcm9tIDw9IHBvcyAmJiB0byA+PSBwb3MpXG4gICAgICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShzZWwucmFuZ2VzLnNsaWNlKDAsIGkpLmNvbmNhdChzZWwucmFuZ2VzLnNsaWNlKGkgKyAxKSksIHNlbC5tYWluSW5kZXggPT0gaSA/IDAgOiBzZWwubWFpbkluZGV4IC0gKHNlbC5tYWluSW5kZXggPiBpID8gMSA6IDApKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5oYW5kbGVycy5kcmFnc3RhcnQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBsZXQgeyBzZWxlY3Rpb246IHsgbWFpbjogcmFuZ2UgfSB9ID0gdmlldy5zdGF0ZTtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmRyYWdnYWJsZSkge1xuICAgICAgICBsZXQgY1ZpZXcgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdChldmVudC50YXJnZXQpO1xuICAgICAgICBpZiAoY1ZpZXcgJiYgY1ZpZXcuaXNXaWRnZXQpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gY1ZpZXcucG9zQXRTdGFydCwgdG8gPSBmcm9tICsgY1ZpZXcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGZyb20gPj0gcmFuZ2UudG8gfHwgdG8gPD0gcmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICByYW5nZSA9IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHsgaW5wdXRTdGF0ZSB9ID0gdmlldztcbiAgICBpZiAoaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgaW5wdXRTdGF0ZS5tb3VzZVNlbGVjdGlvbi5kcmFnZ2luZyA9IHRydWU7XG4gICAgaW5wdXRTdGF0ZS5kcmFnZ2VkQ29udGVudCA9IHJhbmdlO1xuICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIHRleHRGaWx0ZXIodmlldy5zdGF0ZSwgY2xpcGJvYXJkT3V0cHV0RmlsdGVyLCB2aWV3LnN0YXRlLnNsaWNlRG9jKHJhbmdlLmZyb20sIHJhbmdlLnRvKSkpO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmhhbmRsZXJzLmRyYWdlbmQgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUuZHJhZ2dlZENvbnRlbnQgPSBudWxsO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5mdW5jdGlvbiBkcm9wVGV4dCh2aWV3LCBldmVudCwgdGV4dCwgZGlyZWN0KSB7XG4gICAgdGV4dCA9IHRleHRGaWx0ZXIodmlldy5zdGF0ZSwgY2xpcGJvYXJkSW5wdXRGaWx0ZXIsIHRleHQpO1xuICAgIGlmICghdGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkcm9wUG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGxldCB7IGRyYWdnZWRDb250ZW50IH0gPSB2aWV3LmlucHV0U3RhdGU7XG4gICAgbGV0IGRlbCA9IGRpcmVjdCAmJiBkcmFnZ2VkQ29udGVudCAmJiBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgZXZlbnQpXG4gICAgICAgID8geyBmcm9tOiBkcmFnZ2VkQ29udGVudC5mcm9tLCB0bzogZHJhZ2dlZENvbnRlbnQudG8gfSA6IG51bGw7XG4gICAgbGV0IGlucyA9IHsgZnJvbTogZHJvcFBvcywgaW5zZXJ0OiB0ZXh0IH07XG4gICAgbGV0IGNoYW5nZXMgPSB2aWV3LnN0YXRlLmNoYW5nZXMoZGVsID8gW2RlbCwgaW5zXSA6IGlucyk7XG4gICAgdmlldy5mb2N1cygpO1xuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IHsgYW5jaG9yOiBjaGFuZ2VzLm1hcFBvcyhkcm9wUG9zLCAtMSksIGhlYWQ6IGNoYW5nZXMubWFwUG9zKGRyb3BQb3MsIDEpIH0sXG4gICAgICAgIHVzZXJFdmVudDogZGVsID8gXCJtb3ZlLmRyb3BcIiA6IFwiaW5wdXQuZHJvcFwiXG4gICAgfSk7XG4gICAgdmlldy5pbnB1dFN0YXRlLmRyYWdnZWRDb250ZW50ID0gbnVsbDtcbn1cbmhhbmRsZXJzLmRyb3AgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50LmRhdGFUcmFuc2ZlcilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgZmlsZXMgPSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkgeyAvLyBGb3IgYSBmaWxlIGRyb3AsIHJlYWQgdGhlIGZpbGUncyB0ZXh0LlxuICAgICAgICBsZXQgdGV4dCA9IEFycmF5KGZpbGVzLmxlbmd0aCksIHJlYWQgPSAwO1xuICAgICAgICBsZXQgZmluaXNoRmlsZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgrK3JlYWQgPT0gZmlsZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGRyb3BUZXh0KHZpZXcsIGV2ZW50LCB0ZXh0LmZpbHRlcihzID0+IHMgIT0gbnVsbCkuam9pbih2aWV3LnN0YXRlLmxpbmVCcmVhayksIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyO1xuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmaW5pc2hGaWxlO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIS9bXFx4MDAtXFx4MDhcXHgwZS1cXHgxZl17Mn0vLnRlc3QocmVhZGVyLnJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgIHRleHRbaV0gPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgICAgIGZpbmlzaEZpbGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgdGV4dCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIGRyb3BUZXh0KHZpZXcsIGV2ZW50LCB0ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5oYW5kbGVycy5wYXN0ZSA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB2aWV3Lm9ic2VydmVyLmZsdXNoKCk7XG4gICAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBkb1Bhc3RlKHZpZXcsIGRhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikgfHwgZGF0YS5nZXREYXRhKFwidGV4dC91cmktbGlzdFwiKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2FwdHVyZVBhc3RlKHZpZXcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNhcHR1cmVDb3B5KHZpZXcsIHRleHQpIHtcbiAgICAvLyBUaGUgZXh0cmEgd3JhcHBlciBpcyBzb21laG93IG5lY2Vzc2FyeSBvbiBJRS9FZGdlIHRvIHByZXZlbnQgdGhlXG4gICAgLy8gY29udGVudCBmcm9tIGJlaW5nIG1hbmdsZWQgd2hlbiBpdCBpcyBwdXQgb250byB0aGUgY2xpcGJvYXJkXG4gICAgbGV0IHBhcmVudCA9IHZpZXcuZG9tLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgdGFyZ2V0ID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSk7XG4gICAgdGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiO1xuICAgIHRhcmdldC52YWx1ZSA9IHRleHQ7XG4gICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgdGFyZ2V0LnNlbGVjdGlvbkVuZCA9IHRleHQubGVuZ3RoO1xuICAgIHRhcmdldC5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRhcmdldC5yZW1vdmUoKTtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgIH0sIDUwKTtcbn1cbmZ1bmN0aW9uIGNvcGllZFJhbmdlKHN0YXRlKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBbXSwgcmFuZ2VzID0gW10sIGxpbmV3aXNlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcylcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSkge1xuICAgICAgICAgICAgY29udGVudC5wdXNoKHN0YXRlLnNsaWNlRG9jKHJhbmdlLmZyb20sIHJhbmdlLnRvKSk7XG4gICAgICAgICAgICByYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgIH1cbiAgICBpZiAoIWNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIC8vIE5vdGhpbmcgc2VsZWN0ZWQsIGRvIGEgbGluZS13aXNlIGNvcHlcbiAgICAgICAgbGV0IHVwdG8gPSAtMTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tIH0gb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUubnVtYmVyID4gdXB0bykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaChsaW5lLnRleHQpO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogTWF0aC5taW4oc3RhdGUuZG9jLmxlbmd0aCwgbGluZS50byArIDEpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXB0byA9IGxpbmUubnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIGxpbmV3aXNlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdGV4dDogdGV4dEZpbHRlcihzdGF0ZSwgY2xpcGJvYXJkT3V0cHV0RmlsdGVyLCBjb250ZW50LmpvaW4oc3RhdGUubGluZUJyZWFrKSksIHJhbmdlcywgbGluZXdpc2UgfTtcbn1cbmxldCBsYXN0TGluZXdpc2VDb3B5ID0gbnVsbDtcbmhhbmRsZXJzLmNvcHkgPSBoYW5kbGVycy5jdXQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBsZXQgeyB0ZXh0LCByYW5nZXMsIGxpbmV3aXNlIH0gPSBjb3BpZWRSYW5nZSh2aWV3LnN0YXRlKTtcbiAgICBpZiAoIXRleHQgJiYgIWxpbmV3aXNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGFzdExpbmV3aXNlQ29weSA9IGxpbmV3aXNlID8gdGV4dCA6IG51bGw7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjdXRcIiAmJiAhdmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICBjaGFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIHVzZXJFdmVudDogXCJkZWxldGUuY3V0XCJcbiAgICAgICAgfSk7XG4gICAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmNsZWFyRGF0YSgpO1xuICAgICAgICBkYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhcHR1cmVDb3B5KHZpZXcsIHRleHQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmNvbnN0IGlzRm9jdXNDaGFuZ2UgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbmZ1bmN0aW9uIGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24oc3RhdGUsIGZvY3VzKSB7XG4gICAgbGV0IGVmZmVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBnZXRFZmZlY3Qgb2Ygc3RhdGUuZmFjZXQoZm9jdXNDaGFuZ2VFZmZlY3QpKSB7XG4gICAgICAgIGxldCBlZmZlY3QgPSBnZXRFZmZlY3Qoc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgaWYgKGVmZmVjdClcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cbiAgICByZXR1cm4gZWZmZWN0cy5sZW5ndGggPyBzdGF0ZS51cGRhdGUoeyBlZmZlY3RzLCBhbm5vdGF0aW9uczogaXNGb2N1c0NoYW5nZS5vZih0cnVlKSB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiB1cGRhdGVGb3JGb2N1c0NoYW5nZSh2aWV3KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCBmb2N1cyA9IHZpZXcuaGFzRm9jdXM7XG4gICAgICAgIGlmIChmb2N1cyAhPSB2aWV3LmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkKSB7XG4gICAgICAgICAgICBsZXQgdHIgPSBmb2N1c0NoYW5nZVRyYW5zYWN0aW9uKHZpZXcuc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgICAgIGlmICh0cilcbiAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB2aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgIH1cbiAgICB9LCAxMCk7XG59XG5vYnNlcnZlcnMuZm9jdXMgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA9IERhdGUubm93KCk7XG4gICAgLy8gV2hlbiBmb2N1c2luZyByZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBtb3ZlIGl0IGJhY2sgdG8gd2hlcmUgaXQgd2FzXG4gICAgaWYgKCF2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgJiYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsVG9wIHx8IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsTGVmdCkpIHtcbiAgICAgICAgdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxUb3A7XG4gICAgICAgIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgPSB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbExlZnQ7XG4gICAgfVxuICAgIHVwZGF0ZUZvckZvY3VzQ2hhbmdlKHZpZXcpO1xufTtcbm9ic2VydmVycy5ibHVyID0gdmlldyA9PiB7XG4gICAgdmlldy5vYnNlcnZlci5jbGVhclNlbGVjdGlvblJhbmdlKCk7XG4gICAgdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldyk7XG59O1xub2JzZXJ2ZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSBvYnNlcnZlcnMuY29tcG9zaXRpb251cGRhdGUgPSB2aWV3ID0+IHtcbiAgICBpZiAodmlldy5vYnNlcnZlci5lZGl0Q29udGV4dClcbiAgICAgICAgcmV0dXJuOyAvLyBDb21wb3NpdGlvbiBoYW5kbGVkIGJ5IGVkaXQgY29udGV4dFxuICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9PSBudWxsKVxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IHRydWU7XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPCAwKSB7XG4gICAgICAgIC8vIEZJWE1FIHBvc3NpYmx5IHNldCBhIHRpbWVvdXQgdG8gY2xlYXIgaXQgYWdhaW4gb24gQW5kcm9pZFxuICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID0gMDtcbiAgICB9XG59O1xub2JzZXJ2ZXJzLmNvbXBvc2l0aW9uZW5kID0gdmlldyA9PiB7XG4gICAgaWYgKHZpZXcub2JzZXJ2ZXIuZWRpdENvbnRleHQpXG4gICAgICAgIHJldHVybjsgLy8gQ29tcG9zaXRpb24gaGFuZGxlZCBieSBlZGl0IGNvbnRleHRcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID0gLTE7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRW5kZWRBdCA9IERhdGUubm93KCk7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uUGVuZGluZ0tleSA9IHRydWU7XG4gICAgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uUGVuZGluZ0NoYW5nZSA9IHZpZXcub2JzZXJ2ZXIucGVuZGluZ1JlY29yZHMoKS5sZW5ndGggPiAwO1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gbnVsbDtcbiAgICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5hbmRyb2lkKSB7XG4gICAgICAgIC8vIERlbGF5IGZsdXNoaW5nIGZvciBhIGJpdCBvbiBBbmRyb2lkIGJlY2F1c2UgaXQnbGwgb2Z0ZW4gZmlyZSBhXG4gICAgICAgIC8vIGJ1bmNoIG9mIGNvbnRyYWRpY3RvcnkgY2hhbmdlcyBpbiBhIHJvdyBhdCBlbmQgb2YgY29tcG9zaXRvblxuICAgICAgICB2aWV3Lm9ic2VydmVyLmZsdXNoU29vbigpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25QZW5kaW5nQ2hhbmdlKSB7XG4gICAgICAgIC8vIElmIHdlIGZvdW5kIHBlbmRpbmcgcmVjb3Jkcywgc2NoZWR1bGUgYSBmbHVzaC5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB2aWV3Lm9ic2VydmVyLmZsdXNoKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBtYWtlIHN1cmUgdGhhdCwgaWYgbm8gY2hhbmdlcyBjb21lIGluIHNvb24sIHRoZVxuICAgICAgICAvLyBjb21wb3NpdGlvbiB2aWV3IGlzIGNsZWFyZWQuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPCAwICYmIHZpZXcuZG9jVmlldy5oYXNDb21wb3NpdGlvbilcbiAgICAgICAgICAgICAgICB2aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG59O1xub2JzZXJ2ZXJzLmNvbnRleHRtZW51ID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RDb250ZXh0TWVudSA9IERhdGUubm93KCk7XG59O1xuaGFuZGxlcnMuYmVmb3JlaW5wdXQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIC8vIEluIEVkaXRDb250ZXh0IG1vZGUsIHdlIG11c3QgaGFuZGxlIGluc2VydFJlcGxhY2VtZW50VGV4dCBldmVudHNcbiAgICAvLyBkaXJlY3RseSwgdG8gbWFrZSBzcGVsbCBjaGVja2luZyBjb3JyZWN0aW9ucyB3b3JrXG4gICAgaWYgKGV2ZW50LmlucHV0VHlwZSA9PSBcImluc2VydFJlcGxhY2VtZW50VGV4dFwiICYmIHZpZXcub2JzZXJ2ZXIuZWRpdENvbnRleHQpIHtcbiAgICAgICAgbGV0IHRleHQgPSAoX2EgPSBldmVudC5kYXRhVHJhbnNmZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSwgcmFuZ2VzID0gZXZlbnQuZ2V0VGFyZ2V0UmFuZ2VzKCk7XG4gICAgICAgIGlmICh0ZXh0ICYmIHJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByID0gcmFuZ2VzWzBdO1xuICAgICAgICAgICAgbGV0IGZyb20gPSB2aWV3LnBvc0F0RE9NKHIuc3RhcnRDb250YWluZXIsIHIuc3RhcnRPZmZzZXQpLCB0byA9IHZpZXcucG9zQXRET00oci5lbmRDb250YWluZXIsIHIuZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgIGFwcGx5RE9NQ2hhbmdlSW5uZXIodmlldywgeyBmcm9tLCB0bywgaW5zZXJ0OiB2aWV3LnN0YXRlLnRvVGV4dCh0ZXh0KSB9LCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEJlY2F1c2UgQ2hyb21lIEFuZHJvaWQgZG9lc24ndCBmaXJlIHVzZWZ1bCBrZXkgZXZlbnRzLCB1c2VcbiAgICAvLyBiZWZvcmVpbnB1dCB0byBkZXRlY3QgYmFja3NwYWNlIChhbmQgcG9zc2libHkgZW50ZXIgYW5kIGRlbGV0ZSxcbiAgICAvLyBidXQgdGhvc2UgdXN1YWxseSBkb24ndCBldmVuIHNlZW0gdG8gZmlyZSBiZWZvcmVpbnB1dCBldmVudHMgYXRcbiAgICAvLyB0aGUgbW9tZW50KSBhbmQgZmFrZSBhIGtleSBldmVudCBmb3IgaXQuXG4gICAgLy9cbiAgICAvLyAocHJldmVudERlZmF1bHQgb24gYmVmb3JlaW5wdXQsIHRob3VnaCBzdXBwb3J0ZWQgaW4gdGhlIHNwZWMsXG4gICAgLy8gc2VlbXMgdG8gZG8gbm90aGluZyBhdCBhbGwgb24gQ2hyb21lKS5cbiAgICBsZXQgcGVuZGluZztcbiAgICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5hbmRyb2lkICYmIChwZW5kaW5nID0gUGVuZGluZ0tleXMuZmluZChrZXkgPT4ga2V5LmlucHV0VHlwZSA9PSBldmVudC5pbnB1dFR5cGUpKSkge1xuICAgICAgICB2aWV3Lm9ic2VydmVyLmRlbGF5QW5kcm9pZEtleShwZW5kaW5nLmtleSwgcGVuZGluZy5rZXlDb2RlKTtcbiAgICAgICAgaWYgKHBlbmRpbmcua2V5ID09IFwiQmFja3NwYWNlXCIgfHwgcGVuZGluZy5rZXkgPT0gXCJEZWxldGVcIikge1xuICAgICAgICAgICAgbGV0IHN0YXJ0Vmlld0hlaWdodCA9ICgoX2IgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oZWlnaHQpIHx8IDA7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy8gQmFja3NwYWNpbmcgbmVhciB1bmVkaXRhYmxlIG5vZGVzIG9uIENocm9tZSBBbmRyb2lkIHNvbWV0aW1lc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlcyB0aGUgdmlydHVhbCBrZXlib2FyZC4gVGhpcyB0cmllcyB0byBjcnVkZWx5IGRldGVjdFxuICAgICAgICAgICAgICAgIC8vIHRoYXQgYW5kIHJlZm9jdXMgdG8gZ2V0IGl0IGJhY2suXG4gICAgICAgICAgICAgICAgaWYgKCgoKF9hID0gd2luZG93LnZpc3VhbFZpZXdwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVpZ2h0KSB8fCAwKSA+IHN0YXJ0Vmlld0hlaWdodCArIDEwICYmIHZpZXcuaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJyb3dzZXIuaW9zICYmIGV2ZW50LmlucHV0VHlwZSA9PSBcImRlbGV0ZUNvbnRlbnRGb3J3YXJkXCIpIHtcbiAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uLCBET00gY2hhbmdlcyAoYW5kIGJlZm9yZWlucHV0KSBoYXBwZW4gX2JlZm9yZV9cbiAgICAgICAgLy8gdGhlIGtleSBldmVudCBmb3IgY3RybC1kIG9uIGlPUyB3aGVuIHVzaW5nIGFuIGV4dGVybmFsXG4gICAgICAgIC8vIGtleWJvYXJkLlxuICAgICAgICB2aWV3Lm9ic2VydmVyLmZsdXNoU29vbigpO1xuICAgIH1cbiAgICAvLyBTYWZhcmkgd2lsbCBvY2Nhc2lvbmFsbHkgZm9yZ2V0IHRvIGZpcmUgY29tcG9zaXRpb25lbmQgYXQgdGhlIGVuZCBvZiBhIGRlYWQta2V5IGNvbXBvc2l0aW9uXG4gICAgaWYgKGJyb3dzZXIuc2FmYXJpICYmIGV2ZW50LmlucHV0VHlwZSA9PSBcImluc2VydFRleHRcIiAmJiB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDApIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBvYnNlcnZlcnMuY29tcG9zaXRpb25lbmQodmlldywgZXZlbnQpLCAyMCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhcHBsaWVkRmlyZWZveEhhY2sgPSAvKkBfX1BVUkVfXyovbmV3IFNldDtcbi8vIEluIEZpcmVmb3gsIHdoZW4gY3V0L2NvcHkgaGFuZGxlcnMgYXJlIGFkZGVkIHRvIHRoZSBkb2N1bWVudCwgdGhhdFxuLy8gc29tZWhvdyBhdm9pZHMgYSBidWcgd2hlcmUgdGhvc2UgZXZlbnRzIGFyZW4ndCBmaXJlZCB3aGVuIHRoZVxuLy8gc2VsZWN0aW9uIGlzIGVtcHR5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy8xMDgyXG4vLyBhbmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTk1OTYxXG5mdW5jdGlvbiBmaXJlZm94Q29weUN1dEhhY2soZG9jKSB7XG4gICAgaWYgKCFhcHBsaWVkRmlyZWZveEhhY2suaGFzKGRvYykpIHtcbiAgICAgICAgYXBwbGllZEZpcmVmb3hIYWNrLmFkZChkb2MpO1xuICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImNvcHlcIiwgKCkgPT4geyB9KTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJjdXRcIiwgKCkgPT4geyB9KTtcbiAgICB9XG59XG5cbmNvbnN0IHdyYXBwaW5nV2hpdGVTcGFjZSA9IFtcInByZS13cmFwXCIsIFwibm9ybWFsXCIsIFwicHJlLWxpbmVcIiwgXCJicmVhay1zcGFjZXNcIl07XG4vLyBVc2VkIHRvIHRyYWNrLCBkdXJpbmcgdXBkYXRlSGVpZ2h0LCBpZiBhbnkgYWN0dWFsIGhlaWdodHMgY2hhbmdlZFxubGV0IGhlaWdodENoYW5nZUZsYWcgPSBmYWxzZTtcbmZ1bmN0aW9uIGNsZWFySGVpZ2h0Q2hhbmdlRmxhZygpIHsgaGVpZ2h0Q2hhbmdlRmxhZyA9IGZhbHNlOyB9XG5jbGFzcyBIZWlnaHRPcmFjbGUge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVXcmFwcGluZykge1xuICAgICAgICB0aGlzLmxpbmVXcmFwcGluZyA9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5kb2MgPSBUZXh0LmVtcHR5O1xuICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gMTQ7IC8vIFRoZSBoZWlnaHQgb2YgYW4gZW50aXJlIGxpbmUgKGxpbmUtaGVpZ2h0KVxuICAgICAgICB0aGlzLmNoYXJXaWR0aCA9IDc7XG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IDE0OyAvLyBUaGUgaGVpZ2h0IG9mIHRoZSBhY3R1YWwgZm9udCAoZm9udC1zaXplKVxuICAgICAgICB0aGlzLmxpbmVMZW5ndGggPSAzMDtcbiAgICB9XG4gICAgaGVpZ2h0Rm9yR2FwKGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHRoaXMuZG9jLmxpbmVBdCh0bykubnVtYmVyIC0gdGhpcy5kb2MubGluZUF0KGZyb20pLm51bWJlciArIDE7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgIGxpbmVzICs9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoKHRvIC0gZnJvbSkgLSAobGluZXMgKiB0aGlzLmxpbmVMZW5ndGggKiAwLjUpKSAvIHRoaXMubGluZUxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lSGVpZ2h0ICogbGluZXM7XG4gICAgfVxuICAgIGhlaWdodEZvckxpbmUobGVuZ3RoKSB7XG4gICAgICAgIGlmICghdGhpcy5saW5lV3JhcHBpbmcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICBsZXQgbGluZXMgPSAxICsgTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChsZW5ndGggLSB0aGlzLmxpbmVMZW5ndGgpIC8gKHRoaXMubGluZUxlbmd0aCAtIDUpKSk7XG4gICAgICAgIHJldHVybiBsaW5lcyAqIHRoaXMubGluZUhlaWdodDtcbiAgICB9XG4gICAgc2V0RG9jKGRvYykgeyB0aGlzLmRvYyA9IGRvYzsgcmV0dXJuIHRoaXM7IH1cbiAgICBtdXN0UmVmcmVzaEZvcldyYXBwaW5nKHdoaXRlU3BhY2UpIHtcbiAgICAgICAgcmV0dXJuICh3cmFwcGluZ1doaXRlU3BhY2UuaW5kZXhPZih3aGl0ZVNwYWNlKSA+IC0xKSAhPSB0aGlzLmxpbmVXcmFwcGluZztcbiAgICB9XG4gICAgbXVzdFJlZnJlc2hGb3JIZWlnaHRzKGxpbmVIZWlnaHRzKSB7XG4gICAgICAgIGxldCBuZXdIZWlnaHQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lSGVpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGggPSBsaW5lSGVpZ2h0c1tpXTtcbiAgICAgICAgICAgIGlmIChoIDwgMCkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmhlaWdodFNhbXBsZXNbTWF0aC5mbG9vcihoICogMTApXSkgeyAvLyBSb3VuZCB0byAuMSBwaXhlbHNcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0U2FtcGxlc1tNYXRoLmZsb29yKGggKiAxMCldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3SGVpZ2h0O1xuICAgIH1cbiAgICByZWZyZXNoKHdoaXRlU3BhY2UsIGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodCwgbGluZUxlbmd0aCwga25vd25IZWlnaHRzKSB7XG4gICAgICAgIGxldCBsaW5lV3JhcHBpbmcgPSB3cmFwcGluZ1doaXRlU3BhY2UuaW5kZXhPZih3aGl0ZVNwYWNlKSA+IC0xO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IE1hdGgucm91bmQobGluZUhlaWdodCkgIT0gTWF0aC5yb3VuZCh0aGlzLmxpbmVIZWlnaHQpIHx8IHRoaXMubGluZVdyYXBwaW5nICE9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5saW5lV3JhcHBpbmcgPSBsaW5lV3JhcHBpbmc7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2hhcldpZHRoID0gY2hhcldpZHRoO1xuICAgICAgICB0aGlzLnRleHRIZWlnaHQgPSB0ZXh0SGVpZ2h0O1xuICAgICAgICB0aGlzLmxpbmVMZW5ndGggPSBsaW5lTGVuZ3RoO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtub3duSGVpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBoID0ga25vd25IZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChoIDwgMClcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzW01hdGguZmxvb3IoaCAqIDEwKV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbn1cbi8vIFRoaXMgb2JqZWN0IGlzIHVzZWQgYnkgYHVwZGF0ZUhlaWdodGAgdG8gbWFrZSBET00gbWVhc3VyZW1lbnRzXG4vLyBhcnJpdmUgYXQgdGhlIHJpZ2h0IG5pZGVzLiBUaGUgYGhlaWdodHNgIGFycmF5IGlzIGEgc2VxdWVuY2Ugb2Zcbi8vIGJsb2NrIGhlaWdodHMsIHN0YXJ0aW5nIGZyb20gcG9zaXRpb24gYGZyb21gLlxuY2xhc3MgTWVhc3VyZWRIZWlnaHRzIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCBoZWlnaHRzKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMuaGVpZ2h0cyA9IGhlaWdodHM7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICBnZXQgbW9yZSgpIHsgcmV0dXJuIHRoaXMuaW5kZXggPCB0aGlzLmhlaWdodHMubGVuZ3RoOyB9XG59XG4vKipcblJlY29yZCB1c2VkIHRvIHJlcHJlc2VudCBpbmZvcm1hdGlvbiBhYm91dCBhIGJsb2NrLWxldmVsIGVsZW1lbnRcbmluIHRoZSBlZGl0b3Igdmlldy5cbiovXG5jbGFzcyBCbG9ja0luZm8ge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHN0YXJ0IG9mIHRoZSBlbGVtZW50IGluIHRoZSBkb2N1bWVudC5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGVsZW1lbnQuXG4gICAgKi9cbiAgICBsZW5ndGgsIFxuICAgIC8qKlxuICAgIFRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnQpLlxuICAgICovXG4gICAgdG9wLCBcbiAgICAvKipcbiAgICBJdHMgaGVpZ2h0LlxuICAgICovXG4gICAgaGVpZ2h0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWwgV2VpcmQgcGFja2VkIGZpZWxkIHRoYXQgaG9sZHMgYW4gYXJyYXkgb2YgY2hpbGRyZW5cbiAgICBmb3IgY29tcG9zaXRlIGJsb2NrcywgYSBkZWNvcmF0aW9uIGZvciBibG9jayB3aWRnZXRzLCBhbmQgYVxuICAgIG51bWJlciBpbmRpY2F0aW5nIHRoZSBhbW91bnQgb2Ygd2lkZ2V0LWNyZWF0ZSBsaW5lIGJyZWFrcyBmb3JcbiAgICB0ZXh0IGJsb2Nrcy5cbiAgICAqL1xuICAgIF9jb250ZW50KSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBfY29udGVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIHR5cGUgb2YgZWxlbWVudCB0aGlzIGlzLiBXaGVuIHF1ZXJ5aW5nIGxpbmVzLCB0aGlzIG1heSBiZVxuICAgIGFuIGFycmF5IG9mIGFsbCB0aGUgYmxvY2tzIHRoYXQgbWFrZSB1cCB0aGUgbGluZS5cbiAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX2NvbnRlbnQgPT0gXCJudW1iZXJcIiA/IEJsb2NrVHlwZS5UZXh0IDpcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5fY29udGVudCkgPyB0aGlzLl9jb250ZW50IDogdGhpcy5fY29udGVudC50eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZW5kIG9mIHRoZSBlbGVtZW50IGFzIGEgZG9jdW1lbnQgcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgdG8oKSB7IHJldHVybiB0aGlzLmZyb20gKyB0aGlzLmxlbmd0aDsgfVxuICAgIC8qKlxuICAgIFRoZSBib3R0b20gcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAgKi9cbiAgICBnZXQgYm90dG9tKCkgeyByZXR1cm4gdGhpcy50b3AgKyB0aGlzLmhlaWdodDsgfVxuICAgIC8qKlxuICAgIElmIHRoaXMgaXMgYSB3aWRnZXQgYmxvY2ssIHRoaXMgd2lsbCByZXR1cm4gdGhlIHdpZGdldFxuICAgIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAqL1xuICAgIGdldCB3aWRnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50IGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uID8gdGhpcy5fY29udGVudC53aWRnZXQgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBJZiB0aGlzIGlzIGEgdGV4dGJsb2NrLCB0aGlzIGhvbGRzIHRoZSBudW1iZXIgb2YgbGluZSBicmVha3NcbiAgICB0aGF0IGFwcGVhciBpbiB3aWRnZXRzIGluc2lkZSB0aGUgYmxvY2suXG4gICAgKi9cbiAgICBnZXQgd2lkZ2V0TGluZUJyZWFrcygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9jb250ZW50ID09IFwibnVtYmVyXCIgPyB0aGlzLl9jb250ZW50IDogMDtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBqb2luKG90aGVyKSB7XG4gICAgICAgIGxldCBjb250ZW50ID0gKEFycmF5LmlzQXJyYXkodGhpcy5fY29udGVudCkgPyB0aGlzLl9jb250ZW50IDogW3RoaXNdKVxuICAgICAgICAgICAgLmNvbmNhdChBcnJheS5pc0FycmF5KG90aGVyLl9jb250ZW50KSA/IG90aGVyLl9jb250ZW50IDogW290aGVyXSk7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKHRoaXMuZnJvbSwgdGhpcy5sZW5ndGggKyBvdGhlci5sZW5ndGgsIHRoaXMudG9wLCB0aGlzLmhlaWdodCArIG90aGVyLmhlaWdodCwgY29udGVudCk7XG4gICAgfVxufVxudmFyIFF1ZXJ5VHlwZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFF1ZXJ5VHlwZSkge1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeVBvc1wiXSA9IDBdID0gXCJCeVBvc1wiO1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeUhlaWdodFwiXSA9IDFdID0gXCJCeUhlaWdodFwiO1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeVBvc05vSGVpZ2h0XCJdID0gMl0gPSBcIkJ5UG9zTm9IZWlnaHRcIjtcbnJldHVybiBRdWVyeVR5cGV9KShRdWVyeVR5cGUgfHwgKFF1ZXJ5VHlwZSA9IHt9KSk7XG5jb25zdCBFcHNpbG9uID0gMWUtMztcbmNsYXNzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCAvLyBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY292ZXJlZFxuICAgIGhlaWdodCwgLy8gSGVpZ2h0IG9mIHRoaXMgcGFydCBvZiB0aGUgZG9jdW1lbnRcbiAgICBmbGFncyA9IDIgLyogRmxhZy5PdXRkYXRlZCAqLykge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgZ2V0IG91dGRhdGVkKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyIC8qIEZsYWcuT3V0ZGF0ZWQgKi8pID4gMDsgfVxuICAgIHNldCBvdXRkYXRlZCh2YWx1ZSkgeyB0aGlzLmZsYWdzID0gKHZhbHVlID8gMiAvKiBGbGFnLk91dGRhdGVkICovIDogMCkgfCAodGhpcy5mbGFncyAmIH4yIC8qIEZsYWcuT3V0ZGF0ZWQgKi8pOyB9XG4gICAgc2V0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5oZWlnaHQgLSBoZWlnaHQpID4gRXBzaWxvbilcbiAgICAgICAgICAgICAgICBoZWlnaHRDaGFuZ2VGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEJhc2UgY2FzZSBpcyB0byByZXBsYWNlIGEgbGVhZiBub2RlLCB3aGljaCBzaW1wbHkgYnVpbGRzIGEgdHJlZVxuICAgIC8vIGZyb20gdGhlIG5ldyBub2RlcyBhbmQgcmV0dXJucyB0aGF0IChIZWlnaHRNYXBCcmFuY2ggYW5kXG4gICAgLy8gSGVpZ2h0TWFwR2FwIG92ZXJyaWRlIHRoaXMgdG8gYWN0dWFsbHkgdXNlIGZyb20vdG8pXG4gICAgcmVwbGFjZShfZnJvbSwgX3RvLCBub2Rlcykge1xuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICB9XG4gICAgLy8gQWdhaW4sIHRoZXNlIGFyZSBiYXNlIGNhc2VzLCBhbmQgYXJlIG92ZXJyaWRkZW4gZm9yIGJyYW5jaCBhbmQgZ2FwIG5vZGVzLlxuICAgIGRlY29tcG9zZUxlZnQoX3RvLCByZXN1bHQpIHsgcmVzdWx0LnB1c2godGhpcyk7IH1cbiAgICBkZWNvbXBvc2VSaWdodChfZnJvbSwgcmVzdWx0KSB7IHJlc3VsdC5wdXNoKHRoaXMpOyB9XG4gICAgYXBwbHlDaGFuZ2VzKGRlY29yYXRpb25zLCBvbGREb2MsIG9yYWNsZSwgY2hhbmdlcykge1xuICAgICAgICBsZXQgbWUgPSB0aGlzLCBkb2MgPSBvcmFjbGUuZG9jO1xuICAgICAgICBmb3IgKGxldCBpID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHsgZnJvbUEsIHRvQSwgZnJvbUIsIHRvQiB9ID0gY2hhbmdlc1tpXTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG1lLmxpbmVBdChmcm9tQSwgUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQsIG9yYWNsZS5zZXREb2Mob2xkRG9jKSwgMCwgMCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gc3RhcnQudG8gPj0gdG9BID8gc3RhcnQgOiBtZS5saW5lQXQodG9BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb3JhY2xlLCAwLCAwKTtcbiAgICAgICAgICAgIHRvQiArPSBlbmQudG8gLSB0b0E7XG4gICAgICAgICAgICB0b0EgPSBlbmQudG87XG4gICAgICAgICAgICB3aGlsZSAoaSA+IDAgJiYgc3RhcnQuZnJvbSA8PSBjaGFuZ2VzW2kgLSAxXS50b0EpIHtcbiAgICAgICAgICAgICAgICBmcm9tQSA9IGNoYW5nZXNbaSAtIDFdLmZyb21BO1xuICAgICAgICAgICAgICAgIGZyb21CID0gY2hhbmdlc1tpIC0gMV0uZnJvbUI7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQSA8IHN0YXJ0LmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbWUubGluZUF0KGZyb21BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb3JhY2xlLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb21CICs9IHN0YXJ0LmZyb20gLSBmcm9tQTtcbiAgICAgICAgICAgIGZyb21BID0gc3RhcnQuZnJvbTtcbiAgICAgICAgICAgIGxldCBub2RlcyA9IE5vZGVCdWlsZGVyLmJ1aWxkKG9yYWNsZS5zZXREb2MoZG9jKSwgZGVjb3JhdGlvbnMsIGZyb21CLCB0b0IpO1xuICAgICAgICAgICAgbWUgPSByZXBsYWNlKG1lLCBtZS5yZXBsYWNlKGZyb21BLCB0b0EsIG5vZGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lLnVwZGF0ZUhlaWdodChvcmFjbGUsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHkoKSB7IHJldHVybiBuZXcgSGVpZ2h0TWFwVGV4dCgwLCAwKTsgfVxuICAgIC8vIG5vZGVzIHVzZXMgbnVsbCB2YWx1ZXMgdG8gaW5kaWNhdGUgdGhlIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzLlxuICAgIC8vIFRoZXJlIGFyZSBuZXZlciBsaW5lIGJyZWFrcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBhcnJheSwgb3JcbiAgICAvLyB0d28gbGluZSBicmVha3MgbmV4dCB0byBlYWNoIG90aGVyLCBhbmQgdGhlIGFycmF5IGlzbid0IGFsbG93ZWRcbiAgICAvLyB0byBiZSBlbXB0eSAoc2FtZSByZXN0cmljdGlvbnMgYXMgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGJ1aWxkZXIpLlxuICAgIHN0YXRpYyBvZihub2Rlcykge1xuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09IDEpXG4gICAgICAgICAgICByZXR1cm4gbm9kZXNbMF07XG4gICAgICAgIGxldCBpID0gMCwgaiA9IG5vZGVzLmxlbmd0aCwgYmVmb3JlID0gMCwgYWZ0ZXIgPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAoaSA9PSBqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSA+IGFmdGVyICogMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBub2Rlc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdC5icmVhaylcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzLnNwbGljZSgtLWksIDEsIHNwbGl0LmxlZnQsIG51bGwsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKC0taSwgMSwgc3BsaXQubGVmdCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBqICs9IDEgKyBzcGxpdC5icmVhaztcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlIC09IHNwbGl0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFmdGVyID4gYmVmb3JlICogMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBub2Rlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0LmJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGosIDEsIHNwbGl0LmxlZnQsIG51bGwsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGosIDEsIHNwbGl0LmxlZnQsIHNwbGl0LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaiArPSAyICsgc3BsaXQuYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyIC09IHNwbGl0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiZWZvcmUgPCBhZnRlcikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gbm9kZXNbaSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlICs9IG5leHQuc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gbm9kZXNbLS1qXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgKz0gbmV4dC5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBicmsgPSAwO1xuICAgICAgICBpZiAobm9kZXNbaSAtIDFdID09IG51bGwpIHtcbiAgICAgICAgICAgIGJyayA9IDE7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZXNbaV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYnJrID0gMTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhlaWdodE1hcEJyYW5jaChIZWlnaHRNYXAub2Yobm9kZXMuc2xpY2UoMCwgaSkpLCBicmssIEhlaWdodE1hcC5vZihub2Rlcy5zbGljZShqKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlcGxhY2Uob2xkLCB2YWwpIHtcbiAgICBpZiAob2xkID09IHZhbClcbiAgICAgICAgcmV0dXJuIG9sZDtcbiAgICBpZiAob2xkLmNvbnN0cnVjdG9yICE9IHZhbC5jb25zdHJ1Y3RvcilcbiAgICAgICAgaGVpZ2h0Q2hhbmdlRmxhZyA9IHRydWU7XG4gICAgcmV0dXJuIHZhbDtcbn1cbkhlaWdodE1hcC5wcm90b3R5cGUuc2l6ZSA9IDE7XG5jbGFzcyBIZWlnaHRNYXBCbG9jayBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBoZWlnaHQsIGRlY28pIHtcbiAgICAgICAgc3VwZXIobGVuZ3RoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmRlY28gPSBkZWNvO1xuICAgIH1cbiAgICBibG9ja0F0KF9oZWlnaHQsIF9vcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKG9mZnNldCwgdGhpcy5sZW5ndGgsIHRvcCwgdGhpcy5oZWlnaHQsIHRoaXMuZGVjbyB8fCAwKTtcbiAgICB9XG4gICAgbGluZUF0KF92YWx1ZSwgX3R5cGUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tBdCgwLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgaWYgKGZyb20gPD0gb2Zmc2V0ICsgdGhpcy5sZW5ndGggJiYgdG8gPj0gb2Zmc2V0KVxuICAgICAgICAgICAgZih0aGlzLmJsb2NrQXQoMCwgb3JhY2xlLCB0b3AsIG9mZnNldCkpO1xuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBfZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChtZWFzdXJlZC5oZWlnaHRzW21lYXN1cmVkLmluZGV4KytdKTtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiBgYmxvY2soJHt0aGlzLmxlbmd0aH0pYDsgfVxufVxuY2xhc3MgSGVpZ2h0TWFwVGV4dCBleHRlbmRzIEhlaWdodE1hcEJsb2NrIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcihsZW5ndGgsIGhlaWdodCwgbnVsbCk7XG4gICAgICAgIHRoaXMuY29sbGFwc2VkID0gMDsgLy8gQW1vdW50IG9mIGNvbGxhcHNlZCBjb250ZW50IGluIHRoZSBsaW5lXG4gICAgICAgIHRoaXMud2lkZ2V0SGVpZ2h0ID0gMDsgLy8gTWF4aW11bSBpbmxpbmUgd2lkZ2V0IGhlaWdodFxuICAgICAgICB0aGlzLmJyZWFrcyA9IDA7IC8vIE51bWJlciBvZiB3aWRnZXQtaW50cm9kdWNlZCBsaW5lIGJyZWFrcyBvbiB0aGUgbGluZVxuICAgIH1cbiAgICBibG9ja0F0KF9oZWlnaHQsIF9vcmFjbGUsIHRvcCwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKG9mZnNldCwgdGhpcy5sZW5ndGgsIHRvcCwgdGhpcy5oZWlnaHQsIHRoaXMuYnJlYWtzKTtcbiAgICB9XG4gICAgcmVwbGFjZShfZnJvbSwgX3RvLCBub2Rlcykge1xuICAgICAgICBsZXQgbm9kZSA9IG5vZGVzWzBdO1xuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID09IDEgJiYgKG5vZGUgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0IHx8IG5vZGUgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXAgJiYgKG5vZGUuZmxhZ3MgJiA0IC8qIEZsYWcuU2luZ2xlTGluZSAqLykpICYmXG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmxlbmd0aCAtIG5vZGUubGVuZ3RoKSA8IDEwKSB7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcClcbiAgICAgICAgICAgICAgICBub2RlID0gbmV3IEhlaWdodE1hcFRleHQobm9kZS5sZW5ndGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBub2RlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCF0aGlzLm91dGRhdGVkKVxuICAgICAgICAgICAgICAgIG5vZGUub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEhlaWdodE1hcC5vZihub2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChtZWFzdXJlZC5oZWlnaHRzW21lYXN1cmVkLmluZGV4KytdKTtcbiAgICAgICAgZWxzZSBpZiAoZm9yY2UgfHwgdGhpcy5vdXRkYXRlZClcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KE1hdGgubWF4KHRoaXMud2lkZ2V0SGVpZ2h0LCBvcmFjbGUuaGVpZ2h0Rm9yTGluZSh0aGlzLmxlbmd0aCAtIHRoaXMuY29sbGFwc2VkKSkgK1xuICAgICAgICAgICAgICAgIHRoaXMuYnJlYWtzICogb3JhY2xlLmxpbmVIZWlnaHQpO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBsaW5lKCR7dGhpcy5sZW5ndGh9JHt0aGlzLmNvbGxhcHNlZCA/IC10aGlzLmNvbGxhcHNlZCA6IFwiXCJ9JHt0aGlzLndpZGdldEhlaWdodCA/IFwiOlwiICsgdGhpcy53aWRnZXRIZWlnaHQgOiBcIlwifSlgO1xuICAgIH1cbn1cbmNsYXNzIEhlaWdodE1hcEdhcCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoKSB7IHN1cGVyKGxlbmd0aCwgMCk7IH1cbiAgICBoZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBmaXJzdExpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChvZmZzZXQpLm51bWJlciwgbGFzdExpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChvZmZzZXQgKyB0aGlzLmxlbmd0aCkubnVtYmVyO1xuICAgICAgICBsZXQgbGluZXMgPSBsYXN0TGluZSAtIGZpcnN0TGluZSArIDE7XG4gICAgICAgIGxldCBwZXJMaW5lLCBwZXJDaGFyID0gMDtcbiAgICAgICAgaWYgKG9yYWNsZS5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbFBlckxpbmUgPSBNYXRoLm1pbih0aGlzLmhlaWdodCwgb3JhY2xlLmxpbmVIZWlnaHQgKiBsaW5lcyk7XG4gICAgICAgICAgICBwZXJMaW5lID0gdG90YWxQZXJMaW5lIC8gbGluZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPiBsaW5lcyArIDEpXG4gICAgICAgICAgICAgICAgcGVyQ2hhciA9ICh0aGlzLmhlaWdodCAtIHRvdGFsUGVyTGluZSkgLyAodGhpcy5sZW5ndGggLSBsaW5lcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGVyTGluZSA9IHRoaXMuaGVpZ2h0IC8gbGluZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZmlyc3RMaW5lLCBsYXN0TGluZSwgcGVyTGluZSwgcGVyQ2hhciB9O1xuICAgIH1cbiAgICBibG9ja0F0KGhlaWdodCwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgeyBmaXJzdExpbmUsIGxhc3RMaW5lLCBwZXJMaW5lLCBwZXJDaGFyIH0gPSB0aGlzLmhlaWdodE1ldHJpY3Mob3JhY2xlLCBvZmZzZXQpO1xuICAgICAgICBpZiAob3JhY2xlLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgbGV0IGd1ZXNzID0gb2Zmc2V0ICsgKGhlaWdodCA8IG9yYWNsZS5saW5lSGVpZ2h0ID8gMFxuICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZChNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoaGVpZ2h0IC0gdG9wKSAvIHRoaXMuaGVpZ2h0KSkgKiB0aGlzLmxlbmd0aCkpO1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChndWVzcyksIGxpbmVIZWlnaHQgPSBwZXJMaW5lICsgbGluZS5sZW5ndGggKiBwZXJDaGFyO1xuICAgICAgICAgICAgbGV0IGxpbmVUb3AgPSBNYXRoLm1heCh0b3AsIGhlaWdodCAtIGxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGxpbmUuZnJvbSwgbGluZS5sZW5ndGgsIGxpbmVUb3AsIGxpbmVIZWlnaHQsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsYXN0TGluZSAtIGZpcnN0TGluZSwgTWF0aC5mbG9vcigoaGVpZ2h0IC0gdG9wKSAvIHBlckxpbmUpKSk7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCBsZW5ndGggfSA9IG9yYWNsZS5kb2MubGluZShmaXJzdExpbmUgKyBsaW5lKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGZyb20sIGxlbmd0aCwgdG9wICsgcGVyTGluZSAqIGxpbmUsIHBlckxpbmUsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpbmVBdCh2YWx1ZSwgdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBpZiAodHlwZSA9PSBRdWVyeVR5cGUuQnlIZWlnaHQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9ja0F0KHZhbHVlLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGUgPT0gUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBvcmFjbGUuZG9jLmxpbmVBdCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhmcm9tLCB0byAtIGZyb20sIDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGZpcnN0TGluZSwgcGVyTGluZSwgcGVyQ2hhciB9ID0gdGhpcy5oZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KTtcbiAgICAgICAgbGV0IGxpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdCh2YWx1ZSksIGxpbmVIZWlnaHQgPSBwZXJMaW5lICsgbGluZS5sZW5ndGggKiBwZXJDaGFyO1xuICAgICAgICBsZXQgbGluZXNBYm92ZSA9IGxpbmUubnVtYmVyIC0gZmlyc3RMaW5lO1xuICAgICAgICBsZXQgbGluZVRvcCA9IHRvcCArIHBlckxpbmUgKiBsaW5lc0Fib3ZlICsgcGVyQ2hhciAqIChsaW5lLmZyb20gLSBvZmZzZXQgLSBsaW5lc0Fib3ZlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8obGluZS5mcm9tLCBsaW5lLmxlbmd0aCwgTWF0aC5tYXgodG9wLCBNYXRoLm1pbihsaW5lVG9wLCB0b3AgKyB0aGlzLmhlaWdodCAtIGxpbmVIZWlnaHQpKSwgbGluZUhlaWdodCwgMCk7XG4gICAgfVxuICAgIGZvckVhY2hMaW5lKGZyb20sIHRvLCBvcmFjbGUsIHRvcCwgb2Zmc2V0LCBmKSB7XG4gICAgICAgIGZyb20gPSBNYXRoLm1heChmcm9tLCBvZmZzZXQpO1xuICAgICAgICB0byA9IE1hdGgubWluKHRvLCBvZmZzZXQgKyB0aGlzLmxlbmd0aCk7XG4gICAgICAgIGxldCB7IGZpcnN0TGluZSwgcGVyTGluZSwgcGVyQ2hhciB9ID0gdGhpcy5oZWlnaHRNZXRyaWNzKG9yYWNsZSwgb2Zmc2V0KTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gZnJvbSwgbGluZVRvcCA9IHRvcDsgcG9zIDw9IHRvOykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBvcmFjbGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAgICAgaWYgKHBvcyA9PSBmcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVzQWJvdmUgPSBsaW5lLm51bWJlciAtIGZpcnN0TGluZTtcbiAgICAgICAgICAgICAgICBsaW5lVG9wICs9IHBlckxpbmUgKiBsaW5lc0Fib3ZlICsgcGVyQ2hhciAqIChmcm9tIC0gb2Zmc2V0IC0gbGluZXNBYm92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGluZUhlaWdodCA9IHBlckxpbmUgKyBwZXJDaGFyICogbGluZS5sZW5ndGg7XG4gICAgICAgICAgICBmKG5ldyBCbG9ja0luZm8obGluZS5mcm9tLCBsaW5lLmxlbmd0aCwgbGluZVRvcCwgbGluZUhlaWdodCwgMCkpO1xuICAgICAgICAgICAgbGluZVRvcCArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgcG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZShmcm9tLCB0bywgbm9kZXMpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gdGhpcy5sZW5ndGggLSB0bztcbiAgICAgICAgaWYgKGFmdGVyID4gMCkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdID0gbmV3IEhlaWdodE1hcEdhcChsYXN0Lmxlbmd0aCArIGFmdGVyKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAoYWZ0ZXIgLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPiAwKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSBub2Rlc1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdCBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcClcbiAgICAgICAgICAgICAgICBub2Rlc1swXSA9IG5ldyBIZWlnaHRNYXBHYXAoZnJvbSArIGZpcnN0Lmxlbmd0aCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbm9kZXMudW5zaGlmdChuZXcgSGVpZ2h0TWFwR2FwKGZyb20gLSAxKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEhlaWdodE1hcC5vZihub2Rlcyk7XG4gICAgfVxuICAgIGRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQucHVzaChuZXcgSGVpZ2h0TWFwR2FwKHRvIC0gMSksIG51bGwpO1xuICAgIH1cbiAgICBkZWNvbXBvc2VSaWdodChmcm9tLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobnVsbCwgbmV3IEhlaWdodE1hcEdhcCh0aGlzLmxlbmd0aCAtIGZyb20gLSAxKSk7XG4gICAgfVxuICAgIHVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCA9IDAsIGZvcmNlID0gZmFsc2UsIG1lYXN1cmVkKSB7XG4gICAgICAgIGxldCBlbmQgPSBvZmZzZXQgKyB0aGlzLmxlbmd0aDtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICsgdGhpcy5sZW5ndGggJiYgbWVhc3VyZWQubW9yZSkge1xuICAgICAgICAgICAgLy8gRmlsbCBpbiBwYXJ0IG9mIHRoaXMgZ2FwIHdpdGggbWVhc3VyZWQgbGluZXMuIFdlIGtub3cgdGhlcmVcbiAgICAgICAgICAgIC8vIGNhbid0IGJlIHdpZGdldHMgb3IgY29sbGFwc2VkIHJhbmdlcyBpbiB0aG9zZSBsaW5lcywgYmVjYXVzZVxuICAgICAgICAgICAgLy8gdGhleSB3b3VsZCBhbHJlYWR5IGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgaGVpZ2h0bWFwIChnYXBzXG4gICAgICAgICAgICAvLyBvbmx5IGNvbnRhaW4gcGxhaW4gdGV4dCkuXG4gICAgICAgICAgICBsZXQgbm9kZXMgPSBbXSwgcG9zID0gTWF0aC5tYXgob2Zmc2V0LCBtZWFzdXJlZC5mcm9tKSwgc2luZ2xlSGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICBpZiAobWVhc3VyZWQuZnJvbSA+IG9mZnNldClcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG5ldyBIZWlnaHRNYXBHYXAobWVhc3VyZWQuZnJvbSAtIG9mZnNldCAtIDEpLnVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCkpO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA8PSBlbmQgJiYgbWVhc3VyZWQubW9yZSkge1xuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBvcmFjbGUuZG9jLmxpbmVBdChwb3MpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHRzW21lYXN1cmVkLmluZGV4KytdO1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVIZWlnaHQgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZUhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhoZWlnaHQgLSBzaW5nbGVIZWlnaHQpID49IEVwc2lsb24pXG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZUhlaWdodCA9IC0yO1xuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gbmV3IEhlaWdodE1hcFRleHQobGVuLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGxpbmUub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW4gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcyA8PSBlbmQpXG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaChudWxsLCBuZXcgSGVpZ2h0TWFwR2FwKGVuZCAtIHBvcykudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcG9zKSk7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICAgICAgICAgIGlmIChzaW5nbGVIZWlnaHQgPCAwIHx8IE1hdGguYWJzKHJlc3VsdC5oZWlnaHQgLSB0aGlzLmhlaWdodCkgPj0gRXBzaWxvbiB8fFxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHNpbmdsZUhlaWdodCAtIHRoaXMuaGVpZ2h0TWV0cmljcyhvcmFjbGUsIG9mZnNldCkucGVyTGluZSkgPj0gRXBzaWxvbilcbiAgICAgICAgICAgICAgICBoZWlnaHRDaGFuZ2VGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9yY2UgfHwgdGhpcy5vdXRkYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRIZWlnaHQob3JhY2xlLmhlaWdodEZvckdhcChvZmZzZXQsIG9mZnNldCArIHRoaXMubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYGdhcCgke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBCcmFuY2ggZXh0ZW5kcyBIZWlnaHRNYXAge1xuICAgIGNvbnN0cnVjdG9yKGxlZnQsIGJyaywgcmlnaHQpIHtcbiAgICAgICAgc3VwZXIobGVmdC5sZW5ndGggKyBicmsgKyByaWdodC5sZW5ndGgsIGxlZnQuaGVpZ2h0ICsgcmlnaHQuaGVpZ2h0LCBicmsgfCAobGVmdC5vdXRkYXRlZCB8fCByaWdodC5vdXRkYXRlZCA/IDIgLyogRmxhZy5PdXRkYXRlZCAqLyA6IDApKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLnNpemUgPSBsZWZ0LnNpemUgKyByaWdodC5zaXplO1xuICAgIH1cbiAgICBnZXQgYnJlYWsoKSB7IHJldHVybiB0aGlzLmZsYWdzICYgMSAvKiBGbGFnLkJyZWFrICovOyB9XG4gICAgYmxvY2tBdChoZWlnaHQsIG9yYWNsZSwgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IG1pZCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQ7XG4gICAgICAgIHJldHVybiBoZWlnaHQgPCBtaWQgPyB0aGlzLmxlZnQuYmxvY2tBdChoZWlnaHQsIG9yYWNsZSwgdG9wLCBvZmZzZXQpXG4gICAgICAgICAgICA6IHRoaXMucmlnaHQuYmxvY2tBdChoZWlnaHQsIG9yYWNsZSwgbWlkLCBvZmZzZXQgKyB0aGlzLmxlZnQubGVuZ3RoICsgdGhpcy5icmVhayk7XG4gICAgfVxuICAgIGxpbmVBdCh2YWx1ZSwgdHlwZSwgb3JhY2xlLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgcmlnaHRUb3AgPSB0b3AgKyB0aGlzLmxlZnQuaGVpZ2h0LCByaWdodE9mZnNldCA9IG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBsZXQgbGVmdCA9IHR5cGUgPT0gUXVlcnlUeXBlLkJ5SGVpZ2h0ID8gdmFsdWUgPCByaWdodFRvcCA6IHZhbHVlIDwgcmlnaHRPZmZzZXQ7XG4gICAgICAgIGxldCBiYXNlID0gbGVmdCA/IHRoaXMubGVmdC5saW5lQXQodmFsdWUsIHR5cGUsIG9yYWNsZSwgdG9wLCBvZmZzZXQpXG4gICAgICAgICAgICA6IHRoaXMucmlnaHQubGluZUF0KHZhbHVlLCB0eXBlLCBvcmFjbGUsIHJpZ2h0VG9wLCByaWdodE9mZnNldCk7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrIHx8IChsZWZ0ID8gYmFzZS50byA8IHJpZ2h0T2Zmc2V0IDogYmFzZS5mcm9tID4gcmlnaHRPZmZzZXQpKVxuICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgIGxldCBzdWJRdWVyeSA9IHR5cGUgPT0gUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQgPyBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCA6IFF1ZXJ5VHlwZS5CeVBvcztcbiAgICAgICAgaWYgKGxlZnQpXG4gICAgICAgICAgICByZXR1cm4gYmFzZS5qb2luKHRoaXMucmlnaHQubGluZUF0KHJpZ2h0T2Zmc2V0LCBzdWJRdWVyeSwgb3JhY2xlLCByaWdodFRvcCwgcmlnaHRPZmZzZXQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5saW5lQXQocmlnaHRPZmZzZXQsIHN1YlF1ZXJ5LCBvcmFjbGUsIHRvcCwgb2Zmc2V0KS5qb2luKGJhc2UpO1xuICAgIH1cbiAgICBmb3JFYWNoTGluZShmcm9tLCB0bywgb3JhY2xlLCB0b3AsIG9mZnNldCwgZikge1xuICAgICAgICBsZXQgcmlnaHRUb3AgPSB0b3AgKyB0aGlzLmxlZnQuaGVpZ2h0LCByaWdodE9mZnNldCA9IG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBpZiAodGhpcy5icmVhaykge1xuICAgICAgICAgICAgaWYgKGZyb20gPCByaWdodE9mZnNldClcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgdG9wLCBvZmZzZXQsIGYpO1xuICAgICAgICAgICAgaWYgKHRvID49IHJpZ2h0T2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaExpbmUoZnJvbSwgdG8sIG9yYWNsZSwgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0LCBmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtaWQgPSB0aGlzLmxpbmVBdChyaWdodE9mZnNldCwgUXVlcnlUeXBlLkJ5UG9zLCBvcmFjbGUsIHRvcCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgbWlkLmZyb20pXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0LmZvckVhY2hMaW5lKGZyb20sIG1pZC5mcm9tIC0gMSwgb3JhY2xlLCB0b3AsIG9mZnNldCwgZik7XG4gICAgICAgICAgICBpZiAobWlkLnRvID49IGZyb20gJiYgbWlkLmZyb20gPD0gdG8pXG4gICAgICAgICAgICAgICAgZihtaWQpO1xuICAgICAgICAgICAgaWYgKHRvID4gbWlkLnRvKVxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaExpbmUobWlkLnRvICsgMSwgdG8sIG9yYWNsZSwgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0LCBmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCBub2Rlcykge1xuICAgICAgICBsZXQgcmlnaHRTdGFydCA9IHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBpZiAodG8gPCByaWdodFN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQodGhpcy5sZWZ0LnJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSwgdGhpcy5yaWdodCk7XG4gICAgICAgIGlmIChmcm9tID4gdGhpcy5sZWZ0Lmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2VkKHRoaXMubGVmdCwgdGhpcy5yaWdodC5yZXBsYWNlKGZyb20gLSByaWdodFN0YXJ0LCB0byAtIHJpZ2h0U3RhcnQsIG5vZGVzKSk7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKGZyb20gPiAwKVxuICAgICAgICAgICAgdGhpcy5kZWNvbXBvc2VMZWZ0KGZyb20sIHJlc3VsdCk7XG4gICAgICAgIGxldCBsZWZ0ID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBub2RlcylcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICBtZXJnZUdhcHMocmVzdWx0LCBsZWZ0IC0gMSk7XG4gICAgICAgIGlmICh0byA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5kZWNvbXBvc2VSaWdodCh0bywgcmVzdWx0KTtcbiAgICAgICAgICAgIG1lcmdlR2FwcyhyZXN1bHQsIHJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKHJlc3VsdCk7XG4gICAgfVxuICAgIGRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCkge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMubGVmdC5sZW5ndGg7XG4gICAgICAgIGlmICh0byA8PSBsZWZ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5kZWNvbXBvc2VMZWZ0KHRvLCByZXN1bHQpO1xuICAgICAgICByZXN1bHQucHVzaCh0aGlzLmxlZnQpO1xuICAgICAgICBpZiAodGhpcy5icmVhaykge1xuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgaWYgKHRvID49IGxlZnQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvID4gbGVmdClcbiAgICAgICAgICAgIHRoaXMucmlnaHQuZGVjb21wb3NlTGVmdCh0byAtIGxlZnQsIHJlc3VsdCk7XG4gICAgfVxuICAgIGRlY29tcG9zZVJpZ2h0KGZyb20sIHJlc3VsdCkge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMubGVmdC5sZW5ndGgsIHJpZ2h0ID0gbGVmdCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmIChmcm9tID49IHJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuZGVjb21wb3NlUmlnaHQoZnJvbSAtIHJpZ2h0LCByZXN1bHQpO1xuICAgICAgICBpZiAoZnJvbSA8IGxlZnQpXG4gICAgICAgICAgICB0aGlzLmxlZnQuZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKHRoaXMuYnJlYWsgJiYgZnJvbSA8IHJpZ2h0KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMucmlnaHQpO1xuICAgIH1cbiAgICBiYWxhbmNlZChsZWZ0LCByaWdodCkge1xuICAgICAgICBpZiAobGVmdC5zaXplID4gMiAqIHJpZ2h0LnNpemUgfHwgcmlnaHQuc2l6ZSA+IDIgKiBsZWZ0LnNpemUpXG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKHRoaXMuYnJlYWsgPyBbbGVmdCwgbnVsbCwgcmlnaHRdIDogW2xlZnQsIHJpZ2h0XSk7XG4gICAgICAgIHRoaXMubGVmdCA9IHJlcGxhY2UodGhpcy5sZWZ0LCBsZWZ0KTtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJlcGxhY2UodGhpcy5yaWdodCwgcmlnaHQpO1xuICAgICAgICB0aGlzLnNldEhlaWdodChsZWZ0LmhlaWdodCArIHJpZ2h0LmhlaWdodCk7XG4gICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBsZWZ0Lm91dGRhdGVkIHx8IHJpZ2h0Lm91dGRhdGVkO1xuICAgICAgICB0aGlzLnNpemUgPSBsZWZ0LnNpemUgKyByaWdodC5zaXplO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlZnQubGVuZ3RoICsgdGhpcy5icmVhayArIHJpZ2h0Lmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCA9IDAsIGZvcmNlID0gZmFsc2UsIG1lYXN1cmVkKSB7XG4gICAgICAgIGxldCB7IGxlZnQsIHJpZ2h0IH0gPSB0aGlzLCByaWdodFN0YXJ0ID0gb2Zmc2V0ICsgbGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrLCByZWJhbGFuY2UgPSBudWxsO1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgKyBsZWZ0Lmxlbmd0aCAmJiBtZWFzdXJlZC5tb3JlKVxuICAgICAgICAgICAgcmViYWxhbmNlID0gbGVmdCA9IGxlZnQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0LCBmb3JjZSwgbWVhc3VyZWQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsZWZ0LnVwZGF0ZUhlaWdodChvcmFjbGUsIG9mZnNldCwgZm9yY2UpO1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSByaWdodFN0YXJ0ICsgcmlnaHQubGVuZ3RoICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICByZWJhbGFuY2UgPSByaWdodCA9IHJpZ2h0LnVwZGF0ZUhlaWdodChvcmFjbGUsIHJpZ2h0U3RhcnQsIGZvcmNlLCBtZWFzdXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJpZ2h0LnVwZGF0ZUhlaWdodChvcmFjbGUsIHJpZ2h0U3RhcnQsIGZvcmNlKTtcbiAgICAgICAgaWYgKHJlYmFsYW5jZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2VkKGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmxlZnQuaGVpZ2h0ICsgdGhpcy5yaWdodC5oZWlnaHQ7XG4gICAgICAgIHRoaXMub3V0ZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5sZWZ0ICsgKHRoaXMuYnJlYWsgPyBcIiBcIiA6IFwiLVwiKSArIHRoaXMucmlnaHQ7IH1cbn1cbmZ1bmN0aW9uIG1lcmdlR2Fwcyhub2RlcywgYXJvdW5kKSB7XG4gICAgbGV0IGJlZm9yZSwgYWZ0ZXI7XG4gICAgaWYgKG5vZGVzW2Fyb3VuZF0gPT0gbnVsbCAmJlxuICAgICAgICAoYmVmb3JlID0gbm9kZXNbYXJvdW5kIC0gMV0pIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwICYmXG4gICAgICAgIChhZnRlciA9IG5vZGVzW2Fyb3VuZCArIDFdKSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcClcbiAgICAgICAgbm9kZXMuc3BsaWNlKGFyb3VuZCAtIDEsIDMsIG5ldyBIZWlnaHRNYXBHYXAoYmVmb3JlLmxlbmd0aCArIDEgKyBhZnRlci5sZW5ndGgpKTtcbn1cbmNvbnN0IHJlbGV2YW50V2lkZ2V0SGVpZ2h0ID0gNTtcbmNsYXNzIE5vZGVCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3MsIG9yYWNsZSkge1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5vcmFjbGUgPSBvcmFjbGU7XG4gICAgICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5saW5lU3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy5saW5lRW5kID0gLTE7XG4gICAgICAgIHRoaXMuY292ZXJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHBvcztcbiAgICB9XG4gICAgZ2V0IGlzQ292ZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY292ZXJpbmcgJiYgdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdID09IHRoaXMuY292ZXJpbmc7XG4gICAgfVxuICAgIHNwYW4oX2Zyb20sIHRvKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVTdGFydCA+IC0xKSB7XG4gICAgICAgICAgICBsZXQgZW5kID0gTWF0aC5taW4odG8sIHRoaXMubGluZUVuZCksIGxhc3QgPSB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpXG4gICAgICAgICAgICAgICAgbGFzdC5sZW5ndGggKz0gZW5kIC0gdGhpcy5wb3M7XG4gICAgICAgICAgICBlbHNlIGlmIChlbmQgPiB0aGlzLnBvcyB8fCAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBIZWlnaHRNYXBUZXh0KGVuZCAtIHRoaXMucG9zLCAtMSkpO1xuICAgICAgICAgICAgdGhpcy53cml0dGVuVG8gPSBlbmQ7XG4gICAgICAgICAgICBpZiAodG8gPiBlbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0dGVuVG8rKztcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVTdGFydCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zID0gdG87XG4gICAgfVxuICAgIHBvaW50KGZyb20sIHRvLCBkZWNvKSB7XG4gICAgICAgIGlmIChmcm9tIDwgdG8gfHwgZGVjby5oZWlnaHRSZWxldmFudCkge1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IGRlY28ud2lkZ2V0ID8gZGVjby53aWRnZXQuZXN0aW1hdGVkSGVpZ2h0IDogMDtcbiAgICAgICAgICAgIGxldCBicmVha3MgPSBkZWNvLndpZGdldCA/IGRlY28ud2lkZ2V0LmxpbmVCcmVha3MgOiAwO1xuICAgICAgICAgICAgaWYgKGhlaWdodCA8IDApXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5vcmFjbGUubGluZUhlaWdodDtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0byAtIGZyb207XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQmxvY2sobmV3IEhlaWdodE1hcEJsb2NrKGxlbiwgaGVpZ2h0LCBkZWNvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsZW4gfHwgYnJlYWtzIHx8IGhlaWdodCA+PSByZWxldmFudFdpZGdldEhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZURlY28oaGVpZ2h0LCBicmVha3MsIGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG8gPiBmcm9tKSB7XG4gICAgICAgICAgICB0aGlzLnNwYW4oZnJvbSwgdG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVFbmQgPiAtMSAmJiB0aGlzLmxpbmVFbmQgPCB0aGlzLnBvcylcbiAgICAgICAgICAgIHRoaXMubGluZUVuZCA9IHRoaXMub3JhY2xlLmRvYy5saW5lQXQodGhpcy5wb3MpLnRvO1xuICAgIH1cbiAgICBlbnRlckxpbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVTdGFydCA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gdGhpcy5vcmFjbGUuZG9jLmxpbmVBdCh0aGlzLnBvcyk7XG4gICAgICAgIHRoaXMubGluZVN0YXJ0ID0gZnJvbTtcbiAgICAgICAgdGhpcy5saW5lRW5kID0gdG87XG4gICAgICAgIGlmICh0aGlzLndyaXR0ZW5UbyA8IGZyb20pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndyaXR0ZW5UbyA8IGZyb20gLSAxIHx8IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaCh0aGlzLmJsYW5rQ29udGVudCh0aGlzLndyaXR0ZW5UbywgZnJvbSAtIDEpKTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb3MgPiBmcm9tKVxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBIZWlnaHRNYXBUZXh0KHRoaXMucG9zIC0gZnJvbSwgLTEpKTtcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcztcbiAgICB9XG4gICAgYmxhbmtDb250ZW50KGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBnYXAgPSBuZXcgSGVpZ2h0TWFwR2FwKHRvIC0gZnJvbSk7XG4gICAgICAgIGlmICh0aGlzLm9yYWNsZS5kb2MubGluZUF0KGZyb20pLnRvID09IHRvKVxuICAgICAgICAgICAgZ2FwLmZsYWdzIHw9IDQgLyogRmxhZy5TaW5nbGVMaW5lICovO1xuICAgICAgICByZXR1cm4gZ2FwO1xuICAgIH1cbiAgICBlbnN1cmVMaW5lKCkge1xuICAgICAgICB0aGlzLmVudGVyTGluZSgpO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoID8gdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KVxuICAgICAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgICAgIGxldCBsaW5lID0gbmV3IEhlaWdodE1hcFRleHQoMCwgLTEpO1xuICAgICAgICB0aGlzLm5vZGVzLnB1c2gobGluZSk7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cbiAgICBhZGRCbG9jayhibG9jaykge1xuICAgICAgICB0aGlzLmVudGVyTGluZSgpO1xuICAgICAgICBsZXQgZGVjbyA9IGJsb2NrLmRlY287XG4gICAgICAgIGlmIChkZWNvICYmIGRlY28uc3RhcnRTaWRlID4gMCAmJiAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICB0aGlzLmVuc3VyZUxpbmUoKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcyA9IHRoaXMucG9zICsgYmxvY2subGVuZ3RoO1xuICAgICAgICBpZiAoZGVjbyAmJiBkZWNvLmVuZFNpZGUgPiAwKVxuICAgICAgICAgICAgdGhpcy5jb3ZlcmluZyA9IGJsb2NrO1xuICAgIH1cbiAgICBhZGRMaW5lRGVjbyhoZWlnaHQsIGJyZWFrcywgbGVuZ3RoKSB7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5lbnN1cmVMaW5lKCk7XG4gICAgICAgIGxpbmUubGVuZ3RoICs9IGxlbmd0aDtcbiAgICAgICAgbGluZS5jb2xsYXBzZWQgKz0gbGVuZ3RoO1xuICAgICAgICBsaW5lLndpZGdldEhlaWdodCA9IE1hdGgubWF4KGxpbmUud2lkZ2V0SGVpZ2h0LCBoZWlnaHQpO1xuICAgICAgICBsaW5lLmJyZWFrcyArPSBicmVha3M7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gdGhpcy5wb3MgPSB0aGlzLnBvcyArIGxlbmd0aDtcbiAgICB9XG4gICAgZmluaXNoKGZyb20pIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLm5vZGVzLmxlbmd0aCA9PSAwID8gbnVsbCA6IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEgJiYgIShsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dCkgJiYgIXRoaXMuaXNDb3ZlcmVkKVxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBIZWlnaHRNYXBUZXh0KDAsIC0xKSk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud3JpdHRlblRvIDwgdGhpcy5wb3MgfHwgbGFzdCA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKHRoaXMuYmxhbmtDb250ZW50KHRoaXMud3JpdHRlblRvLCB0aGlzLnBvcykpO1xuICAgICAgICBsZXQgcG9zID0gZnJvbTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpXG4gICAgICAgICAgICAgICAgbm9kZS51cGRhdGVIZWlnaHQodGhpcy5vcmFjbGUsIHBvcyk7XG4gICAgICAgICAgICBwb3MgKz0gbm9kZSA/IG5vZGUubGVuZ3RoIDogMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlcztcbiAgICB9XG4gICAgLy8gQWx3YXlzIGNhbGxlZCB3aXRoIGEgcmVnaW9uIHRoYXQgb24gYm90aCBzaWRlcyBlaXRoZXIgc3RyZXRjaGVzXG4gICAgLy8gdG8gYSBsaW5lIGJyZWFrIG9yIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuICAgIC8vIFRoZSByZXR1cm5lZCBhcnJheSB1c2VzIG51bGwgdG8gaW5kaWNhdGUgbGluZSBicmVha3MsIGJ1dCBuZXZlclxuICAgIC8vIHN0YXJ0cyBvciBlbmRzIGluIGEgbGluZSBicmVhaywgb3IgaGFzIG11bHRpcGxlIGxpbmUgYnJlYWtzIG5leHRcbiAgICAvLyB0byBlYWNoIG90aGVyLlxuICAgIHN0YXRpYyBidWlsZChvcmFjbGUsIGRlY29yYXRpb25zLCBmcm9tLCB0bykge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBOb2RlQnVpbGRlcihmcm9tLCBvcmFjbGUpO1xuICAgICAgICBSYW5nZVNldC5zcGFucyhkZWNvcmF0aW9ucywgZnJvbSwgdG8sIGJ1aWxkZXIsIDApO1xuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2goZnJvbSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGVpZ2h0UmVsZXZhbnREZWNvQ2hhbmdlcyhhLCBiLCBkaWZmKSB7XG4gICAgbGV0IGNvbXAgPSBuZXcgRGVjb3JhdGlvbkNvbXBhcmF0b3I7XG4gICAgUmFuZ2VTZXQuY29tcGFyZShhLCBiLCBkaWZmLCBjb21wLCAwKTtcbiAgICByZXR1cm4gY29tcC5jaGFuZ2VzO1xufVxuY2xhc3MgRGVjb3JhdGlvbkNvbXBhcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBbXTtcbiAgICB9XG4gICAgY29tcGFyZVJhbmdlKCkgeyB9XG4gICAgY29tcGFyZVBvaW50KGZyb20sIHRvLCBhLCBiKSB7XG4gICAgICAgIGlmIChmcm9tIDwgdG8gfHwgYSAmJiBhLmhlaWdodFJlbGV2YW50IHx8IGIgJiYgYi5oZWlnaHRSZWxldmFudClcbiAgICAgICAgICAgIGFkZFJhbmdlKGZyb20sIHRvLCB0aGlzLmNoYW5nZXMsIDUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdmlzaWJsZVBpeGVsUmFuZ2UoZG9tLCBwYWRkaW5nVG9wKSB7XG4gICAgbGV0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGRvYyA9IGRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICAgIGxldCBsZWZ0ID0gTWF0aC5tYXgoMCwgcmVjdC5sZWZ0KSwgcmlnaHQgPSBNYXRoLm1pbih3aW4uaW5uZXJXaWR0aCwgcmVjdC5yaWdodCk7XG4gICAgbGV0IHRvcCA9IE1hdGgubWF4KDAsIHJlY3QudG9wKSwgYm90dG9tID0gTWF0aC5taW4od2luLmlubmVySGVpZ2h0LCByZWN0LmJvdHRvbSk7XG4gICAgZm9yIChsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGU7IHBhcmVudCAmJiBwYXJlbnQgIT0gZG9jLmJvZHk7KSB7XG4gICAgICAgIGlmIChwYXJlbnQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgbGV0IGVsdCA9IHBhcmVudDtcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsdCk7XG4gICAgICAgICAgICBpZiAoKGVsdC5zY3JvbGxIZWlnaHQgPiBlbHQuY2xpZW50SGVpZ2h0IHx8IGVsdC5zY3JvbGxXaWR0aCA+IGVsdC5jbGllbnRXaWR0aCkgJiZcbiAgICAgICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyAhPSBcInZpc2libGVcIikge1xuICAgICAgICAgICAgICAgIGxldCBwYXJlbnRSZWN0ID0gZWx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCBwYXJlbnRSZWN0LmxlZnQpO1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIHBhcmVudFJlY3QucmlnaHQpO1xuICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHRvcCwgcGFyZW50UmVjdC50b3ApO1xuICAgICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWluKHBhcmVudCA9PSBkb20ucGFyZW50Tm9kZSA/IHdpbi5pbm5lckhlaWdodCA6IGJvdHRvbSwgcGFyZW50UmVjdC5ib3R0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gc3R5bGUucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiIHx8IHN0eWxlLnBvc2l0aW9uID09IFwiZml4ZWRcIiA/IGVsdC5vZmZzZXRQYXJlbnQgOiBlbHQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQubm9kZVR5cGUgPT0gMTEpIHsgLy8gU2hhZG93IHJvb3RcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCAtIHJlY3QubGVmdCwgcmlnaHQ6IE1hdGgubWF4KGxlZnQsIHJpZ2h0KSAtIHJlY3QubGVmdCxcbiAgICAgICAgdG9wOiB0b3AgLSAocmVjdC50b3AgKyBwYWRkaW5nVG9wKSwgYm90dG9tOiBNYXRoLm1heCh0b3AsIGJvdHRvbSkgLSAocmVjdC50b3AgKyBwYWRkaW5nVG9wKSB9O1xufVxuZnVuY3Rpb24gaW5XaW5kb3coZWx0KSB7XG4gICAgbGV0IHJlY3QgPSBlbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpbiA9IGVsdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgICByZXR1cm4gcmVjdC5sZWZ0IDwgd2luLmlubmVyV2lkdGggJiYgcmVjdC5yaWdodCA+IDAgJiZcbiAgICAgICAgcmVjdC50b3AgPCB3aW4uaW5uZXJIZWlnaHQgJiYgcmVjdC5ib3R0b20gPiAwO1xufVxuZnVuY3Rpb24gZnVsbFBpeGVsUmFuZ2UoZG9tLCBwYWRkaW5nVG9wKSB7XG4gICAgbGV0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHsgbGVmdDogMCwgcmlnaHQ6IHJlY3QucmlnaHQgLSByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogcGFkZGluZ1RvcCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIChyZWN0LnRvcCArIHBhZGRpbmdUb3ApIH07XG59XG4vLyBMaW5lIGdhcHMgYXJlIHBsYWNlaG9sZGVyIHdpZGdldHMgdXNlZCB0byBoaWRlIHBpZWNlcyBvZiBvdmVybG9uZ1xuLy8gbGluZXMgd2l0aGluIHRoZSB2aWV3cG9ydCwgYXMgYSBrbHVkZ2UgdG8ga2VlcCB0aGUgZWRpdG9yXG4vLyByZXNwb25zaXZlIHdoZW4gYSByaWRpY3Vsb3VzbHkgbG9uZyBsaW5lIGlzIGxvYWRlZCBpbnRvIGl0LlxuY2xhc3MgTGluZUdhcCB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHNpemUsIGRpc3BsYXlTaXplKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5U2l6ZSA9IGRpc3BsYXlTaXplO1xuICAgIH1cbiAgICBzdGF0aWMgc2FtZShhLCBiKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZ0EgPSBhW2ldLCBnQiA9IGJbaV07XG4gICAgICAgICAgICBpZiAoZ0EuZnJvbSAhPSBnQi5mcm9tIHx8IGdBLnRvICE9IGdCLnRvIHx8IGdBLnNpemUgIT0gZ0Iuc2l6ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRyYXcodmlld1N0YXRlLCB3cmFwcGluZykge1xuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5yZXBsYWNlKHtcbiAgICAgICAgICAgIHdpZGdldDogbmV3IExpbmVHYXBXaWRnZXQodGhpcy5kaXNwbGF5U2l6ZSAqICh3cmFwcGluZyA/IHZpZXdTdGF0ZS5zY2FsZVkgOiB2aWV3U3RhdGUuc2NhbGVYKSwgd3JhcHBpbmcpXG4gICAgICAgIH0pLnJhbmdlKHRoaXMuZnJvbSwgdGhpcy50byk7XG4gICAgfVxufVxuY2xhc3MgTGluZUdhcFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHNpemUsIHZlcnRpY2FsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMudmVydGljYWwgPSB2ZXJ0aWNhbDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLnNpemUgPT0gdGhpcy5zaXplICYmIG90aGVyLnZlcnRpY2FsID09IHRoaXMudmVydGljYWw7IH1cbiAgICB0b0RPTSgpIHtcbiAgICAgICAgbGV0IGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zaXplICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWx0LnN0eWxlLndpZHRoID0gdGhpcy5zaXplICsgXCJweFwiO1xuICAgICAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IFwiMnB4XCI7XG4gICAgICAgICAgICBlbHQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgZ2V0IGVzdGltYXRlZEhlaWdodCgpIHsgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLnNpemUgOiAtMTsgfVxufVxuY2xhc3MgVmlld1N0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIC8vIFRoZXNlIGFyZSBjb250ZW50RE9NLWxvY2FsIGNvb3JkaW5hdGVzXG4gICAgICAgIHRoaXMucGl4ZWxWaWV3cG9ydCA9IHsgbGVmdDogMCwgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoLCB0b3A6IDAsIGJvdHRvbTogMCB9O1xuICAgICAgICB0aGlzLmluVmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IDA7IC8vIFBhZGRpbmcgYWJvdmUgdGhlIGRvY3VtZW50LCBzY2FsZWRcbiAgICAgICAgdGhpcy5wYWRkaW5nQm90dG9tID0gMDsgLy8gUGFkZGluZyBiZWxvdyB0aGUgZG9jdW1lbnQsIHNjYWxlZFxuICAgICAgICB0aGlzLmNvbnRlbnRET01XaWR0aCA9IDA7IC8vIGNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICAgICAgdGhpcy5jb250ZW50RE9NSGVpZ2h0ID0gMDsgLy8gY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcbiAgICAgICAgdGhpcy5lZGl0b3JIZWlnaHQgPSAwOyAvLyBzY3JvbGxET00uY2xpZW50SGVpZ2h0LCB1bnNjYWxlZFxuICAgICAgICB0aGlzLmVkaXRvcldpZHRoID0gMDsgLy8gc2Nyb2xsRE9NLmNsaWVudFdpZHRoLCB1bnNjYWxlZFxuICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IDA7IC8vIExhc3Qgc2VlbiBzY3JvbGxET00uc2Nyb2xsVG9wLCBzY2FsZWRcbiAgICAgICAgdGhpcy5zY3JvbGxlZFRvQm90dG9tID0gZmFsc2U7XG4gICAgICAgIC8vIFRoZSBDU1MtdHJhbnNmb3JtYXRpb24gc2NhbGUgb2YgdGhlIGVkaXRvciAodHJhbnNmb3JtZWQgc2l6ZSAvXG4gICAgICAgIC8vIGNvbmNyZXRlIHNpemUpXG4gICAgICAgIHRoaXMuc2NhbGVYID0gMTtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSAxO1xuICAgICAgICAvLyBUaGUgdmVydGljYWwgcG9zaXRpb24gKGRvY3VtZW50LXJlbGF0aXZlKSB0byB3aGljaCB0byBhbmNob3IgdGhlXG4gICAgICAgIC8vIHNjcm9sbCBwb3NpdGlvbi4gLTEgbWVhbnMgYW5jaG9yIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuICAgICAgICB0aGlzLnNjcm9sbEFuY2hvclBvcyA9IDA7XG4gICAgICAgIC8vIFRoZSBoZWlnaHQgYXQgdGhlIGFuY2hvciBwb3NpdGlvbi4gU2V0IGJ5IHRoZSBET00gdXBkYXRlIHBoYXNlLlxuICAgICAgICAvLyAtMSBtZWFucyBubyBoZWlnaHQgYXZhaWxhYmxlLlxuICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICAvLyBTZWUgVlAuTWF4RE9NSGVpZ2h0XG4gICAgICAgIHRoaXMuc2NhbGVyID0gSWRTY2FsZXI7XG4gICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gQnJpZWZseSBzZXQgdG8gdHJ1ZSB3aGVuIHByaW50aW5nLCB0byBkaXNhYmxlIHZpZXdwb3J0IGxpbWl0aW5nXG4gICAgICAgIHRoaXMucHJpbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gRmxhZyBzZXQgd2hlbiBlZGl0b3IgY29udGVudCB3YXMgcmVkcmF3biwgc28gdGhhdCB0aGUgbmV4dFxuICAgICAgICAvLyBtZWFzdXJlIHN0YWdlIGtub3dzIGl0IG11c3QgcmVhZCBET00gbGF5b3V0XG4gICAgICAgIHRoaXMubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0VGV4dERpcmVjdGlvbiA9IERpcmVjdGlvbi5MVFI7XG4gICAgICAgIHRoaXMudmlzaWJsZVJhbmdlcyA9IFtdO1xuICAgICAgICAvLyBDdXJzb3IgJ2Fzc29jJyBpcyBvbmx5IHNpZ25pZmljYW50IHdoZW4gdGhlIGN1cnNvciBpcyBvbiBhIGxpbmVcbiAgICAgICAgLy8gd3JhcCBwb2ludCwgd2hlcmUgaXQgbXVzdCBzdGljayB0byB0aGUgY2hhcmFjdGVyIHRoYXQgaXQgaXNcbiAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoLiBTaW5jZSBicm93c2VycyBkb24ndCBwcm92aWRlIGEgcmVhc29uYWJsZVxuICAgICAgICAvLyBpbnRlcmZhY2UgdG8gc2V0IG9yIHF1ZXJ5IHRoaXMsIHdoZW4gYSBzZWxlY3Rpb24gaXMgc2V0IHRoYXRcbiAgICAgICAgLy8gbWlnaHQgY2F1c2UgdGhpcyB0byBiZSBzaWduaWZpY2FudCwgdGhpcyBmbGFnIGlzIHNldC4gVGhlIG5leHRcbiAgICAgICAgLy8gbWVhc3VyZSBwaGFzZSB3aWxsIGNoZWNrIHdoZXRoZXIgdGhlIGN1cnNvciBpcyBvbiBhIGxpbmUtd3JhcHBpbmdcbiAgICAgICAgLy8gYm91bmRhcnkgYW5kLCBpZiBzbywgcmVzZXQgaXQgdG8gbWFrZSBzdXJlIGl0IGlzIHBvc2l0aW9uZWQgaW5cbiAgICAgICAgLy8gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgICB0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgPSBmYWxzZTtcbiAgICAgICAgbGV0IGd1ZXNzV3JhcHBpbmcgPSBzdGF0ZS5mYWNldChjb250ZW50QXR0cmlidXRlcykuc29tZSh2ID0+IHR5cGVvZiB2ICE9IFwiZnVuY3Rpb25cIiAmJiB2LmNsYXNzID09IFwiY20tbGluZVdyYXBwaW5nXCIpO1xuICAgICAgICB0aGlzLmhlaWdodE9yYWNsZSA9IG5ldyBIZWlnaHRPcmFjbGUoZ3Vlc3NXcmFwcGluZyk7XG4gICAgICAgIHRoaXMuc3RhdGVEZWNvID0gc3RhdGUuZmFjZXQoZGVjb3JhdGlvbnMpLmZpbHRlcihkID0+IHR5cGVvZiBkICE9IFwiZnVuY3Rpb25cIik7XG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwID0gSGVpZ2h0TWFwLmVtcHR5KCkuYXBwbHlDaGFuZ2VzKHRoaXMuc3RhdGVEZWNvLCBUZXh0LmVtcHR5LCB0aGlzLmhlaWdodE9yYWNsZS5zZXREb2Moc3RhdGUuZG9jKSwgW25ldyBDaGFuZ2VkUmFuZ2UoMCwgMCwgMCwgc3RhdGUuZG9jLmxlbmd0aCldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KDAsIG51bGwpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZUZvclZpZXdwb3J0KCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydExpbmVzKCk7XG4gICAgICAgIHRoaXMubGluZUdhcHMgPSB0aGlzLmVuc3VyZUxpbmVHYXBzKFtdKTtcbiAgICAgICAgdGhpcy5saW5lR2FwRGVjbyA9IERlY29yYXRpb24uc2V0KHRoaXMubGluZUdhcHMubWFwKGdhcCA9PiBnYXAuZHJhdyh0aGlzLCBmYWxzZSkpKTtcbiAgICAgICAgdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcygpO1xuICAgIH1cbiAgICB1cGRhdGVGb3JWaWV3cG9ydCgpIHtcbiAgICAgICAgbGV0IHZpZXdwb3J0cyA9IFt0aGlzLnZpZXdwb3J0XSwgeyBtYWluIH0gPSB0aGlzLnN0YXRlLnNlbGVjdGlvbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gaSA/IG1haW4uaGVhZCA6IG1haW4uYW5jaG9yO1xuICAgICAgICAgICAgaWYgKCF2aWV3cG9ydHMuc29tZSgoeyBmcm9tLCB0byB9KSA9PiBwb3MgPj0gZnJvbSAmJiBwb3MgPD0gdG8pKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHRoaXMubGluZUJsb2NrQXQocG9zKTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydHMucHVzaChuZXcgVmlld3BvcnQoZnJvbSwgdG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdwb3J0cyA9IHZpZXdwb3J0cy5zb3J0KChhLCBiKSA9PiBhLmZyb20gLSBiLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVTY2FsZXIoKTtcbiAgICB9XG4gICAgdXBkYXRlU2NhbGVyKCkge1xuICAgICAgICBsZXQgc2NhbGVyID0gdGhpcy5zY2FsZXI7XG4gICAgICAgIHRoaXMuc2NhbGVyID0gdGhpcy5oZWlnaHRNYXAuaGVpZ2h0IDw9IDcwMDAwMDAgLyogVlAuTWF4RE9NSGVpZ2h0ICovID8gSWRTY2FsZXIgOlxuICAgICAgICAgICAgbmV3IEJpZ1NjYWxlcih0aGlzLmhlaWdodE9yYWNsZSwgdGhpcy5oZWlnaHRNYXAsIHRoaXMudmlld3BvcnRzKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlci5lcSh0aGlzLnNjYWxlcikgPyAwIDogMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLztcbiAgICB9XG4gICAgdXBkYXRlVmlld3BvcnRMaW5lcygpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydExpbmVzID0gW107XG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwLmZvckVhY2hMaW5lKHRoaXMudmlld3BvcnQuZnJvbSwgdGhpcy52aWV3cG9ydC50bywgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHRoaXMuc3RhdGUuZG9jKSwgMCwgMCwgYmxvY2sgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydExpbmVzLnB1c2goc2NhbGVCbG9jayhibG9jaywgdGhpcy5zY2FsZXIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUsIHNjcm9sbFRhcmdldCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHVwZGF0ZS5zdGF0ZTtcbiAgICAgICAgbGV0IHByZXZEZWNvID0gdGhpcy5zdGF0ZURlY287XG4gICAgICAgIHRoaXMuc3RhdGVEZWNvID0gdGhpcy5zdGF0ZS5mYWNldChkZWNvcmF0aW9ucykuZmlsdGVyKGQgPT4gdHlwZW9mIGQgIT0gXCJmdW5jdGlvblwiKTtcbiAgICAgICAgbGV0IGNvbnRlbnRDaGFuZ2VzID0gdXBkYXRlLmNoYW5nZWRSYW5nZXM7XG4gICAgICAgIGxldCBoZWlnaHRDaGFuZ2VzID0gQ2hhbmdlZFJhbmdlLmV4dGVuZFdpdGhSYW5nZXMoY29udGVudENoYW5nZXMsIGhlaWdodFJlbGV2YW50RGVjb0NoYW5nZXMocHJldkRlY28sIHRoaXMuc3RhdGVEZWNvLCB1cGRhdGUgPyB1cGRhdGUuY2hhbmdlcyA6IENoYW5nZVNldC5lbXB0eSh0aGlzLnN0YXRlLmRvYy5sZW5ndGgpKSk7XG4gICAgICAgIGxldCBwcmV2SGVpZ2h0ID0gdGhpcy5oZWlnaHRNYXAuaGVpZ2h0O1xuICAgICAgICBsZXQgc2Nyb2xsQW5jaG9yID0gdGhpcy5zY3JvbGxlZFRvQm90dG9tID8gbnVsbCA6IHRoaXMuc2Nyb2xsQW5jaG9yQXQodGhpcy5zY3JvbGxUb3ApO1xuICAgICAgICBjbGVhckhlaWdodENoYW5nZUZsYWcoKTtcbiAgICAgICAgdGhpcy5oZWlnaHRNYXAgPSB0aGlzLmhlaWdodE1hcC5hcHBseUNoYW5nZXModGhpcy5zdGF0ZURlY28sIHVwZGF0ZS5zdGFydFN0YXRlLmRvYywgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHRoaXMuc3RhdGUuZG9jKSwgaGVpZ2h0Q2hhbmdlcyk7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodE1hcC5oZWlnaHQgIT0gcHJldkhlaWdodCB8fCBoZWlnaHRDaGFuZ2VGbGFnKVxuICAgICAgICAgICAgdXBkYXRlLmZsYWdzIHw9IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgICAgIGlmIChzY3JvbGxBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQW5jaG9yUG9zID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHNjcm9sbEFuY2hvci5mcm9tLCAtMSk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IHNjcm9sbEFuY2hvci50b3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvclBvcyA9IC0xO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxBbmNob3JIZWlnaHQgPSBwcmV2SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3cG9ydCA9IGhlaWdodENoYW5nZXMubGVuZ3RoID8gdGhpcy5tYXBWaWV3cG9ydCh0aGlzLnZpZXdwb3J0LCB1cGRhdGUuY2hhbmdlcykgOiB0aGlzLnZpZXdwb3J0O1xuICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0ICYmIChzY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA8IHZpZXdwb3J0LmZyb20gfHwgc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPiB2aWV3cG9ydC50bykgfHxcbiAgICAgICAgICAgICF0aGlzLnZpZXdwb3J0SXNBcHByb3ByaWF0ZSh2aWV3cG9ydCkpXG4gICAgICAgICAgICB2aWV3cG9ydCA9IHRoaXMuZ2V0Vmlld3BvcnQoMCwgc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgbGV0IHZpZXdwb3J0Q2hhbmdlID0gdmlld3BvcnQuZnJvbSAhPSB0aGlzLnZpZXdwb3J0LmZyb20gfHwgdmlld3BvcnQudG8gIT0gdGhpcy52aWV3cG9ydC50bztcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICBpZiAodmlld3BvcnRDaGFuZ2UgfHwgIXVwZGF0ZS5jaGFuZ2VzLmVtcHR5IHx8ICh1cGRhdGUuZmxhZ3MgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRMaW5lcygpO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGggfHwgdGhpcy52aWV3cG9ydC50byAtIHRoaXMudmlld3BvcnQuZnJvbSA+ICgyMDAwIC8qIExHLk1hcmdpbiAqLyA8PCAxKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGluZUdhcHModGhpcy5lbnN1cmVMaW5lR2Fwcyh0aGlzLm1hcExpbmVHYXBzKHRoaXMubGluZUdhcHMsIHVwZGF0ZS5jaGFuZ2VzKSkpO1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcyh1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgIGlmIChzY3JvbGxUYXJnZXQpXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IHNjcm9sbFRhcmdldDtcbiAgICAgICAgaWYgKCF0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgJiYgdXBkYXRlLnNlbGVjdGlvblNldCAmJiB1cGRhdGUudmlldy5saW5lV3JhcHBpbmcgJiZcbiAgICAgICAgICAgIHVwZGF0ZS5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5lbXB0eSAmJiB1cGRhdGUuc3RhdGUuc2VsZWN0aW9uLm1haW4uYXNzb2MgJiZcbiAgICAgICAgICAgICF1cGRhdGUuc3RhdGUuZmFjZXQobmF0aXZlU2VsZWN0aW9uSGlkZGVuKSlcbiAgICAgICAgICAgIHRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyA9IHRydWU7XG4gICAgfVxuICAgIG1lYXN1cmUodmlldykge1xuICAgICAgICBsZXQgZG9tID0gdmlldy5jb250ZW50RE9NLCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvbSk7XG4gICAgICAgIGxldCBvcmFjbGUgPSB0aGlzLmhlaWdodE9yYWNsZTtcbiAgICAgICAgbGV0IHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXh0RGlyZWN0aW9uID0gc3R5bGUuZGlyZWN0aW9uID09IFwicnRsXCIgPyBEaXJlY3Rpb24uUlRMIDogRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgbGV0IHJlZnJlc2ggPSB0aGlzLmhlaWdodE9yYWNsZS5tdXN0UmVmcmVzaEZvcldyYXBwaW5nKHdoaXRlU3BhY2UpO1xuICAgICAgICBsZXQgZG9tUmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IG1lYXN1cmVDb250ZW50ID0gcmVmcmVzaCB8fCB0aGlzLm11c3RNZWFzdXJlQ29udGVudCB8fCB0aGlzLmNvbnRlbnRET01IZWlnaHQgIT0gZG9tUmVjdC5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY29udGVudERPTUhlaWdodCA9IGRvbVJlY3QuaGVpZ2h0O1xuICAgICAgICB0aGlzLm11c3RNZWFzdXJlQ29udGVudCA9IGZhbHNlO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMCwgYmlhcyA9IDA7XG4gICAgICAgIGlmIChkb21SZWN0LndpZHRoICYmIGRvbVJlY3QuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgeyBzY2FsZVgsIHNjYWxlWSB9ID0gZ2V0U2NhbGUoZG9tLCBkb21SZWN0KTtcbiAgICAgICAgICAgIGlmIChzY2FsZVggPiAuMDA1ICYmIE1hdGguYWJzKHRoaXMuc2NhbGVYIC0gc2NhbGVYKSA+IC4wMDUgfHxcbiAgICAgICAgICAgICAgICBzY2FsZVkgPiAuMDA1ICYmIE1hdGguYWJzKHRoaXMuc2NhbGVZIC0gc2NhbGVZKSA+IC4wMDUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgICAgICAgICByZXN1bHQgfD0gMTYgLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgICAgICAgICByZWZyZXNoID0gbWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFZlcnRpY2FsIHBhZGRpbmdcbiAgICAgICAgbGV0IHBhZGRpbmdUb3AgPSAocGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCkgfHwgMCkgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgbGV0IHBhZGRpbmdCb3R0b20gPSAocGFyc2VJbnQoc3R5bGUucGFkZGluZ0JvdHRvbSkgfHwgMCkgKiB0aGlzLnNjYWxlWTtcbiAgICAgICAgaWYgKHRoaXMucGFkZGluZ1RvcCAhPSBwYWRkaW5nVG9wIHx8IHRoaXMucGFkZGluZ0JvdHRvbSAhPSBwYWRkaW5nQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbTtcbiAgICAgICAgICAgIHJlc3VsdCB8PSAxNiAvKiBVcGRhdGVGbGFnLkdlb21ldHJ5ICovIHwgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lZGl0b3JXaWR0aCAhPSB2aWV3LnNjcm9sbERPTS5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgaWYgKG9yYWNsZS5saW5lV3JhcHBpbmcpXG4gICAgICAgICAgICAgICAgbWVhc3VyZUNvbnRlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3JXaWR0aCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgcmVzdWx0IHw9IDE2IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNjcm9sbFRvcCA9IHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3AgIT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JvbGxlZFRvQm90dG9tID0gaXNTY3JvbGxlZFRvQm90dG9tKHZpZXcuc2Nyb2xsRE9NKTtcbiAgICAgICAgLy8gUGl4ZWwgdmlld3BvcnRcbiAgICAgICAgbGV0IHBpeGVsVmlld3BvcnQgPSAodGhpcy5wcmludGluZyA/IGZ1bGxQaXhlbFJhbmdlIDogdmlzaWJsZVBpeGVsUmFuZ2UpKGRvbSwgdGhpcy5wYWRkaW5nVG9wKTtcbiAgICAgICAgbGV0IGRUb3AgPSBwaXhlbFZpZXdwb3J0LnRvcCAtIHRoaXMucGl4ZWxWaWV3cG9ydC50b3AsIGRCb3R0b20gPSBwaXhlbFZpZXdwb3J0LmJvdHRvbSAtIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b207XG4gICAgICAgIHRoaXMucGl4ZWxWaWV3cG9ydCA9IHBpeGVsVmlld3BvcnQ7XG4gICAgICAgIGxldCBpblZpZXcgPSB0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tID4gdGhpcy5waXhlbFZpZXdwb3J0LnRvcCAmJiB0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgPiB0aGlzLnBpeGVsVmlld3BvcnQubGVmdDtcbiAgICAgICAgaWYgKGluVmlldyAhPSB0aGlzLmluVmlldykge1xuICAgICAgICAgICAgdGhpcy5pblZpZXcgPSBpblZpZXc7XG4gICAgICAgICAgICBpZiAoaW5WaWV3KVxuICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5WaWV3ICYmICF0aGlzLnNjcm9sbFRhcmdldCAmJiAhaW5XaW5kb3codmlldy5kb20pKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCBjb250ZW50V2lkdGggPSBkb21SZWN0LndpZHRoO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50RE9NV2lkdGggIT0gY29udGVudFdpZHRoIHx8IHRoaXMuZWRpdG9ySGVpZ2h0ICE9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50RE9NV2lkdGggPSBkb21SZWN0LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3JIZWlnaHQgPSB2aWV3LnNjcm9sbERPTS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICByZXN1bHQgfD0gMTYgLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVhc3VyZUNvbnRlbnQpIHtcbiAgICAgICAgICAgIGxldCBsaW5lSGVpZ2h0cyA9IHZpZXcuZG9jVmlldy5tZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzKHRoaXMudmlld3BvcnQpO1xuICAgICAgICAgICAgaWYgKG9yYWNsZS5tdXN0UmVmcmVzaEZvckhlaWdodHMobGluZUhlaWdodHMpKVxuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHJlZnJlc2ggfHwgb3JhY2xlLmxpbmVXcmFwcGluZyAmJiBNYXRoLmFicyhjb250ZW50V2lkdGggLSB0aGlzLmNvbnRlbnRET01XaWR0aCkgPiBvcmFjbGUuY2hhcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgbGluZUhlaWdodCwgY2hhcldpZHRoLCB0ZXh0SGVpZ2h0IH0gPSB2aWV3LmRvY1ZpZXcubWVhc3VyZVRleHRTaXplKCk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaCA9IGxpbmVIZWlnaHQgPiAwICYmIG9yYWNsZS5yZWZyZXNoKHdoaXRlU3BhY2UsIGxpbmVIZWlnaHQsIGNoYXJXaWR0aCwgdGV4dEhlaWdodCwgY29udGVudFdpZHRoIC8gY2hhcldpZHRoLCBsaW5lSGVpZ2h0cyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5kb2NWaWV3Lm1pbldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0IHw9IDE2IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRUb3AgPiAwICYmIGRCb3R0b20gPiAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1heChkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRUb3AgPCAwICYmIGRCb3R0b20gPCAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1pbihkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIGNsZWFySGVpZ2h0Q2hhbmdlRmxhZygpO1xuICAgICAgICAgICAgZm9yIChsZXQgdnAgb2YgdGhpcy52aWV3cG9ydHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0cyA9IHZwLmZyb20gPT0gdGhpcy52aWV3cG9ydC5mcm9tID8gbGluZUhlaWdodHMgOiB2aWV3LmRvY1ZpZXcubWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh2cCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRNYXAgPSAocmVmcmVzaCA/IEhlaWdodE1hcC5lbXB0eSgpLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgVGV4dC5lbXB0eSwgdGhpcy5oZWlnaHRPcmFjbGUsIFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHZpZXcuc3RhdGUuZG9jLmxlbmd0aCldKSA6IHRoaXMuaGVpZ2h0TWFwKS51cGRhdGVIZWlnaHQob3JhY2xlLCAwLCByZWZyZXNoLCBuZXcgTWVhc3VyZWRIZWlnaHRzKHZwLmZyb20sIGhlaWdodHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoZWlnaHRDaGFuZ2VGbGFnKVxuICAgICAgICAgICAgICAgIHJlc3VsdCB8PSAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3cG9ydENoYW5nZSA9ICF0aGlzLnZpZXdwb3J0SXNBcHByb3ByaWF0ZSh0aGlzLnZpZXdwb3J0LCBiaWFzKSB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQgJiYgKHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPCB0aGlzLnZpZXdwb3J0LmZyb20gfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRhcmdldC5yYW5nZS5oZWFkID4gdGhpcy52aWV3cG9ydC50byk7XG4gICAgICAgIGlmICh2aWV3cG9ydENoYW5nZSkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAmIDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pXG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IHRoaXMudXBkYXRlU2NhbGVyKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydChiaWFzLCB0aGlzLnNjcm9sbFRhcmdldCk7XG4gICAgICAgICAgICByZXN1bHQgfD0gdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocmVzdWx0ICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgfHwgdmlld3BvcnRDaGFuZ2UpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoIHx8IHRoaXMudmlld3BvcnQudG8gLSB0aGlzLnZpZXdwb3J0LmZyb20gPiAoMjAwMCAvKiBMRy5NYXJnaW4gKi8gPDwgMSkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmVHYXBzKHRoaXMuZW5zdXJlTGluZUdhcHMocmVmcmVzaCA/IFtdIDogdGhpcy5saW5lR2FwcywgdmlldykpO1xuICAgICAgICByZXN1bHQgfD0gdGhpcy5jb21wdXRlVmlzaWJsZVJhbmdlcygpO1xuICAgICAgICBpZiAodGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jKSB7XG4gICAgICAgICAgICB0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgZG9uZSBpbiB0aGUgcmVhZCBzdGFnZSwgYmVjYXVzZSBtb3ZpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgLy8gdG8gYSBsaW5lIGVuZCBpcyBnb2luZyB0byB0cmlnZ2VyIGEgbGF5b3V0IGFueXdheSwgc28gaXRcbiAgICAgICAgICAgIC8vIGNhbid0IGJlIGEgcHVyZSB3cml0ZS4gSXQgc2hvdWxkIGJlIHJhcmUgdGhhdCBpdCBkb2VzIGFueVxuICAgICAgICAgICAgLy8gd3JpdGluZy5cbiAgICAgICAgICAgIHZpZXcuZG9jVmlldy5lbmZvcmNlQ3Vyc29yQXNzb2MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBnZXQgdmlzaWJsZVRvcCgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LnRvcCk7IH1cbiAgICBnZXQgdmlzaWJsZUJvdHRvbSgpIHsgcmV0dXJuIHRoaXMuc2NhbGVyLmZyb21ET00odGhpcy5waXhlbFZpZXdwb3J0LmJvdHRvbSk7IH1cbiAgICBnZXRWaWV3cG9ydChiaWFzLCBzY3JvbGxUYXJnZXQpIHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGRpdmlkZSBWUC5NYXJnaW4gYmV0d2VlbiB0aGUgdG9wIGFuZCB0aGVcbiAgICAgICAgLy8gYm90dG9tLCBkZXBlbmRpbmcgb24gdGhlIGJpYXMgKHRoZSBjaGFuZ2UgaW4gdmlld3BvcnQgcG9zaXRpb25cbiAgICAgICAgLy8gc2luY2UgdGhlIGxhc3QgdXBkYXRlKS4gSXQnbGwgaG9sZCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgICAgbGV0IG1hcmdpblRvcCA9IDAuNSAtIE1hdGgubWF4KC0wLjUsIE1hdGgubWluKDAuNSwgYmlhcyAvIDEwMDAgLyogVlAuTWFyZ2luICovIC8gMikpO1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5oZWlnaHRNYXAsIG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgeyB2aXNpYmxlVG9wLCB2aXNpYmxlQm90dG9tIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh2aXNpYmxlVG9wIC0gbWFyZ2luVG9wICogMTAwMCAvKiBWUC5NYXJnaW4gKi8sIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHZpc2libGVCb3R0b20gKyAoMSAtIG1hcmdpblRvcCkgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLywgUXVlcnlUeXBlLkJ5SGVpZ2h0LCBvcmFjbGUsIDAsIDApLnRvKTtcbiAgICAgICAgLy8gSWYgc2Nyb2xsVGFyZ2V0IGlzIGdpdmVuLCBtYWtlIHN1cmUgdGhlIHZpZXdwb3J0IGluY2x1ZGVzIHRoYXQgcG9zaXRpb25cbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldCkge1xuICAgICAgICAgICAgbGV0IHsgaGVhZCB9ID0gc2Nyb2xsVGFyZ2V0LnJhbmdlO1xuICAgICAgICAgICAgaWYgKGhlYWQgPCB2aWV3cG9ydC5mcm9tIHx8IGhlYWQgPiB2aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgIGxldCB2aWV3SGVpZ2h0ID0gTWF0aC5taW4odGhpcy5lZGl0b3JIZWlnaHQsIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b20gLSB0aGlzLnBpeGVsVmlld3BvcnQudG9wKTtcbiAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSBtYXAubGluZUF0KGhlYWQsIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKSwgdG9wUG9zO1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcImNlbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSAoYmxvY2sudG9wICsgYmxvY2suYm90dG9tKSAvIDIgLSB2aWV3SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzY3JvbGxUYXJnZXQueSA9PSBcInN0YXJ0XCIgfHwgc2Nyb2xsVGFyZ2V0LnkgPT0gXCJuZWFyZXN0XCIgJiYgaGVhZCA8IHZpZXdwb3J0LmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IGJsb2NrLmJvdHRvbSAtIHZpZXdIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQgPSBuZXcgVmlld3BvcnQobWFwLmxpbmVBdCh0b3BQb3MgLSAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS5mcm9tLCBtYXAubGluZUF0KHRvcFBvcyArIHZpZXdIZWlnaHQgKyAxMDAwIC8qIFZQLk1hcmdpbiAqLyAvIDIsIFF1ZXJ5VHlwZS5CeUhlaWdodCwgb3JhY2xlLCAwLCAwKS50byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0O1xuICAgIH1cbiAgICBtYXBWaWV3cG9ydCh2aWV3cG9ydCwgY2hhbmdlcykge1xuICAgICAgICBsZXQgZnJvbSA9IGNoYW5nZXMubWFwUG9zKHZpZXdwb3J0LmZyb20sIC0xKSwgdG8gPSBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC50bywgMSk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld3BvcnQodGhpcy5oZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLmZyb20sIHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCkudG8pO1xuICAgIH1cbiAgICAvLyBDaGVja3MgaWYgYSBnaXZlbiB2aWV3cG9ydCBjb3ZlcnMgdGhlIHZpc2libGUgcGFydCBvZiB0aGVcbiAgICAvLyBkb2N1bWVudCBhbmQgbm90IHRvbyBtdWNoIGJleW9uZCB0aGF0LlxuICAgIHZpZXdwb3J0SXNBcHByb3ByaWF0ZSh7IGZyb20sIHRvIH0sIGJpYXMgPSAwKSB7XG4gICAgICAgIGlmICghdGhpcy5pblZpZXcpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHsgdG9wIH0gPSB0aGlzLmhlaWdodE1hcC5saW5lQXQoZnJvbSwgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCk7XG4gICAgICAgIGxldCB7IGJvdHRvbSB9ID0gdGhpcy5oZWlnaHRNYXAubGluZUF0KHRvLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKTtcbiAgICAgICAgbGV0IHsgdmlzaWJsZVRvcCwgdmlzaWJsZUJvdHRvbSB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChmcm9tID09IDAgfHwgdG9wIDw9IHZpc2libGVUb3AgLSBNYXRoLm1heCgxMCAvKiBWUC5NaW5Db3Zlck1hcmdpbiAqLywgTWF0aC5taW4oLWJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvID09IHRoaXMuc3RhdGUuZG9jLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIGJvdHRvbSA+PSB2aXNpYmxlQm90dG9tICsgTWF0aC5tYXgoMTAgLyogVlAuTWluQ292ZXJNYXJnaW4gKi8sIE1hdGgubWluKGJpYXMsIDI1MCAvKiBWUC5NYXhDb3Zlck1hcmdpbiAqLykpKSAmJlxuICAgICAgICAgICAgKHRvcCA+IHZpc2libGVUb3AgLSAyICogMTAwMCAvKiBWUC5NYXJnaW4gKi8gJiYgYm90dG9tIDwgdmlzaWJsZUJvdHRvbSArIDIgKiAxMDAwIC8qIFZQLk1hcmdpbiAqLyk7XG4gICAgfVxuICAgIG1hcExpbmVHYXBzKGdhcHMsIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCFnYXBzLmxlbmd0aCB8fCBjaGFuZ2VzLmVtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIGdhcHM7XG4gICAgICAgIGxldCBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICBpZiAoIWNoYW5nZXMudG91Y2hlc1JhbmdlKGdhcC5mcm9tLCBnYXAudG8pKVxuICAgICAgICAgICAgICAgIG1hcHBlZC5wdXNoKG5ldyBMaW5lR2FwKGNoYW5nZXMubWFwUG9zKGdhcC5mcm9tKSwgY2hhbmdlcy5tYXBQb3MoZ2FwLnRvKSwgZ2FwLnNpemUsIGdhcC5kaXNwbGF5U2l6ZSkpO1xuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH1cbiAgICAvLyBDb21wdXRlcyBwb3NpdGlvbnMgaW4gdGhlIHZpZXdwb3J0IHdoZXJlIHRoZSBzdGFydCBvciBlbmQgb2YgYVxuICAgIC8vIGxpbmUgc2hvdWxkIGJlIGhpZGRlbiwgdHJ5aW5nIHRvIHJldXNlIGV4aXN0aW5nIGxpbmUgZ2FwcyB3aGVuXG4gICAgLy8gYXBwcm9wcmlhdGUgdG8gYXZvaWQgdW5uZWNjZXNhcnkgcmVkcmF3cy5cbiAgICAvLyBVc2VzIGNydWRlIGNoYXJhY3Rlci1jb3VudGluZyBmb3IgdGhlIHBvc2l0aW9uaW5nIGFuZCBzaXppbmcsXG4gICAgLy8gc2luY2UgYWN0dWFsIERPTSBjb29yZGluYXRlcyBhcmVuJ3QgYWx3YXlzIGF2YWlsYWJsZSBhbmRcbiAgICAvLyBwcmVkaWN0YWJsZS4gUmVsaWVzIG9uIGdlbmVyb3VzIG1hcmdpbnMgKHNlZSBMRy5NYXJnaW4pIHRvIGhpZGVcbiAgICAvLyB0aGUgYXJ0aWZhY3RzIHRoaXMgbWlnaHQgcHJvZHVjZSBmcm9tIHRoZSB1c2VyLlxuICAgIGVuc3VyZUxpbmVHYXBzKGN1cnJlbnQsIG1heU1lYXN1cmUpIHtcbiAgICAgICAgbGV0IHdyYXBwaW5nID0gdGhpcy5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nO1xuICAgICAgICBsZXQgbWFyZ2luID0gd3JhcHBpbmcgPyAxMDAwMCAvKiBMRy5NYXJnaW5XcmFwICovIDogMjAwMCAvKiBMRy5NYXJnaW4gKi8sIGhhbGZNYXJnaW4gPSBtYXJnaW4gPj4gMSwgZG91YmxlTWFyZ2luID0gbWFyZ2luIDw8IDE7XG4gICAgICAgIC8vIFRoZSBub24td3JhcHBpbmcgbG9naWMgd29uJ3Qgd29yayBhdCBhbGwgaW4gcHJlZG9taW5hbnRseSByaWdodC10by1sZWZ0IHRleHQuXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRUZXh0RGlyZWN0aW9uICE9IERpcmVjdGlvbi5MVFIgJiYgIXdyYXBwaW5nKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgZ2FwcyA9IFtdO1xuICAgICAgICBsZXQgYWRkR2FwID0gKGZyb20sIHRvLCBsaW5lLCBzdHJ1Y3R1cmUpID0+IHtcbiAgICAgICAgICAgIGlmICh0byAtIGZyb20gPCBoYWxmTWFyZ2luKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBzZWwgPSB0aGlzLnN0YXRlLnNlbGVjdGlvbi5tYWluLCBhdm9pZCA9IFtzZWwuZnJvbV07XG4gICAgICAgICAgICBpZiAoIXNlbC5lbXB0eSlcbiAgICAgICAgICAgICAgICBhdm9pZC5wdXNoKHNlbC50byk7XG4gICAgICAgICAgICBmb3IgKGxldCBwb3Mgb2YgYXZvaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gZnJvbSAmJiBwb3MgPCB0bykge1xuICAgICAgICAgICAgICAgICAgICBhZGRHYXAoZnJvbSwgcG9zIC0gMTAgLyogTEcuU2VsZWN0aW9uTWFyZ2luICovLCBsaW5lLCBzdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRHYXAocG9zICsgMTAgLyogTEcuU2VsZWN0aW9uTWFyZ2luICovLCB0bywgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBnYXAgPSBmaW5kKGN1cnJlbnQsIGdhcCA9PiBnYXAuZnJvbSA+PSBsaW5lLmZyb20gJiYgZ2FwLnRvIDw9IGxpbmUudG8gJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhnYXAuZnJvbSAtIGZyb20pIDwgaGFsZk1hcmdpbiAmJiBNYXRoLmFicyhnYXAudG8gLSB0bykgPCBoYWxmTWFyZ2luICYmXG4gICAgICAgICAgICAgICAgIWF2b2lkLnNvbWUocG9zID0+IGdhcC5mcm9tIDwgcG9zICYmIGdhcC50byA+IHBvcykpO1xuICAgICAgICAgICAgaWYgKCFnYXApIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHNjcm9sbGluZyBkb3duLCBzbmFwIGdhcCBlbmRzIHRvIGxpbmUgc3RhcnRzIHRvIGF2b2lkIHNoaWZ0cyBpbiB3cmFwcGluZ1xuICAgICAgICAgICAgICAgIGlmICh0byA8IGxpbmUudG8gJiYgbWF5TWVhc3VyZSAmJiB3cmFwcGluZyAmJlxuICAgICAgICAgICAgICAgICAgICBtYXlNZWFzdXJlLnZpc2libGVSYW5nZXMuc29tZShyID0+IHIuZnJvbSA8PSB0byAmJiByLnRvID49IHRvKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZVN0YXJ0ID0gbWF5TWVhc3VyZS5tb3ZlVG9MaW5lQm91bmRhcnkoRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih0byksIGZhbHNlLCB0cnVlKS5oZWFkO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVN0YXJ0ID4gZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvID0gbGluZVN0YXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuZ2FwU2l6ZShsaW5lLCBmcm9tLCB0bywgc3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICBsZXQgZGlzcGxheVNpemUgPSB3cmFwcGluZyB8fCBzaXplIDwgMjAwMDAwMCAvKiBWUC5NYXhIb3JpekdhcCAqLyA/IHNpemUgOiAyMDAwMDAwIC8qIFZQLk1heEhvcml6R2FwICovO1xuICAgICAgICAgICAgICAgIGdhcCA9IG5ldyBMaW5lR2FwKGZyb20sIHRvLCBzaXplLCBkaXNwbGF5U2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBzLnB1c2goZ2FwKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNoZWNrTGluZSA9IChsaW5lKSA9PiB7XG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPCBkb3VibGVNYXJnaW4gfHwgbGluZS50eXBlICE9IEJsb2NrVHlwZS5UZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmUgPSBsaW5lU3RydWN0dXJlKGxpbmUuZnJvbSwgbGluZS50bywgdGhpcy5zdGF0ZURlY28pO1xuICAgICAgICAgICAgaWYgKHN0cnVjdHVyZS50b3RhbCA8IGRvdWJsZU1hcmdpbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zY3JvbGxUYXJnZXQgPyB0aGlzLnNjcm9sbFRhcmdldC5yYW5nZS5oZWFkIDogbnVsbDtcbiAgICAgICAgICAgIGxldCB2aWV3RnJvbSwgdmlld1RvO1xuICAgICAgICAgICAgaWYgKHdyYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbkhlaWdodCA9IChtYXJnaW4gLyB0aGlzLmhlaWdodE9yYWNsZS5saW5lTGVuZ3RoKSAqIHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IHRvcCwgYm90O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RnJhYyA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGFjZUZyYWMgPSAoKHRoaXMudmlzaWJsZUJvdHRvbSAtIHRoaXMudmlzaWJsZVRvcCkgLyAyICsgbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSB0YXJnZXRGcmFjIC0gc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgICAgICBib3QgPSB0YXJnZXRGcmFjICsgc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gKHRoaXMudmlzaWJsZVRvcCAtIGxpbmUudG9wIC0gbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBib3QgPSAodGhpcy52aXNpYmxlQm90dG9tIC0gbGluZS50b3AgKyBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXdGcm9tID0gZmluZFBvc2l0aW9uKHN0cnVjdHVyZSwgdG9wKTtcbiAgICAgICAgICAgICAgICB2aWV3VG8gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCBib3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsV2lkdGggPSBzdHJ1Y3R1cmUudG90YWwgKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbldpZHRoID0gbWFyZ2luICogdGhpcy5oZWlnaHRPcmFjbGUuY2hhcldpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBob3Jpek9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsV2lkdGggPiAyMDAwMDAwIC8qIFZQLk1heEhvcml6R2FwICovKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBvbGQgb2YgY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZC5mcm9tID49IGxpbmUuZnJvbSAmJiBvbGQuZnJvbSA8IGxpbmUudG8gJiYgb2xkLnNpemUgIT0gb2xkLmRpc3BsYXlTaXplICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkLmZyb20gKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGggKyBob3Jpek9mZnNldCA8IHRoaXMucGl4ZWxWaWV3cG9ydC5sZWZ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6T2Zmc2V0ID0gb2xkLnNpemUgLSBvbGQuZGlzcGxheVNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcHhMZWZ0ID0gdGhpcy5waXhlbFZpZXdwb3J0LmxlZnQgKyBob3Jpek9mZnNldCwgcHhSaWdodCA9IHRoaXMucGl4ZWxWaWV3cG9ydC5yaWdodCArIGhvcml6T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGxldCBsZWZ0LCByaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldEZyYWMgPSBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BhY2VGcmFjID0gKChweFJpZ2h0IC0gcHhMZWZ0KSAvIDIgKyBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gdGFyZ2V0RnJhYyAtIHNwYWNlRnJhYztcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSB0YXJnZXRGcmFjICsgc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IChweExlZnQgLSBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IChweFJpZ2h0ICsgbWFyZ2luV2lkdGgpIC8gdG90YWxXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlld0Zyb20gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCBsZWZ0KTtcbiAgICAgICAgICAgICAgICB2aWV3VG8gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCByaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlld0Zyb20gPiBsaW5lLmZyb20pXG4gICAgICAgICAgICAgICAgYWRkR2FwKGxpbmUuZnJvbSwgdmlld0Zyb20sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgICAgICBpZiAodmlld1RvIDwgbGluZS50bylcbiAgICAgICAgICAgICAgICBhZGRHYXAodmlld1RvLCBsaW5lLnRvLCBsaW5lLCBzdHJ1Y3R1cmUpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMudmlld3BvcnRMaW5lcykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSlcbiAgICAgICAgICAgICAgICBsaW5lLnR5cGUuZm9yRWFjaChjaGVja0xpbmUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNoZWNrTGluZShsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FwcztcbiAgICB9XG4gICAgZ2FwU2l6ZShsaW5lLCBmcm9tLCB0bywgc3RydWN0dXJlKSB7XG4gICAgICAgIGxldCBmcmFjdGlvbiA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRvKSAtIGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIGZyb20pO1xuICAgICAgICBpZiAodGhpcy5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZS5oZWlnaHQgKiBmcmFjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3R1cmUudG90YWwgKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGggKiBmcmFjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVMaW5lR2FwcyhnYXBzKSB7XG4gICAgICAgIGlmICghTGluZUdhcC5zYW1lKGdhcHMsIHRoaXMubGluZUdhcHMpKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVHYXBzID0gZ2FwcztcbiAgICAgICAgICAgIHRoaXMubGluZUdhcERlY28gPSBEZWNvcmF0aW9uLnNldChnYXBzLm1hcChnYXAgPT4gZ2FwLmRyYXcodGhpcywgdGhpcy5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVWaXNpYmxlUmFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGRlY28gPSB0aGlzLnN0YXRlRGVjbztcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoKVxuICAgICAgICAgICAgZGVjbyA9IGRlY28uY29uY2F0KHRoaXMubGluZUdhcERlY28pO1xuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIFJhbmdlU2V0LnNwYW5zKGRlY28sIHRoaXMudmlld3BvcnQuZnJvbSwgdGhpcy52aWV3cG9ydC50bywge1xuICAgICAgICAgICAgc3Bhbihmcm9tLCB0bykgeyByYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pOyB9LFxuICAgICAgICAgICAgcG9pbnQoKSB7IH1cbiAgICAgICAgfSwgMjApO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IDA7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoICE9IHRoaXMudmlzaWJsZVJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSA4IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnRNb3ZlZCAqLyB8IDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aCAmJiAhKGNoYW5nZWQgJiA4IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnRNb3ZlZCAqLyk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBvbGQgPSB0aGlzLnZpc2libGVSYW5nZXNbaV0sIG53ID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvbGQuZnJvbSAhPSBudy5mcm9tIHx8IG9sZC50byAhPSBudy50bykge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkIHw9IDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoY2hhbmdlcyAmJiBjaGFuZ2VzLm1hcFBvcyhvbGQuZnJvbSwgLTEpID09IG53LmZyb20gJiYgY2hhbmdlcy5tYXBQb3Mob2xkLnRvLCAxKSA9PSBudy50bykpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkIHw9IDggLyogVXBkYXRlRmxhZy5WaWV3cG9ydE1vdmVkICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBsaW5lQmxvY2tBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIChwb3MgPj0gdGhpcy52aWV3cG9ydC5mcm9tICYmIHBvcyA8PSB0aGlzLnZpZXdwb3J0LnRvICYmXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0TGluZXMuZmluZChiID0+IGIuZnJvbSA8PSBwb3MgJiYgYi50byA+PSBwb3MpKSB8fFxuICAgICAgICAgICAgc2NhbGVCbG9jayh0aGlzLmhlaWdodE1hcC5saW5lQXQocG9zLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuaGVpZ2h0T3JhY2xlLCAwLCAwKSwgdGhpcy5zY2FsZXIpO1xuICAgIH1cbiAgICBsaW5lQmxvY2tBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIChoZWlnaHQgPj0gdGhpcy52aWV3cG9ydExpbmVzWzBdLnRvcCAmJiBoZWlnaHQgPD0gdGhpcy52aWV3cG9ydExpbmVzW3RoaXMudmlld3BvcnRMaW5lcy5sZW5ndGggLSAxXS5ib3R0b20gJiZcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRMaW5lcy5maW5kKGwgPT4gbC50b3AgPD0gaGVpZ2h0ICYmIGwuYm90dG9tID49IGhlaWdodCkpIHx8XG4gICAgICAgICAgICBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0aGlzLnNjYWxlci5mcm9tRE9NKGhlaWdodCksIFF1ZXJ5VHlwZS5CeUhlaWdodCwgdGhpcy5oZWlnaHRPcmFjbGUsIDAsIDApLCB0aGlzLnNjYWxlcik7XG4gICAgfVxuICAgIHNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCkge1xuICAgICAgICBsZXQgYmxvY2sgPSB0aGlzLmxpbmVCbG9ja0F0SGVpZ2h0KHNjcm9sbFRvcCArIDgpO1xuICAgICAgICByZXR1cm4gYmxvY2suZnJvbSA+PSB0aGlzLnZpZXdwb3J0LmZyb20gfHwgdGhpcy52aWV3cG9ydExpbmVzWzBdLnRvcCAtIHNjcm9sbFRvcCA+IDIwMCA/IGJsb2NrIDogdGhpcy52aWV3cG9ydExpbmVzWzBdO1xuICAgIH1cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmJsb2NrQXQodGhpcy5zY2FsZXIuZnJvbURPTShoZWlnaHQpLCB0aGlzLmhlaWdodE9yYWNsZSwgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgZ2V0IGRvY0hlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVyLnRvRE9NKHRoaXMuaGVpZ2h0TWFwLmhlaWdodCk7XG4gICAgfVxuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NIZWlnaHQgKyB0aGlzLnBhZGRpbmdUb3AgKyB0aGlzLnBhZGRpbmdCb3R0b207XG4gICAgfVxufVxuY2xhc3MgVmlld3BvcnQge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG59XG5mdW5jdGlvbiBsaW5lU3RydWN0dXJlKGZyb20sIHRvLCBzdGF0ZURlY28pIHtcbiAgICBsZXQgcmFuZ2VzID0gW10sIHBvcyA9IGZyb20sIHRvdGFsID0gMDtcbiAgICBSYW5nZVNldC5zcGFucyhzdGF0ZURlY28sIGZyb20sIHRvLCB7XG4gICAgICAgIHNwYW4oKSB7IH0sXG4gICAgICAgIHBvaW50KGZyb20sIHRvKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA+IHBvcykge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogcG9zLCB0bzogZnJvbSB9KTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBmcm9tIC0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gdG87XG4gICAgICAgIH1cbiAgICB9LCAyMCk7IC8vIFdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiBjb2xsYXBzZWQgcmFuZ2VzIG9mIGEgc2lnbmlmaWNhbnQgc2l6ZVxuICAgIGlmIChwb3MgPCB0bykge1xuICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IHBvcywgdG8gfSk7XG4gICAgICAgIHRvdGFsICs9IHRvIC0gcG9zO1xuICAgIH1cbiAgICByZXR1cm4geyB0b3RhbCwgcmFuZ2VzIH07XG59XG5mdW5jdGlvbiBmaW5kUG9zaXRpb24oeyB0b3RhbCwgcmFuZ2VzIH0sIHJhdGlvKSB7XG4gICAgaWYgKHJhdGlvIDw9IDApXG4gICAgICAgIHJldHVybiByYW5nZXNbMF0uZnJvbTtcbiAgICBpZiAocmF0aW8gPj0gMSlcbiAgICAgICAgcmV0dXJuIHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgbGV0IGRpc3QgPSBNYXRoLmZsb29yKHRvdGFsICogcmF0aW8pO1xuICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZXNbaV0sIHNpemUgPSB0byAtIGZyb207XG4gICAgICAgIGlmIChkaXN0IDw9IHNpemUpXG4gICAgICAgICAgICByZXR1cm4gZnJvbSArIGRpc3Q7XG4gICAgICAgIGRpc3QgLT0gc2l6ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCBwb3MpIHtcbiAgICBsZXQgY291bnRlZCA9IDA7XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHN0cnVjdHVyZS5yYW5nZXMpIHtcbiAgICAgICAgaWYgKHBvcyA8PSB0bykge1xuICAgICAgICAgICAgY291bnRlZCArPSBwb3MgLSBmcm9tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRlZCArPSB0byAtIGZyb207XG4gICAgfVxuICAgIHJldHVybiBjb3VudGVkIC8gc3RydWN0dXJlLnRvdGFsO1xufVxuZnVuY3Rpb24gZmluZChhcnJheSwgZikge1xuICAgIGZvciAobGV0IHZhbCBvZiBhcnJheSlcbiAgICAgICAgaWYgKGYodmFsKSlcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIERvbid0IHNjYWxlIHdoZW4gdGhlIGRvY3VtZW50IGhlaWdodCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHdoYXRcbi8vIHRoZSBET00gY2FuIGhhbmRsZS5cbmNvbnN0IElkU2NhbGVyID0ge1xuICAgIHRvRE9NKG4pIHsgcmV0dXJuIG47IH0sXG4gICAgZnJvbURPTShuKSB7IHJldHVybiBuOyB9LFxuICAgIHNjYWxlOiAxLFxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlciA9PSB0aGlzOyB9XG59O1xuLy8gV2hlbiB0aGUgaGVpZ2h0IGlzIHRvbyBiaWcgKD4gVlAuTWF4RE9NSGVpZ2h0KSwgc2NhbGUgZG93biB0aGVcbi8vIHJlZ2lvbnMgb3V0c2lkZSB0aGUgdmlld3BvcnRzIHNvIHRoYXQgdGhlIHRvdGFsIGhlaWdodCBpc1xuLy8gVlAuTWF4RE9NSGVpZ2h0LlxuY2xhc3MgQmlnU2NhbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcmFjbGUsIGhlaWdodE1hcCwgdmlld3BvcnRzKSB7XG4gICAgICAgIGxldCB2cEhlaWdodCA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDtcbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMubWFwKCh7IGZyb20sIHRvIH0pID0+IHtcbiAgICAgICAgICAgIGxldCB0b3AgPSBoZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgb3JhY2xlLCAwLCAwKS50b3A7XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCBvcmFjbGUsIDAsIDApLmJvdHRvbTtcbiAgICAgICAgICAgIHZwSGVpZ2h0ICs9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb20sIHRvLCB0b3AsIGJvdHRvbSwgZG9tVG9wOiAwLCBkb21Cb3R0b206IDAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAoNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gLSB2cEhlaWdodCkgLyAoaGVpZ2h0TWFwLmhlaWdodCAtIHZwSGVpZ2h0KTtcbiAgICAgICAgZm9yIChsZXQgb2JqIG9mIHRoaXMudmlld3BvcnRzKSB7XG4gICAgICAgICAgICBvYmouZG9tVG9wID0gZG9tQmFzZSArIChvYmoudG9wIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgZG9tQmFzZSA9IG9iai5kb21Cb3R0b20gPSBvYmouZG9tVG9wICsgKG9iai5ib3R0b20gLSBvYmoudG9wKTtcbiAgICAgICAgICAgIGJhc2UgPSBvYmouYm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLnRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tQmFzZSArIChuIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuYm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC5kb21Ub3AgKyAobiAtIHZwLnRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmcm9tRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLmRvbVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIChuIC0gZG9tQmFzZSkgLyB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuZG9tQm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC50b3AgKyAobiAtIHZwLmRvbVRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEJpZ1NjYWxlcikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlID09IG90aGVyLnNjYWxlICYmIHRoaXMudmlld3BvcnRzLmxlbmd0aCA9PSBvdGhlci52aWV3cG9ydHMubGVuZ3RoICYmXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0cy5ldmVyeSgodnAsIGkpID0+IHZwLmZyb20gPT0gb3RoZXIudmlld3BvcnRzW2ldLmZyb20gJiYgdnAudG8gPT0gb3RoZXIudmlld3BvcnRzW2ldLnRvKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzY2FsZUJsb2NrKGJsb2NrLCBzY2FsZXIpIHtcbiAgICBpZiAoc2NhbGVyLnNjYWxlID09IDEpXG4gICAgICAgIHJldHVybiBibG9jaztcbiAgICBsZXQgYlRvcCA9IHNjYWxlci50b0RPTShibG9jay50b3ApLCBiQm90dG9tID0gc2NhbGVyLnRvRE9NKGJsb2NrLmJvdHRvbSk7XG4gICAgcmV0dXJuIG5ldyBCbG9ja0luZm8oYmxvY2suZnJvbSwgYmxvY2subGVuZ3RoLCBiVG9wLCBiQm90dG9tIC0gYlRvcCwgQXJyYXkuaXNBcnJheShibG9jay5fY29udGVudCkgPyBibG9jay5fY29udGVudC5tYXAoYiA9PiBzY2FsZUJsb2NrKGIsIHNjYWxlcikpIDogYmxvY2suX2NvbnRlbnQpO1xufVxuXG5jb25zdCB0aGVtZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiBzdHJzID0+IHN0cnMuam9pbihcIiBcIikgfSk7XG5jb25zdCBkYXJrVGhlbWUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgY29tYmluZTogdmFsdWVzID0+IHZhbHVlcy5pbmRleE9mKHRydWUpID4gLTEgfSk7XG5jb25zdCBiYXNlVGhlbWVJRCA9IC8qQF9fUFVSRV9fKi9TdHlsZU1vZHVsZS5uZXdOYW1lKCksIGJhc2VMaWdodElEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKSwgYmFzZURhcmtJRCA9IC8qQF9fUFVSRV9fKi9TdHlsZU1vZHVsZS5uZXdOYW1lKCk7XG5jb25zdCBsaWdodERhcmtJRHMgPSB7IFwiJmxpZ2h0XCI6IFwiLlwiICsgYmFzZUxpZ2h0SUQsIFwiJmRhcmtcIjogXCIuXCIgKyBiYXNlRGFya0lEIH07XG5mdW5jdGlvbiBidWlsZFRoZW1lKG1haW4sIHNwZWMsIHNjb3Blcykge1xuICAgIHJldHVybiBuZXcgU3R5bGVNb2R1bGUoc3BlYywge1xuICAgICAgICBmaW5pc2goc2VsKSB7XG4gICAgICAgICAgICByZXR1cm4gLyYvLnRlc3Qoc2VsKSA/IHNlbC5yZXBsYWNlKC8mXFx3Ki8sIG0gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtID09IFwiJlwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFpbjtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlcyB8fCAhc2NvcGVzW21dKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVW5zdXBwb3J0ZWQgc2VsZWN0b3I6ICR7bX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVzW21dO1xuICAgICAgICAgICAgfSkgOiBtYWluICsgXCIgXCIgKyBzZWw7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmNvbnN0IGJhc2VUaGVtZSQxID0gLypAX19QVVJFX18qL2J1aWxkVGhlbWUoXCIuXCIgKyBiYXNlVGhlbWVJRCwge1xuICAgIFwiJlwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlICFpbXBvcnRhbnRcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgXCImLmNtLWZvY3VzZWRcIjoge1xuICAgICAgICAgICAgLy8gUHJvdmlkZSBhIHNpbXBsZSBkZWZhdWx0IG91dGxpbmUgdG8gbWFrZSBzdXJlIGEgZm9jdXNlZFxuICAgICAgICAgICAgLy8gZWRpdG9yIGlzIHZpc3VhbGx5IGRpc3RpbmN0LiBDYW4ndCBsZWF2ZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdpbGwgYXBwbHkgdG8gdGhlIGNvbnRlbnQgZWxlbWVudCwgd2hpY2ggaXNcbiAgICAgICAgICAgIC8vIGluc2lkZSB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIgYW5kIGRvZXNuJ3QgaW5jbHVkZSB0aGVcbiAgICAgICAgICAgIC8vIGd1dHRlcnMuIFdlIGFsc28gY2FuJ3QgdXNlIGFuICdhdXRvJyBvdXRsaW5lLCBzaW5jZSB0aG9zZVxuICAgICAgICAgICAgLy8gYXJlLCBmb3Igc29tZSByZWFzb24sIGRyYXduIGJlaGluZCB0aGUgZWxlbWVudCBjb250ZW50LCB3aGljaFxuICAgICAgICAgICAgLy8gd2lsbCBjYXVzZSB0aGluZ3MgbGlrZSB0aGUgYWN0aXZlIGxpbmUgYmFja2dyb3VuZCB0byBjb3ZlclxuICAgICAgICAgICAgLy8gdGhlIG91dGxpbmUgKCMyOTcpLlxuICAgICAgICAgICAgb3V0bGluZTogXCIxcHggZG90dGVkICMyMTIxMjFcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNwbGF5OiBcImZsZXggIWltcG9ydGFudFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiXG4gICAgfSxcbiAgICBcIi5jbS1zY3JvbGxlclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuNCxcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3dYOiBcImF1dG9cIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgekluZGV4OiAwLFxuICAgICAgICBvdmVyZmxvd0FuY2hvcjogXCJub25lXCIsXG4gICAgfSxcbiAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICBmbGV4R3JvdzogMixcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcInByZVwiLFxuICAgICAgICB3b3JkV3JhcDogXCJub3JtYWxcIiwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy80NTZcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgcGFkZGluZzogXCI0cHggMFwiLFxuICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgXCImW2NvbnRlbnRlZGl0YWJsZT10cnVlXVwiOiB7XG4gICAgICAgICAgICBXZWJraXRVc2VyTW9kaWZ5OiBcInJlYWQtd3JpdGUtcGxhaW50ZXh0LW9ubHlcIixcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuY20tbGluZVdyYXBwaW5nXCI6IHtcbiAgICAgICAgd2hpdGVTcGFjZV9mYWxsYmFjazogXCJwcmUtd3JhcFwiLCAvLyBGb3IgSUVcbiAgICAgICAgd2hpdGVTcGFjZTogXCJicmVhay1zcGFjZXNcIixcbiAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLXdvcmRcIiwgLy8gRm9yIFNhZmFyaSwgd2hpY2ggZG9lc24ndCBzdXBwb3J0IG92ZXJmbG93LXdyYXA6IGFueXdoZXJlXG4gICAgICAgIG92ZXJmbG93V3JhcDogXCJhbnl3aGVyZVwiLFxuICAgICAgICBmbGV4U2hyaW5rOiAxXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tY29udGVudFwiOiB7IGNhcmV0Q29sb3I6IFwiYmxhY2tcIiB9LFxuICAgIFwiJmRhcmsgLmNtLWNvbnRlbnRcIjogeyBjYXJldENvbG9yOiBcIndoaXRlXCIgfSxcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICBwYWRkaW5nOiBcIjAgMnB4IDAgNnB4XCJcbiAgICB9LFxuICAgIFwiLmNtLWxheWVyXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBjb250YWluOiBcInNpemUgc3R5bGVcIixcbiAgICAgICAgXCImID4gKlwiOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZDlkOWQ5XCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMjJcIlxuICAgIH0sXG4gICAgXCImbGlnaHQuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1zZWxlY3Rpb25MYXllciAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2Q3ZDRmMFwiXG4gICAgfSxcbiAgICBcIiZkYXJrLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tc2VsZWN0aW9uTGF5ZXIgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMzNcIlxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgIH0sXG4gICAgXCImLmNtLWZvY3VzZWQgPiAuY20tc2Nyb2xsZXIgPiAuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICBhbmltYXRpb246IFwic3RlcHMoMSkgY20tYmxpbmsgMS4ycyBpbmZpbml0ZVwiXG4gICAgfSxcbiAgICAvLyBUd28gYW5pbWF0aW9ucyBkZWZpbmVkIHNvIHRoYXQgd2UgY2FuIHN3aXRjaCBiZXR3ZWVuIHRoZW0gdG9cbiAgICAvLyByZXN0YXJ0IHRoZSBhbmltYXRpb24gd2l0aG91dCBmb3JjaW5nIGFub3RoZXIgc3R5bGVcbiAgICAvLyByZWNvbXB1dGF0aW9uLlxuICAgIFwiQGtleWZyYW1lcyBjbS1ibGlua1wiOiB7IFwiMCVcIjoge30sIFwiNTAlXCI6IHsgb3BhY2l0eTogMCB9LCBcIjEwMCVcIjoge30gfSxcbiAgICBcIkBrZXlmcmFtZXMgY20tYmxpbmsyXCI6IHsgXCIwJVwiOiB7fSwgXCI1MCVcIjogeyBvcGFjaXR5OiAwIH0sIFwiMTAwJVwiOiB7fSB9LFxuICAgIFwiLmNtLWN1cnNvciwgLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgICBib3JkZXJMZWZ0OiBcIjEuMnB4IHNvbGlkIGJsYWNrXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLTAuNnB4XCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWN1cnNvclwiOiB7XG4gICAgICAgIGJvcmRlckxlZnRDb2xvcjogXCIjZGRkXCJcbiAgICB9LFxuICAgIFwiLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgfSxcbiAgICBcIiYuY20tZm9jdXNlZCA+IC5jbS1zY3JvbGxlciA+IC5jbS1jdXJzb3JMYXllciAuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfSxcbiAgICBcIi5jbS1pc29cIjoge1xuICAgICAgICB1bmljb2RlQmlkaTogXCJpc29sYXRlXCJcbiAgICB9LFxuICAgIFwiLmNtLWFubm91bmNlZFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHRvcDogXCItMTAwMDBweFwiXG4gICAgfSxcbiAgICBcIkBtZWRpYSBwcmludFwiOiB7XG4gICAgICAgIFwiLmNtLWFubm91bmNlZFwiOiB7IGRpc3BsYXk6IFwibm9uZVwiIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1hY3RpdmVMaW5lXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNjY2VlZmY0NFwiIH0sXG4gICAgXCImZGFyayAuY20tYWN0aXZlTGluZVwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjOTllZWZmMzNcIiB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zcGVjaWFsQ2hhclwiOiB7IGNvbG9yOiBcInJlZFwiIH0sXG4gICAgXCImZGFyayAuY20tc3BlY2lhbENoYXJcIjogeyBjb2xvcjogXCIjZjc4XCIgfSxcbiAgICBcIi5jbS1ndXR0ZXJzXCI6IHtcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIGluc2V0SW5saW5lU3RhcnQ6IDAsXG4gICAgICAgIHpJbmRleDogMjAwXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCIsXG4gICAgICAgIGNvbG9yOiBcIiM2YzZjNmNcIixcbiAgICAgICAgYm9yZGVyUmlnaHQ6IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgIGNvbG9yOiBcIiNjY2NcIlxuICAgIH0sXG4gICAgXCIuY20tZ3V0dGVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4ICFpbXBvcnRhbnRcIiwgLy8gTmVjZXNzYXJ5IC0tIHByZXZlbnRzIG1hcmdpbiBjb2xsYXBzaW5nXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIG1pbkhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBcIi5jbS1ndXR0ZXJFbGVtZW50XCI6IHtcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgIH0sXG4gICAgXCIuY20tbGluZU51bWJlcnMgLmNtLWd1dHRlckVsZW1lbnRcIjoge1xuICAgICAgICBwYWRkaW5nOiBcIjAgM3B4IDAgNXB4XCIsXG4gICAgICAgIG1pbldpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgdGV4dEFsaWduOiBcInJpZ2h0XCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlMmYyZmZcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tYWN0aXZlTGluZUd1dHRlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMjIyMjI3XCJcbiAgICB9LFxuICAgIFwiLmNtLXBhbmVsc1wiOiB7XG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInN0aWNreVwiLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgekluZGV4OiAzMDBcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1wYW5lbHNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y1ZjVmNVwiLFxuICAgICAgICBjb2xvcjogXCJibGFja1wiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tcGFuZWxzLXRvcFwiOiB7XG4gICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2RkZFwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tcGFuZWxzLWJvdHRvbVwiOiB7XG4gICAgICAgIGJvcmRlclRvcDogXCIxcHggc29saWQgI2RkZFwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1wYW5lbHNcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIi5jbS10YWJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJib3R0b21cIlxuICAgIH0sXG4gICAgXCIuY20td2lkZ2V0QnVmZmVyXCI6IHtcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJ0ZXh0LXRvcFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMWVtXCIsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZVwiXG4gICAgfSxcbiAgICBcIi5jbS1wbGFjZWhvbGRlclwiOiB7XG4gICAgICAgIGNvbG9yOiBcIiM4ODhcIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIixcbiAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLmNtLWhpZ2hsaWdodFNwYWNlXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgNTAlIDU1JSwgI2FhYSAyMCUsIHRyYW5zcGFyZW50IDUlKVwiLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFwiY2VudGVyXCIsXG4gICAgfSxcbiAgICBcIi5jbS1oaWdobGlnaHRUYWJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwMFwiIGhlaWdodD1cIjIwXCI+PHBhdGggc3Ryb2tlPVwiJTIzODg4XCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZD1cIk0xIDEwSDE5NkwxOTAgNU0xOTAgMTVMMTk2IDEwTTE5NyA0TDE5NyAxNlwiLz48L3N2Zz4nKWAsXG4gICAgICAgIGJhY2tncm91bmRTaXplOiBcImF1dG8gMTAwJVwiLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFwicmlnaHQgOTAlXCIsXG4gICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCJcbiAgICB9LFxuICAgIFwiLmNtLXRyYWlsaW5nU3BhY2VcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmMzMyMjU1XCJcbiAgICB9LFxuICAgIFwiLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgICAgZm9udFNpemU6IFwiNzAlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiLjJlbSAxZW1cIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjFweFwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tYnV0dG9uXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjZWZmMWY1LCAjZDlkOWRmKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4ODhcIixcbiAgICAgICAgXCImOmFjdGl2ZVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCNiNGI0YjQsICNkMGQzZDYpXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCImZGFyayAuY20tYnV0dG9uXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjMzkzOTM5LCAjMTExKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM4ODhcIixcbiAgICAgICAgXCImOmFjdGl2ZVwiOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KCMxMTEsICMzMzMpXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuY20tdGV4dGZpZWxkXCI6IHtcbiAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICBmb250U2l6ZTogXCI3MCVcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCBzaWx2ZXJcIixcbiAgICAgICAgcGFkZGluZzogXCIuMmVtIC41ZW1cIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRleHRmaWVsZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10ZXh0ZmllbGRcIjoge1xuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICM1NTVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcImluaGVyaXRcIlxuICAgIH1cbn0sIGxpZ2h0RGFya0lEcyk7XG5cbmNvbnN0IG9ic2VydmVPcHRpb25zID0ge1xuICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgIHN1YnRyZWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWVcbn07XG4vLyBJRTExIGhhcyB2ZXJ5IGJyb2tlbiBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHdlIGFsc28gbGlzdGVuIHRvXG4vLyBET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQgdGhlcmVcbmNvbnN0IHVzZUNoYXJEYXRhID0gYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTE7XG5jbGFzcyBET01PYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIGtub3duIHNlbGVjdGlvbi4gS2VwdCBpbiBvdXIgb3duIG9iamVjdCwgYXMgb3Bwb3NlZCB0byBqdXN0XG4gICAgICAgIC8vIGRpcmVjdGx5IGFjY2Vzc2luZyB0aGUgc2VsZWN0aW9uIGJlY2F1c2U6XG4gICAgICAgIC8vICAtIFNhZmFyaSBkb2Vzbid0IHJlcG9ydCB0aGUgcmlnaHQgc2VsZWN0aW9uIGluIHNoYWRvdyBET01cbiAgICAgICAgLy8gIC0gUmVhZGluZyBmcm9tIHRoZSBzZWxlY3Rpb24gZm9yY2VzIGEgRE9NIGxheW91dFxuICAgICAgICAvLyAgLSBUaGlzIHdheSwgd2UgY2FuIGlnbm9yZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnRzIGlmIHdlIGhhdmVcbiAgICAgICAgLy8gICAgYWxyZWFkeSBzZWVuIHRoZSAnbmV3JyBzZWxlY3Rpb25cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZSA9IG5ldyBET01TZWxlY3Rpb25TdGF0ZTtcbiAgICAgICAgLy8gU2V0IHdoZW4gYSBzZWxlY3Rpb24gY2hhbmdlIGlzIGRldGVjdGVkLCBjbGVhcmVkIG9uIGZsdXNoXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVTY3JvbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyc2VjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2FwcyA9IFtdO1xuICAgICAgICB0aGlzLnByaW50UXVlcnkgPSBudWxsO1xuICAgICAgICAvLyBUaW1lb3V0IGZvciBzY2hlZHVsaW5nIGNoZWNrIG9mIHRoZSBwYXJlbnRzIHRoYXQgbmVlZCBzY3JvbGwgaGFuZGxlcnNcbiAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IC0xO1xuICAgICAgICB0aGlzLmRvbSA9IHZpZXcuY29udGVudERPTTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBtdXQgb2YgbXV0YXRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChtdXQpO1xuICAgICAgICAgICAgLy8gSUUxMSB3aWxsIHNvbWV0aW1lcyAob24gdHlwaW5nIG92ZXIgYSBzZWxlY3Rpb24gb3JcbiAgICAgICAgICAgIC8vIGJhY2tzcGFjaW5nIG91dCBhIHNpbmdsZSBjaGFyYWN0ZXIgdGV4dCBub2RlKSBjYWxsIHRoZVxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIgY2FsbGJhY2sgYmVmb3JlIGFjdHVhbGx5IHVwZGF0aW5nIHRoZSBET00uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVW5yZWxhdGVkbHksIGlPUyBTYWZhcmkgd2lsbCwgd2hlbiBlbmRpbmcgYSBjb21wb3NpdGlvbixcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyBmaXJzdCBjbGVhciBpdCwgZGVsaXZlciB0aGUgbXV0YXRpb25zLCBhbmQgdGhlblxuICAgICAgICAgICAgLy8gcmVpbnNlcnQgdGhlIGZpbmlzaGVkIHRleHQuIENvZGVNaXJyb3IncyBoYW5kbGluZyBvZiB0aGVcbiAgICAgICAgICAgIC8vIGRlbGV0aW9uIHdpbGwgcHJldmVudCB0aGUgcmVpbnNlcnRpb24gZnJvbSBoYXBwZW5pbmcsXG4gICAgICAgICAgICAvLyBicmVha2luZyBjb21wb3NpdGlvbi5cbiAgICAgICAgICAgIGlmICgoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgfHwgYnJvd3Nlci5pb3MgJiYgdmlldy5jb21wb3NpbmcpICYmXG4gICAgICAgICAgICAgICAgbXV0YXRpb25zLnNvbWUobSA9PiBtLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtLnJlbW92ZWROb2Rlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAgICAgbS50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiICYmIG0ub2xkVmFsdWUubGVuZ3RoID4gbS50YXJnZXQubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAod2luZG93LkVkaXRDb250ZXh0ICYmIHZpZXcuY29uc3RydWN0b3IuRURJVF9DT05URVhUICE9PSBmYWxzZSAmJlxuICAgICAgICAgICAgLy8gQ2hyb21lIDwxMjYgZG9lc24ndCBzdXBwb3J0IGludmVydGVkIHNlbGVjdGlvbnMgaW4gZWRpdCBjb250ZXh0ICgjMTM5MilcbiAgICAgICAgICAgICEoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5jaHJvbWVfdmVyc2lvbiA8IDEyNikpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQgPSBuZXcgRWRpdENvbnRleHRNYW5hZ2VyKHZpZXcpO1xuICAgICAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpKVxuICAgICAgICAgICAgICAgIHZpZXcuY29udGVudERPTS5lZGl0Q29udGV4dCA9IHRoaXMuZWRpdENvbnRleHQuZWRpdENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5vbkNoYXJEYXRhID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHsgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hhcmFjdGVyRGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnQucHJldlZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUHJpbnQgPSB0aGlzLm9uUHJpbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblNjcm9sbCA9IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKTtcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKVxuICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCJwcmludFwiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplU2Nyb2xsID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnZpZXcuZG9jVmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RVcGRhdGUpIDwgRGF0ZS5ub3coKSAtIDc1KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplU2Nyb2xsLm9ic2VydmUodmlldy5zY3JvbGxET00pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkV2luZG93TGlzdGVuZXJzKHRoaXMud2luID0gdmlldy53aW4pO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDaGVjayA8IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Q2hlY2sgPSBzZXRUaW1lb3V0KHRoaXMubGlzdGVuRm9yU2Nyb2xsLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDAgJiYgKGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApICE9IHRoaXMuaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW5nID0gIXRoaXMuaW50ZXJzZWN0aW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcnNlY3RpbmcgIT0gdGhpcy52aWV3LmluVmlldylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHsgdGhyZXNob2xkOiBbMCwgLjAwMV0gfSk7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbi5vYnNlcnZlKHRoaXMuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuZ2FwSW50ZXJzZWN0aW9uID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDAgJiYgZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdLmludGVyc2VjdGlvblJhdGlvID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZWQoZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSk7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JTY3JvbGwoKTtcbiAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICB9XG4gICAgb25TY3JvbGxDaGFuZ2VkKGUpIHtcbiAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUucnVuSGFuZGxlcnMoXCJzY3JvbGxcIiwgZSk7XG4gICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZylcbiAgICAgICAgICAgIHRoaXMudmlldy5tZWFzdXJlKCk7XG4gICAgfVxuICAgIG9uU2Nyb2xsKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW5nKVxuICAgICAgICAgICAgdGhpcy5mbHVzaChmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmVkaXRDb250ZXh0KVxuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMuZWRpdENvbnRleHQubWVhc3VyZVJlcSk7XG4gICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGUpO1xuICAgIH1cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplVGltZW91dCA8IDApXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgb25QcmludChldmVudCkge1xuICAgICAgICBpZiAoKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIiB8fCAhZXZlbnQudHlwZSkgJiYgIWV2ZW50Lm1hdGNoZXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXcubWVhc3VyZSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUucHJpbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbiAgICB1cGRhdGVHYXBzKGdhcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FwSW50ZXJzZWN0aW9uICYmIChnYXBzLmxlbmd0aCAhPSB0aGlzLmdhcHMubGVuZ3RoIHx8IHRoaXMuZ2Fwcy5zb21lKChnLCBpKSA9PiBnICE9IGdhcHNbaV0pKSkge1xuICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgZ2FwIG9mIGdhcHMpXG4gICAgICAgICAgICAgICAgdGhpcy5nYXBJbnRlcnNlY3Rpb24ub2JzZXJ2ZShnYXApO1xuICAgICAgICAgICAgdGhpcy5nYXBzID0gZ2FwcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblNlbGVjdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgICBsZXQgd2FzQ2hhbmdlZCA9IHRoaXMuc2VsZWN0aW9uQ2hhbmdlZDtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWRTZWxlY3Rpb25SYW5nZSgpIHx8IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXMsIHNlbCA9IHRoaXMuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHRoaXMuZG9tIDogIWhhc1NlbGVjdGlvbih0aGlzLmRvbSwgc2VsKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBzZWwuYW5jaG9yTm9kZSAmJiB2aWV3LmRvY1ZpZXcubmVhcmVzdChzZWwuYW5jaG9yTm9kZSk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuaWdub3JlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIXdhc0NoYW5nZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVsZXRpb25zIG9uIElFMTEgZmlyZSB0aGVpciBldmVudHMgaW4gdGhlIHdyb25nIG9yZGVyLCBnaXZpbmdcbiAgICAgICAgLy8gdXMgYSBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgRE9NIGNoYW5nZXMgYXJlXG4gICAgICAgIC8vIHJlcG9ydGVkLlxuICAgICAgICAvLyBDaHJvbWUgQW5kcm9pZCBoYXMgYSBzaW1pbGFyIGlzc3VlIHdoZW4gYmFja3NwYWNpbmcgb3V0IGFcbiAgICAgICAgLy8gc2VsZWN0aW9uICgjNjQ1KS5cbiAgICAgICAgaWYgKChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSB8fCBicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUpICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmXG4gICAgICAgICAgICAvLyAoU2VsZWN0aW9uLmlzQ29sbGFwc2VkIGlzbid0IHJlbGlhYmxlIG9uIElFKVxuICAgICAgICAgICAgc2VsLmZvY3VzTm9kZSAmJiBpc0VxdWl2YWxlbnRQb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQsIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KSlcbiAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZmx1c2goZmFsc2UpO1xuICAgIH1cbiAgICByZWFkU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXM7XG4gICAgICAgIC8vIFRoZSBTZWxlY3Rpb24gb2JqZWN0IGlzIGJyb2tlbiBpbiBzaGFkb3cgcm9vdHMgaW4gU2FmYXJpLiBTZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvZGV2L2lzc3Vlcy80MTRcbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHJhbmdlID0gYnJvd3Nlci5zYWZhcmkgJiYgdmlldy5yb290Lm5vZGVUeXBlID09IDExICYmXG4gICAgICAgICAgICB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmRvbSAmJlxuICAgICAgICAgICAgc2FmYXJpU2VsZWN0aW9uUmFuZ2VIYWNrKHRoaXMudmlldywgc2VsZWN0aW9uKSB8fCBzZWxlY3Rpb247XG4gICAgICAgIGlmICghcmFuZ2UgfHwgdGhpcy5zZWxlY3Rpb25SYW5nZS5lcShyYW5nZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCBsb2NhbCA9IGhhc1NlbGVjdGlvbih0aGlzLmRvbSwgcmFuZ2UpO1xuICAgICAgICAvLyBEZXRlY3QgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgYnJvd3NlciBoYXMsIG9uIGZvY3VzLCBtb3ZlZCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgY29udGVudCBlbGVtZW50LiBSZXNldCBpdCB0byB0aGVcbiAgICAgICAgLy8gcG9zaXRpb24gZnJvbSB0aGUgZWRpdG9yIHN0YXRlLlxuICAgICAgICBpZiAobG9jYWwgJiYgIXRoaXMuc2VsZWN0aW9uQ2hhbmdlZCAmJlxuICAgICAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPiBEYXRlLm5vdygpIC0gMjAwICYmXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA8IERhdGUubm93KCkgLSAzMDAgJiZcbiAgICAgICAgICAgIGF0RWxlbWVudFN0YXJ0KHRoaXMuZG9tLCByYW5nZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICAgICAgdmlldy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAobG9jYWwpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uUmFuZ2UoYW5jaG9yLCBoZWFkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KGFuY2hvci5ub2RlLCBhbmNob3Iub2Zmc2V0LCBoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGNsZWFyU2VsZWN0aW9uUmFuZ2UoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUmFuZ2Uuc2V0KG51bGwsIDAsIG51bGwsIDApO1xuICAgIH1cbiAgICBsaXN0ZW5Gb3JTY3JvbGwoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q2hlY2sgPSAtMTtcbiAgICAgICAgbGV0IGkgPSAwLCBjaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgZG9tID0gdGhpcy5kb207IGRvbTspIHtcbiAgICAgICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlZCAmJiBpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiB0aGlzLnNjcm9sbFRhcmdldHNbaV0gPT0gZG9tKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQucHVzaChkb20pO1xuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5hc3NpZ25lZFNsb3QgfHwgZG9tLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMTEpIHsgLy8gU2hhZG93IHJvb3RcbiAgICAgICAgICAgICAgICBkb20gPSBkb20uaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgdGhpcy5zY3JvbGxUYXJnZXRzLmxlbmd0aCAmJiAhY2hhbmdlZClcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0aGlzLnNjcm9sbFRhcmdldHMuc2xpY2UoMCwgaSk7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cyA9IGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWdub3JlKGYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMuZG9tLCBvYnNlcnZlT3B0aW9ucyk7XG4gICAgICAgIGlmICh1c2VDaGFyRGF0YSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpO1xuICAgIH1cbiAgICAvLyBUaHJvdyBhd2F5IGFueSBwZW5kaW5nIGNoYW5nZXNcbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzUmVjb3JkcygpO1xuICAgICAgICB0aGlzLnF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgQW5kcm9pZCwgZXNwZWNpYWxseSBpbiBjb21iaW5hdGlvbiB3aXRoIEdCb2FyZCwgbm90IG9ubHlcbiAgICAvLyBkb2Vzbid0IHJlbGlhYmx5IGZpcmUgcmVndWxhciBrZXkgZXZlbnRzLCBidXQgYWxzbyBvZnRlblxuICAgIC8vIHN1cnJvdW5kcyB0aGUgZWZmZWN0IG9mIGVudGVyIG9yIGJhY2tzcGFjZSB3aXRoIGEgYnVuY2ggb2ZcbiAgICAvLyBjb21wb3NpdGlvbiBldmVudHMgdGhhdCwgd2hlbiBpbnRlcnJ1cHRlZCwgY2F1c2UgdGV4dCBkdXBsaWNhdGlvblxuICAgIC8vIG9yIG90aGVyIGtpbmRzIG9mIGNvcnJ1cHRpb24uIFRoaXMgaGFjayBtYWtlcyB0aGUgZWRpdG9yIGJhY2sgb2ZmXG4gICAgLy8gZnJvbSBoYW5kbGluZyBET00gY2hhbmdlcyBmb3IgYSBtb21lbnQgd2hlbiBzdWNoIGEga2V5IGlzXG4gICAgLy8gZGV0ZWN0ZWQgKHZpYSBiZWZvcmVpbnB1dCBvciBrZXlkb3duKSwgYW5kIHRoZW4gdHJpZXMgdG8gZmx1c2hcbiAgICAvLyB0aGVtIG9yLCBpZiB0aGF0IGhhcyBubyBlZmZlY3QsIGRpc3BhdGNoZXMgdGhlIGdpdmVuIGtleS5cbiAgICBkZWxheUFuZHJvaWRLZXkoa2V5LCBrZXlDb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KSB7XG4gICAgICAgICAgICBsZXQgZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgPSBrZXkua2V5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEtleVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmx1c2hlZCA9IHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbHVzaGVkICYmIGtleS5mb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHRoaXMuZG9tLCBrZXkua2V5LCBrZXkua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIGJhY2tzcGFjZSBiZWZvcmVpbnB1dCBpcyBzb21ldGltZXMgc2lnbmFsbGVkIHNwdXJpb3VzbHksXG4gICAgICAgIC8vIEVudGVyIGFsd2F5cyB0YWtlcyBwcmVjZWRlbmNlLlxuICAgICAgICBpZiAoIXRoaXMuZGVsYXllZEFuZHJvaWRLZXkgfHwga2V5ID09IFwiRW50ZXJcIilcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSB7XG4gICAgICAgICAgICAgICAga2V5LCBrZXlDb2RlLFxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcnVuIHRoZSBrZXkgaGFuZGxlciB3aGVuIG5vIGNoYW5nZXMgYXJlIGRldGVjdGVkIGlmXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpc24ndCBjb21pbmcgcmlnaHQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBpdCBpcyBwcm9iYWJseSBwYXJ0IG9mIGEgd2VpcmQgY2hhaW4gb2YgdXBkYXRlcywgYW5kIHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIGJlIGlnbm9yZWQgaWYgaXQgcmV0dXJucyB0aGUgRE9NIHRvIGl0cyBwcmV2aW91cyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBmb3JjZTogdGhpcy5sYXN0Q2hhbmdlIDwgRGF0ZS5ub3coKSAtIDUwIHx8ICEhKChfYSA9IHRoaXMuZGVsYXllZEFuZHJvaWRLZXkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JjZSlcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIGNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKSB7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5KTtcbiAgICAgICAgdGhpcy5kZWxheWVkQW5kcm9pZEtleSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmx1c2hpbmdBbmRyb2lkS2V5ID0gLTE7XG4gICAgfVxuICAgIGZsdXNoU29vbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsYXllZEZsdXNoIDwgMClcbiAgICAgICAgICAgIHRoaXMuZGVsYXllZEZsdXNoID0gdGhpcy52aWV3Lndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xOyB0aGlzLmZsdXNoKCk7IH0pO1xuICAgIH1cbiAgICBmb3JjZUZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Lndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmRlbGF5ZWRGbHVzaCk7XG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gICAgcGVuZGluZ1JlY29yZHMoKSB7XG4gICAgICAgIGZvciAobGV0IG11dCBvZiB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkpXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobXV0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWU7XG4gICAgfVxuICAgIHByb2Nlc3NSZWNvcmRzKCkge1xuICAgICAgICBsZXQgcmVjb3JkcyA9IHRoaXMucGVuZGluZ1JlY29yZHMoKTtcbiAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZnJvbSA9IC0xLCB0byA9IC0xLCB0eXBlT3ZlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yZWFkTXV0YXRpb24ocmVjb3JkKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZU92ZXIpXG4gICAgICAgICAgICAgICAgdHlwZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGZyb20gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAoeyBmcm9tLCB0byB9ID0gcmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IE1hdGgubWluKHJhbmdlLmZyb20sIGZyb20pO1xuICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgocmFuZ2UudG8sIHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgdHlwZU92ZXIgfTtcbiAgICB9XG4gICAgcmVhZENoYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8sIHR5cGVPdmVyIH0gPSB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIGxldCBuZXdTZWwgPSB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgJiYgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgaWYgKGZyb20gPCAwICYmICFuZXdTZWwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGZyb20gPiAtMSlcbiAgICAgICAgICAgIHRoaXMubGFzdENoYW5nZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNoYW5nZSA9IG5ldyBET01DaGFuZ2UodGhpcy52aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIpO1xuICAgICAgICB0aGlzLnZpZXcuZG9jVmlldy5kb21DaGFuZ2VkID0geyBuZXdTZWw6IGNoYW5nZS5uZXdTZWwgPyBjaGFuZ2UubmV3U2VsLm1haW4gOiBudWxsIH07XG4gICAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuICAgIC8vIEFwcGx5IHBlbmRpbmcgY2hhbmdlcywgaWYgYW55XG4gICAgZmx1c2gocmVhZFNlbGVjdGlvbiA9IHRydWUpIHtcbiAgICAgICAgLy8gQ29tcGxldGVseSBob2xkIG9mZiBmbHVzaGluZyB3aGVuIHBlbmRpbmcga2V5cyBhcmUgc2V04oCUdGhlIGNvZGVcbiAgICAgICAgLy8gbWFuYWdpbmcgdGhvc2Ugd2lsbCBtYWtlIHN1cmUgcHJvY2Vzc1JlY29yZHMgaXMgY2FsbGVkIGFuZCB0aGVcbiAgICAgICAgLy8gdmlldyBpcyByZXN5bmNocm9uaXplZCBhZnRlclxuICAgICAgICBpZiAodGhpcy5kZWxheWVkRmx1c2ggPj0gMCB8fCB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAocmVhZFNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBkb21DaGFuZ2UgPSB0aGlzLnJlYWRDaGFuZ2UoKTtcbiAgICAgICAgaWYgKCFkb21DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydFN0YXRlID0gdGhpcy52aWV3LnN0YXRlO1xuICAgICAgICBsZXQgaGFuZGxlZCA9IGFwcGx5RE9NQ2hhbmdlKHRoaXMudmlldywgZG9tQ2hhbmdlKTtcbiAgICAgICAgLy8gVGhlIHZpZXcgd2Fzbid0IHVwZGF0ZWQgYnV0IERPTS9zZWxlY3Rpb24gY2hhbmdlcyB3ZXJlIHNlZW4uIFJlc2V0IHRoZSB2aWV3LlxuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlID09IHN0YXJ0U3RhdGUgJiZcbiAgICAgICAgICAgIChkb21DaGFuZ2UuZG9tQ2hhbmdlZCB8fCBkb21DaGFuZ2UubmV3U2VsICYmICFkb21DaGFuZ2UubmV3U2VsLm1haW4uZXEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluKSkpXG4gICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XG4gICAgfVxuICAgIHJlYWRNdXRhdGlvbihyZWMpIHtcbiAgICAgICAgbGV0IGNWaWV3ID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdChyZWMudGFyZ2V0KTtcbiAgICAgICAgaWYgKCFjVmlldyB8fCBjVmlldy5pZ25vcmVNdXRhdGlvbihyZWMpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNWaWV3Lm1hcmtEaXJ0eShyZWMudHlwZSA9PSBcImF0dHJpYnV0ZXNcIik7XG4gICAgICAgIGlmIChyZWMudHlwZSA9PSBcImF0dHJpYnV0ZXNcIilcbiAgICAgICAgICAgIGNWaWV3LmZsYWdzIHw9IDQgLyogVmlld0ZsYWcuQXR0cnNEaXJ0eSAqLztcbiAgICAgICAgaWYgKHJlYy50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZEJlZm9yZSA9IGZpbmRDaGlsZChjVmlldywgcmVjLnByZXZpb3VzU2libGluZyB8fCByZWMudGFyZ2V0LnByZXZpb3VzU2libGluZywgLTEpO1xuICAgICAgICAgICAgbGV0IGNoaWxkQWZ0ZXIgPSBmaW5kQ2hpbGQoY1ZpZXcsIHJlYy5uZXh0U2libGluZyB8fCByZWMudGFyZ2V0Lm5leHRTaWJsaW5nLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb206IGNoaWxkQmVmb3JlID8gY1ZpZXcucG9zQWZ0ZXIoY2hpbGRCZWZvcmUpIDogY1ZpZXcucG9zQXRTdGFydCxcbiAgICAgICAgICAgICAgICB0bzogY2hpbGRBZnRlciA/IGNWaWV3LnBvc0JlZm9yZShjaGlsZEFmdGVyKSA6IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWMudHlwZSA9PSBcImNoYXJhY3RlckRhdGFcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogY1ZpZXcucG9zQXRTdGFydCwgdG86IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogcmVjLnRhcmdldC5ub2RlVmFsdWUgPT0gcmVjLm9sZFZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaW5kb3cod2luKSB7XG4gICAgICAgIGlmICh3aW4gIT0gdGhpcy53aW4pIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgICAgIHRoaXMud2luID0gd2luO1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdpbmRvd0xpc3RlbmVycyh3aW4pIHtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgIGlmICh0aGlzLnByaW50UXVlcnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByaW50UXVlcnkuYWRkRXZlbnRMaXN0ZW5lcilcbiAgICAgICAgICAgICAgICB0aGlzLnByaW50UXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnRRdWVyeS5hZGRMaXN0ZW5lcih0aGlzLm9uUHJpbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlcHJpbnRcIiwgdGhpcy5vblByaW50KTtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHdpbi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH1cbiAgICByZW1vdmVXaW5kb3dMaXN0ZW5lcnMod2luKSB7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJpbnRRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKVxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnRRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMub25QcmludCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wcmludFF1ZXJ5LnJlbW92ZUxpc3RlbmVyKHRoaXMub25QcmludCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmVwcmludFwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICB3aW4uZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChlZGl0YWJsZSkgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSlcbiAgICAgICAgICAgICAgICB1cGRhdGUudmlldy5jb250ZW50RE9NLmVkaXRDb250ZXh0ID0gdXBkYXRlLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IHRoaXMuZWRpdENvbnRleHQuZWRpdENvbnRleHQgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgKF9hID0gdGhpcy5pbnRlcnNlY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYiA9IHRoaXMuZ2FwSW50ZXJzZWN0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAoX2MgPSB0aGlzLnJlc2l6ZVNjcm9sbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgZm9yIChsZXQgZG9tIG9mIHRoaXMuc2Nyb2xsVGFyZ2V0cylcbiAgICAgICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVycyh0aGlzLndpbik7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBhcmVudENoZWNrKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XG4gICAgICAgIHRoaXMud2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZGVsYXllZEZsdXNoKTtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkpO1xuICAgICAgICBpZiAodGhpcy5lZGl0Q29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy52aWV3LmNvbnRlbnRET00uZWRpdENvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kQ2hpbGQoY1ZpZXcsIGRvbSwgZGlyKSB7XG4gICAgd2hpbGUgKGRvbSkge1xuICAgICAgICBsZXQgY3VyVmlldyA9IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICBpZiAoY3VyVmlldyAmJiBjdXJWaWV3LnBhcmVudCA9PSBjVmlldylcbiAgICAgICAgICAgIHJldHVybiBjdXJWaWV3O1xuICAgICAgICBsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGU7XG4gICAgICAgIGRvbSA9IHBhcmVudCAhPSBjVmlldy5kb20gPyBwYXJlbnQgOiBkaXIgPiAwID8gZG9tLm5leHRTaWJsaW5nIDogZG9tLnByZXZpb3VzU2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBidWlsZFNlbGVjdGlvblJhbmdlRnJvbVJhbmdlKHZpZXcsIHJhbmdlKSB7XG4gICAgbGV0IGFuY2hvck5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lciwgYW5jaG9yT2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XG4gICAgbGV0IGZvY3VzTm9kZSA9IHJhbmdlLmVuZENvbnRhaW5lciwgZm9jdXNPZmZzZXQgPSByYW5nZS5lbmRPZmZzZXQ7XG4gICAgbGV0IGN1ckFuY2hvciA9IHZpZXcuZG9jVmlldy5kb21BdFBvcyh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvcik7XG4gICAgLy8gU2luY2Ugc3VjaCBhIHJhbmdlIGRvZXNuJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBhbmNob3IgYW5kIGhlYWQsXG4gICAgLy8gdXNlIGEgaGV1cmlzdGljIHRoYXQgZmxpcHMgaXQgYXJvdW5kIGlmIGl0cyBlbmQgbWF0Y2hlcyB0aGVcbiAgICAvLyBjdXJyZW50IGFuY2hvci5cbiAgICBpZiAoaXNFcXVpdmFsZW50UG9zaXRpb24oY3VyQW5jaG9yLm5vZGUsIGN1ckFuY2hvci5vZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpKVxuICAgICAgICBbYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0XSA9IFtmb2N1c05vZGUsIGZvY3VzT2Zmc2V0LCBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXRdO1xuICAgIHJldHVybiB7IGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCB9O1xufVxuLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBhIFNhZmFyaSBTZWxlY3Rpb24vc2hhZG93IERPTSBidWcgKCM0MTQpXG5mdW5jdGlvbiBzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2sodmlldywgc2VsZWN0aW9uKSB7XG4gICAgaWYgKHNlbGVjdGlvbi5nZXRDb21wb3NlZFJhbmdlcykge1xuICAgICAgICBsZXQgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0Q29tcG9zZWRSYW5nZXModmlldy5yb290KVswXTtcbiAgICAgICAgaWYgKHJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkU2VsZWN0aW9uUmFuZ2VGcm9tUmFuZ2UodmlldywgcmFuZ2UpO1xuICAgIH1cbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIC8vIEJlY2F1c2UgU2FmYXJpIChhdCBsZWFzdCBpbiAyMDE4LTIwMjEpIGRvZXNuJ3QgcHJvdmlkZSByZWd1bGFyXG4gICAgLy8gYWNjZXNzIHRvIHRoZSBzZWxlY3Rpb24gaW5zaWRlIGEgc2hhZG93cm9vdCwgd2UgaGF2ZSB0byBwZXJmb3JtIGFcbiAgICAvLyByaWRpY3Vsb3VzIGhhY2sgdG8gZ2V0IGF0IGl04oCUdXNpbmcgYGV4ZWNDb21tYW5kYCB0byB0cmlnZ2VyIGFcbiAgICAvLyBgYmVmb3JlSW5wdXRgIGV2ZW50IHNvIHRoYXQgd2UgY2FuIHJlYWQgdGhlIHRhcmdldCByYW5nZSBmcm9tIHRoZVxuICAgIC8vIGV2ZW50LlxuICAgIGZ1bmN0aW9uIHJlYWQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGZvdW5kID0gZXZlbnQuZ2V0VGFyZ2V0UmFuZ2VzKClbMF07XG4gICAgfVxuICAgIHZpZXcuY29udGVudERPTS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgcmVhZCwgdHJ1ZSk7XG4gICAgdmlldy5kb20ub3duZXJEb2N1bWVudC5leGVjQ29tbWFuZChcImluZGVudFwiKTtcbiAgICB2aWV3LmNvbnRlbnRET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZWlucHV0XCIsIHJlYWQsIHRydWUpO1xuICAgIHJldHVybiBmb3VuZCA/IGJ1aWxkU2VsZWN0aW9uUmFuZ2VGcm9tUmFuZ2UodmlldywgZm91bmQpIDogbnVsbDtcbn1cbmNsYXNzIEVkaXRDb250ZXh0TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICAvLyBUaGUgZG9jdW1lbnQgd2luZG93IGZvciB3aGljaCB0aGUgdGV4dCBpbiB0aGUgY29udGV4dCBpc1xuICAgICAgICAvLyBtYWludGFpbmVkLiBGb3IgbGFyZ2UgZG9jdW1lbnRzLCB0aGlzIG1heSBiZSBzbWFsbGVyIHRoYW4gdGhlXG4gICAgICAgIC8vIGVkaXRvciBkb2N1bWVudC4gVGhpcyB3aW5kb3cgYWx3YXlzIGluY2x1ZGVzIHRoZSBzZWxlY3Rpb24gaGVhZC5cbiAgICAgICAgdGhpcy5mcm9tID0gMDtcbiAgICAgICAgdGhpcy50byA9IDA7XG4gICAgICAgIC8vIFdoZW4gYXBwbHlpbmcgYSB0cmFuc2FjdGlvbiwgdGhpcyBpcyB1c2VkIHRvIGNvbXBhcmUgdGhlIGNoYW5nZVxuICAgICAgICAvLyBtYWRlIHRvIHRoZSBjb250ZXh0IGNvbnRlbnQgdG8gdGhlIGNoYW5nZSBpbiB0aGUgdHJhbnNhY3Rpb24gaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gbWFrZSB0aGUgbWluaW1hbCBjaGFuZ2VzIHRvIHRoZSBjb250ZXh0IChzaW5jZSB0b3VjaGluZ1xuICAgICAgICAvLyB0aGF0IHNvbWV0aW1lcyBicmVha3Mgc2VyaWVzIG9mIG11bHRpcGxlIGVkaXRzIG1hZGUgZm9yIGEgc2luZ2xlXG4gICAgICAgIC8vIHVzZXIgYWN0aW9uIG9uIHNvbWUgQW5kcm9pZCBrZXlib2FyZHMpXG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHRoZSBmYWN0IHRoYXQgRWRpdENvbnRleHQgZG9lcyBub3QgcmVzcG9uZFxuICAgICAgICAvLyB3ZWxsIHRvIGhhdmluZyBpdHMgY29udGVudCB1cGRhdGVkIGR1cmluZyBhIGNvbXBvc2l0aW9uIChzZWUgIzE0NzIpXG4gICAgICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNldFJhbmdlKHZpZXcuc3RhdGUpO1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuZWRpdENvbnRleHQgPSBuZXcgd2luZG93LkVkaXRDb250ZXh0KHtcbiAgICAgICAgICAgIHRleHQ6IHZpZXcuc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHRoaXMuZnJvbSwgdGhpcy50byksXG4gICAgICAgICAgICBzZWxlY3Rpb25TdGFydDogdGhpcy50b0NvbnRleHRQb3MoTWF0aC5tYXgodGhpcy5mcm9tLCBNYXRoLm1pbih0aGlzLnRvLCB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvcikpKSxcbiAgICAgICAgICAgIHNlbGVjdGlvbkVuZDogdGhpcy50b0NvbnRleHRQb3Modmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy50ZXh0dXBkYXRlID0gZSA9PiB7XG4gICAgICAgICAgICBsZXQgbWFpbiA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4sIHsgYW5jaG9yLCBoZWFkIH0gPSBtYWluO1xuICAgICAgICAgICAgbGV0IGZyb20gPSB0aGlzLnRvRWRpdG9yUG9zKGUudXBkYXRlUmFuZ2VTdGFydCksIHRvID0gdGhpcy50b0VkaXRvclBvcyhlLnVwZGF0ZVJhbmdlRW5kKTtcbiAgICAgICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDAgJiYgIXRoaXMuY29tcG9zaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0geyBjb250ZXh0QmFzZTogZS51cGRhdGVSYW5nZVN0YXJ0LCBlZGl0b3JCYXNlOiBmcm9tLCBkcmlmdGVkOiBmYWxzZSB9O1xuICAgICAgICAgICAgbGV0IGNoYW5nZSA9IHsgZnJvbSwgdG8sIGluc2VydDogVGV4dC5vZihlLnRleHQuc3BsaXQoXCJcXG5cIikpIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgd2luZG93IGRvZXNuJ3QgaW5jbHVkZSB0aGUgYW5jaG9yLCBhc3N1bWUgY2hhbmdlc1xuICAgICAgICAgICAgLy8gYWRqYWNlbnQgdG8gYSBzaWRlIGdvIHVwIHRvIHRoZSBhbmNob3IuXG4gICAgICAgICAgICBpZiAoY2hhbmdlLmZyb20gPT0gdGhpcy5mcm9tICYmIGFuY2hvciA8IHRoaXMuZnJvbSlcbiAgICAgICAgICAgICAgICBjaGFuZ2UuZnJvbSA9IGFuY2hvcjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5nZS50byA9PSB0aGlzLnRvICYmIGFuY2hvciA+IHRoaXMudG8pXG4gICAgICAgICAgICAgICAgY2hhbmdlLnRvID0gYW5jaG9yO1xuICAgICAgICAgICAgLy8gRWRpdCBjb250ZXh0cyBzb21ldGltZXMgZmlyZSBlbXB0eSBjaGFuZ2VzXG4gICAgICAgICAgICBpZiAoY2hhbmdlLmZyb20gPT0gY2hhbmdlLnRvICYmICFjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKHRoaXMudG9FZGl0b3JQb3MoZS5zZWxlY3Rpb25TdGFydCksIHRoaXMudG9FZGl0b3JQb3MoZS5zZWxlY3Rpb25FbmQpKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5ld1NlbC5tYWluLmVxKG1haW4pKVxuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgc2VsZWN0aW9uOiBuZXdTZWwsIHVzZXJFdmVudDogXCJzZWxlY3RcIiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGJyb3dzZXIubWFjIHx8IGJyb3dzZXIuYW5kcm9pZCkgJiYgY2hhbmdlLmZyb20gPT0gaGVhZCAtIDEgJiZcbiAgICAgICAgICAgICAgICAvXlxcLiA/JC8udGVzdChlLnRleHQpICYmIHZpZXcuY29udGVudERPTS5nZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiKSA9PSBcIm9mZlwiKVxuICAgICAgICAgICAgICAgIGNoYW5nZSA9IHsgZnJvbSwgdG8sIGluc2VydDogVGV4dC5vZihbZS50ZXh0LnJlcGxhY2UoXCIuXCIsIFwiIFwiKV0pIH07XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDb250ZXh0Q2hhbmdlID0gY2hhbmdlO1xuICAgICAgICAgICAgaWYgKCF2aWV3LnN0YXRlLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0xlbiA9IHRoaXMudG8gLSB0aGlzLmZyb20gKyAoY2hhbmdlLnRvIC0gY2hhbmdlLmZyb20gKyBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYXBwbHlET01DaGFuZ2VJbm5lcih2aWV3LCBjaGFuZ2UsIEVkaXRvclNlbGVjdGlvbi5zaW5nbGUodGhpcy50b0VkaXRvclBvcyhlLnNlbGVjdGlvblN0YXJ0LCBuZXdMZW4pLCB0aGlzLnRvRWRpdG9yUG9zKGUuc2VsZWN0aW9uRW5kLCBuZXdMZW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gZGlkbid0IGZsdXNoIG91ciBjaGFuZ2UsIHJldmVydCBpdCBzb1xuICAgICAgICAgICAgLy8gdGhhdCB0aGUgY29udGV4dCBpcyBpbiBzeW5jIHdpdGggdGhlIGVkaXRvciBzdGF0ZSBhZ2Fpbi5cbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDb250ZXh0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnRQZW5kaW5nKHZpZXcuc3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uKHZpZXcuc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNoYXJhY3RlcmJvdW5kc3VwZGF0ZSA9IGUgPT4ge1xuICAgICAgICAgICAgbGV0IHJlY3RzID0gW10sIHByZXYgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudG9FZGl0b3JQb3MoZS5yYW5nZVN0YXJ0KSwgZW5kID0gdGhpcy50b0VkaXRvclBvcyhlLnJhbmdlRW5kKTsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSB2aWV3LmNvb3Jkc0ZvckNoYXIoaSk7XG4gICAgICAgICAgICAgICAgcHJldiA9IChyZWN0ICYmIG5ldyBET01SZWN0KHJlY3QubGVmdCwgcmVjdC50b3AsIHJlY3QucmlnaHQgLSByZWN0LmxlZnQsIHJlY3QuYm90dG9tIC0gcmVjdC50b3ApKVxuICAgICAgICAgICAgICAgICAgICB8fCBwcmV2IHx8IG5ldyBET01SZWN0O1xuICAgICAgICAgICAgICAgIHJlY3RzLnB1c2gocHJldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250ZXh0LnVwZGF0ZUNoYXJhY3RlckJvdW5kcyhlLnJhbmdlU3RhcnQsIHJlY3RzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy50ZXh0Zm9ybWF0dXBkYXRlID0gZSA9PiB7XG4gICAgICAgICAgICBsZXQgZGVjbyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZm9ybWF0IG9mIGUuZ2V0VGV4dEZvcm1hdHMoKSkge1xuICAgICAgICAgICAgICAgIGxldCBsaW5lU3R5bGUgPSBmb3JtYXQudW5kZXJsaW5lU3R5bGUsIHRoaWNrbmVzcyA9IGZvcm1hdC51bmRlcmxpbmVUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVTdHlsZSAhPSBcIk5vbmVcIiAmJiB0aGlja25lc3MgIT0gXCJOb25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSB0aGlzLnRvRWRpdG9yUG9zKGZvcm1hdC5yYW5nZVN0YXJ0KSwgdG8gPSB0aGlzLnRvRWRpdG9yUG9zKGZvcm1hdC5yYW5nZUVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9tIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IGB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSAke2xpbmVTdHlsZSA9PSBcIkRhc2hlZFwiID8gXCJkYXNoZWQgXCIgOiBsaW5lU3R5bGUgPT0gXCJTcXVpZ2dsZVwiID8gXCJ3YXZ5IFwiIDogXCJcIn0ke3RoaWNrbmVzcyA9PSBcIlRoaW5cIiA/IDEgOiAyfXB4YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY28ucHVzaChEZWNvcmF0aW9uLm1hcmsoeyBhdHRyaWJ1dGVzOiB7IHN0eWxlIH0gfSkucmFuZ2UoZnJvbSwgdG8pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRFZGl0Q29udGV4dEZvcm1hdHRpbmcub2YoRGVjb3JhdGlvbi5zZXQoZGVjbykpIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID0gMDtcbiAgICAgICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuY29tcG9zaXRpb25lbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID0gLTE7XG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBkcmlmdGVkIH0gPSB0aGlzLmNvbXBvc2luZztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGRyaWZ0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQodmlldy5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGV2ZW50IGluIHRoaXMuaGFuZGxlcnMpXG4gICAgICAgICAgICBjb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZUNvbnRyb2xCb3VuZHModmlldy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gZ2V0U2VsZWN0aW9uKHZpZXcucm9vdCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbCAmJiBzZWwucmFuZ2VDb3VudClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVTZWxlY3Rpb25Cb3VuZHMoc2VsLmdldFJhbmdlQXQoMCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgfSB9O1xuICAgIH1cbiAgICBhcHBseUVkaXRzKHVwZGF0ZSkge1xuICAgICAgICBsZXQgb2ZmID0gMCwgYWJvcnQgPSBmYWxzZSwgcGVuZGluZyA9IHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2U7XG4gICAgICAgIHVwZGF0ZS5jaGFuZ2VzLml0ZXJDaGFuZ2VzKChmcm9tQSwgdG9BLCBfZnJvbUIsIF90b0IsIGluc2VydCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFib3J0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBkTGVuID0gaW5zZXJ0Lmxlbmd0aCAtICh0b0EgLSBmcm9tQSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZyAmJiB0b0EgPj0gcGVuZGluZy50bykge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nLmZyb20gPT0gZnJvbUEgJiYgcGVuZGluZy50byA9PSB0b0EgJiYgcGVuZGluZy5pbnNlcnQuZXEoaW5zZXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSA9IG51bGw7IC8vIE1hdGNoXG4gICAgICAgICAgICAgICAgICAgIG9mZiArPSBkTGVuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvICs9IGRMZW47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIE1pc21hdGNoLCByZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZXJ0UGVuZGluZyh1cGRhdGUuc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb21BICs9IG9mZjtcbiAgICAgICAgICAgIHRvQSArPSBvZmY7XG4gICAgICAgICAgICBpZiAodG9BIDw9IHRoaXMuZnJvbSkgeyAvLyBCZWZvcmUgdGhlIHdpbmRvd1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbSArPSBkTGVuO1xuICAgICAgICAgICAgICAgIHRoaXMudG8gKz0gZExlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21BIDwgdGhpcy50bykgeyAvLyBPdmVybGFwcyB3aXRoIHdpbmRvd1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQSA8IHRoaXMuZnJvbSB8fCB0b0EgPiB0aGlzLnRvIHx8ICh0aGlzLnRvIC0gdGhpcy5mcm9tKSArIGluc2VydC5sZW5ndGggPiAzMDAwMCAvKiBDeFZwLk1heFNpemUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYWJvcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlVGV4dCh0aGlzLnRvQ29udGV4dFBvcyhmcm9tQSksIHRoaXMudG9Db250ZXh0UG9zKHRvQSksIGluc2VydC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvICs9IGRMZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmYgKz0gZExlbjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwZW5kaW5nICYmICFhYm9ydClcbiAgICAgICAgICAgIHRoaXMucmV2ZXJ0UGVuZGluZyh1cGRhdGUuc3RhdGUpO1xuICAgICAgICByZXR1cm4gIWFib3J0O1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCByZXZlcnRlZCA9IHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UsIHN0YXJ0U2VsID0gdXBkYXRlLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyAmJlxuICAgICAgICAgICAgKHRoaXMuY29tcG9zaW5nLmRyaWZ0ZWQgfHxcbiAgICAgICAgICAgICAgICAoIXVwZGF0ZS5jaGFuZ2VzLnRvdWNoZXNSYW5nZShzdGFydFNlbC5mcm9tLCBzdGFydFNlbC50bykgJiZcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+ICF0ci5pc1VzZXJFdmVudChcImlucHV0LnR5cGVcIikgJiYgdHIuY2hhbmdlcy50b3VjaGVzUmFuZ2UodGhpcy5mcm9tLCB0aGlzLnRvKSkpKSkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcuZHJpZnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2luZy5lZGl0b3JCYXNlID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHRoaXMuY29tcG9zaW5nLmVkaXRvckJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmFwcGx5RWRpdHModXBkYXRlKSB8fCAhdGhpcy5yYW5nZUlzVmFsaWQodXBkYXRlLnN0YXRlKSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dENoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLnNlbGVjdGlvblNldCB8fCByZXZlcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24odXBkYXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlLmdlb21ldHJ5Q2hhbmdlZCB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KVxuICAgICAgICAgICAgdXBkYXRlLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICB9XG4gICAgcmVzZXRSYW5nZShzdGF0ZSkge1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgdGhpcy5mcm9tID0gTWF0aC5tYXgoMCwgaGVhZCAtIDEwMDAwIC8qIEN4VnAuTWFyZ2luICovKTtcbiAgICAgICAgdGhpcy50byA9IE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIGhlYWQgKyAxMDAwMCAvKiBDeFZwLk1hcmdpbiAqLyk7XG4gICAgfVxuICAgIHJlc2V0KHN0YXRlKSB7XG4gICAgICAgIHRoaXMucmVzZXRSYW5nZShzdGF0ZSk7XG4gICAgICAgIHRoaXMuZWRpdENvbnRleHQudXBkYXRlVGV4dCgwLCB0aGlzLmVkaXRDb250ZXh0LnRleHQubGVuZ3RoLCBzdGF0ZS5kb2Muc2xpY2VTdHJpbmcodGhpcy5mcm9tLCB0aGlzLnRvKSk7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uKHN0YXRlKTtcbiAgICB9XG4gICAgcmV2ZXJ0UGVuZGluZyhzdGF0ZSkge1xuICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHRDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRDb250ZXh0LnVwZGF0ZVRleHQodGhpcy50b0NvbnRleHRQb3MocGVuZGluZy5mcm9tKSwgdGhpcy50b0NvbnRleHRQb3MocGVuZGluZy5mcm9tICsgcGVuZGluZy5pbnNlcnQubGVuZ3RoKSwgc3RhdGUuZG9jLnNsaWNlU3RyaW5nKHBlbmRpbmcuZnJvbSwgcGVuZGluZy50bykpO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgbGV0IHsgbWFpbiB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnRvQ29udGV4dFBvcyhNYXRoLm1heCh0aGlzLmZyb20sIE1hdGgubWluKHRoaXMudG8sIG1haW4uYW5jaG9yKSkpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy50b0NvbnRleHRQb3MobWFpbi5oZWFkKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdENvbnRleHQuc2VsZWN0aW9uU3RhcnQgIT0gc3RhcnQgfHwgdGhpcy5lZGl0Q29udGV4dC5zZWxlY3Rpb25FbmQgIT0gZW5kKVxuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC51cGRhdGVTZWxlY3Rpb24oc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHJhbmdlSXNWYWxpZChzdGF0ZSkge1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgcmV0dXJuICEodGhpcy5mcm9tID4gMCAmJiBoZWFkIC0gdGhpcy5mcm9tIDwgNTAwIC8qIEN4VnAuTWluTWFyZ2luICovIHx8XG4gICAgICAgICAgICB0aGlzLnRvIDwgc3RhdGUuZG9jLmxlbmd0aCAmJiB0aGlzLnRvIC0gaGVhZCA8IDUwMCAvKiBDeFZwLk1pbk1hcmdpbiAqLyB8fFxuICAgICAgICAgICAgdGhpcy50byAtIHRoaXMuZnJvbSA+IDEwMDAwIC8qIEN4VnAuTWFyZ2luICovICogMyk7XG4gICAgfVxuICAgIHRvRWRpdG9yUG9zKGNvbnRleHRQb3MsIGNsaXBMZW4gPSB0aGlzLnRvIC0gdGhpcy5mcm9tKSB7XG4gICAgICAgIGNvbnRleHRQb3MgPSBNYXRoLm1pbihjb250ZXh0UG9zLCBjbGlwTGVuKTtcbiAgICAgICAgbGV0IGMgPSB0aGlzLmNvbXBvc2luZztcbiAgICAgICAgcmV0dXJuIGMgJiYgYy5kcmlmdGVkID8gYy5lZGl0b3JCYXNlICsgKGNvbnRleHRQb3MgLSBjLmNvbnRleHRCYXNlKSA6IGNvbnRleHRQb3MgKyB0aGlzLmZyb207XG4gICAgfVxuICAgIHRvQ29udGV4dFBvcyhlZGl0b3JQb3MpIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLmNvbXBvc2luZztcbiAgICAgICAgcmV0dXJuIGMgJiYgYy5kcmlmdGVkID8gYy5jb250ZXh0QmFzZSArIChlZGl0b3JQb3MgLSBjLmVkaXRvckJhc2UpIDogZWRpdG9yUG9zIC0gdGhpcy5mcm9tO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBldmVudCBpbiB0aGlzLmhhbmRsZXJzKVxuICAgICAgICAgICAgdGhpcy5lZGl0Q29udGV4dC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmhhbmRsZXJzW2V2ZW50XSk7XG4gICAgfVxufVxuXG4vLyBUaGUgZWRpdG9yJ3MgdXBkYXRlIHN0YXRlIG1hY2hpbmUgbG9va3Mgc29tZXRoaW5nIGxpa2UgdGhpczpcbi8vXG4vLyAgICAgSWRsZSDihpIgVXBkYXRpbmcg4oeGIElkbGUgKHVuY2hlY2tlZCkg4oaSIE1lYXN1cmluZyDihpIgSWRsZVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGkSAgICAgIOKGk1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0aW5nIChtZWFzdXJlKVxuLy9cbi8vIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gJ0lkbGUnIGFuZCAnSWRsZSAodW5jaGVja2VkKScgbGllcyBpblxuLy8gd2hldGhlciBhIGxheW91dCBjaGVjayBoYXMgYmVlbiBzY2hlZHVsZWQuIEEgcmVndWxhciB1cGRhdGUgdGhyb3VnaFxuLy8gdGhlIGB1cGRhdGVgIG1ldGhvZCB1cGRhdGVzIHRoZSBET00gaW4gYSB3cml0ZS1vbmx5IGZhc2hpb24sIGFuZFxuLy8gcmVsaWVzIG9uIGEgY2hlY2sgKHNjaGVkdWxlZCB3aXRoIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgKSB0byBtYWtlXG4vLyBzdXJlIGV2ZXJ5dGhpbmcgaXMgd2hlcmUgaXQgc2hvdWxkIGJlIGFuZCB0aGUgdmlld3BvcnQgY292ZXJzIHRoZVxuLy8gdmlzaWJsZSBjb2RlLiBUaGF0IGNoZWNrIGNvbnRpbnVlcyB0byBtZWFzdXJlIGFuZCB0aGVuIG9wdGlvbmFsbHlcbi8vIHVwZGF0ZSB1bnRpbCBpdCByZWFjaGVzIGEgY29oZXJlbnQgc3RhdGUuXG4vKipcbkFuIGVkaXRvciB2aWV3IHJlcHJlc2VudHMgdGhlIGVkaXRvcidzIHVzZXIgaW50ZXJmYWNlLiBJdCBob2xkc1xudGhlIGVkaXRhYmxlIERPTSBzdXJmYWNlLCBhbmQgcG9zc2libHkgb3RoZXIgZWxlbWVudHMgc3VjaCBhcyB0aGVcbmxpbmUgbnVtYmVyIGd1dHRlci4gSXQgaGFuZGxlcyBldmVudHMgYW5kIGRpc3BhdGNoZXMgc3RhdGVcbnRyYW5zYWN0aW9ucyBmb3IgZWRpdGluZyBhY3Rpb25zLlxuKi9cbmNsYXNzIEVkaXRvclZpZXcge1xuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnN0YXRlOyB9XG4gICAgLyoqXG4gICAgVG8gYmUgYWJsZSB0byBkaXNwbGF5IGxhcmdlIGRvY3VtZW50cyB3aXRob3V0IGNvbnN1bWluZyB0b28gbXVjaFxuICAgIG1lbW9yeSBvciBvdmVybG9hZGluZyB0aGUgYnJvd3NlciwgQ29kZU1pcnJvciBvbmx5IGRyYXdzIHRoZVxuICAgIGNvZGUgdGhhdCBpcyB2aXNpYmxlIChwbHVzIGEgbWFyZ2luIGFyb3VuZCBpdCkgdG8gdGhlIERPTS4gVGhpc1xuICAgIHByb3BlcnR5IHRlbGxzIHlvdSB0aGUgZXh0ZW50IG9mIHRoZSBjdXJyZW50IGRyYXduIHZpZXdwb3J0LCBpblxuICAgIGRvY3VtZW50IHBvc2l0aW9ucy5cbiAgICAqL1xuICAgIGdldCB2aWV3cG9ydCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpZXdwb3J0OyB9XG4gICAgLyoqXG4gICAgV2hlbiB0aGVyZSBhcmUsIGZvciBleGFtcGxlLCBsYXJnZSBjb2xsYXBzZWQgcmFuZ2VzIGluIHRoZVxuICAgIHZpZXdwb3J0LCBpdHMgc2l6ZSBjYW4gYmUgYSBsb3QgYmlnZ2VyIHRoYW4gdGhlIGFjdHVhbCB2aXNpYmxlXG4gICAgY29udGVudC4gVGh1cywgaWYgeW91IGFyZSBkb2luZyBzb21ldGhpbmcgbGlrZSBzdHlsaW5nIHRoZVxuICAgIGNvbnRlbnQgaW4gdGhlIHZpZXdwb3J0LCBpdCBpcyBwcmVmZXJhYmxlIHRvIG9ubHkgZG8gc28gZm9yXG4gICAgdGhlc2UgcmFuZ2VzLCB3aGljaCBhcmUgdGhlIHN1YnNldCBvZiB0aGUgdmlld3BvcnQgdGhhdCBpc1xuICAgIGFjdHVhbGx5IGRyYXduLlxuICAgICovXG4gICAgZ2V0IHZpc2libGVSYW5nZXMoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS52aXNpYmxlUmFuZ2VzOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBmYWxzZSB3aGVuIHRoZSBlZGl0b3IgaXMgZW50aXJlbHkgc2Nyb2xsZWQgb3V0IG9mIHZpZXdcbiAgICBvciBvdGhlcndpc2UgaGlkZGVuLlxuICAgICovXG4gICAgZ2V0IGluVmlldygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmluVmlldzsgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBjb21wb3NpbmcgdGV4dCB2aWFcbiAgICBbSU1FXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnB1dF9tZXRob2QpLCBhbmQgYXQgbGVhc3RcbiAgICBvbmUgY2hhbmdlIGhhcyBiZWVuIG1hZGUgaW4gdGhlIGN1cnJlbnQgY29tcG9zaXRpb24uXG4gICAgKi9cbiAgICBnZXQgY29tcG9zaW5nKCkgeyByZXR1cm4gISF0aGlzLmlucHV0U3RhdGUgJiYgdGhpcy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+IDA7IH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdXNlciBpcyBjdXJyZW50bHkgaW4gY29tcG9zaW5nIHN0YXRlLiBOb3RlXG4gICAgdGhhdCBvbiBzb21lIHBsYXRmb3JtcywgbGlrZSBBbmRyb2lkLCB0aGlzIHdpbGwgYmUgdGhlIGNhc2UgYVxuICAgIGxvdCwgc2luY2UganVzdCBwdXR0aW5nIHRoZSBjdXJzb3Igb24gYSB3b3JkIHN0YXJ0cyBhXG4gICAgY29tcG9zaXRpb24gdGhlcmUuXG4gICAgKi9cbiAgICBnZXQgY29tcG9zaXRpb25TdGFydGVkKCkgeyByZXR1cm4gISF0aGlzLmlucHV0U3RhdGUgJiYgdGhpcy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwOyB9XG4gICAgLyoqXG4gICAgVGhlIGRvY3VtZW50IG9yIHNoYWRvdyByb290IHRoYXQgdGhlIHZpZXcgbGl2ZXMgaW4uXG4gICAgKi9cbiAgICBnZXQgcm9vdCgpIHsgcmV0dXJuIHRoaXMuX3Jvb3Q7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCB3aW4oKSB7IHJldHVybiB0aGlzLmRvbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdzsgfVxuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIG5ldyB2aWV3LiBZb3UnbGwgd2FudCB0byBlaXRoZXIgcHJvdmlkZSBhIGBwYXJlbnRgXG4gICAgb3B0aW9uLCBvciBwdXQgYHZpZXcuZG9tYCBpbnRvIHlvdXIgZG9jdW1lbnQgYWZ0ZXIgY3JlYXRpbmcgYVxuICAgIHZpZXcsIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHNlZSB0aGUgZWRpdG9yLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5wbHVnaW5NYXAgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLmVkaXRvckF0dHJzID0ge307XG4gICAgICAgIHRoaXMuY29udGVudEF0dHJzID0ge307XG4gICAgICAgIHRoaXMuYmlkaUNhY2hlID0gW107XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxdWVzdHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb250ZW50RE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5zY3JvbGxET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnNjcm9sbERPTS50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLnNjcm9sbERPTS5jbGFzc05hbWUgPSBcImNtLXNjcm9sbGVyXCI7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKHRoaXMuY29udGVudERPTSk7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmFubm91bmNlRE9NLmNsYXNzTmFtZSA9IFwiY20tYW5ub3VuY2VkXCI7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VET00uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIpO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuYW5ub3VuY2VET00pO1xuICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbERPTSk7XG4gICAgICAgIGlmIChjb25maWcucGFyZW50KVxuICAgICAgICAgICAgY29uZmlnLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7XG4gICAgICAgIGxldCB7IGRpc3BhdGNoIH0gPSBjb25maWc7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgPSBjb25maWcuZGlzcGF0Y2hUcmFuc2FjdGlvbnMgfHxcbiAgICAgICAgICAgIChkaXNwYXRjaCAmJiAoKHRycykgPT4gdHJzLmZvckVhY2godHIgPT4gZGlzcGF0Y2godHIsIHRoaXMpKSkpIHx8XG4gICAgICAgICAgICAoKHRycykgPT4gdGhpcy51cGRhdGUodHJzKSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2ggPSB0aGlzLmRpc3BhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSAoY29uZmlnLnJvb3QgfHwgZ2V0Um9vdChjb25maWcucGFyZW50KSB8fCBkb2N1bWVudCk7XG4gICAgICAgIHRoaXMudmlld1N0YXRlID0gbmV3IFZpZXdTdGF0ZShjb25maWcuc3RhdGUgfHwgRWRpdG9yU3RhdGUuY3JlYXRlKGNvbmZpZykpO1xuICAgICAgICBpZiAoY29uZmlnLnNjcm9sbFRvICYmIGNvbmZpZy5zY3JvbGxUby5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQgPSBjb25maWcuc2Nyb2xsVG8udmFsdWUuY2xpcCh0aGlzLnZpZXdTdGF0ZS5zdGF0ZSk7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRoaXMuc3RhdGUuZmFjZXQodmlld1BsdWdpbikubWFwKHNwZWMgPT4gbmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgIHBsdWdpbi51cGRhdGUodGhpcyk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgRE9NT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZSA9IG5ldyBJbnB1dFN0YXRlKHRoaXMpO1xuICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICAgICAgdGhpcy5kb2NWaWV3ID0gbmV3IERvY1ZpZXcodGhpcyk7XG4gICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIGlmICgoX2EgPSBkb2N1bWVudC5mb250cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlYWR5KVxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKSA9PiB0aGlzLnJlcXVlc3RNZWFzdXJlKCkpO1xuICAgIH1cbiAgICBkaXNwYXRjaCguLi5pbnB1dCkge1xuICAgICAgICBsZXQgdHJzID0gaW5wdXQubGVuZ3RoID09IDEgJiYgaW5wdXRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiA/IGlucHV0XG4gICAgICAgICAgICA6IGlucHV0Lmxlbmd0aCA9PSAxICYmIEFycmF5LmlzQXJyYXkoaW5wdXRbMF0pID8gaW5wdXRbMF1cbiAgICAgICAgICAgICAgICA6IFt0aGlzLnN0YXRlLnVwZGF0ZSguLi5pbnB1dCldO1xuICAgICAgICB0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb25zKHRycywgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldyBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gVGhpcyB3aWxsXG4gICAgdXBkYXRlIHRoZSB2aXNpYmxlIGRvY3VtZW50IGFuZCBzZWxlY3Rpb24gdG8gbWF0Y2ggdGhlIHN0YXRlXG4gICAgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9ucywgYW5kIG5vdGlmeSB2aWV3IHBsdWdpbnMgb2YgdGhlXG4gICAgY2hhbmdlLiBZb3Ugc2hvdWxkIHVzdWFsbHkgY2FsbFxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZCwgd2hpY2ggdXNlcyB0aGlzXG4gICAgYXMgYSBwcmltaXRpdmUuXG4gICAgKi9cbiAgICB1cGRhdGUodHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcudXBkYXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGxldCByZWRyYXduID0gZmFsc2UsIGF0dHJzQ2hhbmdlZCA9IGZhbHNlLCB1cGRhdGU7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUgIT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gdXBkYXRlIHN0YXRlIHdpdGggYSB0cmFuc2FjdGlvbiB0aGF0IGRvZXNuJ3Qgc3RhcnQgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUuXCIpO1xuICAgICAgICAgICAgc3RhdGUgPSB0ci5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvY3VzID0gdGhpcy5oYXNGb2N1cywgZm9jdXNGbGFnID0gMCwgZGlzcGF0Y2hGb2N1cyA9IG51bGw7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5hbm5vdGF0aW9uKGlzRm9jdXNDaGFuZ2UpKSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gSWYgYSBmb2N1cy1jaGFuZ2UgdHJhbnNhY3Rpb24gaXMgYmVpbmcgZGlzcGF0Y2hlZCwgc2V0IHRoaXMgdXBkYXRlIGZsYWcuXG4gICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZm9jdXMgIT0gdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLm5vdGlmaWVkRm9jdXNlZCA9IGZvY3VzO1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBzZXBhcmF0ZSBmb2N1cyB0cmFuc2FjdGlvbiBpZiBuZWNlc3NhcnksIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gYWRkIGEgZmxhZyB0byB0aGlzIHVwZGF0ZVxuICAgICAgICAgICAgZGlzcGF0Y2hGb2N1cyA9IGZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24oc3RhdGUsIGZvY3VzKTtcbiAgICAgICAgICAgIGlmICghZGlzcGF0Y2hGb2N1cylcbiAgICAgICAgICAgICAgICBmb2N1c0ZsYWcgPSAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgcGVuZGluZyBET00gY2hhbmdlLCBlYWdlcmx5IHJlYWQgaXQgYW5kIHRyeSB0b1xuICAgICAgICAvLyBhcHBseSBpdCBhZnRlciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb25zLlxuICAgICAgICBsZXQgcGVuZGluZ0tleSA9IHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXksIGRvbUNoYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChwZW5kaW5nS2V5KSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgIGRvbUNoYW5nZSA9IHRoaXMub2JzZXJ2ZXIucmVhZENoYW5nZSgpO1xuICAgICAgICAgICAgLy8gT25seSB0cnkgdG8gYXBwbHkgRE9NIGNoYW5nZXMgaWYgdGhlIHRyYW5zYWN0aW9ucyBkaWRuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgZG9jIG9yIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIGlmIChkb21DaGFuZ2UgJiYgIXRoaXMuc3RhdGUuZG9jLmVxKHN0YXRlLmRvYykgfHwgIXRoaXMuc3RhdGUuc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgZG9tQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBwaHJhc2VzIGNoYW5nZSwgcmVkcmF3IHRoZSBlZGl0b3JcbiAgICAgICAgaWYgKHN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLnBocmFzZXMpICE9IHRoaXMuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gZm9jdXNGbGFnO1xuICAgICAgICBsZXQgc2Nyb2xsVGFyZ2V0ID0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICBmb3IgKGxldCB0ciBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBzY3JvbGxUYXJnZXQubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyBtYWluIH0gPSB0ci5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IG5ldyBTY3JvbGxUYXJnZXQobWFpbi5lbXB0eSA/IG1haW4gOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG1haW4uaGVhZCwgbWFpbi5oZWFkID4gbWFpbi5hbmNob3IgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBlLnZhbHVlLmNsaXAodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS51cGRhdGUodXBkYXRlLCBzY3JvbGxUYXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBDYWNoZWRPcmRlci51cGRhdGUodGhpcy5iaWRpQ2FjaGUsIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgICAgIGlmICghdXBkYXRlLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbHVnaW5zKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVkcmF3biA9IHRoaXMuZG9jVmlldy51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmZhY2V0KHN0eWxlTW9kdWxlKSAhPSB0aGlzLnN0eWxlTW9kdWxlcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgICAgICBhdHRyc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgICAgICB0aGlzLnNob3dBbm5vdW5jZW1lbnRzKHRyYW5zYWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKHJlZHJhd24sIHRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLmlzVXNlckV2ZW50KFwic2VsZWN0LnBvaW50ZXJcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KHRoZW1lKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQodGhlbWUpKVxuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHJlZHJhd24gfHwgYXR0cnNDaGFuZ2VkIHx8IHNjcm9sbFRhcmdldCB8fCB0aGlzLnZpZXdTdGF0ZS5tdXN0RW5mb3JjZUN1cnNvckFzc29jIHx8IHRoaXMudmlld1N0YXRlLm11c3RNZWFzdXJlQ29udGVudClcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgaWYgKHJlZHJhd24pXG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXdVcGRhdGUoKTtcbiAgICAgICAgaWYgKCF1cGRhdGUuZW1wdHkpXG4gICAgICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLnN0YXRlLmZhY2V0KHVwZGF0ZUxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnN0YXRlLCBlLCBcInVwZGF0ZSBsaXN0ZW5lclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwYXRjaEZvY3VzIHx8IGRvbUNoYW5nZSlcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkaXNwYXRjaEZvY3VzICYmIHRoaXMuc3RhdGUgPT0gZGlzcGF0Y2hGb2N1cy5zdGFydFN0YXRlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKGRpc3BhdGNoRm9jdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkb21DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcHBseURPTUNoYW5nZSh0aGlzLCBkb21DaGFuZ2UpICYmIHBlbmRpbmdLZXkuZm9yY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh0aGlzLmNvbnRlbnRET00sIHBlbmRpbmdLZXkua2V5LCBwZW5kaW5nS2V5LmtleUNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXNldCB0aGUgdmlldyB0byB0aGUgZ2l2ZW4gc3RhdGUuIChUaGlzIHdpbGwgY2F1c2UgdGhlIGVudGlyZVxuICAgIGRvY3VtZW50IHRvIGJlIHJlZHJhd24gYW5kIGFsbCB2aWV3IHBsdWdpbnMgdG8gYmUgcmVpbml0aWFsaXplZCxcbiAgICBzbyB5b3Ugc2hvdWxkIHByb2JhYmx5IG9ubHkgdXNlIGl0IHdoZW4gdGhlIG5ldyBzdGF0ZSBpc24ndFxuICAgIGRlcml2ZWQgZnJvbSB0aGUgb2xkIHN0YXRlLiBPdGhlcndpc2UsIHVzZVxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZC4pXG4gICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSAhPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxscyB0byBFZGl0b3JWaWV3LnNldFN0YXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgbGV0IGhhZEZvY3VzID0gdGhpcy5oYXNGb2N1cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZSA9IG5ldyBWaWV3U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zID0gbmV3U3RhdGUuZmFjZXQodmlld1BsdWdpbikubWFwKHNwZWMgPT4gbmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLmNsZWFyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIHBsdWdpbi51cGRhdGUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kb2NWaWV3ID0gbmV3IERvY1ZpZXcodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0cnMoKTtcbiAgICAgICAgICAgIHRoaXMuYmlkaUNhY2hlID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYWRGb2N1cylcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgIH1cbiAgICB1cGRhdGVQbHVnaW5zKHVwZGF0ZSkge1xuICAgICAgICBsZXQgcHJldlNwZWNzID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQodmlld1BsdWdpbiksIHNwZWNzID0gdXBkYXRlLnN0YXRlLmZhY2V0KHZpZXdQbHVnaW4pO1xuICAgICAgICBpZiAocHJldlNwZWNzICE9IHNwZWNzKSB7XG4gICAgICAgICAgICBsZXQgbmV3UGx1Z2lucyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgc3BlYyBvZiBzcGVjcykge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IHByZXZTcGVjcy5pbmRleE9mKHNwZWMpO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGx1Z2lucy5wdXNoKG5ldyBQbHVnaW5JbnN0YW5jZShzcGVjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy5wbHVnaW5zW2ZvdW5kXTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm11c3RVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5tdXN0VXBkYXRlICE9IHVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXdQbHVnaW5zO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIHAubXVzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGx1Z2lucy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tpXS51cGRhdGUodGhpcyk7XG4gICAgICAgIGlmIChwcmV2U3BlY3MgIT0gc3BlY3MpXG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUuZW5zdXJlSGFuZGxlcnModGhpcy5wbHVnaW5zKTtcbiAgICB9XG4gICAgZG9jVmlld1VwZGF0ZSgpIHtcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IHBsdWdpbi52YWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgdmFsLmRvY1ZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YWwuZG9jVmlld1VwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMuc3RhdGUsIGUsIFwiZG9jIHZpZXcgdXBkYXRlIGxpc3RlbmVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1lYXN1cmUoZmx1c2ggPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXkpIHtcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0TWVhc3VyZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IDA7IC8vIFByZXZlbnQgcmVxdWVzdE1lYXN1cmUgY2FsbHMgZnJvbSBzY2hlZHVsaW5nIGFub3RoZXIgYW5pbWF0aW9uIGZyYW1lXG4gICAgICAgIGlmIChmbHVzaClcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZm9yY2VGbHVzaCgpO1xuICAgICAgICBsZXQgdXBkYXRlZCA9IG51bGw7XG4gICAgICAgIGxldCBzRE9NID0gdGhpcy5zY3JvbGxET00sIHNjcm9sbFRvcCA9IHNET00uc2Nyb2xsVG9wICogdGhpcy5zY2FsZVk7XG4gICAgICAgIGxldCB7IHNjcm9sbEFuY2hvclBvcywgc2Nyb2xsQW5jaG9ySGVpZ2h0IH0gPSB0aGlzLnZpZXdTdGF0ZTtcbiAgICAgICAgaWYgKE1hdGguYWJzKHNjcm9sbFRvcCAtIHRoaXMudmlld1N0YXRlLnNjcm9sbFRvcCkgPiAxKVxuICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQW5jaG9ySGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTY3JvbGxlZFRvQm90dG9tKHNET00pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3JQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IHRoaXMudmlld1N0YXRlLmhlaWdodE1hcC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxBbmNob3JBdChzY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yUG9zID0gYmxvY2suZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IGJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMSAvKiBVcGRhdGVTdGF0ZS5NZWFzdXJpbmcgKi87XG4gICAgICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLnZpZXdTdGF0ZS5tZWFzdXJlKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICghY2hhbmdlZCAmJiAhdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoICYmIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk1lYXN1cmUgbG9vcCByZXN0YXJ0ZWQgbW9yZSB0aGFuIDUgdGltZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlZpZXdwb3J0IGZhaWxlZCB0byBzdGFiaWxpemVcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyaW5nID0gW107XG4gICAgICAgICAgICAgICAgLy8gT25seSBydW4gbWVhc3VyZSByZXF1ZXN0cyBpbiB0aGlzIGN5Y2xlIHdoZW4gdGhlIHZpZXdwb3J0IGRpZG4ndCBjaGFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoIShjaGFuZ2VkICYgNCAvKiBVcGRhdGVGbGFnLlZpZXdwb3J0ICovKSlcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMubWVhc3VyZVJlcXVlc3RzLCBtZWFzdXJpbmddID0gW21lYXN1cmluZywgdGhpcy5tZWFzdXJlUmVxdWVzdHNdO1xuICAgICAgICAgICAgICAgIGxldCBtZWFzdXJlZCA9IG1lYXN1cmluZy5tYXAobSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5yZWFkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmFkTWVhc3VyZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxldCB1cGRhdGUgPSBWaWV3VXBkYXRlLmNyZWF0ZSh0aGlzLCB0aGlzLnN0YXRlLCBbXSksIHJlZHJhd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUuZmxhZ3MgfD0gY2hhbmdlZDtcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB1cGRhdGU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmZsYWdzIHw9IGNoYW5nZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGUuZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbHVnaW5zKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgICAgICAgICByZWRyYXduID0gdGhpcy5kb2NWaWV3LnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVkcmF3bilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlld1VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lYXN1cmluZy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lYXN1cmVkW2ldICE9IEJhZE1lYXN1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG0gPSBtZWFzdXJpbmdbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0ud3JpdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0ud3JpdGUobWVhc3VyZWRbaV0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odGhpcy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVkcmF3bilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZS52aWV3cG9ydENoYW5nZWQgJiYgdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld1N0YXRlLmVkaXRvckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlldy5zY3JvbGxJbnRvVmlldyh0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9ySGVpZ2h0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3QW5jaG9ySGVpZ2h0ID0gc2Nyb2xsQW5jaG9yUG9zIDwgMCA/IHRoaXMudmlld1N0YXRlLmhlaWdodE1hcC5oZWlnaHQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdChzY3JvbGxBbmNob3JQb3MpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IG5ld0FuY2hvckhlaWdodCAtIHNjcm9sbEFuY2hvckhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA+IDEgfHwgZGlmZiA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIGRpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNET00uc2Nyb2xsVG9wID0gc2Nyb2xsVG9wIC8gdGhpcy5zY2FsZVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFuY2hvckhlaWdodCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLztcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVkICYmICF1cGRhdGVkLmVtcHR5KVxuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZS5mYWNldCh1cGRhdGVMaXN0ZW5lcikpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodXBkYXRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgQ1NTIGNsYXNzZXMgZm9yIHRoZSBjdXJyZW50bHkgYWN0aXZlIGVkaXRvciB0aGVtZXMuXG4gICAgKi9cbiAgICBnZXQgdGhlbWVDbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4gYmFzZVRoZW1lSUQgKyBcIiBcIiArXG4gICAgICAgICAgICAodGhpcy5zdGF0ZS5mYWNldChkYXJrVGhlbWUpID8gYmFzZURhcmtJRCA6IGJhc2VMaWdodElEKSArIFwiIFwiICtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZmFjZXQodGhlbWUpO1xuICAgIH1cbiAgICB1cGRhdGVBdHRycygpIHtcbiAgICAgICAgbGV0IGVkaXRvckF0dHJzID0gYXR0cnNGcm9tRmFjZXQodGhpcywgZWRpdG9yQXR0cmlidXRlcywge1xuICAgICAgICAgICAgY2xhc3M6IFwiY20tZWRpdG9yXCIgKyAodGhpcy5oYXNGb2N1cyA/IFwiIGNtLWZvY3VzZWQgXCIgOiBcIiBcIikgKyB0aGlzLnRoZW1lQ2xhc3Nlc1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGNvbnRlbnRBdHRycyA9IHtcbiAgICAgICAgICAgIHNwZWxsY2hlY2s6IFwiZmFsc2VcIixcbiAgICAgICAgICAgIGF1dG9jb3JyZWN0OiBcIm9mZlwiLFxuICAgICAgICAgICAgYXV0b2NhcGl0YWxpemU6IFwib2ZmXCIsXG4gICAgICAgICAgICB3cml0aW5nc3VnZ2VzdGlvbnM6IFwiZmFsc2VcIixcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogXCJub1wiLFxuICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiAhdGhpcy5zdGF0ZS5mYWNldChlZGl0YWJsZSkgPyBcImZhbHNlXCIgOiBcInRydWVcIixcbiAgICAgICAgICAgIGNsYXNzOiBcImNtLWNvbnRlbnRcIixcbiAgICAgICAgICAgIHN0eWxlOiBgJHticm93c2VyLnRhYlNpemV9OiAke3RoaXMuc3RhdGUudGFiU2l6ZX1gLFxuICAgICAgICAgICAgcm9sZTogXCJ0ZXh0Ym94XCIsXG4gICAgICAgICAgICBcImFyaWEtbXVsdGlsaW5lXCI6IFwidHJ1ZVwiXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICAgICAgY29udGVudEF0dHJzW1wiYXJpYS1yZWFkb25seVwiXSA9IFwidHJ1ZVwiO1xuICAgICAgICBhdHRyc0Zyb21GYWNldCh0aGlzLCBjb250ZW50QXR0cmlidXRlcywgY29udGVudEF0dHJzKTtcbiAgICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlZENvbnRlbnQgPSB1cGRhdGVBdHRycyh0aGlzLmNvbnRlbnRET00sIHRoaXMuY29udGVudEF0dHJzLCBjb250ZW50QXR0cnMpO1xuICAgICAgICAgICAgbGV0IGNoYW5nZWRFZGl0b3IgPSB1cGRhdGVBdHRycyh0aGlzLmRvbSwgdGhpcy5lZGl0b3JBdHRycywgZWRpdG9yQXR0cnMpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWRDb250ZW50IHx8IGNoYW5nZWRFZGl0b3I7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVkaXRvckF0dHJzID0gZWRpdG9yQXR0cnM7XG4gICAgICAgIHRoaXMuY29udGVudEF0dHJzID0gY29udGVudEF0dHJzO1xuICAgICAgICByZXR1cm4gY2hhbmdlZDtcbiAgICB9XG4gICAgc2hvd0Fubm91bmNlbWVudHModHJzKSB7XG4gICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRycylcbiAgICAgICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoRWRpdG9yVmlldy5hbm5vdW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdW5jZURPTS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXYgPSB0aGlzLmFubm91bmNlRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgIH1cbiAgICBtb3VudFN0eWxlcygpIHtcbiAgICAgICAgdGhpcy5zdHlsZU1vZHVsZXMgPSB0aGlzLnN0YXRlLmZhY2V0KHN0eWxlTW9kdWxlKTtcbiAgICAgICAgbGV0IG5vbmNlID0gdGhpcy5zdGF0ZS5mYWNldChFZGl0b3JWaWV3LmNzcE5vbmNlKTtcbiAgICAgICAgU3R5bGVNb2R1bGUubW91bnQodGhpcy5yb290LCB0aGlzLnN0eWxlTW9kdWxlcy5jb25jYXQoYmFzZVRoZW1lJDEpLnJldmVyc2UoKSwgbm9uY2UgPyB7IG5vbmNlIH0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZWFkTWVhc3VyZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlID09IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWFkaW5nIHRoZSBlZGl0b3IgbGF5b3V0IGlzbid0IGFsbG93ZWQgZHVyaW5nIGFuIHVwZGF0ZVwiKTtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGUgPT0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovICYmIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlKGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2NoZWR1bGUgYSBsYXlvdXQgbWVhc3VyZW1lbnQsIG9wdGlvbmFsbHkgcHJvdmlkaW5nIGNhbGxiYWNrcyB0b1xuICAgIGRvIGN1c3RvbSBET00gbWVhc3VyaW5nIGZvbGxvd2VkIGJ5IGEgRE9NIHdyaXRlIHBoYXNlLiBVc2luZ1xuICAgIHRoaXMgaXMgcHJlZmVyYWJsZSByZWFkaW5nIERPTSBsYXlvdXQgZGlyZWN0bHkgZnJvbSwgZm9yXG4gICAgZXhhbXBsZSwgYW4gZXZlbnQgaGFuZGxlciwgYmVjYXVzZSBpdCdsbCBtYWtlIHN1cmUgbWVhc3VyaW5nIGFuZFxuICAgIGRyYXdpbmcgZG9uZSBieSBvdGhlciBjb21wb25lbnRzIGlzIHN5bmNocm9uaXplZCwgYXZvaWRpbmdcbiAgICB1bm5lY2Vzc2FyeSBET00gbGF5b3V0IGNvbXB1dGF0aW9ucy5cbiAgICAqL1xuICAgIHJlcXVlc3RNZWFzdXJlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA8IDApXG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPSB0aGlzLndpbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5tZWFzdXJlKCkpO1xuICAgICAgICBpZiAocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVhc3VyZVJlcXVlc3RzLmluZGV4T2YocmVxdWVzdCkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5rZXkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lYXN1cmVSZXF1ZXN0c1tpXS5rZXkgPT09IHJlcXVlc3Qua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0c1tpXSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVSZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpYyBwbHVnaW4sIGlmIHByZXNlbnQuIE5vdGUgdGhhdFxuICAgIHBsdWdpbnMgdGhhdCBjcmFzaCBjYW4gYmUgZHJvcHBlZCBmcm9tIGEgdmlldywgc28gZXZlbiB3aGVuIHlvdVxuICAgIGtub3cgeW91IHJlZ2lzdGVyZWQgYSBnaXZlbiBwbHVnaW4sIGl0IGlzIHJlY29tbWVuZGVkIHRvIGNoZWNrXG4gICAgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAqL1xuICAgIHBsdWdpbihwbHVnaW4pIHtcbiAgICAgICAgbGV0IGtub3duID0gdGhpcy5wbHVnaW5NYXAuZ2V0KHBsdWdpbik7XG4gICAgICAgIGlmIChrbm93biA9PT0gdW5kZWZpbmVkIHx8IGtub3duICYmIGtub3duLnNwZWMgIT0gcGx1Z2luKVxuICAgICAgICAgICAgdGhpcy5wbHVnaW5NYXAuc2V0KHBsdWdpbiwga25vd24gPSB0aGlzLnBsdWdpbnMuZmluZChwID0+IHAuc3BlYyA9PSBwbHVnaW4pIHx8IG51bGwpO1xuICAgICAgICByZXR1cm4ga25vd24gJiYga25vd24udXBkYXRlKHRoaXMpLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgdG9wIHBvc2l0aW9uIG9mIHRoZSBkb2N1bWVudCwgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLiBUaGlzXG4gICAgbWF5IGJlIG5lZ2F0aXZlIHdoZW4gdGhlIGVkaXRvciBpcyBzY3JvbGxlZCBkb3duLiBQb2ludHNcbiAgICBkaXJlY3RseSB0byB0aGUgdG9wIG9mIHRoZSBmaXJzdCBsaW5lLCBub3QgYWJvdmUgdGhlIHBhZGRpbmcuXG4gICAgKi9cbiAgICBnZXQgZG9jdW1lbnRUb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdGhpcy52aWV3U3RhdGUucGFkZGluZ1RvcDtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVwb3J0cyB0aGUgcGFkZGluZyBhYm92ZSBhbmQgYmVsb3cgdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IGRvY3VtZW50UGFkZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHsgdG9wOiB0aGlzLnZpZXdTdGF0ZS5wYWRkaW5nVG9wLCBib3R0b206IHRoaXMudmlld1N0YXRlLnBhZGRpbmdCb3R0b20gfTtcbiAgICB9XG4gICAgLyoqXG4gICAgSWYgdGhlIGVkaXRvciBpcyB0cmFuc2Zvcm1lZCB3aXRoIENTUywgdGhpcyBwcm92aWRlcyB0aGUgc2NhbGVcbiAgICBhbG9uZyB0aGUgWCBheGlzLiBPdGhlcndpc2UsIGl0IHdpbGwganVzdCBiZSAxLiBOb3RlIHRoYXRcbiAgICB0cmFuc2Zvcm1zIG90aGVyIHRoYW4gdHJhbnNsYXRpb24gYW5kIHNjYWxpbmcgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVYKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVYOyB9XG4gICAgLyoqXG4gICAgUHJvdmlkZSB0aGUgQ1NTIHRyYW5zZm9ybWVkIHNjYWxlIGFsb25nIHRoZSBZIGF4aXMuXG4gICAgKi9cbiAgICBnZXQgc2NhbGVZKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc2NhbGVZOyB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdGV4dCBsaW5lIG9yIGJsb2NrIHdpZGdldCBhdCB0aGUgZ2l2ZW4gdmVydGljYWxcbiAgICBwb3NpdGlvbiAod2hpY2ggaXMgaW50ZXJwcmV0ZWQgYXMgcmVsYXRpdmUgdG8gdGhlIFt0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRvY3VtZW50VG9wKSkuXG4gICAgKi9cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMucmVhZE1lYXN1cmVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdTdGF0ZS5lbGVtZW50QXRIZWlnaHQoaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgbGluZSBibG9jayAoc2VlXG4gICAgW2BsaW5lQmxvY2tBdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBhdCB0aGUgZ2l2ZW5cbiAgICBoZWlnaHQsIGFnYWluIGludGVycHJldGVkIHJlbGF0aXZlIHRvIHRoZSBbdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb2N1bWVudFRvcCkuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgZXh0ZW50IGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiBhbGwgW2xpbmVcbiAgICBibG9ja3NdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVCbG9ja0F0KSBpbiB0aGUgdmlld3BvcnQuIFBvc2l0aW9uc1xuICAgIGFyZSByZWxhdGl2ZSB0byB0aGUgW3RvcCBvZiB0aGVcbiAgICBkb2N1bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0TGluZUJsb2NrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpZXdwb3J0TGluZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGxpbmUgYmxvY2sgYXJvdW5kIHRoZSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi4gQSBsaW5lXG4gICAgYmxvY2sgaXMgYSByYW5nZSBkZWxpbWl0ZWQgb24gYm90aCBzaWRlcyBieSBlaXRoZXIgYVxuICAgIG5vbi1baGlkZGVuXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbl5yZXBsYWNlKSBsaW5lIGJyZWFrLCBvciB0aGVcbiAgICBzdGFydC9lbmQgb2YgdGhlIGRvY3VtZW50LiBJdCB3aWxsIHVzdWFsbHkganVzdCBob2xkIGEgbGluZSBvZlxuICAgIHRleHQsIGJ1dCBtYXkgYmUgYnJva2VuIGludG8gbXVsdGlwbGUgdGV4dGJsb2NrcyBieSBibG9ja1xuICAgIHdpZGdldHMuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IncyB0b3RhbCBjb250ZW50IGhlaWdodC5cbiAgICAqL1xuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUuY29udGVudEhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBieSBbZ3JhcGhlbWVcbiAgICBjbHVzdGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLmZpbmRDbHVzdGVyQnJlYWspLiBgZm9yd2FyZGAgZGV0ZXJtaW5lcyB3aGV0aGVyXG4gICAgdGhlIG1vdGlvbiBpcyBhd2F5IGZyb20gdGhlIGxpbmUgc3RhcnQsIG9yIHRvd2FyZHMgaXQuIEluXG4gICAgYmlkaXJlY3Rpb25hbCB0ZXh0LCB0aGUgbGluZSBpcyB0cmF2ZXJzZWQgaW4gdmlzdWFsIG9yZGVyLCB1c2luZ1xuICAgIHRoZSBlZGl0b3IncyBbdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLlxuICAgIFdoZW4gdGhlIHN0YXJ0IHBvc2l0aW9uIHdhcyB0aGUgbGFzdCBvbmUgb24gdGhlIGxpbmUsIHRoZVxuICAgIHJldHVybmVkIHBvc2l0aW9uIHdpbGwgYmUgYWNyb3NzIHRoZSBsaW5lIGJyZWFrLiBJZiB0aGVyZSBpcyBub1xuICAgIGZ1cnRoZXIgbGluZSwgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIGlzIHJldHVybmVkLlxuICAgIFxuICAgIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIG1vdmVzIG92ZXIgYSBzaW5nbGUgY2x1c3Rlci4gVGhlXG4gICAgb3B0aW9uYWwgYGJ5YCBhcmd1bWVudCBjYW4gYmUgdXNlZCB0byBtb3ZlIGFjcm9zcyBtb3JlLiBJdCB3aWxsXG4gICAgYmUgY2FsbGVkIHdpdGggdGhlIGZpcnN0IGNsdXN0ZXIgYXMgYXJndW1lbnQsIGFuZCBzaG91bGQgcmV0dXJuXG4gICAgYSBwcmVkaWNhdGUgdGhhdCBkZXRlcm1pbmVzLCBmb3IgZWFjaCBzdWJzZXF1ZW50IGNsdXN0ZXIsXG4gICAgd2hldGhlciBpdCBzaG91bGQgYWxzbyBiZSBtb3ZlZCBvdmVyLlxuICAgICovXG4gICAgbW92ZUJ5Q2hhcihzdGFydCwgZm9yd2FyZCwgYnkpIHtcbiAgICAgICAgcmV0dXJuIHNraXBBdG9tcyh0aGlzLCBzdGFydCwgbW92ZUJ5Q2hhcih0aGlzLCBzdGFydCwgZm9yd2FyZCwgYnkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBhY3Jvc3MgdGhlIG5leHQgZ3JvdXAgb2YgZWl0aGVyXG4gICAgW2xldHRlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKSBvciBub24tbGV0dGVyXG4gICAgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycy5cbiAgICAqL1xuICAgIG1vdmVCeUdyb3VwKHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVCeUNoYXIodGhpcywgc3RhcnQsIGZvcndhcmQsIGluaXRpYWwgPT4gYnlHcm91cCh0aGlzLCBzdGFydC5oZWFkLCBpbml0aWFsKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGN1cnNvciBwb3NpdGlvbiB2aXN1YWxseSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgbGluZS5cbiAgICBOb3RlIHRoYXQgdGhpcyBtYXkgZGlmZmVyIGZyb20gdGhlIF9sb2dpY2FsXyBwb3NpdGlvbiBhdCBpdHNcbiAgICBzdGFydCBvciBlbmQgKHdoaWNoIGlzIHNpbXBseSBhdCBgbGluZS5mcm9tYC9gbGluZS50b2ApIGlmIHRleHRcbiAgICBhdCB0aGUgc3RhcnQgb3IgZW5kIGdvZXMgYWdhaW5zdCB0aGUgbGluZSdzIGJhc2UgdGV4dCBkaXJlY3Rpb24uXG4gICAgKi9cbiAgICB2aXN1YWxMaW5lU2lkZShsaW5lLCBlbmQpIHtcbiAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5iaWRpU3BhbnMobGluZSksIGRpciA9IHRoaXMudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBzcGFuID0gb3JkZXJbZW5kID8gb3JkZXIubGVuZ3RoIC0gMSA6IDBdO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihzcGFuLnNpZGUoZW5kLCBkaXIpICsgbGluZS5mcm9tLCBzcGFuLmZvcndhcmQoIWVuZCwgZGlyKSA/IDEgOiAtMSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgdG8gdGhlIG5leHQgbGluZSBib3VuZGFyeSBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLiBJZlxuICAgIGBpbmNsdWRlV3JhcGAgaXMgdHJ1ZSwgbGluZSB3cmFwcGluZyBpcyBvbiwgYW5kIHRoZXJlIGlzIGFcbiAgICBmdXJ0aGVyIHdyYXAgcG9pbnQgb24gdGhlIGN1cnJlbnQgbGluZSwgdGhlIHdyYXAgcG9pbnQgd2lsbCBiZVxuICAgIHJldHVybmVkLiBPdGhlcndpc2UgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgc3RhcnQgb3IgZW5kXG4gICAgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBtb3ZlVG9MaW5lQm91bmRhcnkoc3RhcnQsIGZvcndhcmQsIGluY2x1ZGVXcmFwID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbW92ZVRvTGluZUJvdW5kYXJ5KHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1vdmUgYSBjdXJzb3IgcG9zaXRpb24gdmVydGljYWxseS4gV2hlbiBgZGlzdGFuY2VgIGlzbid0IGdpdmVuLFxuICAgIGl0IGRlZmF1bHRzIHRvIG1vdmluZyB0byB0aGUgbmV4dCBsaW5lIChpbmNsdWRpbmcgd3JhcHBlZFxuICAgIGxpbmVzKS4gT3RoZXJ3aXNlLCBgZGlzdGFuY2VgIHNob3VsZCBwcm92aWRlIGEgcG9zaXRpdmUgZGlzdGFuY2VcbiAgICBpbiBwaXhlbHMuXG4gICAgXG4gICAgV2hlbiBgc3RhcnRgIGhhcyBhXG4gICAgW2Bnb2FsQ29sdW1uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TZWxlY3Rpb25SYW5nZS5nb2FsQ29sdW1uKSwgdGhlIHZlcnRpY2FsXG4gICAgbW90aW9uIHdpbGwgdXNlIHRoYXQgYXMgYSB0YXJnZXQgaG9yaXpvbnRhbCBwb3NpdGlvbi4gT3RoZXJ3aXNlLFxuICAgIHRoZSBjdXJzb3IncyBvd24gaG9yaXpvbnRhbCBwb3NpdGlvbiBpcyB1c2VkLiBUaGUgcmV0dXJuZWRcbiAgICBjdXJzb3Igd2lsbCBoYXZlIGl0cyBnb2FsIGNvbHVtbiBzZXQgdG8gd2hpY2hldmVyIGNvbHVtbiB3YXNcbiAgICB1c2VkLlxuICAgICovXG4gICAgbW92ZVZlcnRpY2FsbHkoc3RhcnQsIGZvcndhcmQsIGRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVWZXJ0aWNhbGx5KHRoaXMsIHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBET00gcGFyZW50IG5vZGUgYW5kIG9mZnNldCAoY2hpbGQgb2Zmc2V0IGlmIGBub2RlYCBpc1xuICAgIGFuIGVsZW1lbnQsIGNoYXJhY3RlciBvZmZzZXQgd2hlbiBpdCBpcyBhIHRleHQgbm9kZSkgYXQgdGhlXG4gICAgZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uXG4gICAgXG4gICAgTm90ZSB0aGF0IGZvciBwb3NpdGlvbnMgdGhhdCBhcmVuJ3QgY3VycmVudGx5IGluXG4gICAgYHZpc2libGVSYW5nZXNgLCB0aGUgcmVzdWx0aW5nIERPTSBwb3NpdGlvbiBpc24ndCBuZWNlc3NhcmlseVxuICAgIG1lYW5pbmdmdWwgKGl0IG1heSBqdXN0IHBvaW50IGJlZm9yZSBvciBhZnRlciBhIHBsYWNlaG9sZGVyXG4gICAgZWxlbWVudCkuXG4gICAgKi9cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5kb21BdFBvcyhwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBkb2N1bWVudCBwb3NpdGlvbiBhdCB0aGUgZ2l2ZW4gRE9NIG5vZGUuIENhbiBiZSB1c2VmdWxcbiAgICBmb3IgYXNzb2NpYXRpbmcgcG9zaXRpb25zIHdpdGggRE9NIGV2ZW50cy4gV2lsbCByYWlzZSBhbiBlcnJvclxuICAgIHdoZW4gYG5vZGVgIGlzbid0IHBhcnQgb2YgdGhlIGVkaXRvciBjb250ZW50LlxuICAgICovXG4gICAgcG9zQXRET00obm9kZSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KTtcbiAgICB9XG4gICAgcG9zQXRDb29yZHMoY29vcmRzLCBwcmVjaXNlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gcG9zQXRDb29yZHModGhpcywgY29vcmRzLCBwcmVjaXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgYXQgdGhlIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgIGBzaWRlYCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGNvb3JkaW5hdGVzIGFyZSBiYXNlZCBvbiB0aGVcbiAgICBlbGVtZW50IGJlZm9yZSAoLTEpIG9yIGFmdGVyICgxKSB0aGUgcG9zaXRpb24gKGlmIG5vIGVsZW1lbnQgaXNcbiAgICBhdmFpbGFibGUgb24gdGhlIGdpdmVuIHNpZGUsIHRoZSBtZXRob2Qgd2lsbCB0cmFuc3BhcmVudGx5IHVzZVxuICAgIGFub3RoZXIgc3RyYXRlZ3kgdG8gZ2V0IHJlYXNvbmFibGUgY29vcmRpbmF0ZXMpLlxuICAgICovXG4gICAgY29vcmRzQXRQb3MocG9zLCBzaWRlID0gMSkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZG9jVmlldy5jb29yZHNBdChwb3MsIHNpZGUpO1xuICAgICAgICBpZiAoIXJlY3QgfHwgcmVjdC5sZWZ0ID09IHJlY3QucmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnN0YXRlLmRvYy5saW5lQXQocG9zKSwgb3JkZXIgPSB0aGlzLmJpZGlTcGFucyhsaW5lKTtcbiAgICAgICAgbGV0IHNwYW4gPSBvcmRlcltCaWRpU3Bhbi5maW5kKG9yZGVyLCBwb3MgLSBsaW5lLmZyb20sIC0xLCBzaWRlKV07XG4gICAgICAgIHJldHVybiBmbGF0dGVuUmVjdChyZWN0LCAoc3Bhbi5kaXIgPT0gRGlyZWN0aW9uLkxUUikgPT0gKHNpZGUgPiAwKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiB0aGUgcmVjdGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGNoYXJhY3Rlci4gSWYgYHBvc2AgZG9lcyBub3RcbiAgICBwb2ludCBpbiBmcm9udCBvZiBhIGNoYXJhY3RlciB0aGF0IGlzIGluIHRoZSB2aWV3cG9ydCBhbmRcbiAgICByZW5kZXJlZCAoaS5lLiBub3QgcmVwbGFjZWQsIG5vdCBhIGxpbmUgYnJlYWspLCB0aGlzIHdpbGwgcmV0dXJuXG4gICAgbnVsbC4gRm9yIHNwYWNlIGNoYXJhY3RlcnMgdGhhdCBhcmUgYSBsaW5lIHdyYXAgcG9pbnQsIHRoaXMgd2lsbFxuICAgIHJldHVybiB0aGUgcG9zaXRpb24gYmVmb3JlIHRoZSBsaW5lIGJyZWFrLlxuICAgICovXG4gICAgY29vcmRzRm9yQ2hhcihwb3MpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5jb29yZHNGb3JDaGFyKHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBkZWZhdWx0IHdpZHRoIG9mIGEgY2hhcmFjdGVyIGluIHRoZSBlZGl0b3IuIE1heSBub3RcbiAgICBhY2N1cmF0ZWx5IHJlZmxlY3QgdGhlIHdpZHRoIG9mIGFsbCBjaGFyYWN0ZXJzIChnaXZlbiB2YXJpYWJsZVxuICAgIHdpZHRoIGZvbnRzIG9yIHN0eWxpbmcgb2YgaW52aWRpZHVhbCByYW5nZXMpLlxuICAgICovXG4gICAgZ2V0IGRlZmF1bHRDaGFyYWN0ZXJXaWR0aCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7IH1cbiAgICAvKipcbiAgICBUaGUgZGVmYXVsdCBoZWlnaHQgb2YgYSBsaW5lIGluIHRoZSBlZGl0b3IuIE1heSBub3QgYmUgYWNjdXJhdGVcbiAgICBmb3IgYWxsIGxpbmVzLlxuICAgICovXG4gICAgZ2V0IGRlZmF1bHRMaW5lSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQ7IH1cbiAgICAvKipcbiAgICBUaGUgdGV4dCBkaXJlY3Rpb25cbiAgICAoW2BkaXJlY3Rpb25gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZGlyZWN0aW9uKVxuICAgIENTUyBwcm9wZXJ0eSkgb2YgdGhlIGVkaXRvcidzIGNvbnRlbnQgZWxlbWVudC5cbiAgICAqL1xuICAgIGdldCB0ZXh0RGlyZWN0aW9uKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuZGVmYXVsdFRleHREaXJlY3Rpb247IH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB0ZXh0IGRpcmVjdGlvbiBvZiB0aGUgYmxvY2sgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBhc1xuICAgIGFzc2lnbmVkIGJ5IENTUy4gSWZcbiAgICBbYHBlckxpbmVUZXh0RGlyZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdecGVyTGluZVRleHREaXJlY3Rpb24pXG4gICAgaXNuJ3QgZW5hYmxlZCwgb3IgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIG91dHNpZGUgb2YgdGhlIHZpZXdwb3J0LFxuICAgIHRoaXMgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSBzYW1lIGFzXG4gICAgW2B0ZXh0RGlyZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbikuIE5vdGUgdGhhdFxuICAgIHRoaXMgbWF5IHRyaWdnZXIgYSBET00gbGF5b3V0LlxuICAgICovXG4gICAgdGV4dERpcmVjdGlvbkF0KHBvcykge1xuICAgICAgICBsZXQgcGVyTGluZSA9IHRoaXMuc3RhdGUuZmFjZXQocGVyTGluZVRleHREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoIXBlckxpbmUgfHwgcG9zIDwgdGhpcy52aWV3cG9ydC5mcm9tIHx8IHBvcyA+IHRoaXMudmlld3BvcnQudG8pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LnRleHREaXJlY3Rpb25BdChwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBXaGV0aGVyIHRoaXMgZWRpdG9yIFt3cmFwcyBsaW5lc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubGluZVdyYXBwaW5nKVxuICAgIChhcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgIFtgd2hpdGUtc3BhY2VgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1Mvd2hpdGUtc3BhY2UpXG4gICAgQ1NTIHByb3BlcnR5IG9mIGl0cyBjb250ZW50IGVsZW1lbnQpLlxuICAgICovXG4gICAgZ2V0IGxpbmVXcmFwcGluZygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmc7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRoZSBiaWRpcmVjdGlvbmFsIHRleHQgc3RydWN0dXJlIG9mIHRoZSBnaXZlbiBsaW5lXG4gICAgKHdoaWNoIHNob3VsZCBiZSBpbiB0aGUgY3VycmVudCBkb2N1bWVudCkgYXMgYW4gYXJyYXkgb2Ygc3BhblxuICAgIG9iamVjdHMuIFRoZSBvcmRlciBvZiB0aGVzZSBzcGFucyBtYXRjaGVzIHRoZSBbdGV4dFxuICAgIGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudGV4dERpcmVjdGlvbinigJRpZiB0aGF0IGlzXG4gICAgbGVmdC10by1yaWdodCwgdGhlIGxlZnRtb3N0IHNwYW5zIGNvbWUgZmlyc3QsIG90aGVyd2lzZSB0aGVcbiAgICByaWdodG1vc3Qgc3BhbnMgY29tZSBmaXJzdC5cbiAgICAqL1xuICAgIGJpZGlTcGFucyhsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IE1heEJpZGlMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHRyaXZpYWxPcmRlcihsaW5lLmxlbmd0aCk7XG4gICAgICAgIGxldCBkaXIgPSB0aGlzLnRleHREaXJlY3Rpb25BdChsaW5lLmZyb20pLCBpc29sYXRlcztcbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5iaWRpQ2FjaGUpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5mcm9tID09IGxpbmUuZnJvbSAmJiBlbnRyeS5kaXIgPT0gZGlyICYmXG4gICAgICAgICAgICAgICAgKGVudHJ5LmZyZXNoIHx8IGlzb2xhdGVzRXEoZW50cnkuaXNvbGF0ZXMsIGlzb2xhdGVzID0gZ2V0SXNvbGF0ZWRSYW5nZXModGhpcywgbGluZSkpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkub3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc29sYXRlcylcbiAgICAgICAgICAgIGlzb2xhdGVzID0gZ2V0SXNvbGF0ZWRSYW5nZXModGhpcywgbGluZSk7XG4gICAgICAgIGxldCBvcmRlciA9IGNvbXB1dGVPcmRlcihsaW5lLnRleHQsIGRpciwgaXNvbGF0ZXMpO1xuICAgICAgICB0aGlzLmJpZGlDYWNoZS5wdXNoKG5ldyBDYWNoZWRPcmRlcihsaW5lLmZyb20sIGxpbmUudG8sIGRpciwgaXNvbGF0ZXMsIHRydWUsIG9yZGVyKSk7XG4gICAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2hlY2sgd2hldGhlciB0aGUgZWRpdG9yIGhhcyBmb2N1cy5cbiAgICAqL1xuICAgIGdldCBoYXNGb2N1cygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBTYWZhcmkgcmV0dXJuIGZhbHNlIGZvciBoYXNGb2N1cyB3aGVuIHRoZSBjb250ZXh0IG1lbnUgaXMgb3BlblxuICAgICAgICAvLyBvciBjbG9zaW5nLCB3aGljaCBsZWFkcyB1cyB0byBpZ25vcmUgc2VsZWN0aW9uIGNoYW5nZXMgZnJvbSB0aGVcbiAgICAgICAgLy8gY29udGV4dCBtZW51IGJlY2F1c2UgaXQgbG9va3MgbGlrZSB0aGUgZWRpdG9yIGlzbid0IGZvY3VzZWQuXG4gICAgICAgIC8vIFRoaXMga2x1ZGdlcyBhcm91bmQgdGhhdC5cbiAgICAgICAgcmV0dXJuICh0aGlzLmRvbS5vd25lckRvY3VtZW50Lmhhc0ZvY3VzKCkgfHwgYnJvd3Nlci5zYWZhcmkgJiYgKChfYSA9IHRoaXMuaW5wdXRTdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RDb250ZXh0TWVudSkgPiBEYXRlLm5vdygpIC0gM2U0KSAmJlxuICAgICAgICAgICAgdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5jb250ZW50RE9NO1xuICAgIH1cbiAgICAvKipcbiAgICBQdXQgZm9jdXMgb24gdGhlIGVkaXRvci5cbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmlnbm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBmb2N1c1ByZXZlbnRTY3JvbGwodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVTZWxlY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgW3Jvb3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jI3ZpZXcuRWRpdG9yVmlld0NvbmZpZy5yb290KSBpbiB3aGljaCB0aGUgZWRpdG9yIGxpdmVzLiBUaGlzIGlzIG9ubHlcbiAgICBuZWNlc3Nhcnkgd2hlbiBtb3ZpbmcgdGhlIGVkaXRvcidzIGV4aXN0aW5nIERPTSB0byBhIG5ldyB3aW5kb3cgb3Igc2hhZG93IHJvb3QuXG4gICAgKi9cbiAgICBzZXRSb290KHJvb3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgIT0gcm9vdCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnNldFdpbmRvdygocm9vdC5ub2RlVHlwZSA9PSA5ID8gcm9vdCA6IHJvb3Qub3duZXJEb2N1bWVudCkuZGVmYXVsdFZpZXcgfHwgd2luZG93KTtcbiAgICAgICAgICAgIHRoaXMubW91bnRTdHlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDbGVhbiB1cCB0aGlzIGVkaXRvciB2aWV3LCByZW1vdmluZyBpdHMgZWxlbWVudCBmcm9tIHRoZVxuICAgIGRvY3VtZW50LCB1bnJlZ2lzdGVyaW5nIGV2ZW50IGhhbmRsZXJzLCBhbmQgbm90aWZ5aW5nXG4gICAgcGx1Z2lucy4gVGhlIHZpZXcgaW5zdGFuY2UgY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyXG4gICAgY2FsbGluZyB0aGlzLlxuICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuY29udGVudERPTSlcbiAgICAgICAgICAgIHRoaXMuY29udGVudERPTS5ibHVyKCk7XG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGVmZmVjdCB0aGF0IGNhbiBiZVxuICAgIFthZGRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgdG8gYSB0cmFuc2FjdGlvbiB0b1xuICAgIGNhdXNlIGl0IHRvIHNjcm9sbCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgcmFuZ2UgaW50byB2aWV3LlxuICAgICovXG4gICAgc3RhdGljIHNjcm9sbEludG9WaWV3KHBvcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxJbnRvVmlldy5vZihuZXcgU2Nyb2xsVGFyZ2V0KHR5cGVvZiBwb3MgPT0gXCJudW1iZXJcIiA/IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zKSA6IHBvcywgb3B0aW9ucy55LCBvcHRpb25zLngsIG9wdGlvbnMueU1hcmdpbiwgb3B0aW9ucy54TWFyZ2luKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhbiBlZmZlY3QgdGhhdCByZXNldHMgdGhlIGVkaXRvciB0byBpdHMgY3VycmVudCAoYXQgdGhlXG4gICAgdGltZSB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkKSBzY3JvbGwgcG9zaXRpb24uIE5vdGUgdGhhdCB0aGlzXG4gICAgb25seSBhZmZlY3RzIHRoZSBlZGl0b3IncyBvd24gc2Nyb2xsYWJsZSBlbGVtZW50LCBub3QgcGFyZW50cy5cbiAgICBTZWUgYWxzb1xuICAgIFtgRWRpdG9yVmlld0NvbmZpZy5zY3JvbGxUb2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Q29uZmlnLnNjcm9sbFRvKS5cbiAgICBcbiAgICBUaGUgZWZmZWN0IHNob3VsZCBiZSB1c2VkIHdpdGggYSBkb2N1bWVudCBpZGVudGljYWwgdG8gdGhlIG9uZVxuICAgIGl0IHdhcyBjcmVhdGVkIGZvci4gRmFpbGluZyB0byBkbyBzbyBpcyBub3QgYW4gZXJyb3IsIGJ1dCBtYXlcbiAgICBub3Qgc2Nyb2xsIHRvIHRoZSBleHBlY3RlZCBwb3NpdGlvbi4gWW91IGNhblxuICAgIFttYXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3QubWFwKSB0aGUgZWZmZWN0IHRvIGFjY291bnQgZm9yIGNoYW5nZXMuXG4gICAgKi9cbiAgICBzY3JvbGxTbmFwc2hvdCgpIHtcbiAgICAgICAgbGV0IHsgc2Nyb2xsVG9wLCBzY3JvbGxMZWZ0IH0gPSB0aGlzLnNjcm9sbERPTTtcbiAgICAgICAgbGV0IHJlZiA9IHRoaXMudmlld1N0YXRlLnNjcm9sbEFuY2hvckF0KHNjcm9sbFRvcCk7XG4gICAgICAgIHJldHVybiBzY3JvbGxJbnRvVmlldy5vZihuZXcgU2Nyb2xsVGFyZ2V0KEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmVmLmZyb20pLCBcInN0YXJ0XCIsIFwic3RhcnRcIiwgcmVmLnRvcCAtIHNjcm9sbFRvcCwgc2Nyb2xsTGVmdCwgdHJ1ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBFbmFibGUgb3IgZGlzYWJsZSB0YWItZm9jdXMgbW9kZSwgd2hpY2ggZGlzYWJsZXMga2V5IGJpbmRpbmdzXG4gICAgZm9yIFRhYiBhbmQgU2hpZnQtVGFiLCBsZXR0aW5nIHRoZSBicm93c2VyJ3MgZGVmYXVsdFxuICAgIGZvY3VzLWNoYW5naW5nIGJlaGF2aW9yIGdvIHRocm91Z2ggaW5zdGVhZC4gVGhpcyBpcyB1c2VmdWwgdG9cbiAgICBwcmV2ZW50IHRyYXBwaW5nIGtleWJvYXJkIHVzZXJzIGluIHlvdXIgZWRpdG9yLlxuICAgIFxuICAgIFdpdGhvdXQgYXJndW1lbnQsIHRoaXMgdG9nZ2xlcyB0aGUgbW9kZS4gV2l0aCBhIGJvb2xlYW4sIGl0XG4gICAgZW5hYmxlcyAodHJ1ZSkgb3IgZGlzYWJsZXMgaXQgKGZhbHNlKS4gR2l2ZW4gYSBudW1iZXIsIGl0XG4gICAgdGVtcG9yYXJpbHkgZW5hYmxlcyB0aGUgbW9kZSB1bnRpbCB0aGF0IG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICBoYXZlIHBhc3NlZCBvciBhbm90aGVyIG5vbi1UYWIga2V5IGlzIHByZXNzZWQuXG4gICAgKi9cbiAgICBzZXRUYWJGb2N1c01vZGUodG8pIHtcbiAgICAgICAgaWYgKHRvID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUudGFiRm9jdXNNb2RlID0gdGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA8IDAgPyAwIDogLTE7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0byA9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS50YWJGb2N1c01vZGUgPSB0byA/IDAgOiAtMTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSAhPSAwKVxuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLnRhYkZvY3VzTW9kZSA9IERhdGUubm93KCkgKyB0bztcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgRE9NIGV2ZW50IGhhbmRsZXJzLlxuICAgIFRoZSB2YWx1ZSBzaG91bGQgYmUgYW4gb2JqZWN0IG1hcHBpbmcgZXZlbnQgbmFtZXMgdG8gaGFuZGxlclxuICAgIGZ1bmN0aW9ucy4gRm9yIGFueSBnaXZlbiBldmVudCwgc3VjaCBmdW5jdGlvbnMgYXJlIG9yZGVyZWQgYnlcbiAgICBleHRlbnNpb24gcHJlY2VkZW5jZSwgYW5kIHRoZSBmaXJzdCBoYW5kbGVyIHRvIHJldHVybiB0cnVlIHdpbGxcbiAgICBiZSBhc3N1bWVkIHRvIGhhdmUgaGFuZGxlZCB0aGF0IGV2ZW50LCBhbmQgbm8gb3RoZXIgaGFuZGxlcnMgb3JcbiAgICBidWlsdC1pbiBiZWhhdmlvciB3aWxsIGJlIGFjdGl2YXRlZCBmb3IgaXQuIFRoZXNlIGFyZSByZWdpc3RlcmVkXG4gICAgb24gdGhlIFtjb250ZW50IGVsZW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmNvbnRlbnRET00pLCBleGNlcHRcbiAgICBmb3IgYHNjcm9sbGAgaGFuZGxlcnMsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIHRoZVxuICAgIGVkaXRvcidzIFtzY3JvbGwgZWxlbWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuc2Nyb2xsRE9NKSBvciBvbmUgb2ZcbiAgICBpdHMgcGFyZW50IG5vZGVzIGlzIHNjcm9sbGVkLlxuICAgICovXG4gICAgc3RhdGljIGRvbUV2ZW50SGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKCgpID0+ICh7fSksIHsgZXZlbnRIYW5kbGVyczogaGFuZGxlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCByZWdpc3RlcnMgRE9NIGV2ZW50IG9ic2VydmVycy4gQ29udHJhcnlcbiAgICB0byBldmVudCBbaGFuZGxlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRvbUV2ZW50SGFuZGxlcnMpLFxuICAgIG9ic2VydmVycyBjYW4ndCBiZSBwcmV2ZW50ZWQgZnJvbSBydW5uaW5nIGJ5IGEgaGlnaGVyLXByZWNlZGVuY2VcbiAgICBoYW5kbGVyIHJldHVybmluZyB0cnVlLiBUaGV5IGFsc28gZG9uJ3QgcHJldmVudCBvdGhlciBoYW5kbGVyc1xuICAgIGFuZCBvYnNlcnZlcnMgZnJvbSBydW5uaW5nIHdoZW4gdGhleSByZXR1cm4gdHJ1ZSwgYW5kIHNob3VsZCBub3RcbiAgICBjYWxsIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgKi9cbiAgICBzdGF0aWMgZG9tRXZlbnRPYnNlcnZlcnMob2JzZXJ2ZXJzKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgoKSA9PiAoe30pLCB7IGV2ZW50T2JzZXJ2ZXJzOiBvYnNlcnZlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHRoZW1lIGV4dGVuc2lvbi4gVGhlIGZpcnN0IGFyZ3VtZW50IGNhbiBiZSBhXG4gICAgW2BzdHlsZS1tb2RgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbilcbiAgICBzdHlsZSBzcGVjIHByb3ZpZGluZyB0aGUgc3R5bGVzIGZvciB0aGUgdGhlbWUuIFRoZXNlIHdpbGwgYmVcbiAgICBwcmVmaXhlZCB3aXRoIGEgZ2VuZXJhdGVkIGNsYXNzIGZvciB0aGUgc3R5bGUuXG4gICAgXG4gICAgQmVjYXVzZSB0aGUgc2VsZWN0b3JzIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCBhIHNjb3BlIGNsYXNzLCBydWxlXG4gICAgdGhhdCBkaXJlY3RseSBtYXRjaCB0aGUgZWRpdG9yJ3MgW3dyYXBwZXJcbiAgICBlbGVtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb20p4oCUdG8gd2hpY2ggdGhlIHNjb3BlIGNsYXNzIHdpbGwgYmVcbiAgICBhZGRlZOKAlG5lZWQgdG8gYmUgZXhwbGljaXRseSBkaWZmZXJlbnRpYXRlZCBieSBhZGRpbmcgYW4gYCZgIHRvXG4gICAgdGhlIHNlbGVjdG9yIGZvciB0aGF0IGVsZW1lbnTigJRmb3IgZXhhbXBsZVxuICAgIGAmLmNtLWZvY3VzZWRgLlxuICAgIFxuICAgIFdoZW4gYGRhcmtgIGlzIHNldCB0byB0cnVlLCB0aGUgdGhlbWUgd2lsbCBiZSBtYXJrZWQgYXMgZGFyayxcbiAgICB3aGljaCB3aWxsIGNhdXNlIHRoZSBgJmRhcmtgIHJ1bGVzIGZyb20gW2Jhc2VcbiAgICB0aGVtZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmJhc2VUaGVtZSkgdG8gYmUgdXNlZCAoYXMgb3Bwb3NlZCB0b1xuICAgIGAmbGlnaHRgIHdoZW4gYSBsaWdodCB0aGVtZSBpcyBhY3RpdmUpLlxuICAgICovXG4gICAgc3RhdGljIHRoZW1lKHNwZWMsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IFN0eWxlTW9kdWxlLm5ld05hbWUoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFt0aGVtZS5vZihwcmVmaXgpLCBzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKGAuJHtwcmVmaXh9YCwgc3BlYykpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXJrKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGFya1RoZW1lLm9mKHRydWUpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgc3R5bGVzIHRvIHRoZSBiYXNlIHRoZW1lLiBMaWtlXG4gICAgd2l0aCBbYHRoZW1lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedGhlbWUpLCB1c2UgYCZgIHRvIGluZGljYXRlIHRoZVxuICAgIHBsYWNlIG9mIHRoZSBlZGl0b3Igd3JhcHBlciBlbGVtZW50IHdoZW4gZGlyZWN0bHkgdGFyZ2V0aW5nXG4gICAgdGhhdC4gWW91IGNhbiBhbHNvIHVzZSBgJmRhcmtgIG9yIGAmbGlnaHRgIGluc3RlYWQgdG8gb25seVxuICAgIHRhcmdldCBlZGl0b3JzIHdpdGggYSBkYXJrIG9yIGxpZ2h0IHRoZW1lLlxuICAgICovXG4gICAgc3RhdGljIGJhc2VUaGVtZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBQcmVjLmxvd2VzdChzdHlsZU1vZHVsZS5vZihidWlsZFRoZW1lKFwiLlwiICsgYmFzZVRoZW1lSUQsIHNwZWMsIGxpZ2h0RGFya0lEcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgYW4gZWRpdG9yIHZpZXcgaW5zdGFuY2UgZnJvbSB0aGUgdmlldydzIERPTVxuICAgIHJlcHJlc2VudGF0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGZpbmRGcm9tRE9NKGRvbSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjb250ZW50ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tY29udGVudFwiKTtcbiAgICAgICAgbGV0IGNWaWV3ID0gY29udGVudCAmJiBDb250ZW50Vmlldy5nZXQoY29udGVudCkgfHwgQ29udGVudFZpZXcuZ2V0KGRvbSk7XG4gICAgICAgIHJldHVybiAoKF9hID0gY1ZpZXcgPT09IG51bGwgfHwgY1ZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNWaWV3LnJvb3RWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmlldykgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbkZhY2V0IHRvIGFkZCBhIFtzdHlsZVxubW9kdWxlXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbikgdG9cbmFuIGVkaXRvciB2aWV3LiBUaGUgdmlldyB3aWxsIGVuc3VyZSB0aGF0IHRoZSBtb2R1bGUgaXNcbm1vdW50ZWQgaW4gaXRzIFtkb2N1bWVudFxucm9vdF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuY29uc3RydWN0b3JeY29uZmlnLnJvb3QpLlxuKi9cbkVkaXRvclZpZXcuc3R5bGVNb2R1bGUgPSBzdHlsZU1vZHVsZTtcbi8qKlxuQW4gaW5wdXQgaGFuZGxlciBjYW4gb3ZlcnJpZGUgdGhlIHdheSBjaGFuZ2VzIHRvIHRoZSBlZGl0YWJsZVxuRE9NIGNvbnRlbnQgYXJlIGhhbmRsZWQuIEhhbmRsZXJzIGFyZSBwYXNzZWQgdGhlIGRvY3VtZW50XG5wb3NpdGlvbnMgYmV0d2VlbiB3aGljaCB0aGUgY2hhbmdlIHdhcyBmb3VuZCwgYW5kIHRoZSBuZXdcbmNvbnRlbnQuIFdoZW4gb25lIHJldHVybnMgdHJ1ZSwgbm8gZnVydGhlciBpbnB1dCBoYW5kbGVycyBhcmVcbmNhbGxlZCBhbmQgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgcHJldmVudGVkLlxuXG5UaGUgYGluc2VydGAgYXJndW1lbnQgY2FuIGJlIHVzZWQgdG8gZ2V0IHRoZSBkZWZhdWx0IHRyYW5zYWN0aW9uXG50aGF0IHdvdWxkIGJlIGFwcGxpZWQgZm9yIHRoaXMgaW5wdXQuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuXG5kaXNwYXRjaGluZyB0aGUgY3VzdG9tIGJlaGF2aW9yIGFzIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24uXG4qL1xuRWRpdG9yVmlldy5pbnB1dEhhbmRsZXIgPSBpbnB1dEhhbmRsZXI7XG4vKipcbkZ1bmN0aW9ucyBwcm92aWRlZCBpbiB0aGlzIGZhY2V0IHdpbGwgYmUgdXNlZCB0byB0cmFuc2Zvcm0gdGV4dFxucGFzdGVkIG9yIGRyb3BwZWQgaW50byB0aGUgZWRpdG9yLlxuKi9cbkVkaXRvclZpZXcuY2xpcGJvYXJkSW5wdXRGaWx0ZXIgPSBjbGlwYm9hcmRJbnB1dEZpbHRlcjtcbi8qKlxuVHJhbnNmb3JtIHRleHQgY29waWVkIG9yIGRyYWdnZWQgZnJvbSB0aGUgZWRpdG9yLlxuKi9cbkVkaXRvclZpZXcuY2xpcGJvYXJkT3V0cHV0RmlsdGVyID0gY2xpcGJvYXJkT3V0cHV0RmlsdGVyO1xuLyoqXG5TY3JvbGwgaGFuZGxlcnMgY2FuIG92ZXJyaWRlIGhvdyB0aGluZ3MgYXJlIHNjcm9sbGVkIGludG8gdmlldy5cbklmIHRoZXkgcmV0dXJuIGB0cnVlYCwgbm8gZnVydGhlciBoYW5kbGluZyBoYXBwZW5zIGZvciB0aGVcbnNjcm9sbGluZy4gSWYgdGhleSByZXR1cm4gZmFsc2UsIHRoZSBkZWZhdWx0IHNjcm9sbCBiZWhhdmlvciBpc1xuYXBwbGllZC4gU2Nyb2xsIGhhbmRsZXJzIHNob3VsZCBuZXZlciBpbml0aWF0ZSBlZGl0b3IgdXBkYXRlcy5cbiovXG5FZGl0b3JWaWV3LnNjcm9sbEhhbmRsZXIgPSBzY3JvbGxIYW5kbGVyO1xuLyoqXG5UaGlzIGZhY2V0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgZnVuY3Rpb25zIHRoYXQgY3JlYXRlIGVmZmVjdHNcbnRvIGJlIGRpc3BhdGNoZWQgd2hlbiB0aGUgZWRpdG9yJ3MgZm9jdXMgc3RhdGUgY2hhbmdlcy5cbiovXG5FZGl0b3JWaWV3LmZvY3VzQ2hhbmdlRWZmZWN0ID0gZm9jdXNDaGFuZ2VFZmZlY3Q7XG4vKipcbkJ5IGRlZmF1bHQsIHRoZSBlZGl0b3IgYXNzdW1lcyBhbGwgaXRzIGNvbnRlbnQgaGFzIHRoZSBzYW1lXG5bdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EaXJlY3Rpb24pLiBDb25maWd1cmUgdGhpcyB3aXRoIGEgYHRydWVgXG52YWx1ZSB0byBtYWtlIGl0IHJlYWQgdGhlIHRleHQgZGlyZWN0aW9uIG9mIGV2ZXJ5IChyZW5kZXJlZClcbmxpbmUgc2VwYXJhdGVseS5cbiovXG5FZGl0b3JWaWV3LnBlckxpbmVUZXh0RGlyZWN0aW9uID0gcGVyTGluZVRleHREaXJlY3Rpb247XG4vKipcbkFsbG93cyB5b3UgdG8gcHJvdmlkZSBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZVxubGlicmFyeSBjYXRjaGVzIGFuIGV4Y2VwdGlvbiBmcm9tIGFuIGV4dGVuc2lvbiAobW9zdGx5IGZyb20gdmlld1xucGx1Z2lucywgYnV0IG1heSBiZSB1c2VkIGJ5IG90aGVyIGV4dGVuc2lvbnMgdG8gcm91dGUgZXhjZXB0aW9uc1xuZnJvbSB1c2VyLWNvZGUtcHJvdmlkZWQgY2FsbGJhY2tzKS4gVGhpcyBpcyBtb3N0bHkgdXNlZnVsIGZvclxuZGVidWdnaW5nIGFuZCBsb2dnaW5nLiBTZWUgW2Bsb2dFeGNlcHRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcubG9nRXhjZXB0aW9uKS5cbiovXG5FZGl0b3JWaWV3LmV4Y2VwdGlvblNpbmsgPSBleGNlcHRpb25TaW5rO1xuLyoqXG5BIGZhY2V0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWRcbmV2ZXJ5IHRpbWUgdGhlIHZpZXcgdXBkYXRlcy5cbiovXG5FZGl0b3JWaWV3LnVwZGF0ZUxpc3RlbmVyID0gdXBkYXRlTGlzdGVuZXI7XG4vKipcbkZhY2V0IHRoYXQgY29udHJvbHMgd2hldGhlciB0aGUgZWRpdG9yIGNvbnRlbnQgRE9NIGlzIGVkaXRhYmxlLlxuV2hlbiBpdHMgaGlnaGVzdC1wcmVjZWRlbmNlIHZhbHVlIGlzIGBmYWxzZWAsIHRoZSBlbGVtZW50IHdpbGxcbm5vdCBoYXZlIGl0cyBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgc2V0LiAoTm90ZSB0aGF0IHRoaXNcbmRvZXNuJ3QgYWZmZWN0IEFQSSBjYWxscyB0aGF0IGNoYW5nZSB0aGUgZWRpdG9yIGNvbnRlbnQsIGV2ZW5cbndoZW4gdGhvc2UgYXJlIGJvdW5kIHRvIGtleXMgb3IgYnV0dG9ucy4gU2VlIHRoZVxuW2ByZWFkT25seWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucmVhZE9ubHkpIGZhY2V0IGZvciB0aGF0LilcbiovXG5FZGl0b3JWaWV3LmVkaXRhYmxlID0gZWRpdGFibGU7XG4vKipcbkFsbG93cyB5b3UgdG8gaW5mbHVlbmNlIHRoZSB3YXkgbW91c2Ugc2VsZWN0aW9uIGhhcHBlbnMuIFRoZVxuZnVuY3Rpb25zIGluIHRoaXMgZmFjZXQgd2lsbCBiZSBjYWxsZWQgZm9yIGEgYG1vdXNlZG93bmAgZXZlbnRcbm9uIHRoZSBlZGl0b3IsIGFuZCBjYW4gcmV0dXJuIGFuIG9iamVjdCB0aGF0IG92ZXJyaWRlcyB0aGUgd2F5IGFcbnNlbGVjdGlvbiBpcyBjb21wdXRlZCBmcm9tIHRoYXQgbW91c2UgY2xpY2sgb3IgZHJhZy5cbiovXG5FZGl0b3JWaWV3Lm1vdXNlU2VsZWN0aW9uU3R5bGUgPSBtb3VzZVNlbGVjdGlvblN0eWxlO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNvbmZpZ3VyZSB3aGV0aGVyIGEgZ2l2ZW4gc2VsZWN0aW9uIGRyYWcgZXZlbnRcbnNob3VsZCBtb3ZlIG9yIGNvcHkgdGhlIHNlbGVjdGlvbi4gVGhlIGdpdmVuIHByZWRpY2F0ZSB3aWxsIGJlXG5jYWxsZWQgd2l0aCB0aGUgYG1vdXNlZG93bmAgZXZlbnQsIGFuZCBjYW4gcmV0dXJuIGB0cnVlYCB3aGVuXG50aGUgZHJhZyBzaG91bGQgbW92ZSB0aGUgY29udGVudC5cbiovXG5FZGl0b3JWaWV3LmRyYWdNb3Zlc1NlbGVjdGlvbiA9IGRyYWdNb3Zlc1NlbGVjdGlvbiQxO1xuLyoqXG5GYWNldCB1c2VkIHRvIGNvbmZpZ3VyZSB3aGV0aGVyIGEgZ2l2ZW4gc2VsZWN0aW5nIGNsaWNrIGFkZHMgYVxubmV3IHJhbmdlIHRvIHRoZSBleGlzdGluZyBzZWxlY3Rpb24gb3IgcmVwbGFjZXMgaXQgZW50aXJlbHkuIFRoZVxuZGVmYXVsdCBiZWhhdmlvciBpcyB0byBjaGVjayBgZXZlbnQubWV0YUtleWAgb24gbWFjT1MsIGFuZFxuYGV2ZW50LmN0cmxLZXlgIGVsc2V3aGVyZS5cbiovXG5FZGl0b3JWaWV3LmNsaWNrQWRkc1NlbGVjdGlvblJhbmdlID0gY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2U7XG4vKipcbkEgZmFjZXQgdGhhdCBkZXRlcm1pbmVzIHdoaWNoIFtkZWNvcmF0aW9uc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb24pXG5hcmUgc2hvd24gaW4gdGhlIHZpZXcuIERlY29yYXRpb25zIGNhbiBiZSBwcm92aWRlZCBpbiB0d29cbndheXPigJRkaXJlY3RseSwgb3IgdmlhIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBlZGl0b3Igdmlldy5cblxuT25seSBkZWNvcmF0aW9uIHNldHMgcHJvdmlkZWQgZGlyZWN0bHkgYXJlIGFsbG93ZWQgdG8gaW5mbHVlbmNlXG50aGUgZWRpdG9yJ3MgdmVydGljYWwgbGF5b3V0IHN0cnVjdHVyZS4gVGhlIG9uZXMgcHJvdmlkZWQgYXNcbmZ1bmN0aW9ucyBhcmUgY2FsbGVkIF9hZnRlcl8gdGhlIG5ldyB2aWV3cG9ydCBoYXMgYmVlbiBjb21wdXRlZCxcbmFuZCB0aHVzICoqbXVzdCBub3QqKiBpbnRyb2R1Y2UgYmxvY2sgd2lkZ2V0cyBvciByZXBsYWNpbmdcbmRlY29yYXRpb25zIHRoYXQgY292ZXIgbGluZSBicmVha3MuXG5cbklmIHlvdSB3YW50IGRlY29yYXRlZCByYW5nZXMgdG8gYmVoYXZlIGxpa2UgYXRvbWljIHVuaXRzIGZvclxuY3Vyc29yIG1vdGlvbiBhbmQgZGVsZXRpb24gcHVycG9zZXMsIGFsc28gcHJvdmlkZSB0aGUgcmFuZ2Ugc2V0XG5jb250YWluaW5nIHRoZSBkZWNvcmF0aW9ucyB0b1xuW2BFZGl0b3JWaWV3LmF0b21pY1Jhbmdlc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmF0b21pY1JhbmdlcykuXG4qL1xuRWRpdG9yVmlldy5kZWNvcmF0aW9ucyA9IGRlY29yYXRpb25zO1xuLyoqXG5GYWNldCB0aGF0IHdvcmtzIG11Y2ggbGlrZVxuW2BkZWNvcmF0aW9uc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmRlY29yYXRpb25zKSwgYnV0IHB1dHMgaXRzXG5pbnB1dHMgYXQgdGhlIHZlcnkgYm90dG9tIG9mIHRoZSBwcmVjZWRlbmNlIHN0YWNrLCBtZWFuaW5nIG1hcmtcbmRlY29yYXRpb25zIHByb3ZpZGVkIGhlcmUgd2lsbCBvbmx5IGJlIHNwbGl0IGJ5IG90aGVyLCBwYXJ0aWFsbHlcbm92ZXJsYXBwaW5nIFxcYG91dGVyRGVjb3JhdGlvbnNcXGAgcmFuZ2VzLCBhbmQgd3JhcCBhcm91bmQgYWxsXG5yZWd1bGFyIGRlY29yYXRpb25zLiBVc2UgdGhpcyBmb3IgbWFyayBlbGVtZW50cyB0aGF0IHNob3VsZCwgYXNcbm11Y2ggYXMgcG9zc2libGUsIHJlbWFpbiBpbiBvbmUgcGllY2UuXG4qL1xuRWRpdG9yVmlldy5vdXRlckRlY29yYXRpb25zID0gb3V0ZXJEZWNvcmF0aW9ucztcbi8qKlxuVXNlZCB0byBwcm92aWRlIHJhbmdlcyB0aGF0IHNob3VsZCBiZSB0cmVhdGVkIGFzIGF0b21zIGFzIGZhciBhc1xuY3Vyc29yIG1vdGlvbiBpcyBjb25jZXJuZWQuIFRoaXMgY2F1c2VzIG1ldGhvZHMgbGlrZVxuW2Btb3ZlQnlDaGFyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZUJ5Q2hhcikgYW5kXG5bYG1vdmVWZXJ0aWNhbGx5YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIChhbmQgdGhlXG5jb21tYW5kcyBidWlsdCBvbiB0b3Agb2YgdGhlbSkgdG8gc2tpcCBhY3Jvc3Mgc3VjaCByZWdpb25zIHdoZW5cbmEgc2VsZWN0aW9uIGVuZHBvaW50IHdvdWxkIGVudGVyIHRoZW0uIFRoaXMgZG9lcyBfbm90XyBwcmV2ZW50XG5kaXJlY3QgcHJvZ3JhbW1hdGljIFtzZWxlY3Rpb25cbnVwZGF0ZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlbGVjdGlvbikgZnJvbSBtb3ZpbmcgaW50byBzdWNoXG5yZWdpb25zLlxuKi9cbkVkaXRvclZpZXcuYXRvbWljUmFuZ2VzID0gYXRvbWljUmFuZ2VzO1xuLyoqXG5XaGVuIHJhbmdlIGRlY29yYXRpb25zIGFkZCBhIGB1bmljb2RlLWJpZGk6IGlzb2xhdGVgIHN0eWxlLCB0aGV5XG5zaG91bGQgYWxzbyBpbmNsdWRlIGFcbltgYmlkaUlzb2xhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuTWFya0RlY29yYXRpb25TcGVjLmJpZGlJc29sYXRlKSBwcm9wZXJ0eVxuaW4gdGhlaXIgZGVjb3JhdGlvbiBzcGVjLCBhbmQgYmUgZXhwb3NlZCB0aHJvdWdoIHRoaXMgZmFjZXQsIHNvXG50aGF0IHRoZSBlZGl0b3IgY2FuIGNvbXB1dGUgdGhlIHByb3BlciB0ZXh0IG9yZGVyLiAoT3RoZXIgdmFsdWVzXG5mb3IgYHVuaWNvZGUtYmlkaWAsIGV4Y2VwdCBvZiBjb3Vyc2UgYG5vcm1hbGAsIGFyZSBub3RcbnN1cHBvcnRlZC4pXG4qL1xuRWRpdG9yVmlldy5iaWRpSXNvbGF0ZWRSYW5nZXMgPSBiaWRpSXNvbGF0ZWRSYW5nZXM7XG4vKipcbkZhY2V0IHRoYXQgYWxsb3dzIGV4dGVuc2lvbnMgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIHNjcm9sbFxubWFyZ2lucyAoc3BhY2UgYXJvdW5kIHRoZSBzaWRlcyBvZiB0aGUgc2Nyb2xsaW5nIGVsZW1lbnQgdGhhdFxuc2hvdWxkIGJlIGNvbnNpZGVyZWQgaW52aXNpYmxlKS4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gdGhlXG5wbHVnaW4gaW50cm9kdWNlcyBlbGVtZW50cyB0aGF0IGNvdmVyIHBhcnQgb2YgdGhhdCBlbGVtZW50IChmb3JcbmV4YW1wbGUgYSBob3Jpem9udGFsbHkgZml4ZWQgZ3V0dGVyKS5cbiovXG5FZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMgPSBzY3JvbGxNYXJnaW5zO1xuLyoqXG5UaGlzIGZhY2V0IHJlY29yZHMgd2hldGhlciBhIGRhcmsgdGhlbWUgaXMgYWN0aXZlLiBUaGUgZXh0ZW5zaW9uXG5yZXR1cm5lZCBieSBbYHRoZW1lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedGhlbWUpIGF1dG9tYXRpY2FsbHlcbmluY2x1ZGVzIGFuIGluc3RhbmNlIG9mIHRoaXMgd2hlbiB0aGUgYGRhcmtgIG9wdGlvbiBpcyBzZXQgdG9cbnRydWUuXG4qL1xuRWRpdG9yVmlldy5kYXJrVGhlbWUgPSBkYXJrVGhlbWU7XG4vKipcblByb3ZpZGVzIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgbm9uY2UgdG8gdXNlIHdoZW4gY3JlYXRpbmdcbnRoZSBzdHlsZSBzaGVldHMgZm9yIHRoZSBlZGl0b3IuIEhvbGRzIHRoZSBlbXB0eSBzdHJpbmcgd2hlbiBub1xubm9uY2UgaGFzIGJlZW4gcHJvdmlkZWQuXG4qL1xuRWRpdG9yVmlldy5jc3BOb25jZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IFwiXCIgfSk7XG4vKipcbkZhY2V0IHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBET00gYXR0cmlidXRlcyBmb3IgdGhlIGVkaXRvcidzXG5lZGl0YWJsZSBET00gZWxlbWVudC5cbiovXG5FZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzID0gY29udGVudEF0dHJpYnV0ZXM7XG4vKipcbkZhY2V0IHRoYXQgcHJvdmlkZXMgRE9NIGF0dHJpYnV0ZXMgZm9yIHRoZSBlZGl0b3IncyBvdXRlclxuZWxlbWVudC5cbiovXG5FZGl0b3JWaWV3LmVkaXRvckF0dHJpYnV0ZXMgPSBlZGl0b3JBdHRyaWJ1dGVzO1xuLyoqXG5BbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIGxpbmUgd3JhcHBpbmcgaW4gdGhlIGVkaXRvciAoYnlcbnNldHRpbmcgQ1NTIGB3aGl0ZS1zcGFjZWAgdG8gYHByZS13cmFwYCBpbiB0aGUgY29udGVudCkuXG4qL1xuRWRpdG9yVmlldy5saW5lV3JhcHBpbmcgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcy5vZih7IFwiY2xhc3NcIjogXCJjbS1saW5lV3JhcHBpbmdcIiB9KTtcbi8qKlxuU3RhdGUgZWZmZWN0IHVzZWQgdG8gaW5jbHVkZSBzY3JlZW4gcmVhZGVyIGFubm91bmNlbWVudHMgaW4gYVxudHJhbnNhY3Rpb24uIFRoZXNlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIERPTSBpbiBhIHZpc3VhbGx5IGhpZGRlblxuZWxlbWVudCB3aXRoIGBhcmlhLWxpdmU9XCJwb2xpdGVcImAgc2V0LCBhbmQgc2hvdWxkIGJlIHVzZWQgdG9cbmRlc2NyaWJlIGVmZmVjdHMgdGhhdCBhcmUgdmlzdWFsbHkgb2J2aW91cyBidXQgbWF5IG5vdCBiZVxubm90aWNlZCBieSBzY3JlZW4gcmVhZGVyIHVzZXJzIChzdWNoIGFzIG1vdmluZyB0byB0aGUgbmV4dFxuc2VhcmNoIG1hdGNoKS5cbiovXG5FZGl0b3JWaWV3LmFubm91bmNlID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLy8gTWF4aW11bSBsaW5lIGxlbmd0aCBmb3Igd2hpY2ggd2UgY29tcHV0ZSBhY2N1cmF0ZSBiaWRpIGluZm9cbmNvbnN0IE1heEJpZGlMaW5lID0gNDA5NjtcbmNvbnN0IEJhZE1lYXN1cmUgPSB7fTtcbmNsYXNzIENhY2hlZE9yZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgZGlyLCBpc29sYXRlcywgZnJlc2gsIG9yZGVyKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgICAgIHRoaXMuaXNvbGF0ZXMgPSBpc29sYXRlcztcbiAgICAgICAgdGhpcy5mcmVzaCA9IGZyZXNoO1xuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XG4gICAgfVxuICAgIHN0YXRpYyB1cGRhdGUoY2FjaGUsIGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuZW1wdHkgJiYgIWNhY2hlLnNvbWUoYyA9PiBjLmZyZXNoKSlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBsYXN0RGlyID0gY2FjaGUubGVuZ3RoID8gY2FjaGVbY2FjaGUubGVuZ3RoIC0gMV0uZGlyIDogRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGgubWF4KDAsIGNhY2hlLmxlbmd0aCAtIDEwKTsgaSA8IGNhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSBjYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5kaXIgPT0gbGFzdERpciAmJiAhY2hhbmdlcy50b3VjaGVzUmFuZ2UoZW50cnkuZnJvbSwgZW50cnkudG8pKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBDYWNoZWRPcmRlcihjaGFuZ2VzLm1hcFBvcyhlbnRyeS5mcm9tLCAxKSwgY2hhbmdlcy5tYXBQb3MoZW50cnkudG8sIC0xKSwgZW50cnkuZGlyLCBlbnRyeS5pc29sYXRlcywgZmFsc2UsIGVudHJ5Lm9yZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiBhdHRyc0Zyb21GYWNldCh2aWV3LCBmYWNldCwgYmFzZSkge1xuICAgIGZvciAobGV0IHNvdXJjZXMgPSB2aWV3LnN0YXRlLmZhY2V0KGZhY2V0KSwgaSA9IHNvdXJjZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IHNvdXJjZXNbaV0sIHZhbHVlID0gdHlwZW9mIHNvdXJjZSA9PSBcImZ1bmN0aW9uXCIgPyBzb3VyY2UodmlldykgOiBzb3VyY2U7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIGNvbWJpbmVBdHRycyh2YWx1ZSwgYmFzZSk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlO1xufVxuXG5jb25zdCBjdXJyZW50UGxhdGZvcm0gPSBicm93c2VyLm1hYyA/IFwibWFjXCIgOiBicm93c2VyLndpbmRvd3MgPyBcIndpblwiIDogYnJvd3Nlci5saW51eCA/IFwibGludXhcIiA6IFwia2V5XCI7XG5mdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUsIHBsYXRmb3JtKSB7XG4gICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KC8tKD8hJCkvKTtcbiAgICBsZXQgcmVzdWx0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHJlc3VsdCA9PSBcIlNwYWNlXCIpXG4gICAgICAgIHJlc3VsdCA9IFwiIFwiO1xuICAgIGxldCBhbHQsIGN0cmwsIHNoaWZ0LCBtZXRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IG1vZCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgbWV0YSA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSlcbiAgICAgICAgICAgIGFsdCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBjdHJsID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBzaGlmdCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9ebW9kJC9pLnRlc3QobW9kKSkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtID09IFwibWFjXCIpXG4gICAgICAgICAgICAgICAgbWV0YSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY3RybCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKTtcbiAgICB9XG4gICAgaWYgKGFsdClcbiAgICAgICAgcmVzdWx0ID0gXCJBbHQtXCIgKyByZXN1bHQ7XG4gICAgaWYgKGN0cmwpXG4gICAgICAgIHJlc3VsdCA9IFwiQ3RybC1cIiArIHJlc3VsdDtcbiAgICBpZiAobWV0YSlcbiAgICAgICAgcmVzdWx0ID0gXCJNZXRhLVwiICsgcmVzdWx0O1xuICAgIGlmIChzaGlmdClcbiAgICAgICAgcmVzdWx0ID0gXCJTaGlmdC1cIiArIHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCBzaGlmdCkge1xuICAgIGlmIChldmVudC5hbHRLZXkpXG4gICAgICAgIG5hbWUgPSBcIkFsdC1cIiArIG5hbWU7XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpXG4gICAgICAgIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lO1xuICAgIGlmIChldmVudC5tZXRhS2V5KVxuICAgICAgICBuYW1lID0gXCJNZXRhLVwiICsgbmFtZTtcbiAgICBpZiAoc2hpZnQgIT09IGZhbHNlICYmIGV2ZW50LnNoaWZ0S2V5KVxuICAgICAgICBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5jb25zdCBoYW5kbGVLZXlFdmVudHMgPSAvKkBfX1BVUkVfXyovUHJlYy5kZWZhdWx0KC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmRvbUV2ZW50SGFuZGxlcnMoe1xuICAgIGtleWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHJ1bkhhbmRsZXJzKGdldEtleW1hcCh2aWV3LnN0YXRlKSwgZXZlbnQsIHZpZXcsIFwiZWRpdG9yXCIpO1xuICAgIH1cbn0pKTtcbi8qKlxuRmFjZXQgdXNlZCBmb3IgcmVnaXN0ZXJpbmcga2V5bWFwcy5cblxuWW91IGNhbiBhZGQgbXVsdGlwbGUga2V5bWFwcyB0byBhbiBlZGl0b3IuIFRoZWlyIHByaW9yaXRpZXNcbmRldGVybWluZSB0aGVpciBwcmVjZWRlbmNlICh0aGUgb25lcyBzcGVjaWZpZWQgZWFybHkgb3Igd2l0aCBoaWdoXG5wcmlvcml0eSBnZXQgY2hlY2tlZCBmaXJzdCkuIFdoZW4gYSBoYW5kbGVyIGhhcyByZXR1cm5lZCBgdHJ1ZWBcbmZvciBhIGdpdmVuIGtleSwgbm8gZnVydGhlciBoYW5kbGVycyBhcmUgY2FsbGVkLlxuKi9cbmNvbnN0IGtleW1hcCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBlbmFibGVzOiBoYW5kbGVLZXlFdmVudHMgfSk7XG5jb25zdCBLZXltYXBzID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG4vLyBUaGlzIGlzIGhpZGRlbiBiZWhpbmQgYW4gaW5kaXJlY3Rpb24sIHJhdGhlciB0aGFuIGRpcmVjdGx5IGNvbXB1dGVkXG4vLyBieSB0aGUgZmFjZXQsIHRvIGtlZXAgaW50ZXJuYWwgdHlwZXMgb3V0IG9mIHRoZSBmYWNldCdzIHR5cGUuXG5mdW5jdGlvbiBnZXRLZXltYXAoc3RhdGUpIHtcbiAgICBsZXQgYmluZGluZ3MgPSBzdGF0ZS5mYWNldChrZXltYXApO1xuICAgIGxldCBtYXAgPSBLZXltYXBzLmdldChiaW5kaW5ncyk7XG4gICAgaWYgKCFtYXApXG4gICAgICAgIEtleW1hcHMuc2V0KGJpbmRpbmdzLCBtYXAgPSBidWlsZEtleW1hcChiaW5kaW5ncy5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpLCBbXSkpKTtcbiAgICByZXR1cm4gbWFwO1xufVxuLyoqXG5SdW4gdGhlIGtleSBoYW5kbGVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIHNjb3BlLiBUaGUgZXZlbnRcbm9iamVjdCBzaG91bGQgYmUgYSBgXCJrZXlkb3duXCJgIGV2ZW50LiBSZXR1cm5zIHRydWUgaWYgYW55IG9mIHRoZVxuaGFuZGxlcnMgaGFuZGxlZCBpdC5cbiovXG5mdW5jdGlvbiBydW5TY29wZUhhbmRsZXJzKHZpZXcsIGV2ZW50LCBzY29wZSkge1xuICAgIHJldHVybiBydW5IYW5kbGVycyhnZXRLZXltYXAodmlldy5zdGF0ZSksIGV2ZW50LCB2aWV3LCBzY29wZSk7XG59XG5sZXQgc3RvcmVkUHJlZml4ID0gbnVsbDtcbmNvbnN0IFByZWZpeFRpbWVvdXQgPSA0MDAwO1xuZnVuY3Rpb24gYnVpbGRLZXltYXAoYmluZGluZ3MsIHBsYXRmb3JtID0gY3VycmVudFBsYXRmb3JtKSB7XG4gICAgbGV0IGJvdW5kID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgaXNQcmVmaXggPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjaGVja1ByZWZpeCA9IChuYW1lLCBpcykgPT4ge1xuICAgICAgICBsZXQgY3VycmVudCA9IGlzUHJlZml4W25hbWVdO1xuICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKVxuICAgICAgICAgICAgaXNQcmVmaXhbbmFtZV0gPSBpcztcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudCAhPSBpcylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleSBiaW5kaW5nIFwiICsgbmFtZSArIFwiIGlzIHVzZWQgYm90aCBhcyBhIHJlZ3VsYXIgYmluZGluZyBhbmQgYXMgYSBtdWx0aS1zdHJva2UgcHJlZml4XCIpO1xuICAgIH07XG4gICAgbGV0IGFkZCA9IChzY29wZSwga2V5LCBjb21tYW5kLCBwcmV2ZW50RGVmYXVsdCwgc3RvcFByb3BhZ2F0aW9uKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGxldCBzY29wZU9iaiA9IGJvdW5kW3Njb3BlXSB8fCAoYm91bmRbc2NvcGVdID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdCgvICg/ISQpLykubWFwKGsgPT4gbm9ybWFsaXplS2V5TmFtZShrLCBwbGF0Zm9ybSkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJlZml4ID0gcGFydHMuc2xpY2UoMCwgaSkuam9pbihcIiBcIik7XG4gICAgICAgICAgICBjaGVja1ByZWZpeChwcmVmaXgsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFzY29wZU9ialtwcmVmaXhdKVxuICAgICAgICAgICAgICAgIHNjb3BlT2JqW3ByZWZpeF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBydW46IFsodmlldykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdXJPYmogPSBzdG9yZWRQcmVmaXggPSB7IHZpZXcsIHByZWZpeCwgc2NvcGUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgaWYgKHN0b3JlZFByZWZpeCA9PSBvdXJPYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlZFByZWZpeCA9IG51bGw7IH0sIFByZWZpeFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBmdWxsID0gcGFydHMuam9pbihcIiBcIik7XG4gICAgICAgIGNoZWNrUHJlZml4KGZ1bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IGJpbmRpbmcgPSBzY29wZU9ialtmdWxsXSB8fCAoc2NvcGVPYmpbZnVsbF0gPSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgcnVuOiAoKF9iID0gKF9hID0gc2NvcGVPYmouX2FueSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJ1bikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNsaWNlKCkpIHx8IFtdXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29tbWFuZClcbiAgICAgICAgICAgIGJpbmRpbmcucnVuLnB1c2goY29tbWFuZCk7XG4gICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgIGJpbmRpbmcucHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgYmluZGluZy5zdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgIH07XG4gICAgZm9yIChsZXQgYiBvZiBiaW5kaW5ncykge1xuICAgICAgICBsZXQgc2NvcGVzID0gYi5zY29wZSA/IGIuc2NvcGUuc3BsaXQoXCIgXCIpIDogW1wiZWRpdG9yXCJdO1xuICAgICAgICBpZiAoYi5hbnkpXG4gICAgICAgICAgICBmb3IgKGxldCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2NvcGVPYmogPSBib3VuZFtzY29wZV0gfHwgKGJvdW5kW3Njb3BlXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVPYmouX2FueSlcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVPYmouX2FueSA9IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBzdG9wUHJvcGFnYXRpb246IGZhbHNlLCBydW46IFtdIH07XG4gICAgICAgICAgICAgICAgbGV0IHsgYW55IH0gPSBiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY29wZU9iailcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVPYmpba2V5XS5ydW4ucHVzaCh2aWV3ID0+IGFueSh2aWV3LCBjdXJyZW50S2V5RXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IG5hbWUgPSBiW3BsYXRmb3JtXSB8fCBiLmtleTtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGZvciAobGV0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgICAgICAgICAgYWRkKHNjb3BlLCBuYW1lLCBiLnJ1biwgYi5wcmV2ZW50RGVmYXVsdCwgYi5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICAgICAgaWYgKGIuc2hpZnQpXG4gICAgICAgICAgICAgICAgYWRkKHNjb3BlLCBcIlNoaWZ0LVwiICsgbmFtZSwgYi5zaGlmdCwgYi5wcmV2ZW50RGVmYXVsdCwgYi5zdG9wUHJvcGFnYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3VuZDtcbn1cbmxldCBjdXJyZW50S2V5RXZlbnQgPSBudWxsO1xuZnVuY3Rpb24gcnVuSGFuZGxlcnMobWFwLCBldmVudCwgdmlldywgc2NvcGUpIHtcbiAgICBjdXJyZW50S2V5RXZlbnQgPSBldmVudDtcbiAgICBsZXQgbmFtZSA9IGtleU5hbWUoZXZlbnQpO1xuICAgIGxldCBjaGFyQ29kZSA9IGNvZGVQb2ludEF0KG5hbWUsIDApLCBpc0NoYXIgPSBjb2RlUG9pbnRTaXplKGNoYXJDb2RlKSA9PSBuYW1lLmxlbmd0aCAmJiBuYW1lICE9IFwiIFwiO1xuICAgIGxldCBwcmVmaXggPSBcIlwiLCBoYW5kbGVkID0gZmFsc2UsIHByZXZlbnRlZCA9IGZhbHNlLCBzdG9wUHJvcGFnYXRpb24gPSBmYWxzZTtcbiAgICBpZiAoc3RvcmVkUHJlZml4ICYmIHN0b3JlZFByZWZpeC52aWV3ID09IHZpZXcgJiYgc3RvcmVkUHJlZml4LnNjb3BlID09IHNjb3BlKSB7XG4gICAgICAgIHByZWZpeCA9IHN0b3JlZFByZWZpeC5wcmVmaXggKyBcIiBcIjtcbiAgICAgICAgaWYgKG1vZGlmaWVyQ29kZXMuaW5kZXhPZihldmVudC5rZXlDb2RlKSA8IDApIHtcbiAgICAgICAgICAgIHByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICBzdG9yZWRQcmVmaXggPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCByYW4gPSBuZXcgU2V0O1xuICAgIGxldCBydW5Gb3IgPSAoYmluZGluZykgPT4ge1xuICAgICAgICBpZiAoYmluZGluZykge1xuICAgICAgICAgICAgZm9yIChsZXQgY21kIG9mIGJpbmRpbmcucnVuKVxuICAgICAgICAgICAgICAgIGlmICghcmFuLmhhcyhjbWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbi5hZGQoY21kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtZCh2aWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiaW5kaW5nLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgbGV0IHNjb3BlT2JqID0gbWFwW3Njb3BlXSwgYmFzZU5hbWUsIHNoaWZ0TmFtZTtcbiAgICBpZiAoc2NvcGVPYmopIHtcbiAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsICFpc0NoYXIpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ2hhciAmJiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgICAgIC8vIEN0cmwtQWx0IG1heSBiZSB1c2VkIGZvciBBbHRHciBvbiBXaW5kb3dzXG4gICAgICAgICAgICAhKGJyb3dzZXIud2luZG93cyAmJiBldmVudC5jdHJsS2V5ICYmIGV2ZW50LmFsdEtleSkgJiZcbiAgICAgICAgICAgIChiYXNlTmFtZSA9IGJhc2VbZXZlbnQua2V5Q29kZV0pICYmIGJhc2VOYW1lICE9IG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgKHNoaWZ0TmFtZSA9IHNoaWZ0W2V2ZW50LmtleUNvZGVdKSAhPSBuYW1lICYmIHNoaWZ0TmFtZSAhPSBiYXNlTmFtZSAmJlxuICAgICAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMoc2hpZnROYW1lLCBldmVudCwgZmFsc2UpXSkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NoYXIgJiYgZXZlbnQuc2hpZnRLZXkgJiZcbiAgICAgICAgICAgIHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsIHRydWUpXSkpIHtcbiAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlZCAmJiBydW5Gb3Ioc2NvcGVPYmouX2FueSkpXG4gICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHByZXZlbnRlZClcbiAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgaWYgKGhhbmRsZWQgJiYgc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjdXJyZW50S2V5RXZlbnQgPSBudWxsO1xuICAgIHJldHVybiBoYW5kbGVkO1xufVxuXG4vKipcbkltcGxlbWVudGF0aW9uIG9mIFtgTGF5ZXJNYXJrZXJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuTGF5ZXJNYXJrZXIpIHRoYXQgY3JlYXRlc1xuYSByZWN0YW5nbGUgYXQgYSBnaXZlbiBzZXQgb2YgY29vcmRpbmF0ZXMuXG4qL1xuY2xhc3MgUmVjdGFuZ2xlTWFya2VyIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBtYXJrZXIgd2l0aCB0aGUgZ2l2ZW4gY2xhc3MgYW5kIGRpbWVuc2lvbnMuIElmIGB3aWR0aGBcbiAgICBpcyBudWxsLCB0aGUgRE9NIGVsZW1lbnQgd2lsbCBnZXQgbm8gd2lkdGggc3R5bGUuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGFzc05hbWUsIFxuICAgIC8qKlxuICAgIFRoZSBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgKGluIHBpeGVscywgZG9jdW1lbnQtcmVsYXRpdmUpLlxuICAgICovXG4gICAgbGVmdCwgXG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyLlxuICAgICovXG4gICAgdG9wLCBcbiAgICAvKipcbiAgICBUaGUgd2lkdGggb2YgdGhlIG1hcmtlciwgb3IgbnVsbCBpZiBpdCBzaG91bGRuJ3QgZ2V0IGEgd2lkdGggYXNzaWduZWQuXG4gICAgKi9cbiAgICB3aWR0aCwgXG4gICAgLyoqXG4gICAgVGhlIGhlaWdodCBvZiB0aGUgbWFya2VyLlxuICAgICovXG4gICAgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgZHJhdygpIHtcbiAgICAgICAgbGV0IGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsdC5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5hZGp1c3QoZWx0KTtcbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgdXBkYXRlKGVsdCwgcHJldikge1xuICAgICAgICBpZiAocHJldi5jbGFzc05hbWUgIT0gdGhpcy5jbGFzc05hbWUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRqdXN0KGVsdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBhZGp1c3QoZWx0KSB7XG4gICAgICAgIGVsdC5zdHlsZS5sZWZ0ID0gdGhpcy5sZWZ0ICsgXCJweFwiO1xuICAgICAgICBlbHQuc3R5bGUudG9wID0gdGhpcy50b3AgKyBcInB4XCI7XG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9IG51bGwpXG4gICAgICAgICAgICBlbHQuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuICAgIGVxKHApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PSBwLmxlZnQgJiYgdGhpcy50b3AgPT0gcC50b3AgJiYgdGhpcy53aWR0aCA9PSBwLndpZHRoICYmIHRoaXMuaGVpZ2h0ID09IHAuaGVpZ2h0ICYmXG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9PSBwLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IG9mIHJlY3RhbmdsZXMgZm9yIHRoZSBnaXZlbiBzZWxlY3Rpb24gcmFuZ2UsXG4gICAgYXNzaWduaW5nIHRoZW0gdGhlY2xhc3NgY2xhc3NOYW1lYC4gV2lsbCBjcmVhdGUgYSBzaW5nbGVcbiAgICByZWN0YW5nbGUgZm9yIGVtcHR5IHJhbmdlcywgYW5kIGEgc2V0IG9mIHNlbGVjdGlvbi1zdHlsZVxuICAgIHJlY3RhbmdsZXMgY292ZXJpbmcgdGhlIHJhbmdlJ3MgY29udGVudCAoaW4gYSBiaWRpLWF3YXJlXG4gICAgd2F5KSBmb3Igbm9uLWVtcHR5IG9uZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgZm9yUmFuZ2UodmlldywgY2xhc3NOYW1lLCByYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSB2aWV3LmNvb3Jkc0F0UG9zKHJhbmdlLmhlYWQsIHJhbmdlLmFzc29jIHx8IDEpO1xuICAgICAgICAgICAgaWYgKCFwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgbGV0IGJhc2UgPSBnZXRCYXNlKHZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgcG9zLmxlZnQgLSBiYXNlLmxlZnQsIHBvcy50b3AgLSBiYXNlLnRvcCwgbnVsbCwgcG9zLmJvdHRvbSAtIHBvcy50b3ApXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZWN0YW5nbGVzRm9yUmFuZ2UodmlldywgY2xhc3NOYW1lLCByYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXRCYXNlKHZpZXcpIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBsZWZ0ID0gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0IC0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGggKiB2aWV3LnNjYWxlWDtcbiAgICByZXR1cm4geyBsZWZ0OiBsZWZ0IC0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCAqIHZpZXcuc2NhbGVYLCB0b3A6IHJlY3QudG9wIC0gdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICogdmlldy5zY2FsZVkgfTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRMaW5lKHZpZXcsIHBvcywgc2lkZSwgaW5zaWRlKSB7XG4gICAgbGV0IGNvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MocG9zLCBzaWRlICogMik7XG4gICAgaWYgKCFjb29yZHMpXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgbGV0IGVkaXRvclJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeSA9IChjb29yZHMudG9wICsgY29vcmRzLmJvdHRvbSkgLyAyO1xuICAgIGxldCBsZWZ0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGVkaXRvclJlY3QubGVmdCArIDEsIHkgfSk7XG4gICAgbGV0IHJpZ2h0ID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGVkaXRvclJlY3QucmlnaHQgLSAxLCB5IH0pO1xuICAgIGlmIChsZWZ0ID09IG51bGwgfHwgcmlnaHQgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICByZXR1cm4geyBmcm9tOiBNYXRoLm1heChpbnNpZGUuZnJvbSwgTWF0aC5taW4obGVmdCwgcmlnaHQpKSwgdG86IE1hdGgubWluKGluc2lkZS50bywgTWF0aC5tYXgobGVmdCwgcmlnaHQpKSB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlc0ZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgcmFuZ2UpIHtcbiAgICBpZiAocmFuZ2UudG8gPD0gdmlldy52aWV3cG9ydC5mcm9tIHx8IHJhbmdlLmZyb20gPj0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGxldCBmcm9tID0gTWF0aC5tYXgocmFuZ2UuZnJvbSwgdmlldy52aWV3cG9ydC5mcm9tKSwgdG8gPSBNYXRoLm1pbihyYW5nZS50bywgdmlldy52aWV3cG9ydC50byk7XG4gICAgbGV0IGx0ciA9IHZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLCBjb250ZW50UmVjdCA9IGNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGJhc2UgPSBnZXRCYXNlKHZpZXcpO1xuICAgIGxldCBsaW5lRWx0ID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNtLWxpbmVcIiksIGxpbmVTdHlsZSA9IGxpbmVFbHQgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUobGluZUVsdCk7XG4gICAgbGV0IGxlZnRTaWRlID0gY29udGVudFJlY3QubGVmdCArXG4gICAgICAgIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ0xlZnQpICsgTWF0aC5taW4oMCwgcGFyc2VJbnQobGluZVN0eWxlLnRleHRJbmRlbnQpKSA6IDApO1xuICAgIGxldCByaWdodFNpZGUgPSBjb250ZW50UmVjdC5yaWdodCAtIChsaW5lU3R5bGUgPyBwYXJzZUludChsaW5lU3R5bGUucGFkZGluZ1JpZ2h0KSA6IDApO1xuICAgIGxldCBzdGFydEJsb2NrID0gYmxvY2tBdCh2aWV3LCBmcm9tLCAxKSwgZW5kQmxvY2sgPSBibG9ja0F0KHZpZXcsIHRvLCAtMSk7XG4gICAgbGV0IHZpc3VhbFN0YXJ0ID0gc3RhcnRCbG9jay50eXBlID09IEJsb2NrVHlwZS5UZXh0ID8gc3RhcnRCbG9jayA6IG51bGw7XG4gICAgbGV0IHZpc3VhbEVuZCA9IGVuZEJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgPyBlbmRCbG9jayA6IG51bGw7XG4gICAgaWYgKHZpc3VhbFN0YXJ0ICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MpKVxuICAgICAgICB2aXN1YWxTdGFydCA9IHdyYXBwZWRMaW5lKHZpZXcsIGZyb20sIDEsIHZpc3VhbFN0YXJ0KTtcbiAgICBpZiAodmlzdWFsRW5kICYmICh2aWV3LmxpbmVXcmFwcGluZyB8fCBlbmRCbG9jay53aWRnZXRMaW5lQnJlYWtzKSlcbiAgICAgICAgdmlzdWFsRW5kID0gd3JhcHBlZExpbmUodmlldywgdG8sIC0xLCB2aXN1YWxFbmQpO1xuICAgIGlmICh2aXN1YWxTdGFydCAmJiB2aXN1YWxFbmQgJiYgdmlzdWFsU3RhcnQuZnJvbSA9PSB2aXN1YWxFbmQuZnJvbSAmJiB2aXN1YWxTdGFydC50byA9PSB2aXN1YWxFbmQudG8pIHtcbiAgICAgICAgcmV0dXJuIHBpZWNlcyhkcmF3Rm9yTGluZShyYW5nZS5mcm9tLCByYW5nZS50bywgdmlzdWFsU3RhcnQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCB0b3AgPSB2aXN1YWxTdGFydCA/IGRyYXdGb3JMaW5lKHJhbmdlLmZyb20sIG51bGwsIHZpc3VhbFN0YXJ0KSA6IGRyYXdGb3JXaWRnZXQoc3RhcnRCbG9jaywgZmFsc2UpO1xuICAgICAgICBsZXQgYm90dG9tID0gdmlzdWFsRW5kID8gZHJhd0ZvckxpbmUobnVsbCwgcmFuZ2UudG8sIHZpc3VhbEVuZCkgOiBkcmF3Rm9yV2lkZ2V0KGVuZEJsb2NrLCB0cnVlKTtcbiAgICAgICAgbGV0IGJldHdlZW4gPSBbXTtcbiAgICAgICAgaWYgKCh2aXN1YWxTdGFydCB8fCBzdGFydEJsb2NrKS50byA8ICh2aXN1YWxFbmQgfHwgZW5kQmxvY2spLmZyb20gLSAodmlzdWFsU3RhcnQgJiYgdmlzdWFsRW5kID8gMSA6IDApIHx8XG4gICAgICAgICAgICBzdGFydEJsb2NrLndpZGdldExpbmVCcmVha3MgPiAxICYmIHRvcC5ib3R0b20gKyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0IC8gMiA8IGJvdHRvbS50b3ApXG4gICAgICAgICAgICBiZXR3ZWVuLnB1c2gocGllY2UobGVmdFNpZGUsIHRvcC5ib3R0b20sIHJpZ2h0U2lkZSwgYm90dG9tLnRvcCkpO1xuICAgICAgICBlbHNlIGlmICh0b3AuYm90dG9tIDwgYm90dG9tLnRvcCAmJiB2aWV3LmVsZW1lbnRBdEhlaWdodCgodG9wLmJvdHRvbSArIGJvdHRvbS50b3ApIC8gMikudHlwZSA9PSBCbG9ja1R5cGUuVGV4dClcbiAgICAgICAgICAgIHRvcC5ib3R0b20gPSBib3R0b20udG9wID0gKHRvcC5ib3R0b20gKyBib3R0b20udG9wKSAvIDI7XG4gICAgICAgIHJldHVybiBwaWVjZXModG9wKS5jb25jYXQoYmV0d2VlbikuY29uY2F0KHBpZWNlcyhib3R0b20pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2UobGVmdCwgdG9wLCByaWdodCwgYm90dG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlTWFya2VyKGNsYXNzTmFtZSwgbGVmdCAtIGJhc2UubGVmdCwgdG9wIC0gYmFzZS50b3AsIHJpZ2h0IC0gbGVmdCwgYm90dG9tIC0gdG9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGllY2VzKHsgdG9wLCBib3R0b20sIGhvcml6b250YWwgfSkge1xuICAgICAgICBsZXQgcGllY2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9yaXpvbnRhbC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgICAgIHBpZWNlcy5wdXNoKHBpZWNlKGhvcml6b250YWxbaV0sIHRvcCwgaG9yaXpvbnRhbFtpICsgMV0sIGJvdHRvbSkpO1xuICAgICAgICByZXR1cm4gcGllY2VzO1xuICAgIH1cbiAgICAvLyBHZXRzIHBhc3NlZCBmcm9tL3RvIGluIGxpbmUtbG9jYWwgcG9zaXRpb25zXG4gICAgZnVuY3Rpb24gZHJhd0ZvckxpbmUoZnJvbSwgdG8sIGxpbmUpIHtcbiAgICAgICAgbGV0IHRvcCA9IDFlOSwgYm90dG9tID0gLTFlOSwgaG9yaXpvbnRhbCA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRTcGFuKGZyb20sIGZyb21PcGVuLCB0bywgdG9PcGVuLCBkaXIpIHtcbiAgICAgICAgICAgIC8vIFBhc3NpbmcgMi8tMiBpcyBhIGtsdWRnZSB0byBmb3JjZSB0aGUgdmlldyB0byByZXR1cm5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9uIHRoZSBwcm9wZXIgc2lkZSBvZiBibG9jayB3aWRnZXRzLCBzaW5jZVxuICAgICAgICAgICAgLy8gbm9ybWFsaXppbmcgdGhlIHNpZGUgdGhlcmUsIHRob3VnaCBhcHByb3ByaWF0ZSBmb3IgbW9zdFxuICAgICAgICAgICAgLy8gY29vcmRzQXRQb3MgcXVlcmllcywgd291bGQgYnJlYWsgc2VsZWN0aW9uIGRyYXdpbmcuXG4gICAgICAgICAgICBsZXQgZnJvbUNvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3MoZnJvbSwgKGZyb20gPT0gbGluZS50byA/IC0yIDogMikpO1xuICAgICAgICAgICAgbGV0IHRvQ29vcmRzID0gdmlldy5jb29yZHNBdFBvcyh0bywgKHRvID09IGxpbmUuZnJvbSA/IDIgOiAtMikpO1xuICAgICAgICAgICAgaWYgKCFmcm9tQ29vcmRzIHx8ICF0b0Nvb3JkcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0b3AgPSBNYXRoLm1pbihmcm9tQ29vcmRzLnRvcCwgdG9Db29yZHMudG9wLCB0b3ApO1xuICAgICAgICAgICAgYm90dG9tID0gTWF0aC5tYXgoZnJvbUNvb3Jkcy5ib3R0b20sIHRvQ29vcmRzLmJvdHRvbSwgYm90dG9tKTtcbiAgICAgICAgICAgIGlmIChkaXIgPT0gRGlyZWN0aW9uLkxUUilcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsLnB1c2gobHRyICYmIGZyb21PcGVuID8gbGVmdFNpZGUgOiBmcm9tQ29vcmRzLmxlZnQsIGx0ciAmJiB0b09wZW4gPyByaWdodFNpZGUgOiB0b0Nvb3Jkcy5yaWdodCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbC5wdXNoKCFsdHIgJiYgdG9PcGVuID8gbGVmdFNpZGUgOiB0b0Nvb3Jkcy5sZWZ0LCAhbHRyICYmIGZyb21PcGVuID8gcmlnaHRTaWRlIDogZnJvbUNvb3Jkcy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0ID0gZnJvbSAhPT0gbnVsbCAmJiBmcm9tICE9PSB2b2lkIDAgPyBmcm9tIDogbGluZS5mcm9tLCBlbmQgPSB0byAhPT0gbnVsbCAmJiB0byAhPT0gdm9pZCAwID8gdG8gOiBsaW5lLnRvO1xuICAgICAgICAvLyBTcGxpdCB0aGUgcmFuZ2UgYnkgdmlzaWJsZSByYW5nZSBhbmQgZG9jdW1lbnQgbGluZVxuICAgICAgICBmb3IgKGxldCByIG9mIHZpZXcudmlzaWJsZVJhbmdlcylcbiAgICAgICAgICAgIGlmIChyLnRvID4gc3RhcnQgJiYgci5mcm9tIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gTWF0aC5tYXgoci5mcm9tLCBzdGFydCksIGVuZFBvcyA9IE1hdGgubWluKHIudG8sIGVuZCk7Oykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZG9jTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzcGFuIG9mIHZpZXcuYmlkaVNwYW5zKGRvY0xpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3BhbkZyb20gPSBzcGFuLmZyb20gKyBkb2NMaW5lLmZyb20sIHNwYW5UbyA9IHNwYW4udG8gKyBkb2NMaW5lLmZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BhbkZyb20gPj0gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5UbyA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTcGFuKE1hdGgubWF4KHNwYW5Gcm9tLCBwb3MpLCBmcm9tID09IG51bGwgJiYgc3BhbkZyb20gPD0gc3RhcnQsIE1hdGgubWluKHNwYW5UbywgZW5kUG9zKSwgdG8gPT0gbnVsbCAmJiBzcGFuVG8gPj0gZW5kLCBzcGFuLmRpcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcG9zID0gZG9jTGluZS50byArIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gZW5kUG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBpZiAoaG9yaXpvbnRhbC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGFkZFNwYW4oc3RhcnQsIGZyb20gPT0gbnVsbCwgZW5kLCB0byA9PSBudWxsLCB2aWV3LnRleHREaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4geyB0b3AsIGJvdHRvbSwgaG9yaXpvbnRhbCB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkcmF3Rm9yV2lkZ2V0KGJsb2NrLCB0b3ApIHtcbiAgICAgICAgbGV0IHkgPSBjb250ZW50UmVjdC50b3AgKyAodG9wID8gYmxvY2sudG9wIDogYmxvY2suYm90dG9tKTtcbiAgICAgICAgcmV0dXJuIHsgdG9wOiB5LCBib3R0b206IHksIGhvcml6b250YWw6IFtdIH07XG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZU1hcmtlcihhLCBiKSB7XG4gICAgcmV0dXJuIGEuY29uc3RydWN0b3IgPT0gYi5jb25zdHJ1Y3RvciAmJiBhLmVxKGIpO1xufVxuY2xhc3MgTGF5ZXJWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBsYXllcikge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmxheWVyID0gbGF5ZXI7XG4gICAgICAgIHRoaXMuZHJhd24gPSBbXTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSAxO1xuICAgICAgICB0aGlzLnNjYWxlWSA9IDE7XG4gICAgICAgIHRoaXMubWVhc3VyZVJlcSA9IHsgcmVhZDogdGhpcy5tZWFzdXJlLmJpbmQodGhpcyksIHdyaXRlOiB0aGlzLmRyYXcuYmluZCh0aGlzKSB9O1xuICAgICAgICB0aGlzLmRvbSA9IHZpZXcuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tbGF5ZXJcIik7XG4gICAgICAgIGlmIChsYXllci5hYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1sYXllci1hYm92ZVwiKTtcbiAgICAgICAgaWYgKGxheWVyLmNsYXNzKVxuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChsYXllci5jbGFzcyk7XG4gICAgICAgIHRoaXMuc2NhbGUoKTtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLnNldE9yZGVyKHZpZXcuc3RhdGUpO1xuICAgICAgICB2aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgIGlmIChsYXllci5tb3VudClcbiAgICAgICAgICAgIGxheWVyLm1vdW50KHRoaXMuZG9tLCB2aWV3KTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGF5ZXJPcmRlcikgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KGxheWVyT3JkZXIpKVxuICAgICAgICAgICAgdGhpcy5zZXRPcmRlcih1cGRhdGUuc3RhdGUpO1xuICAgICAgICBpZiAodGhpcy5sYXllci51cGRhdGUodXBkYXRlLCB0aGlzLmRvbSkgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZSgpO1xuICAgICAgICAgICAgdXBkYXRlLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb2NWaWV3VXBkYXRlKHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXIudXBkYXRlT25Eb2NWaWV3VXBkYXRlICE9PSBmYWxzZSlcbiAgICAgICAgICAgIHZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5tZWFzdXJlUmVxKTtcbiAgICB9XG4gICAgc2V0T3JkZXIoc3RhdGUpIHtcbiAgICAgICAgbGV0IHBvcyA9IDAsIG9yZGVyID0gc3RhdGUuZmFjZXQobGF5ZXJPcmRlcik7XG4gICAgICAgIHdoaWxlIChwb3MgPCBvcmRlci5sZW5ndGggJiYgb3JkZXJbcG9zXSAhPSB0aGlzLmxheWVyKVxuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgIHRoaXMuZG9tLnN0eWxlLnpJbmRleCA9IFN0cmluZygodGhpcy5sYXllci5hYm92ZSA/IDE1MCA6IC0xKSAtIHBvcyk7XG4gICAgfVxuICAgIG1lYXN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyLm1hcmtlcnModGhpcy52aWV3KTtcbiAgICB9XG4gICAgc2NhbGUoKSB7XG4gICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmIChzY2FsZVggIT0gdGhpcy5zY2FsZVggfHwgc2NhbGVZICE9IHRoaXMuc2NhbGVZKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7MSAvIHNjYWxlWH0sICR7MSAvIHNjYWxlWX0pYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KG1hcmtlcnMpIHtcbiAgICAgICAgaWYgKG1hcmtlcnMubGVuZ3RoICE9IHRoaXMuZHJhd24ubGVuZ3RoIHx8IG1hcmtlcnMuc29tZSgocCwgaSkgPT4gIXNhbWVNYXJrZXIocCwgdGhpcy5kcmF3bltpXSkpKSB7XG4gICAgICAgICAgICBsZXQgb2xkID0gdGhpcy5kb20uZmlyc3RDaGlsZCwgb2xkSSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBtYXJrZXIgb2YgbWFya2Vycykge1xuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIudXBkYXRlICYmIG9sZCAmJiBtYXJrZXIuY29uc3RydWN0b3IgJiYgdGhpcy5kcmF3bltvbGRJXS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIudXBkYXRlKG9sZCwgdGhpcy5kcmF3bltvbGRJXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkID0gb2xkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBvbGRJKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUobWFya2VyLmRyYXcoKSwgb2xkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAob2xkKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBvbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgb2xkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIG9sZCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXduID0gbWFya2VycztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5sYXllci5kZXN0cm95KVxuICAgICAgICAgICAgdGhpcy5sYXllci5kZXN0cm95KHRoaXMuZG9tLCB0aGlzLnZpZXcpO1xuICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICB9XG59XG5jb25zdCBsYXllck9yZGVyID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5EZWZpbmUgYSBsYXllci5cbiovXG5mdW5jdGlvbiBsYXllcihjb25maWcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2ID0+IG5ldyBMYXllclZpZXcodiwgY29uZmlnKSksXG4gICAgICAgIGxheWVyT3JkZXIub2YoY29uZmlnKVxuICAgIF07XG59XG5cbmNvbnN0IHNlbGVjdGlvbkNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBjdXJzb3JCbGlua1JhdGU6IDEyMDAsXG4gICAgICAgICAgICBkcmF3UmFuZ2VDdXJzb3I6IHRydWVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY3Vyc29yQmxpbmtSYXRlOiAoYSwgYikgPT4gTWF0aC5taW4oYSwgYiksXG4gICAgICAgICAgICBkcmF3UmFuZ2VDdXJzb3I6IChhLCBiKSA9PiBhIHx8IGJcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgaGlkZXMgdGhlIGJyb3dzZXIncyBuYXRpdmUgc2VsZWN0aW9uIGFuZFxuY3Vyc29yLCByZXBsYWNpbmcgdGhlIHNlbGVjdGlvbiB3aXRoIGEgYmFja2dyb3VuZCBiZWhpbmQgdGhlIHRleHRcbih3aXRoIHRoZSBgY20tc2VsZWN0aW9uQmFja2dyb3VuZGAgY2xhc3MpLCBhbmQgdGhlXG5jdXJzb3JzIHdpdGggZWxlbWVudHMgb3ZlcmxhaWQgb3ZlciB0aGUgY29kZSAodXNpbmdcbmBjbS1jdXJzb3ItcHJpbWFyeWAgYW5kIGBjbS1jdXJzb3Itc2Vjb25kYXJ5YCkuXG5cblRoaXMgYWxsb3dzIHRoZSBlZGl0b3IgdG8gZGlzcGxheSBzZWNvbmRhcnkgc2VsZWN0aW9uIHJhbmdlcywgYW5kXG50ZW5kcyB0byBwcm9kdWNlIGEgdHlwZSBvZiBzZWxlY3Rpb24gbW9yZSBpbiBsaW5lIHdpdGggdGhhdCB1c2Vyc1xuZXhwZWN0IGluIGEgdGV4dCBlZGl0b3IgKHRoZSBuYXRpdmUgc2VsZWN0aW9uIHN0eWxpbmcgd2lsbCBvZnRlblxubGVhdmUgZ2FwcyBiZXR3ZWVuIGxpbmVzIGFuZCB3b24ndCBmaWxsIHRoZSBob3Jpem9udGFsIHNwYWNlIGFmdGVyXG5hIGxpbmUgd2hlbiB0aGUgc2VsZWN0aW9uIGNvbnRpbnVlcyBwYXN0IGl0KS5cblxuSXQgZG9lcyBoYXZlIGEgcGVyZm9ybWFuY2UgY29zdCwgaW4gdGhhdCBpdCByZXF1aXJlcyBhbiBleHRyYSBET01cbmxheW91dCBjeWNsZSBmb3IgbWFueSB1cGRhdGVzICh0aGUgc2VsZWN0aW9uIGlzIGRyYXduIGJhc2VkIG9uIERPTVxubGF5b3V0IGluZm9ybWF0aW9uIHRoYXQncyBvbmx5IGF2YWlsYWJsZSBhZnRlciBsYXlpbmcgb3V0IHRoZVxuY29udGVudCkuXG4qL1xuZnVuY3Rpb24gZHJhd1NlbGVjdGlvbihjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBbXG4gICAgICAgIHNlbGVjdGlvbkNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBjdXJzb3JMYXllcixcbiAgICAgICAgc2VsZWN0aW9uTGF5ZXIsXG4gICAgICAgIGhpZGVOYXRpdmVTZWxlY3Rpb24sXG4gICAgICAgIG5hdGl2ZVNlbGVjdGlvbkhpZGRlbi5vZih0cnVlKVxuICAgIF07XG59XG4vKipcblJldHJpZXZlIHRoZSBbYGRyYXdTZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuZHJhd1NlbGVjdGlvbikgY29uZmlndXJhdGlvblxuZm9yIHRoaXMgc3RhdGUuIChOb3RlIHRoYXQgdGhpcyB3aWxsIHJldHVybiBhIHNldCBvZiBkZWZhdWx0cyBldmVuXG5pZiBgZHJhd1NlbGVjdGlvbmAgaXNuJ3QgZW5hYmxlZC4pXG4qL1xuZnVuY3Rpb24gZ2V0RHJhd1NlbGVjdGlvbkNvbmZpZyhzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xufVxuZnVuY3Rpb24gY29uZmlnQ2hhbmdlZCh1cGRhdGUpIHtcbiAgICByZXR1cm4gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKTtcbn1cbmNvbnN0IGN1cnNvckxheWVyID0gLypAX19QVVJFX18qL2xheWVyKHtcbiAgICBhYm92ZTogdHJ1ZSxcbiAgICBtYXJrZXJzKHZpZXcpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNvbmYgPSBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xuICAgICAgICBsZXQgY3Vyc29ycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCByIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBwcmltID0gciA9PSBzdGF0ZS5zZWxlY3Rpb24ubWFpbjtcbiAgICAgICAgICAgIGlmIChyLmVtcHR5IHx8IGNvbmYuZHJhd1JhbmdlQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IHByaW0gPyBcImNtLWN1cnNvciBjbS1jdXJzb3ItcHJpbWFyeVwiIDogXCJjbS1jdXJzb3IgY20tY3Vyc29yLXNlY29uZGFyeVwiO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3IgPSByLmVtcHR5ID8gciA6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3Ioci5oZWFkLCByLmhlYWQgPiByLmFuY2hvciA/IC0xIDogMSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGllY2Ugb2YgUmVjdGFuZ2xlTWFya2VyLmZvclJhbmdlKHZpZXcsIGNsYXNzTmFtZSwgY3Vyc29yKSlcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29ycy5wdXNoKHBpZWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3Vyc29ycztcbiAgICB9LFxuICAgIHVwZGF0ZSh1cGRhdGUsIGRvbSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLnNlbGVjdGlvbikpXG4gICAgICAgICAgICBkb20uc3R5bGUuYW5pbWF0aW9uTmFtZSA9IGRvbS5zdHlsZS5hbmltYXRpb25OYW1lID09IFwiY20tYmxpbmtcIiA/IFwiY20tYmxpbmsyXCIgOiBcImNtLWJsaW5rXCI7XG4gICAgICAgIGxldCBjb25mQ2hhbmdlID0gY29uZmlnQ2hhbmdlZCh1cGRhdGUpO1xuICAgICAgICBpZiAoY29uZkNoYW5nZSlcbiAgICAgICAgICAgIHNldEJsaW5rUmF0ZSh1cGRhdGUuc3RhdGUsIGRvbSk7XG4gICAgICAgIHJldHVybiB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0IHx8IGNvbmZDaGFuZ2U7XG4gICAgfSxcbiAgICBtb3VudChkb20sIHZpZXcpIHtcbiAgICAgICAgc2V0QmxpbmtSYXRlKHZpZXcuc3RhdGUsIGRvbSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1jdXJzb3JMYXllclwiXG59KTtcbmZ1bmN0aW9uIHNldEJsaW5rUmF0ZShzdGF0ZSwgZG9tKSB7XG4gICAgZG9tLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKS5jdXJzb3JCbGlua1JhdGUgKyBcIm1zXCI7XG59XG5jb25zdCBzZWxlY3Rpb25MYXllciA9IC8qQF9fUFVSRV9fKi9sYXllcih7XG4gICAgYWJvdmU6IGZhbHNlLFxuICAgIG1hcmtlcnModmlldykge1xuICAgICAgICByZXR1cm4gdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLm1hcChyID0+IHIuZW1wdHkgPyBbXSA6IFJlY3RhbmdsZU1hcmtlci5mb3JSYW5nZSh2aWV3LCBcImNtLXNlbGVjdGlvbkJhY2tncm91bmRcIiwgcikpXG4gICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSk7XG4gICAgfSxcbiAgICB1cGRhdGUodXBkYXRlLCBkb20pIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fCBjb25maWdDaGFuZ2VkKHVwZGF0ZSk7XG4gICAgfSxcbiAgICBjbGFzczogXCJjbS1zZWxlY3Rpb25MYXllclwiXG59KTtcbmNvbnN0IGhpZGVOYXRpdmVTZWxlY3Rpb24gPSAvKkBfX1BVUkVfXyovUHJlYy5oaWdoZXN0KC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LnRoZW1lKHtcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgXCImIDo6c2VsZWN0aW9uLCAmOjpzZWxlY3Rpb25cIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiIH0sXG4gICAgICAgIGNhcmV0Q29sb3I6IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiXG4gICAgfSxcbiAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgY2FyZXRDb2xvcjogXCJ0cmFuc3BhcmVudCAhaW1wb3J0YW50XCIsXG4gICAgICAgIFwiJiA6Zm9jdXNcIjoge1xuICAgICAgICAgICAgY2FyZXRDb2xvcjogXCJpbml0aWFsICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgIFwiJjo6c2VsZWN0aW9uLCAmIDo6c2VsZWN0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiSGlnaGxpZ2h0ICFpbXBvcnRhbnRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSkpO1xuXG5jb25zdCBzZXREcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHBvcywgbWFwcGluZykgeyByZXR1cm4gcG9zID09IG51bGwgPyBudWxsIDogbWFwcGluZy5tYXBQb3MocG9zKTsgfVxufSk7XG5jb25zdCBkcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHVwZGF0ZShwb3MsIHRyKSB7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHBvcyA9IHRyLmNoYW5nZXMubWFwUG9zKHBvcyk7XG4gICAgICAgIHJldHVybiB0ci5lZmZlY3RzLnJlZHVjZSgocG9zLCBlKSA9PiBlLmlzKHNldERyb3BDdXJzb3JQb3MpID8gZS52YWx1ZSA6IHBvcywgcG9zKTtcbiAgICB9XG59KTtcbmNvbnN0IGRyYXdEcm9wQ3Vyc29yID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB0aGlzLnJlYWRQb3MuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMuZHJhd0N1cnNvci5iaW5kKHRoaXMpIH07XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY3Vyc29yUG9zID0gdXBkYXRlLnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpO1xuICAgICAgICBpZiAoY3Vyc29yUG9zID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jdXJzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB0aGlzLnZpZXcuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLmNsYXNzTmFtZSA9IFwiY20tZHJvcEN1cnNvclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpICE9IGN1cnNvclBvcyB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWRQb3MoKSB7XG4gICAgICAgIGxldCB7IHZpZXcgfSA9IHRoaXM7XG4gICAgICAgIGxldCBwb3MgPSB2aWV3LnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpO1xuICAgICAgICBsZXQgcmVjdCA9IHBvcyAhPSBudWxsICYmIHZpZXcuY29vcmRzQXRQb3MocG9zKTtcbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBvdXRlciA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gb3V0ZXIubGVmdCArIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQgKiB2aWV3LnNjYWxlWCxcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgLSBvdXRlci50b3AgKyB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgKiB2aWV3LnNjYWxlWSxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3Q3Vyc29yKHBvcykge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3IpIHtcbiAgICAgICAgICAgIGxldCB7IHNjYWxlWCwgc2NhbGVZIH0gPSB0aGlzLnZpZXc7XG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5sZWZ0IC8gc2NhbGVYICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLnRvcCA9IHBvcy50b3AgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gcG9zLmhlaWdodCAvIHNjYWxlWSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQgPSBcIi0xMDAwMDBweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnNvcilcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yLnJlbW92ZSgpO1xuICAgIH1cbiAgICBzZXREcm9wUG9zKHBvcykge1xuICAgICAgICBpZiAodGhpcy52aWV3LnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpICE9IHBvcylcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHNldERyb3BDdXJzb3JQb3Mub2YocG9zKSB9KTtcbiAgICB9XG59LCB7XG4gICAgZXZlbnRPYnNlcnZlcnM6IHtcbiAgICAgICAgZHJhZ292ZXIoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RHJvcFBvcyh0aGlzLnZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZHJhZ2xlYXZlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHRoaXMudmlldy5jb250ZW50RE9NIHx8ICF0aGlzLnZpZXcuY29udGVudERPTS5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdlbmQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyb3AoKSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3MobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbi8qKlxuRHJhd3MgYSBjdXJzb3IgYXQgdGhlIGN1cnJlbnQgZHJvcCBwb3NpdGlvbiB3aGVuIHNvbWV0aGluZyBpc1xuZHJhZ2dlZCBvdmVyIHRoZSBlZGl0b3IuXG4qL1xuZnVuY3Rpb24gZHJvcEN1cnNvcigpIHtcbiAgICByZXR1cm4gW2Ryb3BDdXJzb3JQb3MsIGRyYXdEcm9wQ3Vyc29yXTtcbn1cblxuZnVuY3Rpb24gaXRlck1hdGNoZXMoZG9jLCByZSwgZnJvbSwgdG8sIGYpIHtcbiAgICByZS5sYXN0SW5kZXggPSAwO1xuICAgIGZvciAobGV0IGN1cnNvciA9IGRvYy5pdGVyUmFuZ2UoZnJvbSwgdG8pLCBwb3MgPSBmcm9tLCBtOyAhY3Vyc29yLm5leHQoKS5kb25lOyBwb3MgKz0gY3Vyc29yLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWN1cnNvci5saW5lQnJlYWspXG4gICAgICAgICAgICB3aGlsZSAobSA9IHJlLmV4ZWMoY3Vyc29yLnZhbHVlKSlcbiAgICAgICAgICAgICAgICBmKHBvcyArIG0uaW5kZXgsIG0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hdGNoUmFuZ2VzKHZpZXcsIG1heExlbmd0aCkge1xuICAgIGxldCB2aXNpYmxlID0gdmlldy52aXNpYmxlUmFuZ2VzO1xuICAgIGlmICh2aXNpYmxlLmxlbmd0aCA9PSAxICYmIHZpc2libGVbMF0uZnJvbSA9PSB2aWV3LnZpZXdwb3J0LmZyb20gJiZcbiAgICAgICAgdmlzaWJsZVswXS50byA9PSB2aWV3LnZpZXdwb3J0LnRvKVxuICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHZpc2libGUpIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKS5mcm9tLCBmcm9tIC0gbWF4TGVuZ3RoKTtcbiAgICAgICAgdG8gPSBNYXRoLm1pbih2aWV3LnN0YXRlLmRvYy5saW5lQXQodG8pLnRvLCB0byArIG1heExlbmd0aCk7XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoICYmIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0udG8gPj0gZnJvbSlcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0udG8gPSB0bztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuSGVscGVyIGNsYXNzIHVzZWQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gbWFpbnRhaW4gZGVjb3JhdGlvbnMgb25cbnZpc2libGUgY29kZSB0aGF0IG1hdGNoZXMgYSBnaXZlbiByZWd1bGFyIGV4cHJlc3Npb24uIFRvIGJlIHVzZWRcbmluIGEgW3ZpZXcgcGx1Z2luXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuVmlld1BsdWdpbikuIEluc3RhbmNlcyBvZiB0aGlzIG9iamVjdFxucmVwcmVzZW50IGEgbWF0Y2hpbmcgY29uZmlndXJhdGlvbi5cbiovXG5jbGFzcyBNYXRjaERlY29yYXRvciB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgZGVjb3JhdG9yLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHsgcmVnZXhwLCBkZWNvcmF0aW9uLCBkZWNvcmF0ZSwgYm91bmRhcnksIG1heExlbmd0aCA9IDEwMDAgfSA9IGNvbmZpZztcbiAgICAgICAgaWYgKCFyZWdleHAuZ2xvYmFsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgcmVndWxhciBleHByZXNzaW9uIGdpdmVuIHRvIE1hdGNoRGVjb3JhdG9yIHNob3VsZCBoYXZlIGl0cyAnZycgZmxhZyBzZXRcIik7XG4gICAgICAgIHRoaXMucmVnZXhwID0gcmVnZXhwO1xuICAgICAgICBpZiAoZGVjb3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2ggPSAobWF0Y2gsIHZpZXcsIGZyb20sIGFkZCkgPT4gZGVjb3JhdGUoYWRkLCBmcm9tLCBmcm9tICsgbWF0Y2hbMF0ubGVuZ3RoLCBtYXRjaCwgdmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRlY29yYXRpb24gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCB2aWV3LCBmcm9tLCBhZGQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGVjbyA9IGRlY29yYXRpb24obWF0Y2gsIHZpZXcsIGZyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkZWNvKVxuICAgICAgICAgICAgICAgICAgICBhZGQoZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgZGVjbyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlY29yYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2ggPSAobWF0Y2gsIF92aWV3LCBmcm9tLCBhZGQpID0+IGFkZChmcm9tLCBmcm9tICsgbWF0Y2hbMF0ubGVuZ3RoLCBkZWNvcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRWl0aGVyICdkZWNvcmF0ZScgb3IgJ2RlY29yYXRpb24nIHNob3VsZCBiZSBwcm92aWRlZCB0byBNYXRjaERlY29yYXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdW5kYXJ5ID0gYm91bmRhcnk7XG4gICAgICAgIHRoaXMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wdXRlIHRoZSBmdWxsIHNldCBvZiBkZWNvcmF0aW9ucyBmb3IgbWF0Y2hlcyBpbiB0aGUgZ2l2ZW5cbiAgICB2aWV3J3Mgdmlld3BvcnQuIFlvdSdsbCB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIGluaXRpYWxpemluZyB5b3VyXG4gICAgcGx1Z2luLlxuICAgICovXG4gICAgY3JlYXRlRGVjbyh2aWV3KSB7XG4gICAgICAgIGxldCBidWlsZCA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKSwgYWRkID0gYnVpbGQuYWRkLmJpbmQoYnVpbGQpO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgbWF0Y2hSYW5nZXModmlldywgdGhpcy5tYXhMZW5ndGgpKVxuICAgICAgICAgICAgaXRlck1hdGNoZXModmlldy5zdGF0ZS5kb2MsIHRoaXMucmVnZXhwLCBmcm9tLCB0bywgKGZyb20sIG0pID0+IHRoaXMuYWRkTWF0Y2gobSwgdmlldywgZnJvbSwgYWRkKSk7XG4gICAgICAgIHJldHVybiBidWlsZC5maW5pc2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXBkYXRlIGEgc2V0IG9mIGRlY29yYXRpb25zIGZvciBhIHZpZXcgdXBkYXRlLiBgZGVjb2AgX211c3RfIGJlXG4gICAgdGhlIHNldCBvZiBkZWNvcmF0aW9ucyBwcm9kdWNlZCBieSBfdGhpc18gYE1hdGNoRGVjb3JhdG9yYCBmb3JcbiAgICB0aGUgdmlldyBzdGF0ZSBiZWZvcmUgdGhlIHVwZGF0ZS5cbiAgICAqL1xuICAgIHVwZGF0ZURlY28odXBkYXRlLCBkZWNvKSB7XG4gICAgICAgIGxldCBjaGFuZ2VGcm9tID0gMWU5LCBjaGFuZ2VUbyA9IC0xO1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB1cGRhdGUuY2hhbmdlcy5pdGVyQ2hhbmdlcygoX2YsIF90LCBmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0byA+PSB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tICYmIGZyb20gPD0gdXBkYXRlLnZpZXcudmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRnJvbSA9IE1hdGgubWluKGZyb20sIGNoYW5nZUZyb20pO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VUbyA9IE1hdGgubWF4KHRvLCBjaGFuZ2VUbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmICh1cGRhdGUudmlld3BvcnRNb3ZlZCB8fCBjaGFuZ2VUbyAtIGNoYW5nZUZyb20gPiAxMDAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRGVjbyh1cGRhdGUudmlldyk7XG4gICAgICAgIGlmIChjaGFuZ2VUbyA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlUmFuZ2UodXBkYXRlLnZpZXcsIGRlY28ubWFwKHVwZGF0ZS5jaGFuZ2VzKSwgY2hhbmdlRnJvbSwgY2hhbmdlVG8pO1xuICAgICAgICByZXR1cm4gZGVjbztcbiAgICB9XG4gICAgdXBkYXRlUmFuZ2UodmlldywgZGVjbywgdXBkYXRlRnJvbSwgdXBkYXRlVG8pIHtcbiAgICAgICAgZm9yIChsZXQgciBvZiB2aWV3LnZpc2libGVSYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gTWF0aC5tYXgoci5mcm9tLCB1cGRhdGVGcm9tKSwgdG8gPSBNYXRoLm1pbihyLnRvLCB1cGRhdGVUbyk7XG4gICAgICAgICAgICBpZiAodG8gPiBmcm9tKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb21MaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KGZyb20pLCB0b0xpbmUgPSBmcm9tTGluZS50byA8IHRvID8gdmlldy5zdGF0ZS5kb2MubGluZUF0KHRvKSA6IGZyb21MaW5lO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KHIuZnJvbSwgZnJvbUxpbmUuZnJvbSksIGVuZCA9IE1hdGgubWluKHIudG8sIHRvTGluZS50byk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGZyb20gPiBmcm9tTGluZS5mcm9tOyBmcm9tLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZGFyeS50ZXN0KGZyb21MaW5lLnRleHRbZnJvbSAtIDEgLSBmcm9tTGluZS5mcm9tXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyB0byA8IHRvTGluZS50bzsgdG8rKylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5LnRlc3QodG9MaW5lLnRleHRbdG8gLSB0b0xpbmUuZnJvbV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gdG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByYW5nZXMgPSBbXSwgbTtcbiAgICAgICAgICAgICAgICBsZXQgYWRkID0gKGZyb20sIHRvLCBkZWNvKSA9PiByYW5nZXMucHVzaChkZWNvLnJhbmdlKGZyb20sIHRvKSk7XG4gICAgICAgICAgICAgICAgaWYgKGZyb21MaW5lID09IHRvTGluZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2V4cC5sYXN0SW5kZXggPSBzdGFydCAtIGZyb21MaW5lLmZyb207XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobSA9IHRoaXMucmVnZXhwLmV4ZWMoZnJvbUxpbmUudGV4dCkpICYmIG0uaW5kZXggPCBlbmQgLSBmcm9tTGluZS5mcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNYXRjaChtLCB2aWV3LCBtLmluZGV4ICsgZnJvbUxpbmUuZnJvbSwgYWRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJNYXRjaGVzKHZpZXcuc3RhdGUuZG9jLCB0aGlzLnJlZ2V4cCwgc3RhcnQsIGVuZCwgKGZyb20sIG0pID0+IHRoaXMuYWRkTWF0Y2gobSwgdmlldywgZnJvbSwgYWRkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlY28gPSBkZWNvLnVwZGF0ZSh7IGZpbHRlckZyb206IHN0YXJ0LCBmaWx0ZXJUbzogZW5kLCBmaWx0ZXI6IChmcm9tLCB0bykgPT4gZnJvbSA8IHN0YXJ0IHx8IHRvID4gZW5kLCBhZGQ6IHJhbmdlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjbztcbiAgICB9XG59XG5cbmNvbnN0IFVuaWNvZGVSZWdleHBTdXBwb3J0ID0gL3gvLnVuaWNvZGUgIT0gbnVsbCA/IFwiZ3VcIiA6IFwiZ1wiO1xuY29uc3QgU3BlY2lhbHMgPSAvKkBfX1BVUkVfXyovbmV3IFJlZ0V4cChcIltcXHUwMDAwLVxcdTAwMDhcXHUwMDBhLVxcdTAwMWZcXHUwMDdmLVxcdTAwOWZcXHUwMGFkXFx1MDYxY1xcdTIwMGJcXHUyMDBlXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1MjAyZFxcdTIwMmVcXHUyMDY2XFx1MjA2N1xcdTIwNjlcXHVmZWZmXFx1ZmZmOS1cXHVmZmZjXVwiLCBVbmljb2RlUmVnZXhwU3VwcG9ydCk7XG5jb25zdCBOYW1lcyA9IHtcbiAgICAwOiBcIm51bGxcIixcbiAgICA3OiBcImJlbGxcIixcbiAgICA4OiBcImJhY2tzcGFjZVwiLFxuICAgIDEwOiBcIm5ld2xpbmVcIixcbiAgICAxMTogXCJ2ZXJ0aWNhbCB0YWJcIixcbiAgICAxMzogXCJjYXJyaWFnZSByZXR1cm5cIixcbiAgICAyNzogXCJlc2NhcGVcIixcbiAgICA4MjAzOiBcInplcm8gd2lkdGggc3BhY2VcIixcbiAgICA4MjA0OiBcInplcm8gd2lkdGggbm9uLWpvaW5lclwiLFxuICAgIDgyMDU6IFwiemVybyB3aWR0aCBqb2luZXJcIixcbiAgICA4MjA2OiBcImxlZnQtdG8tcmlnaHQgbWFya1wiLFxuICAgIDgyMDc6IFwicmlnaHQtdG8tbGVmdCBtYXJrXCIsXG4gICAgODIzMjogXCJsaW5lIHNlcGFyYXRvclwiLFxuICAgIDgyMzc6IFwibGVmdC10by1yaWdodCBvdmVycmlkZVwiLFxuICAgIDgyMzg6IFwicmlnaHQtdG8tbGVmdCBvdmVycmlkZVwiLFxuICAgIDgyOTQ6IFwibGVmdC10by1yaWdodCBpc29sYXRlXCIsXG4gICAgODI5NTogXCJyaWdodC10by1sZWZ0IGlzb2xhdGVcIixcbiAgICA4Mjk3OiBcInBvcCBkaXJlY3Rpb25hbCBpc29sYXRlXCIsXG4gICAgODIzMzogXCJwYXJhZ3JhcGggc2VwYXJhdG9yXCIsXG4gICAgNjUyNzk6IFwiemVybyB3aWR0aCBuby1icmVhayBzcGFjZVwiLFxuICAgIDY1NTMyOiBcIm9iamVjdCByZXBsYWNlbWVudFwiXG59O1xubGV0IF9zdXBwb3J0c1RhYlNpemUgPSBudWxsO1xuZnVuY3Rpb24gc3VwcG9ydHNUYWJTaXplKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoX3N1cHBvcnRzVGFiU2l6ZSA9PSBudWxsICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgbGV0IHN0eWxlcyA9IGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICAgIF9zdXBwb3J0c1RhYlNpemUgPSAoKF9hID0gc3R5bGVzLnRhYlNpemUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHN0eWxlcy5Nb3pUYWJTaXplKSAhPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gX3N1cHBvcnRzVGFiU2l6ZSB8fCBmYWxzZTtcbn1cbmNvbnN0IHNwZWNpYWxDaGFyQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIGxldCBjb25maWcgPSBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIHJlbmRlcjogbnVsbCxcbiAgICAgICAgICAgIHNwZWNpYWxDaGFyczogU3BlY2lhbHMsXG4gICAgICAgICAgICBhZGRTcGVjaWFsQ2hhcnM6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb25maWcucmVwbGFjZVRhYnMgPSAhc3VwcG9ydHNUYWJTaXplKCkpXG4gICAgICAgICAgICBjb25maWcuc3BlY2lhbENoYXJzID0gbmV3IFJlZ0V4cChcIlxcdHxcIiArIGNvbmZpZy5zcGVjaWFsQ2hhcnMuc291cmNlLCBVbmljb2RlUmVnZXhwU3VwcG9ydCk7XG4gICAgICAgIGlmIChjb25maWcuYWRkU3BlY2lhbENoYXJzKVxuICAgICAgICAgICAgY29uZmlnLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAoY29uZmlnLnNwZWNpYWxDaGFycy5zb3VyY2UgKyBcInxcIiArIGNvbmZpZy5hZGRTcGVjaWFsQ2hhcnMuc291cmNlLCBVbmljb2RlUmVnZXhwU3VwcG9ydCk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgaW5zdGFsbHMgaGlnaGxpZ2h0aW5nIG9mIHNwZWNpYWxcbmNoYXJhY3RlcnMuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0U3BlY2lhbENoYXJzKFxuLyoqXG5Db25maWd1cmF0aW9uIG9wdGlvbnMuXG4qL1xuY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW3NwZWNpYWxDaGFyQ29uZmlnLm9mKGNvbmZpZyksIHNwZWNpYWxDaGFyUGx1Z2luKCldO1xufVxubGV0IF9wbHVnaW4gPSBudWxsO1xuZnVuY3Rpb24gc3BlY2lhbENoYXJQbHVnaW4oKSB7XG4gICAgcmV0dXJuIF9wbHVnaW4gfHwgKF9wbHVnaW4gPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9uQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0b3IgPSB0aGlzLm1ha2VEZWNvcmF0b3Iodmlldy5zdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZykpO1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZGVjb3JhdG9yLmNyZWF0ZURlY28odmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgbWFrZURlY29yYXRvcihjb25mKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdGNoRGVjb3JhdG9yKHtcbiAgICAgICAgICAgICAgICByZWdleHA6IGNvbmYuc3BlY2lhbENoYXJzLFxuICAgICAgICAgICAgICAgIGRlY29yYXRpb246IChtLCB2aWV3LCBwb3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHsgZG9jIH0gPSB2aWV3LnN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29kZSA9IGNvZGVQb2ludEF0KG1bMF0sIDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaXplID0gdmlldy5zdGF0ZS50YWJTaXplLCBjb2wgPSBjb3VudENvbHVtbihsaW5lLnRleHQsIHNpemUsIHBvcyAtIGxpbmUuZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5yZXBsYWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQ6IG5ldyBUYWJXaWRnZXQoKHNpemUgLSAoY29sICUgc2l6ZSkpICogdGhpcy52aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCAvIHRoaXMudmlldy5zY2FsZVgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvcmF0aW9uQ2FjaGVbY29kZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmRlY29yYXRpb25DYWNoZVtjb2RlXSA9IERlY29yYXRpb24ucmVwbGFjZSh7IHdpZGdldDogbmV3IFNwZWNpYWxDaGFyV2lkZ2V0KGNvbmYsIGNvZGUpIH0pKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiBjb25mLnJlcGxhY2VUYWJzID8gdW5kZWZpbmVkIDogL1teXS9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KHNwZWNpYWxDaGFyQ29uZmlnKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZykgIT0gY29uZikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKGNvbmYpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci51cGRhdGVEZWNvKHVwZGF0ZSwgdGhpcy5kZWNvcmF0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnNcbiAgICB9KSk7XG59XG5jb25zdCBEZWZhdWx0UGxhY2Vob2xkZXIgPSBcIlxcdTIwMjJcIjtcbi8vIEFzc2lnbnMgcGxhY2Vob2xkZXIgY2hhcmFjdGVycyBmcm9tIHRoZSBDb250cm9sIFBpY3R1cmVzIGJsb2NrIHRvXG4vLyBBU0NJSSBjb250cm9sIGNoYXJhY3RlcnNcbmZ1bmN0aW9uIHBsYWNlaG9sZGVyJDEoY29kZSkge1xuICAgIGlmIChjb2RlID49IDMyKVxuICAgICAgICByZXR1cm4gRGVmYXVsdFBsYWNlaG9sZGVyO1xuICAgIGlmIChjb2RlID09IDEwKVxuICAgICAgICByZXR1cm4gXCJcXHUyNDI0XCI7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTIxNiArIGNvZGUpO1xufVxuY2xhc3MgU3BlY2lhbENoYXJXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjb2RlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci5jb2RlID09IHRoaXMuY29kZTsgfVxuICAgIHRvRE9NKHZpZXcpIHtcbiAgICAgICAgbGV0IHBoID0gcGxhY2Vob2xkZXIkMSh0aGlzLmNvZGUpO1xuICAgICAgICBsZXQgZGVzYyA9IHZpZXcuc3RhdGUucGhyYXNlKFwiQ29udHJvbCBjaGFyYWN0ZXJcIikgKyBcIiBcIiArIChOYW1lc1t0aGlzLmNvZGVdIHx8IFwiMHhcIiArIHRoaXMuY29kZS50b1N0cmluZygxNikpO1xuICAgICAgICBsZXQgY3VzdG9tID0gdGhpcy5vcHRpb25zLnJlbmRlciAmJiB0aGlzLm9wdGlvbnMucmVuZGVyKHRoaXMuY29kZSwgZGVzYywgcGgpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHBoO1xuICAgICAgICBzcGFuLnRpdGxlID0gZGVzYztcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGRlc2MpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tc3BlY2lhbENoYXJcIjtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxuICAgIGlnbm9yZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmNsYXNzIFRhYldpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLndpZHRoID09IHRoaXMud2lkdGg7IH1cbiAgICB0b0RPTSgpIHtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IFwiXFx0XCI7XG4gICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJjbS10YWJcIjtcbiAgICAgICAgc3Bhbi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyBcInB4XCI7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5cbmNvbnN0IHBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMTAwMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHsgc3R5bGU6IFwicGFkZGluZy1ib3R0b206IDEwMDBweFwiIH07XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdXBkYXRlO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdmlldy52aWV3U3RhdGUuZWRpdG9ySGVpZ2h0IC1cbiAgICAgICAgICAgIHZpZXcuZGVmYXVsdExpbmVIZWlnaHQgLSB2aWV3LmRvY3VtZW50UGFkZGluZy50b3AgLSAwLjU7XG4gICAgICAgIGlmIChoZWlnaHQgPj0gMCAmJiBoZWlnaHQgIT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5hdHRycyA9IHsgc3R5bGU6IGBwYWRkaW5nLWJvdHRvbTogJHtoZWlnaHR9cHhgIH07XG4gICAgICAgIH1cbiAgICB9XG59KTtcbi8qKlxuUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBtYWtlcyBzdXJlIHRoZSBjb250ZW50IGhhcyBhIGJvdHRvbVxubWFyZ2luIGVxdWl2YWxlbnQgdG8gdGhlIGhlaWdodCBvZiB0aGUgZWRpdG9yLCBtaW51cyBvbmUgbGluZVxuaGVpZ2h0LCBzbyB0aGF0IGV2ZXJ5IGxpbmUgaW4gdGhlIGRvY3VtZW50IGNhbiBiZSBzY3JvbGxlZCB0byB0aGVcbnRvcCBvZiB0aGUgZWRpdG9yLlxuXG5UaGlzIGlzIG9ubHkgbWVhbmluZ2Z1bCB3aGVuIHRoZSBlZGl0b3IgaXMgc2Nyb2xsYWJsZSwgYW5kIHNob3VsZFxubm90IGJlIGVuYWJsZWQgaW4gZWRpdG9ycyB0aGF0IHRha2UgdGhlIHNpemUgb2YgdGhlaXIgY29udGVudC5cbiovXG5mdW5jdGlvbiBzY3JvbGxQYXN0RW5kKCkge1xuICAgIHJldHVybiBbcGx1Z2luLCBjb250ZW50QXR0cmlidXRlcy5vZih2aWV3ID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IHZpZXcucGx1Z2luKHBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hdHRycykgfHwgbnVsbDsgfSldO1xufVxuXG4vKipcbk1hcmsgbGluZXMgdGhhdCBoYXZlIGEgY3Vyc29yIG9uIHRoZW0gd2l0aCB0aGUgYFwiY20tYWN0aXZlTGluZVwiYFxuRE9NIGNsYXNzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodEFjdGl2ZUxpbmUoKSB7XG4gICAgcmV0dXJuIGFjdGl2ZUxpbmVIaWdobGlnaHRlcjtcbn1cbmNvbnN0IGxpbmVEZWNvID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubGluZSh7IGNsYXNzOiBcImNtLWFjdGl2ZUxpbmVcIiB9KTtcbmNvbnN0IGFjdGl2ZUxpbmVIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5nZXREZWNvKHZpZXcpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuc2VsZWN0aW9uU2V0KVxuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZ2V0RGVjbyh1cGRhdGUudmlldyk7XG4gICAgfVxuICAgIGdldERlY28odmlldykge1xuICAgICAgICBsZXQgbGFzdExpbmVTdGFydCA9IC0xLCBkZWNvID0gW107XG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQoci5oZWFkKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmZyb20gPiBsYXN0TGluZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgZGVjby5wdXNoKGxpbmVEZWNvLnJhbmdlKGxpbmUuZnJvbSkpO1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lU3RhcnQgPSBsaW5lLmZyb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KGRlY28pO1xuICAgIH1cbn0sIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KTtcblxuY2xhc3MgUGxhY2Vob2xkZXIgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIHRvRE9NKHZpZXcpIHtcbiAgICAgICAgbGV0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgd3JhcC5jbGFzc05hbWUgPSBcImNtLXBsYWNlaG9sZGVyXCI7XG4gICAgICAgIHdyYXAuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuY29udGVudCkgOlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuY29udGVudCA9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNvbnRlbnQodmlldykgOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICB3cmFwLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXA7XG4gICAgfVxuICAgIGNvb3Jkc0F0KGRvbSkge1xuICAgICAgICBsZXQgcmVjdHMgPSBkb20uZmlyc3RDaGlsZCA/IGNsaWVudFJlY3RzRm9yKGRvbS5maXJzdENoaWxkKSA6IFtdO1xuICAgICAgICBpZiAoIXJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb20ucGFyZW50Tm9kZSk7XG4gICAgICAgIGxldCByZWN0ID0gZmxhdHRlblJlY3QocmVjdHNbMF0sIHN0eWxlLmRpcmVjdGlvbiAhPSBcInJ0bFwiKTtcbiAgICAgICAgbGV0IGxpbmVIZWlnaHQgPSBwYXJzZUludChzdHlsZS5saW5lSGVpZ2h0KTtcbiAgICAgICAgaWYgKHJlY3QuYm90dG9tIC0gcmVjdC50b3AgPiBsaW5lSGVpZ2h0ICogMS41KVxuICAgICAgICAgICAgcmV0dXJuIHsgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LnRvcCArIGxpbmVIZWlnaHQgfTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfVxuICAgIGlnbm9yZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbi8qKlxuRXh0ZW5zaW9uIHRoYXQgZW5hYmxlcyBhIHBsYWNlaG9sZGVy4oCUYSBwaWVjZSBvZiBleGFtcGxlIGNvbnRlbnRcbnRvIHNob3cgd2hlbiB0aGUgZWRpdG9yIGlzIGVtcHR5LlxuKi9cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyKGNvbnRlbnQpIHtcbiAgICBsZXQgcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IGNvbnRlbnRcbiAgICAgICAgICAgICAgICA/IERlY29yYXRpb24uc2V0KFtEZWNvcmF0aW9uLndpZGdldCh7IHdpZGdldDogbmV3IFBsYWNlaG9sZGVyKGNvbnRlbnQpLCBzaWRlOiAxIH0pLnJhbmdlKDApXSlcbiAgICAgICAgICAgICAgICA6IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgZGVjb3JhdGlvbnMoKSB7IHJldHVybiB0aGlzLnZpZXcuc3RhdGUuZG9jLmxlbmd0aCA/IERlY29yYXRpb24ubm9uZSA6IHRoaXMucGxhY2Vob2xkZXI7IH1cbiAgICB9LCB7IGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnMgfSk7XG4gICAgcmV0dXJuIHR5cGVvZiBjb250ZW50ID09IFwic3RyaW5nXCIgPyBbXG4gICAgICAgIHBsdWdpbiwgRWRpdG9yVmlldy5jb250ZW50QXR0cmlidXRlcy5vZih7IFwiYXJpYS1wbGFjZWhvbGRlclwiOiBjb250ZW50IH0pXG4gICAgXSA6IHBsdWdpbjtcbn1cblxuLy8gRG9uJ3QgY29tcHV0ZSBwcmVjaXNlIGNvbHVtbiBwb3NpdGlvbnMgZm9yIGxpbmUgb2Zmc2V0cyBhYm92ZSB0aGlzXG4vLyAoc2luY2UgaXQgY291bGQgZ2V0IGV4cGVuc2l2ZSkuIEFzc3VtZSBvZmZzZXQ9PWNvbHVtbiBmb3IgdGhlbS5cbmNvbnN0IE1heE9mZiA9IDIwMDA7XG5mdW5jdGlvbiByZWN0YW5nbGVGb3Ioc3RhdGUsIGEsIGIpIHtcbiAgICBsZXQgc3RhcnRMaW5lID0gTWF0aC5taW4oYS5saW5lLCBiLmxpbmUpLCBlbmRMaW5lID0gTWF0aC5tYXgoYS5saW5lLCBiLmxpbmUpO1xuICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICBpZiAoYS5vZmYgPiBNYXhPZmYgfHwgYi5vZmYgPiBNYXhPZmYgfHwgYS5jb2wgPCAwIHx8IGIuY29sIDwgMCkge1xuICAgICAgICBsZXQgc3RhcnRPZmYgPSBNYXRoLm1pbihhLm9mZiwgYi5vZmYpLCBlbmRPZmYgPSBNYXRoLm1heChhLm9mZiwgYi5vZmYpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShpKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA8PSBlbmRPZmYpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGxpbmUuZnJvbSArIHN0YXJ0T2ZmLCBsaW5lLnRvICsgZW5kT2ZmKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBzdGFydENvbCA9IE1hdGgubWluKGEuY29sLCBiLmNvbCksIGVuZENvbCA9IE1hdGgubWF4KGEuY29sLCBiLmNvbCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmU7IGkgPD0gZW5kTGluZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lKGkpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gZmluZENvbHVtbihsaW5lLnRleHQsIHN0YXJ0Q29sLCBzdGF0ZS50YWJTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGxpbmUudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBlbmQgPSBmaW5kQ29sdW1uKGxpbmUudGV4dCwgZW5kQ29sLCBzdGF0ZS50YWJTaXplKTtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24ucmFuZ2UobGluZS5mcm9tICsgc3RhcnQsIGxpbmUuZnJvbSArIGVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59XG5mdW5jdGlvbiBhYnNvbHV0ZUNvbHVtbih2aWV3LCB4KSB7XG4gICAgbGV0IHJlZiA9IHZpZXcuY29vcmRzQXRQb3Modmlldy52aWV3cG9ydC5mcm9tKTtcbiAgICByZXR1cm4gcmVmID8gTWF0aC5yb3VuZChNYXRoLmFicygocmVmLmxlZnQgLSB4KSAvIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKSkgOiAtMTtcbn1cbmZ1bmN0aW9uIGdldFBvcyh2aWV3LCBldmVudCkge1xuICAgIGxldCBvZmZzZXQgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBmYWxzZSk7XG4gICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQob2Zmc2V0KSwgb2ZmID0gb2Zmc2V0IC0gbGluZS5mcm9tO1xuICAgIGxldCBjb2wgPSBvZmYgPiBNYXhPZmYgPyAtMVxuICAgICAgICA6IG9mZiA9PSBsaW5lLmxlbmd0aCA/IGFic29sdXRlQ29sdW1uKHZpZXcsIGV2ZW50LmNsaWVudFgpXG4gICAgICAgICAgICA6IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgdmlldy5zdGF0ZS50YWJTaXplLCBvZmZzZXQgLSBsaW5lLmZyb20pO1xuICAgIHJldHVybiB7IGxpbmU6IGxpbmUubnVtYmVyLCBjb2wsIG9mZiB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSBnZXRQb3ModmlldywgZXZlbnQpLCBzdGFydFNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmICghc3RhcnQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdTdGFydCA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZShzdGFydC5saW5lKS5mcm9tKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TGluZSA9IHVwZGF0ZS5zdGF0ZS5kb2MubGluZUF0KG5ld1N0YXJ0KTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHsgbGluZTogbmV3TGluZS5udW1iZXIsIGNvbDogc3RhcnQuY29sLCBvZmY6IE1hdGgubWluKHN0YXJ0Lm9mZiwgbmV3TGluZS5sZW5ndGgpIH07XG4gICAgICAgICAgICAgICAgc3RhcnRTZWwgPSBzdGFydFNlbC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoZXZlbnQsIF9leHRlbmQsIG11bHRpcGxlKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gZ2V0UG9zKHZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghY3VyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbDtcbiAgICAgICAgICAgIGxldCByYW5nZXMgPSByZWN0YW5nbGVGb3Iodmlldy5zdGF0ZSwgc3RhcnQsIGN1cik7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsO1xuICAgICAgICAgICAgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcy5jb25jYXQoc3RhcnRTZWwucmFuZ2VzKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIHJlY3Rhbmd1bGFyIHNlbGVjdGlvbnMuIEJ5XG5kZWZhdWx0LCBpdCB3aWxsIHJlYWN0IHRvIGxlZnQgbW91c2UgZHJhZyB3aXRoIHRoZSBBbHQga2V5IGhlbGRcbmRvd24uIFdoZW4gc3VjaCBhIHNlbGVjdGlvbiBvY2N1cnMsIHRoZSB0ZXh0IHdpdGhpbiB0aGUgcmVjdGFuZ2xlXG50aGF0IHdhcyBkcmFnZ2VkIG92ZXIgd2lsbCBiZSBzZWxlY3RlZCwgYXMgb25lIHNlbGVjdGlvblxuW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNlbGVjdGlvblJhbmdlKSBwZXIgbGluZS5cbiovXG5mdW5jdGlvbiByZWN0YW5ndWxhclNlbGVjdGlvbihvcHRpb25zKSB7XG4gICAgbGV0IGZpbHRlciA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZXZlbnRGaWx0ZXIpIHx8IChlID0+IGUuYWx0S2V5ICYmIGUuYnV0dG9uID09IDApO1xuICAgIHJldHVybiBFZGl0b3JWaWV3Lm1vdXNlU2VsZWN0aW9uU3R5bGUub2YoKHZpZXcsIGV2ZW50KSA9PiBmaWx0ZXIoZXZlbnQpID8gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIDogbnVsbCk7XG59XG5jb25zdCBrZXlzID0ge1xuICAgIEFsdDogWzE4LCBlID0+ICEhZS5hbHRLZXldLFxuICAgIENvbnRyb2w6IFsxNywgZSA9PiAhIWUuY3RybEtleV0sXG4gICAgU2hpZnQ6IFsxNiwgZSA9PiAhIWUuc2hpZnRLZXldLFxuICAgIE1ldGE6IFs5MSwgZSA9PiAhIWUubWV0YUtleV1cbn07XG5jb25zdCBzaG93Q3Jvc3NoYWlyID0geyBzdHlsZTogXCJjdXJzb3I6IGNyb3NzaGFpclwiIH07XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgdHVybnMgdGhlIHBvaW50ZXIgY3Vyc29yIGludG8gYVxuY3Jvc3NoYWlyIHdoZW4gYSBnaXZlbiBtb2RpZmllciBrZXksIGRlZmF1bHRpbmcgdG8gQWx0LCBpcyBoZWxkXG5kb3duLiBDYW4gc2VydmUgYXMgYSB2aXN1YWwgaGludCB0aGF0IHJlY3Rhbmd1bGFyIHNlbGVjdGlvbiBpc1xuZ29pbmcgdG8gaGFwcGVuIHdoZW4gcGFpcmVkIHdpdGhcbltgcmVjdGFuZ3VsYXJTZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcucmVjdGFuZ3VsYXJTZWxlY3Rpb24pLlxuKi9cbmZ1bmN0aW9uIGNyb3NzaGFpckN1cnNvcihvcHRpb25zID0ge30pIHtcbiAgICBsZXQgW2NvZGUsIGdldHRlcl0gPSBrZXlzW29wdGlvbnMua2V5IHx8IFwiQWx0XCJdO1xuICAgIGxldCBwbHVnaW4gPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgICAgICB0aGlzLmlzRG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNldChpc0Rvd24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRG93biAhPSBpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRG93biA9IGlzRG93bjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgZXZlbnRPYnNlcnZlcnM6IHtcbiAgICAgICAgICAgIGtleWRvd24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGUua2V5Q29kZSA9PSBjb2RlIHx8IGdldHRlcihlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5dXAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gY29kZSB8fCAhZ2V0dGVyKGUpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChnZXR0ZXIoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcGx1Z2luLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLm9mKHZpZXcgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGx1Z2luKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRG93bikgPyBzaG93Q3Jvc3NoYWlyIDogbnVsbDsgfSlcbiAgICBdO1xufVxuXG5jb25zdCBPdXRzaWRlID0gXCItMTAwMDBweFwiO1xuY2xhc3MgVG9vbHRpcFZpZXdNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBmYWNldCwgY3JlYXRlVG9vbHRpcFZpZXcsIHJlbW92ZVRvb2x0aXBWaWV3KSB7XG4gICAgICAgIHRoaXMuZmFjZXQgPSBmYWNldDtcbiAgICAgICAgdGhpcy5jcmVhdGVUb29sdGlwVmlldyA9IGNyZWF0ZVRvb2x0aXBWaWV3O1xuICAgICAgICB0aGlzLnJlbW92ZVRvb2x0aXBWaWV3ID0gcmVtb3ZlVG9vbHRpcFZpZXc7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB2aWV3LnN0YXRlLmZhY2V0KGZhY2V0KTtcbiAgICAgICAgdGhpcy50b29sdGlwcyA9IHRoaXMuaW5wdXQuZmlsdGVyKHQgPT4gdCk7XG4gICAgICAgIGxldCBwcmV2ID0gbnVsbDtcbiAgICAgICAgdGhpcy50b29sdGlwVmlld3MgPSB0aGlzLnRvb2x0aXBzLm1hcCh0ID0+IHByZXYgPSBjcmVhdGVUb29sdGlwVmlldyh0LCBwcmV2KSk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUsIGFib3ZlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGlucHV0ID0gdXBkYXRlLnN0YXRlLmZhY2V0KHRoaXMuZmFjZXQpO1xuICAgICAgICBsZXQgdG9vbHRpcHMgPSBpbnB1dC5maWx0ZXIoeCA9PiB4KTtcbiAgICAgICAgaWYgKGlucHV0ID09PSB0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIGlmICh0LnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9vbHRpcFZpZXdzID0gW10sIG5ld0Fib3ZlID0gYWJvdmUgPyBbXSA6IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbHRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aXAgPSB0b29sdGlwc1tpXSwga25vd24gPSAtMTtcbiAgICAgICAgICAgIGlmICghdGlwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG90aGVyID0gdGhpcy50b29sdGlwc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgJiYgb3RoZXIuY3JlYXRlID09IHRpcC5jcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIGtub3duID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwVmlld3NbaV0gPSB0aGlzLmNyZWF0ZVRvb2x0aXBWaWV3KHRpcCwgaSA/IHRvb2x0aXBWaWV3c1tpIC0gMV0gOiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3QWJvdmUpXG4gICAgICAgICAgICAgICAgICAgIG5ld0Fib3ZlW2ldID0gISF0aXAuYWJvdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcFZpZXcgPSB0b29sdGlwVmlld3NbaV0gPSB0aGlzLnRvb2x0aXBWaWV3c1trbm93bl07XG4gICAgICAgICAgICAgICAgaWYgKG5ld0Fib3ZlKVxuICAgICAgICAgICAgICAgICAgICBuZXdBYm92ZVtpXSA9IGFib3ZlW2tub3duXTtcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcFZpZXcudXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVmlldy51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgaWYgKHRvb2x0aXBWaWV3cy5pbmRleE9mKHQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9vbHRpcFZpZXcodCk7XG4gICAgICAgICAgICAgICAgKF9hID0gdC5kZXN0cm95KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgaWYgKGFib3ZlKSB7XG4gICAgICAgICAgICBuZXdBYm92ZS5mb3JFYWNoKCh2YWwsIGkpID0+IGFib3ZlW2ldID0gdmFsKTtcbiAgICAgICAgICAgIGFib3ZlLmxlbmd0aCA9IG5ld0Fib3ZlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMudG9vbHRpcHMgPSB0b29sdGlwcztcbiAgICAgICAgdGhpcy50b29sdGlwVmlld3MgPSB0b29sdGlwVmlld3M7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlcyBhbiBleHRlbnNpb24gdGhhdCBjb25maWd1cmVzIHRvb2x0aXAgYmVoYXZpb3IuXG4qL1xuZnVuY3Rpb24gdG9vbHRpcHMoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gdG9vbHRpcENvbmZpZy5vZihjb25maWcpO1xufVxuZnVuY3Rpb24gd2luZG93U3BhY2Uodmlldykge1xuICAgIGxldCBkb2NFbHQgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogZG9jRWx0LmNsaWVudEhlaWdodCwgcmlnaHQ6IGRvY0VsdC5jbGllbnRXaWR0aCB9O1xufVxuY29uc3QgdG9vbHRpcENvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBicm93c2VyLmlvcyA/IFwiYWJzb2x1dGVcIiA6ICgoX2EgPSB2YWx1ZXMuZmluZChjb25mID0+IGNvbmYucG9zaXRpb24pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9zaXRpb24pIHx8IFwiZml4ZWRcIixcbiAgICAgICAgICAgIHBhcmVudDogKChfYiA9IHZhbHVlcy5maW5kKGNvbmYgPT4gY29uZi5wYXJlbnQpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGFyZW50KSB8fCBudWxsLFxuICAgICAgICAgICAgdG9vbHRpcFNwYWNlOiAoKF9jID0gdmFsdWVzLmZpbmQoY29uZiA9PiBjb25mLnRvb2x0aXBTcGFjZSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b29sdGlwU3BhY2UpIHx8IHdpbmRvd1NwYWNlLFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmNvbnN0IGtub3duSGVpZ2h0ID0gLypAX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG5jb25zdCB0b29sdGlwUGx1Z2luID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuYWJvdmUgPSBbXTtcbiAgICAgICAgdGhpcy5pblZpZXcgPSB0cnVlO1xuICAgICAgICB0aGlzLm1hZGVBYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbiA9IDA7XG4gICAgICAgIHRoaXMubWVhc3VyZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHZpZXcuc3RhdGUuZmFjZXQodG9vbHRpcENvbmZpZyk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBjb25maWcucG9zaXRpb247XG4gICAgICAgIHRoaXMucGFyZW50ID0gY29uZmlnLnBhcmVudDtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gdmlldy50aGVtZUNsYXNzZXM7XG4gICAgICAgIHRoaXMuY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMubWVhc3VyZVJlcSA9IHsgcmVhZDogdGhpcy5yZWFkTWVhc3VyZS5iaW5kKHRoaXMpLCB3cml0ZTogdGhpcy53cml0ZU1lYXN1cmUuYmluZCh0aGlzKSwga2V5OiB0aGlzIH07XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiID8gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHRoaXMubWVhc3VyZVNvb24oKSkgOiBudWxsO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dUb29sdGlwLCAodCwgcCkgPT4gdGhpcy5jcmVhdGVUb29sdGlwKHQsIHApLCB0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKVxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHQuZG9tKTtcbiAgICAgICAgICAgIHQuZG9tLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hYm92ZSA9IHRoaXMubWFuYWdlci50b29sdGlwcy5tYXAodCA9PiAhIXQuYWJvdmUpO1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09IFwiZnVuY3Rpb25cIiA/IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpID4gdGhpcy5sYXN0VHJhbnNhY3Rpb24gLSA1MCAmJlxuICAgICAgICAgICAgICAgIGVudHJpZXMubGVuZ3RoID4gMCAmJiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV0uaW50ZXJzZWN0aW9uUmF0aW8gPCAxKVxuICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZVNvb24oKTtcbiAgICAgICAgfSwgeyB0aHJlc2hvbGQ6IFsxXSB9KSA6IG51bGw7XG4gICAgICAgIHRoaXMub2JzZXJ2ZUludGVyc2VjdGlvbigpO1xuICAgICAgICB2aWV3Lndpbi5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMubWVhc3VyZVNvb24gPSB0aGlzLm1lYXN1cmVTb29uLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLm1heWJlTWVhc3VyZSgpO1xuICAgIH1cbiAgICBjcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLnZpZXcuZG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9ic2VydmVJbnRlcnNlY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHRvb2x0aXAgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodG9vbHRpcC5kb20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1lYXN1cmVTb29uKCkge1xuICAgICAgICBpZiAodGhpcy5tZWFzdXJlVGltZW91dCA8IDApXG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlVGltZW91dCA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb24gPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgdXBkYXRlZCA9IHRoaXMubWFuYWdlci51cGRhdGUodXBkYXRlLCB0aGlzLmFib3ZlKTtcbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVJbnRlcnNlY3Rpb24oKTtcbiAgICAgICAgbGV0IHNob3VsZE1lYXN1cmUgPSB1cGRhdGVkIHx8IHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQ7XG4gICAgICAgIGxldCBuZXdDb25maWcgPSB1cGRhdGUuc3RhdGUuZmFjZXQodG9vbHRpcENvbmZpZyk7XG4gICAgICAgIGlmIChuZXdDb25maWcucG9zaXRpb24gIT0gdGhpcy5wb3NpdGlvbiAmJiAhdGhpcy5tYWRlQWJzb2x1dGUpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXdDb25maWcucG9zaXRpb247XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpXG4gICAgICAgICAgICAgICAgdC5kb20uc3R5bGUucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICAgICAgc2hvdWxkTWVhc3VyZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0NvbmZpZy5wYXJlbnQgIT0gdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbmV3Q29uZmlnLnBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodC5kb20pO1xuICAgICAgICAgICAgc2hvdWxkTWVhc3VyZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy52aWV3LnRoZW1lQ2xhc3NlcyAhPSB0aGlzLmNsYXNzZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NlcyA9IHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IHRoaXMudmlldy50aGVtZUNsYXNzZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZE1lYXN1cmUpXG4gICAgICAgICAgICB0aGlzLm1heWJlTWVhc3VyZSgpO1xuICAgIH1cbiAgICBjcmVhdGVUb29sdGlwKHRvb2x0aXAsIHByZXYpIHtcbiAgICAgICAgbGV0IHRvb2x0aXBWaWV3ID0gdG9vbHRpcC5jcmVhdGUodGhpcy52aWV3KTtcbiAgICAgICAgbGV0IGJlZm9yZSA9IHByZXYgPyBwcmV2LmRvbSA6IG51bGw7XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tdG9vbHRpcFwiKTtcbiAgICAgICAgaWYgKHRvb2x0aXAuYXJyb3cgJiYgIXRvb2x0aXBWaWV3LmRvbS5xdWVyeVNlbGVjdG9yKFwiLmNtLXRvb2x0aXAgPiAuY20tdG9vbHRpcC1hcnJvd1wiKSkge1xuICAgICAgICAgICAgbGV0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGFycm93LmNsYXNzTmFtZSA9IFwiY20tdG9vbHRpcC1hcnJvd1wiO1xuICAgICAgICAgICAgdG9vbHRpcFZpZXcuZG9tLmFwcGVuZENoaWxkKGFycm93KTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwVmlldy5kb20uc3R5bGUucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0b29sdGlwVmlldy5kb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgdG9vbHRpcFZpZXcuZG9tLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodG9vbHRpcFZpZXcuZG9tLCBiZWZvcmUpO1xuICAgICAgICBpZiAodG9vbHRpcFZpZXcubW91bnQpXG4gICAgICAgICAgICB0b29sdGlwVmlldy5tb3VudCh0aGlzLnZpZXcpO1xuICAgICAgICBpZiAodGhpcy5yZXNpemVPYnNlcnZlcilcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwVmlldy5kb20pO1xuICAgICAgICByZXR1cm4gdG9vbHRpcFZpZXc7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLnZpZXcud2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbik7XG4gICAgICAgIGZvciAobGV0IHRvb2x0aXBWaWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3LmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIChfYSA9IHRvb2x0aXBWaWV3LmRlc3Ryb3kpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRvb2x0aXBWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgKF9iID0gdGhpcy5yZXNpemVPYnNlcnZlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgKF9jID0gdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWVhc3VyZVRpbWVvdXQpO1xuICAgIH1cbiAgICByZWFkTWVhc3VyZSgpIHtcbiAgICAgICAgbGV0IHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIG1ha2VBYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PSBcImZpeGVkXCIgJiYgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IGRvbSB9ID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3c1swXTtcbiAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBzZXRzIHRoZSBlbGVtZW50J3MgYG9mZnNldFBhcmVudGAgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmb3JtZWQgZWxlbWVudCB3aGVuIGEgdHJhbnNmb3JtIGludGVyZmVyZXMgd2l0aCBmaXhlZFxuICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uaW5nLlxuICAgICAgICAgICAgICAgIG1ha2VBYnNvbHV0ZSA9IGRvbS5vZmZzZXRQYXJlbnQgIT0gdGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tLnN0eWxlLnRvcCA9PSBPdXRzaWRlICYmIGRvbS5zdHlsZS5sZWZ0ID09IFwiMHB4XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBvdGhlciBicm93c2Vycywgd2UgaGF2ZSB0byBhd2t3YXJkbHkgdHJ5IGFuZCB1c2Ugb3RoZXJcbiAgICAgICAgICAgICAgICAvLyBpbmZvcm1hdGlvbiB0byBkZXRlY3QgYSB0cmFuc2Zvcm0uXG4gICAgICAgICAgICAgICAgbGV0IHJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbWFrZUFic29sdXRlID0gTWF0aC5hYnMocmVjdC50b3AgKyAxMDAwMCkgPiAxIHx8IE1hdGguYWJzKHJlY3QubGVmdCkgPiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYWtlQWJzb2x1dGUgfHwgdGhpcy5wb3NpdGlvbiA9PSBcImFic29sdXRlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5wYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVYID0gcmVjdC53aWR0aCAvIHRoaXMucGFyZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzY2FsZVkgPSByZWN0LmhlaWdodCAvIHRoaXMucGFyZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoeyBzY2FsZVgsIHNjYWxlWSB9ID0gdGhpcy52aWV3LnZpZXdTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZpc2libGUgPSB0aGlzLnZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBtYXJnaW5zID0gZ2V0U2Nyb2xsTWFyZ2lucyh0aGlzLnZpZXcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmlzaWJsZToge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHZpc2libGUubGVmdCArIG1hcmdpbnMubGVmdCwgdG9wOiB2aXNpYmxlLnRvcCArIG1hcmdpbnMudG9wLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiB2aXNpYmxlLnJpZ2h0IC0gbWFyZ2lucy5yaWdodCwgYm90dG9tOiB2aXNpYmxlLmJvdHRvbSAtIG1hcmdpbnMuYm90dG9tXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLnBhcmVudCA/IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogdGhpcy52aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIHBvczogdGhpcy5tYW5hZ2VyLnRvb2x0aXBzLm1hcCgodCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0diA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2LmdldENvb3JkcyA/IHR2LmdldENvb3Jkcyh0LnBvcykgOiB0aGlzLnZpZXcuY29vcmRzQXRQb3ModC5wb3MpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzaXplOiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzLm1hcCgoeyBkb20gfSkgPT4gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgICAgICAgIHNwYWNlOiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQodG9vbHRpcENvbmZpZykudG9vbHRpcFNwYWNlKHRoaXMudmlldyksXG4gICAgICAgICAgICBzY2FsZVgsIHNjYWxlWSwgbWFrZUFic29sdXRlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHdyaXRlTWVhc3VyZShtZWFzdXJlZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChtZWFzdXJlZC5tYWtlQWJzb2x1dGUpIHtcbiAgICAgICAgICAgIHRoaXMubWFkZUFic29sdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpXG4gICAgICAgICAgICAgICAgdC5kb20uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgdmlzaWJsZSwgc3BhY2UsIHNjYWxlWCwgc2NhbGVZIH0gPSBtZWFzdXJlZDtcbiAgICAgICAgbGV0IG90aGVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSB0aGlzLm1hbmFnZXIudG9vbHRpcHNbaV0sIHRWaWV3ID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3c1tpXSwgeyBkb20gfSA9IHRWaWV3O1xuICAgICAgICAgICAgbGV0IHBvcyA9IG1lYXN1cmVkLnBvc1tpXSwgc2l6ZSA9IG1lYXN1cmVkLnNpemVbaV07XG4gICAgICAgICAgICAvLyBIaWRlIHRvb2x0aXBzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIGVkaXRvci5cbiAgICAgICAgICAgIGlmICghcG9zIHx8IHRvb2x0aXAuY2xpcCAhPT0gZmFsc2UgJiYgKHBvcy5ib3R0b20gPD0gTWF0aC5tYXgodmlzaWJsZS50b3AsIHNwYWNlLnRvcCkgfHxcbiAgICAgICAgICAgICAgICBwb3MudG9wID49IE1hdGgubWluKHZpc2libGUuYm90dG9tLCBzcGFjZS5ib3R0b20pIHx8XG4gICAgICAgICAgICAgICAgcG9zLnJpZ2h0IDwgTWF0aC5tYXgodmlzaWJsZS5sZWZ0LCBzcGFjZS5sZWZ0KSAtIC4xIHx8XG4gICAgICAgICAgICAgICAgcG9zLmxlZnQgPiBNYXRoLm1pbih2aXNpYmxlLnJpZ2h0LCBzcGFjZS5yaWdodCkgKyAuMSkpIHtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBhcnJvdyA9IHRvb2x0aXAuYXJyb3cgPyB0Vmlldy5kb20ucXVlcnlTZWxlY3RvcihcIi5jbS10b29sdGlwLWFycm93XCIpIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBhcnJvd0hlaWdodCA9IGFycm93ID8gNyAvKiBBcnJvdy5TaXplICovIDogMDtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHNpemUucmlnaHQgLSBzaXplLmxlZnQsIGhlaWdodCA9IChfYSA9IGtub3duSGVpZ2h0LmdldCh0VmlldykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNpemUuYm90dG9tIC0gc2l6ZS50b3A7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gdFZpZXcub2Zmc2V0IHx8IG5vT2Zmc2V0LCBsdHIgPSB0aGlzLnZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBzaXplLndpZHRoID4gc3BhY2UucmlnaHQgLSBzcGFjZS5sZWZ0XG4gICAgICAgICAgICAgICAgPyAobHRyID8gc3BhY2UubGVmdCA6IHNwYWNlLnJpZ2h0IC0gc2l6ZS53aWR0aClcbiAgICAgICAgICAgICAgICA6IGx0ciA/IE1hdGgubWF4KHNwYWNlLmxlZnQsIE1hdGgubWluKHBvcy5sZWZ0IC0gKGFycm93ID8gMTQgLyogQXJyb3cuT2Zmc2V0ICovIDogMCkgKyBvZmZzZXQueCwgc3BhY2UucmlnaHQgLSB3aWR0aCkpXG4gICAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4oTWF0aC5tYXgoc3BhY2UubGVmdCwgcG9zLmxlZnQgLSB3aWR0aCArIChhcnJvdyA/IDE0IC8qIEFycm93Lk9mZnNldCAqLyA6IDApIC0gb2Zmc2V0LngpLCBzcGFjZS5yaWdodCAtIHdpZHRoKTtcbiAgICAgICAgICAgIGxldCBhYm92ZSA9IHRoaXMuYWJvdmVbaV07XG4gICAgICAgICAgICBpZiAoIXRvb2x0aXAuc3RyaWN0U2lkZSAmJiAoYWJvdmVcbiAgICAgICAgICAgICAgICA/IHBvcy50b3AgLSBoZWlnaHQgLSBhcnJvd0hlaWdodCAtIG9mZnNldC55IDwgc3BhY2UudG9wXG4gICAgICAgICAgICAgICAgOiBwb3MuYm90dG9tICsgaGVpZ2h0ICsgYXJyb3dIZWlnaHQgKyBvZmZzZXQueSA+IHNwYWNlLmJvdHRvbSkgJiZcbiAgICAgICAgICAgICAgICBhYm92ZSA9PSAoc3BhY2UuYm90dG9tIC0gcG9zLmJvdHRvbSA+IHBvcy50b3AgLSBzcGFjZS50b3ApKVxuICAgICAgICAgICAgICAgIGFib3ZlID0gdGhpcy5hYm92ZVtpXSA9ICFhYm92ZTtcbiAgICAgICAgICAgIGxldCBzcGFjZVZlcnQgPSAoYWJvdmUgPyBwb3MudG9wIC0gc3BhY2UudG9wIDogc3BhY2UuYm90dG9tIC0gcG9zLmJvdHRvbSkgLSBhcnJvd0hlaWdodDtcbiAgICAgICAgICAgIGlmIChzcGFjZVZlcnQgPCBoZWlnaHQgJiYgdFZpZXcucmVzaXplICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChzcGFjZVZlcnQgPCB0aGlzLnZpZXcuZGVmYXVsdExpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrbm93bkhlaWdodC5zZXQodFZpZXcsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLmhlaWdodCA9IChoZWlnaHQgPSBzcGFjZVZlcnQpIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tLnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS5oZWlnaHQgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRvcCA9IGFib3ZlID8gcG9zLnRvcCAtIGhlaWdodCAtIGFycm93SGVpZ2h0IC0gb2Zmc2V0LnkgOiBwb3MuYm90dG9tICsgYXJyb3dIZWlnaHQgKyBvZmZzZXQueTtcbiAgICAgICAgICAgIGxldCByaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgICAgICAgICAgIGlmICh0Vmlldy5vdmVybGFwICE9PSB0cnVlKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2Ygb3RoZXJzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoci5sZWZ0IDwgcmlnaHQgJiYgci5yaWdodCA+IGxlZnQgJiYgci50b3AgPCB0b3AgKyBoZWlnaHQgJiYgci5ib3R0b20gPiB0b3ApXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBhYm92ZSA/IHIudG9wIC0gaGVpZ2h0IC0gMiAtIGFycm93SGVpZ2h0IDogci5ib3R0b20gKyBhcnJvd0hlaWdodCArIDI7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PSBcImFic29sdXRlXCIpIHtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUudG9wID0gKHRvcCAtIG1lYXN1cmVkLnBhcmVudC50b3ApIC8gc2NhbGVZICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHNldExlZnRTdHlsZShkb20sIChsZWZ0IC0gbWVhc3VyZWQucGFyZW50LmxlZnQpIC8gc2NhbGVYKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSB0b3AgLyBzY2FsZVkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgc2V0TGVmdFN0eWxlKGRvbSwgbGVmdCAvIHNjYWxlWCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJyb3cpIHtcbiAgICAgICAgICAgICAgICBsZXQgYXJyb3dMZWZ0ID0gcG9zLmxlZnQgKyAobHRyID8gb2Zmc2V0LnggOiAtb2Zmc2V0LngpIC0gKGxlZnQgKyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gLSA3IC8qIEFycm93LlNpemUgKi8pO1xuICAgICAgICAgICAgICAgIGFycm93LnN0eWxlLmxlZnQgPSBhcnJvd0xlZnQgLyBzY2FsZVggKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodFZpZXcub3ZlcmxhcCAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICBvdGhlcnMucHVzaCh7IGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbTogdG9wICsgaGVpZ2h0IH0pO1xuICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUoXCJjbS10b29sdGlwLWFib3ZlXCIsIGFib3ZlKTtcbiAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1iZWxvd1wiLCAhYWJvdmUpO1xuICAgICAgICAgICAgaWYgKHRWaWV3LnBvc2l0aW9uZWQpXG4gICAgICAgICAgICAgICAgdFZpZXcucG9zaXRpb25lZChtZWFzdXJlZC5zcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVNZWFzdXJlKCkge1xuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnRvb2x0aXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldy5pblZpZXcpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pblZpZXcgIT0gdGhpcy52aWV3LmluVmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5WaWV3ID0gdGhpcy52aWV3LmluVmlldztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5WaWV3KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0diBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHYuZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59LCB7XG4gICAgZXZlbnRPYnNlcnZlcnM6IHtcbiAgICAgICAgc2Nyb2xsKCkgeyB0aGlzLm1heWJlTWVhc3VyZSgpOyB9XG4gICAgfVxufSk7XG5mdW5jdGlvbiBzZXRMZWZ0U3R5bGUoZWx0LCB2YWx1ZSkge1xuICAgIGxldCBjdXJyZW50ID0gcGFyc2VJbnQoZWx0LnN0eWxlLmxlZnQsIDEwKTtcbiAgICBpZiAoaXNOYU4oY3VycmVudCkgfHwgTWF0aC5hYnModmFsdWUgLSBjdXJyZW50KSA+IDEpXG4gICAgICAgIGVsdC5zdHlsZS5sZWZ0ID0gdmFsdWUgKyBcInB4XCI7XG59XG5jb25zdCBiYXNlVGhlbWUgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiLmNtLXRvb2x0aXBcIjoge1xuICAgICAgICB6SW5kZXg6IDUwMCxcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRvb2x0aXBcIjoge1xuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNiYmJcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRvb2x0aXAtc2VjdGlvbjpub3QoOmZpcnN0LWNoaWxkKVwiOiB7XG4gICAgICAgIGJvcmRlclRvcDogXCIxcHggc29saWQgI2JiYlwiLFxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdG9vbHRpcFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCJcbiAgICB9LFxuICAgIFwiLmNtLXRvb2x0aXAtYXJyb3dcIjoge1xuICAgICAgICBoZWlnaHQ6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weGAsXG4gICAgICAgIHdpZHRoOiBgJHs3IC8qIEFycm93LlNpemUgKi8gKiAyfXB4YCxcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgekluZGV4OiAtMSxcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIFwiJjpiZWZvcmUsICY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgY29udGVudDogXCInJ1wiLFxuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgYm9yZGVyTGVmdDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkIHRyYW5zcGFyZW50YCxcbiAgICAgICAgICAgIGJvcmRlclJpZ2h0OiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgdHJhbnNwYXJlbnRgLFxuICAgICAgICB9LFxuICAgICAgICBcIi5jbS10b29sdGlwLWFib3ZlICZcIjoge1xuICAgICAgICAgICAgYm90dG9tOiBgLSR7NyAvKiBBcnJvdy5TaXplICovfXB4YCxcbiAgICAgICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlclRvcDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNiYmJgLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyVG9wOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2Y1ZjVmNWAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBcIjFweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiLmNtLXRvb2x0aXAtYmVsb3cgJlwiOiB7XG4gICAgICAgICAgICB0b3A6IGAtJHs3IC8qIEFycm93LlNpemUgKi99cHhgLFxuICAgICAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2JiYmAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjZjVmNWY1YCxcbiAgICAgICAgICAgICAgICB0b3A6IFwiMXB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXRvb2x0aXAgLmNtLXRvb2x0aXAtYXJyb3dcIjoge1xuICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBcIiMzMzMzMzhcIixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiBcIiMzMzMzMzhcIlxuICAgICAgICB9LFxuICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgYm9yZGVyVG9wQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuY29uc3Qgbm9PZmZzZXQgPSB7IHg6IDAsIHk6IDAgfTtcbi8qKlxuRmFjZXQgdG8gd2hpY2ggYW4gZXh0ZW5zaW9uIGNhbiBhZGQgYSB2YWx1ZSB0byBzaG93IGEgdG9vbHRpcC5cbiovXG5jb25zdCBzaG93VG9vbHRpcCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGVuYWJsZXM6IFt0b29sdGlwUGx1Z2luLCBiYXNlVGhlbWVdXG59KTtcbmNvbnN0IHNob3dIb3ZlclRvb2x0aXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiBpbnB1dHMgPT4gaW5wdXRzLnJlZHVjZSgoYSwgaSkgPT4gYS5jb25jYXQoaSksIFtdKVxufSk7XG5jbGFzcyBIb3ZlclRvb2x0aXBIb3N0IHtcbiAgICAvLyBOZWVkcyB0byBiZSBzdGF0aWMgc28gdGhhdCBob3N0IHRvb2x0aXAgaW5zdGFuY2VzIGFsd2F5cyBtYXRjaFxuICAgIHN0YXRpYyBjcmVhdGUodmlldykge1xuICAgICAgICByZXR1cm4gbmV3IEhvdmVyVG9vbHRpcEhvc3Qodmlldyk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLXRvb2x0aXAtaG92ZXJcIik7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG5ldyBUb29sdGlwVmlld01hbmFnZXIodmlldywgc2hvd0hvdmVyVG9vbHRpcCwgKHQsIHApID0+IHRoaXMuY3JlYXRlSG9zdGVkVmlldyh0LCBwKSwgdCA9PiB0LmRvbS5yZW1vdmUoKSk7XG4gICAgfVxuICAgIGNyZWF0ZUhvc3RlZFZpZXcodG9vbHRpcCwgcHJldikge1xuICAgICAgICBsZXQgaG9zdGVkVmlldyA9IHRvb2x0aXAuY3JlYXRlKHRoaXMudmlldyk7XG4gICAgICAgIGhvc3RlZFZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwLXNlY3Rpb25cIik7XG4gICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShob3N0ZWRWaWV3LmRvbSwgcHJldiA/IHByZXYuZG9tLm5leHRTaWJsaW5nIDogdGhpcy5kb20uZmlyc3RDaGlsZCk7XG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQgJiYgaG9zdGVkVmlldy5tb3VudClcbiAgICAgICAgICAgIGhvc3RlZFZpZXcubW91bnQodGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIGhvc3RlZFZpZXc7XG4gICAgfVxuICAgIG1vdW50KHZpZXcpIHtcbiAgICAgICAgZm9yIChsZXQgaG9zdGVkVmlldyBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKSB7XG4gICAgICAgICAgICBpZiAoaG9zdGVkVmlldy5tb3VudClcbiAgICAgICAgICAgICAgICBob3N0ZWRWaWV3Lm1vdW50KHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG4gICAgfVxuICAgIHBvc2l0aW9uZWQoc3BhY2UpIHtcbiAgICAgICAgZm9yIChsZXQgaG9zdGVkVmlldyBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKSB7XG4gICAgICAgICAgICBpZiAoaG9zdGVkVmlldy5wb3NpdGlvbmVkKVxuICAgICAgICAgICAgICAgIGhvc3RlZFZpZXcucG9zaXRpb25lZChzcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLm1hbmFnZXIudXBkYXRlKHVwZGF0ZSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgKF9hID0gdC5kZXN0cm95KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0KTtcbiAgICB9XG4gICAgcGFzc1Byb3AobmFtZSkge1xuICAgICAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IHZpZXcgb2YgdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3cykge1xuICAgICAgICAgICAgbGV0IGdpdmVuID0gdmlld1tuYW1lXTtcbiAgICAgICAgICAgIGlmIChnaXZlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZ2l2ZW47XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT09IGdpdmVuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IG9mZnNldCgpIHsgcmV0dXJuIHRoaXMucGFzc1Byb3AoXCJvZmZzZXRcIik7IH1cbiAgICBnZXQgZ2V0Q29vcmRzKCkgeyByZXR1cm4gdGhpcy5wYXNzUHJvcChcImdldENvb3Jkc1wiKTsgfVxuICAgIGdldCBvdmVybGFwKCkgeyByZXR1cm4gdGhpcy5wYXNzUHJvcChcIm92ZXJsYXBcIik7IH1cbiAgICBnZXQgcmVzaXplKCkgeyByZXR1cm4gdGhpcy5wYXNzUHJvcChcInJlc2l6ZVwiKTsgfVxufVxuY29uc3Qgc2hvd0hvdmVyVG9vbHRpcEhvc3QgPSAvKkBfX1BVUkVfXyovc2hvd1Rvb2x0aXAuY29tcHV0ZShbc2hvd0hvdmVyVG9vbHRpcF0sIHN0YXRlID0+IHtcbiAgICBsZXQgdG9vbHRpcHMgPSBzdGF0ZS5mYWNldChzaG93SG92ZXJUb29sdGlwKTtcbiAgICBpZiAodG9vbHRpcHMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb3M6IE1hdGgubWluKC4uLnRvb2x0aXBzLm1hcCh0ID0+IHQucG9zKSksXG4gICAgICAgIGVuZDogTWF0aC5tYXgoLi4udG9vbHRpcHMubWFwKHQgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0LmVuZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdC5wb3M7IH0pKSxcbiAgICAgICAgY3JlYXRlOiBIb3ZlclRvb2x0aXBIb3N0LmNyZWF0ZSxcbiAgICAgICAgYWJvdmU6IHRvb2x0aXBzWzBdLmFib3ZlLFxuICAgICAgICBhcnJvdzogdG9vbHRpcHMuc29tZSh0ID0+IHQuYXJyb3cpLFxuICAgIH07XG59KTtcbmNsYXNzIEhvdmVyUGx1Z2luIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzb3VyY2UsIGZpZWxkLCBzZXRIb3ZlciwgaG92ZXJUaW1lKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMuc2V0SG92ZXIgPSBzZXRIb3ZlcjtcbiAgICAgICAgdGhpcy5ob3ZlclRpbWUgPSBob3ZlclRpbWU7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0TW92ZSA9IHsgeDogMCwgeTogMCwgdGFyZ2V0OiB2aWV3LmRvbSwgdGltZTogMCB9O1xuICAgICAgICB0aGlzLmNoZWNrSG92ZXIgPSB0aGlzLmNoZWNrSG92ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5tb3VzZWxlYXZlID0gdGhpcy5tb3VzZWxlYXZlLmJpbmQodGhpcykpO1xuICAgICAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2Vtb3ZlID0gdGhpcy5tb3VzZW1vdmUuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc3RhcnRUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc3RhcnRIb3ZlcigpLCAyMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICB9XG4gICAgY2hlY2tIb3ZlcigpIHtcbiAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSAtMTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGhvdmVyZWQgPSBEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZS50aW1lO1xuICAgICAgICBpZiAoaG92ZXJlZCA8IHRoaXMuaG92ZXJUaW1lKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUgLSBob3ZlcmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5zdGFydEhvdmVyKCk7XG4gICAgfVxuICAgIHN0YXJ0SG92ZXIoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc3RhcnRUaW1lb3V0KTtcbiAgICAgICAgbGV0IHsgdmlldywgbGFzdE1vdmUgfSA9IHRoaXM7XG4gICAgICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3QobGFzdE1vdmUudGFyZ2V0KTtcbiAgICAgICAgaWYgKCFkZXNjKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgcG9zLCBzaWRlID0gMTtcbiAgICAgICAgaWYgKGRlc2MgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB7XG4gICAgICAgICAgICBwb3MgPSBkZXNjLnBvc0F0U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGxhc3RNb3ZlKTtcbiAgICAgICAgICAgIGlmIChwb3MgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgcG9zQ29vcmRzID0gdmlldy5jb29yZHNBdFBvcyhwb3MpO1xuICAgICAgICAgICAgaWYgKCFwb3NDb29yZHMgfHxcbiAgICAgICAgICAgICAgICBsYXN0TW92ZS55IDwgcG9zQ29vcmRzLnRvcCB8fCBsYXN0TW92ZS55ID4gcG9zQ29vcmRzLmJvdHRvbSB8fFxuICAgICAgICAgICAgICAgIGxhc3RNb3ZlLnggPCBwb3NDb29yZHMubGVmdCAtIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoIHx8XG4gICAgICAgICAgICAgICAgbGFzdE1vdmUueCA+IHBvc0Nvb3Jkcy5yaWdodCArIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBiaWRpID0gdmlldy5iaWRpU3BhbnModmlldy5zdGF0ZS5kb2MubGluZUF0KHBvcykpLmZpbmQocyA9PiBzLmZyb20gPD0gcG9zICYmIHMudG8gPj0gcG9zKTtcbiAgICAgICAgICAgIGxldCBydGwgPSBiaWRpICYmIGJpZGkuZGlyID09IERpcmVjdGlvbi5SVEwgPyAtMSA6IDE7XG4gICAgICAgICAgICBzaWRlID0gKGxhc3RNb3ZlLnggPCBwb3NDb29yZHMubGVmdCA/IC1ydGwgOiBydGwpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcGVuID0gdGhpcy5zb3VyY2UodmlldywgcG9zLCBzaWRlKTtcbiAgICAgICAgaWYgKG9wZW4gPT09IG51bGwgfHwgb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3Blbi50aGVuKSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMucGVuZGluZyA9IHsgcG9zIH07XG4gICAgICAgICAgICBvcGVuLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nID09IHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiAhKEFycmF5LmlzQXJyYXkocmVzdWx0KSAmJiAhcmVzdWx0Lmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHQgOiBbcmVzdWx0XSkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZSA9PiBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSwgXCJob3ZlciB0b29sdGlwXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcGVuICYmICEoQXJyYXkuaXNBcnJheShvcGVuKSAmJiAhb3Blbi5sZW5ndGgpKSB7XG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihBcnJheS5pc0FycmF5KG9wZW4pID8gb3BlbiA6IFtvcGVuXSkgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHRvb2x0aXAoKSB7XG4gICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLnZpZXcucGx1Z2luKHRvb2x0aXBQbHVnaW4pO1xuICAgICAgICBsZXQgaW5kZXggPSBwbHVnaW4gPyBwbHVnaW4ubWFuYWdlci50b29sdGlwcy5maW5kSW5kZXgodCA9PiB0LmNyZWF0ZSA9PSBIb3ZlclRvb2x0aXBIb3N0LmNyZWF0ZSkgOiAtMTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBwbHVnaW4ubWFuYWdlci50b29sdGlwVmlld3NbaW5kZXhdIDogbnVsbDtcbiAgICB9XG4gICAgbW91c2Vtb3ZlKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMubGFzdE1vdmUgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFksIHRhcmdldDogZXZlbnQudGFyZ2V0LCB0aW1lOiBEYXRlLm5vdygpIH07XG4gICAgICAgIGlmICh0aGlzLmhvdmVyVGltZW91dCA8IDApXG4gICAgICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5jaGVja0hvdmVyLCB0aGlzLmhvdmVyVGltZSk7XG4gICAgICAgIGxldCB7IGFjdGl2ZSwgdG9vbHRpcCB9ID0gdGhpcztcbiAgICAgICAgaWYgKGFjdGl2ZS5sZW5ndGggJiYgdG9vbHRpcCAmJiAhaXNJblRvb2x0aXAodG9vbHRpcC5kb20sIGV2ZW50KSB8fCB0aGlzLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIGxldCB7IHBvcyB9ID0gYWN0aXZlWzBdIHx8IHRoaXMucGVuZGluZywgZW5kID0gKF9iID0gKF9hID0gYWN0aXZlWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5kKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwb3M7XG4gICAgICAgICAgICBpZiAoKHBvcyA9PSBlbmQgPyB0aGlzLnZpZXcucG9zQXRDb29yZHModGhpcy5sYXN0TW92ZSkgIT0gcG9zXG4gICAgICAgICAgICAgICAgOiAhaXNPdmVyUmFuZ2UodGhpcy52aWV3LCBwb3MsIGVuZCwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihbXSkgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VzZWxlYXZlKGV2ZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyVGltZW91dCk7XG4gICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gLTE7XG4gICAgICAgIGxldCB7IGFjdGl2ZSB9ID0gdGhpcztcbiAgICAgICAgaWYgKGFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IHRvb2x0aXAgfSA9IHRoaXM7XG4gICAgICAgICAgICBsZXQgaW5Ub29sdGlwID0gdG9vbHRpcCAmJiB0b29sdGlwLmRvbS5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICAgIGlmICghaW5Ub29sdGlwKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YoW10pIH0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMud2F0Y2hUb29sdGlwTGVhdmUodG9vbHRpcC5kb20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdhdGNoVG9vbHRpcExlYXZlKHRvb2x0aXApIHtcbiAgICAgICAgbGV0IHdhdGNoID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0b29sdGlwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHdhdGNoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZS5sZW5ndGggJiYgIXRoaXMudmlldy5kb20uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihbXSkgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRvb2x0aXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgd2F0Y2gpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMubW91c2VsZWF2ZSk7XG4gICAgICAgIHRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZSk7XG4gICAgfVxufVxuY29uc3QgdG9vbHRpcE1hcmdpbiA9IDQ7XG5mdW5jdGlvbiBpc0luVG9vbHRpcCh0b29sdGlwLCBldmVudCkge1xuICAgIGxldCB7IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSB9ID0gdG9vbHRpcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgYXJyb3c7XG4gICAgaWYgKGFycm93ID0gdG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiLmNtLXRvb2x0aXAtYXJyb3dcIikpIHtcbiAgICAgICAgbGV0IGFycm93UmVjdCA9IGFycm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0b3AgPSBNYXRoLm1pbihhcnJvd1JlY3QudG9wLCB0b3ApO1xuICAgICAgICBib3R0b20gPSBNYXRoLm1heChhcnJvd1JlY3QuYm90dG9tLCBib3R0b20pO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQuY2xpZW50WCA+PSBsZWZ0IC0gdG9vbHRpcE1hcmdpbiAmJiBldmVudC5jbGllbnRYIDw9IHJpZ2h0ICsgdG9vbHRpcE1hcmdpbiAmJlxuICAgICAgICBldmVudC5jbGllbnRZID49IHRvcCAtIHRvb2x0aXBNYXJnaW4gJiYgZXZlbnQuY2xpZW50WSA8PSBib3R0b20gKyB0b29sdGlwTWFyZ2luO1xufVxuZnVuY3Rpb24gaXNPdmVyUmFuZ2UodmlldywgZnJvbSwgdG8sIHgsIHksIG1hcmdpbikge1xuICAgIGxldCByZWN0ID0gdmlldy5zY3JvbGxET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGRvY0JvdHRvbSA9IHZpZXcuZG9jdW1lbnRUb3AgKyB2aWV3LmRvY3VtZW50UGFkZGluZy50b3AgKyB2aWV3LmNvbnRlbnRIZWlnaHQ7XG4gICAgaWYgKHJlY3QubGVmdCA+IHggfHwgcmVjdC5yaWdodCA8IHggfHwgcmVjdC50b3AgPiB5IHx8IE1hdGgubWluKHJlY3QuYm90dG9tLCBkb2NCb3R0b20pIDwgeSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeCwgeSB9LCBmYWxzZSk7XG4gICAgcmV0dXJuIHBvcyA+PSBmcm9tICYmIHBvcyA8PSB0bztcbn1cbi8qKlxuU2V0IHVwIGEgaG92ZXIgdG9vbHRpcCwgd2hpY2ggc2hvd3MgdXAgd2hlbiB0aGUgcG9pbnRlciBob3ZlcnNcbm92ZXIgcmFuZ2VzIG9mIHRleHQuIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgaG92ZXJzXG5vdmVyIHRoZSBkb2N1bWVudCB0ZXh0LiBJdCBzaG91bGQsIGlmIHRoZXJlIGlzIGEgdG9vbHRpcFxuYXNzb2NpYXRlZCB3aXRoIHBvc2l0aW9uIGBwb3NgLCByZXR1cm4gdGhlIHRvb2x0aXAgZGVzY3JpcHRpb25cbihlaXRoZXIgZGlyZWN0bHkgb3IgaW4gYSBwcm9taXNlKS4gVGhlIGBzaWRlYCBhcmd1bWVudCBpbmRpY2F0ZXNcbm9uIHdoaWNoIHNpZGUgb2YgdGhlIHBvc2l0aW9uIHRoZSBwb2ludGVyIGlz4oCUaXQgd2lsbCBiZSAtMSBpZiB0aGVcbnBvaW50ZXIgaXMgYmVmb3JlIHRoZSBwb3NpdGlvbiwgMSBpZiBhZnRlciB0aGUgcG9zaXRpb24uXG5cbk5vdGUgdGhhdCBhbGwgaG92ZXIgdG9vbHRpcHMgYXJlIGhvc3RlZCB3aXRoaW4gYSBzaW5nbGUgdG9vbHRpcFxuY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgYWxsb3dzIG11bHRpcGxlIHRvb2x0aXBzIG92ZXIgdGhlIHNhbWVcbnJhbmdlIHRvIGJlIFwibWVyZ2VkXCIgdG9nZXRoZXIgd2l0aG91dCBvdmVybGFwcGluZy5cblxuVGhlIHJldHVybiB2YWx1ZSBpcyBhIHZhbGlkIFtlZGl0b3IgZXh0ZW5zaW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkV4dGVuc2lvbilcbmJ1dCBhbHNvIHByb3ZpZGVzIGFuIGBhY3RpdmVgIHByb3BlcnR5IGhvbGRpbmcgYSBzdGF0ZSBmaWVsZCB0aGF0XG5jYW4gYmUgdXNlZCB0byByZWFkIHRoZSBjdXJyZW50bHkgYWN0aXZlIHRvb2x0aXBzIHByb2R1Y2VkIGJ5IHRoaXNcbmV4dGVuc2lvbi5cbiovXG5mdW5jdGlvbiBob3ZlclRvb2x0aXAoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgc2V0SG92ZXIgPSBTdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbiAgICBsZXQgaG92ZXJTdGF0ZSA9IFN0YXRlRmllbGQuZGVmaW5lKHtcbiAgICAgICAgY3JlYXRlKCkgeyByZXR1cm4gW107IH0sXG4gICAgICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlT25DaGFuZ2UgJiYgKHRyLmRvY0NoYW5nZWQgfHwgdHIuc2VsZWN0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmhpZGVPbilcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5maWx0ZXIodiA9PiAhb3B0aW9ucy5oaWRlT24odHIsIHYpKTtcbiAgICAgICAgICAgICAgICBpZiAodHIuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWFwcGVkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRvb2x0aXAgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdQb3MgPSB0ci5jaGFuZ2VzLm1hcFBvcyh0b29sdGlwLnBvcywgLTEsIE1hcE1vZGUuVHJhY2tEZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1BvcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvcHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHkucG9zID0gbmV3UG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3B5LmVuZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5LmVuZCA9IHRyLmNoYW5nZXMubWFwUG9zKGNvcHkuZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWQucHVzaChjb3B5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1hcHBlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cykge1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0SG92ZXIpKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKGNsb3NlSG92ZXJUb29sdGlwRWZmZWN0KSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZTogZiA9PiBzaG93SG92ZXJUb29sdGlwLmZyb20oZilcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmU6IGhvdmVyU3RhdGUsXG4gICAgICAgIGV4dGVuc2lvbjogW1xuICAgICAgICAgICAgaG92ZXJTdGF0ZSxcbiAgICAgICAgICAgIFZpZXdQbHVnaW4uZGVmaW5lKHZpZXcgPT4gbmV3IEhvdmVyUGx1Z2luKHZpZXcsIHNvdXJjZSwgaG92ZXJTdGF0ZSwgc2V0SG92ZXIsIG9wdGlvbnMuaG92ZXJUaW1lIHx8IDMwMCAvKiBIb3Zlci5UaW1lICovKSksXG4gICAgICAgICAgICBzaG93SG92ZXJUb29sdGlwSG9zdFxuICAgICAgICBdXG4gICAgfTtcbn1cbi8qKlxuR2V0IHRoZSBhY3RpdmUgdG9vbHRpcCB2aWV3IGZvciBhIGdpdmVuIHRvb2x0aXAsIGlmIGF2YWlsYWJsZS5cbiovXG5mdW5jdGlvbiBnZXRUb29sdGlwKHZpZXcsIHRvb2x0aXApIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4odG9vbHRpcFBsdWdpbik7XG4gICAgaWYgKCFwbHVnaW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBmb3VuZCA9IHBsdWdpbi5tYW5hZ2VyLnRvb2x0aXBzLmluZGV4T2YodG9vbHRpcCk7XG4gICAgcmV0dXJuIGZvdW5kIDwgMCA/IG51bGwgOiBwbHVnaW4ubWFuYWdlci50b29sdGlwVmlld3NbZm91bmRdO1xufVxuLyoqXG5SZXR1cm5zIHRydWUgaWYgYW55IGhvdmVyIHRvb2x0aXBzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuKi9cbmZ1bmN0aW9uIGhhc0hvdmVyVG9vbHRpcHMoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuZmFjZXQoc2hvd0hvdmVyVG9vbHRpcCkuc29tZSh4ID0+IHgpO1xufVxuY29uc3QgY2xvc2VIb3ZlclRvb2x0aXBFZmZlY3QgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4vKipcblRyYW5zYWN0aW9uIGVmZmVjdCB0aGF0IGNsb3NlcyBhbGwgaG92ZXIgdG9vbHRpcHMuXG4qL1xuY29uc3QgY2xvc2VIb3ZlclRvb2x0aXBzID0gLypAX19QVVJFX18qL2Nsb3NlSG92ZXJUb29sdGlwRWZmZWN0Lm9mKG51bGwpO1xuLyoqXG5UZWxsIHRoZSB0b29sdGlwIGV4dGVuc2lvbiB0byByZWNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBhY3RpdmVcbnRvb2x0aXBzLiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiBzb21ldGhpbmcgaGFwcGVucyAoc3VjaCBhcyBhXG5yZS1wb3NpdGlvbmluZyBvciBDU1MgY2hhbmdlIGFmZmVjdGluZyB0aGUgZWRpdG9yKSB0aGF0IGNvdWxkXG5pbnZhbGlkYXRlIHRoZSBleGlzdGluZyB0b29sdGlwIHBvc2l0aW9ucy5cbiovXG5mdW5jdGlvbiByZXBvc2l0aW9uVG9vbHRpcHModmlldykge1xuICAgIGxldCBwbHVnaW4gPSB2aWV3LnBsdWdpbih0b29sdGlwUGx1Z2luKTtcbiAgICBpZiAocGx1Z2luKVxuICAgICAgICBwbHVnaW4ubWF5YmVNZWFzdXJlKCk7XG59XG5cbmNvbnN0IHBhbmVsQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIGxldCB0b3BDb250YWluZXIsIGJvdHRvbUNvbnRhaW5lcjtcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjb25maWdzKSB7XG4gICAgICAgICAgICB0b3BDb250YWluZXIgPSB0b3BDb250YWluZXIgfHwgYy50b3BDb250YWluZXI7XG4gICAgICAgICAgICBib3R0b21Db250YWluZXIgPSBib3R0b21Db250YWluZXIgfHwgYy5ib3R0b21Db250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdG9wQ29udGFpbmVyLCBib3R0b21Db250YWluZXIgfTtcbiAgICB9XG59KTtcbi8qKlxuQ29uZmlndXJlcyB0aGUgcGFuZWwtbWFuYWdpbmcgZXh0ZW5zaW9uLlxuKi9cbmZ1bmN0aW9uIHBhbmVscyhjb25maWcpIHtcbiAgICByZXR1cm4gY29uZmlnID8gW3BhbmVsQ29uZmlnLm9mKGNvbmZpZyldIDogW107XG59XG4vKipcbkdldCB0aGUgYWN0aXZlIHBhbmVsIGNyZWF0ZWQgYnkgdGhlIGdpdmVuIGNvbnN0cnVjdG9yLCBpZiBhbnkuXG5UaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB5b3UgbmVlZCBhY2Nlc3MgdG8geW91ciBwYW5lbHMnIERPTVxuc3RydWN0dXJlLlxuKi9cbmZ1bmN0aW9uIGdldFBhbmVsKHZpZXcsIHBhbmVsKSB7XG4gICAgbGV0IHBsdWdpbiA9IHZpZXcucGx1Z2luKHBhbmVsUGx1Z2luKTtcbiAgICBsZXQgaW5kZXggPSBwbHVnaW4gPyBwbHVnaW4uc3BlY3MuaW5kZXhPZihwYW5lbCkgOiAtMTtcbiAgICByZXR1cm4gaW5kZXggPiAtMSA/IHBsdWdpbi5wYW5lbHNbaW5kZXhdIDogbnVsbDtcbn1cbmNvbnN0IHBhbmVsUGx1Z2luID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB2aWV3LnN0YXRlLmZhY2V0KHNob3dQYW5lbCk7XG4gICAgICAgIHRoaXMuc3BlY3MgPSB0aGlzLmlucHV0LmZpbHRlcihzID0+IHMpO1xuICAgICAgICB0aGlzLnBhbmVscyA9IHRoaXMuc3BlY3MubWFwKHNwZWMgPT4gc3BlYyh2aWV3KSk7XG4gICAgICAgIGxldCBjb25mID0gdmlldy5zdGF0ZS5mYWNldChwYW5lbENvbmZpZyk7XG4gICAgICAgIHRoaXMudG9wID0gbmV3IFBhbmVsR3JvdXAodmlldywgdHJ1ZSwgY29uZi50b3BDb250YWluZXIpO1xuICAgICAgICB0aGlzLmJvdHRvbSA9IG5ldyBQYW5lbEdyb3VwKHZpZXcsIGZhbHNlLCBjb25mLmJvdHRvbUNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMudG9wLnN5bmModGhpcy5wYW5lbHMuZmlsdGVyKHAgPT4gcC50b3ApKTtcbiAgICAgICAgdGhpcy5ib3R0b20uc3luYyh0aGlzLnBhbmVscy5maWx0ZXIocCA9PiAhcC50b3ApKTtcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBhbmVscykge1xuICAgICAgICAgICAgcC5kb20uY2xhc3NMaXN0LmFkZChcImNtLXBhbmVsXCIpO1xuICAgICAgICAgICAgaWYgKHAubW91bnQpXG4gICAgICAgICAgICAgICAgcC5tb3VudCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGNvbmYgPSB1cGRhdGUuc3RhdGUuZmFjZXQocGFuZWxDb25maWcpO1xuICAgICAgICBpZiAodGhpcy50b3AuY29udGFpbmVyICE9IGNvbmYudG9wQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLnRvcC5zeW5jKFtdKTtcbiAgICAgICAgICAgIHRoaXMudG9wID0gbmV3IFBhbmVsR3JvdXAodXBkYXRlLnZpZXcsIHRydWUsIGNvbmYudG9wQ29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib3R0b20uY29udGFpbmVyICE9IGNvbmYuYm90dG9tQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKFtdKTtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tID0gbmV3IFBhbmVsR3JvdXAodXBkYXRlLnZpZXcsIGZhbHNlLCBjb25mLmJvdHRvbUNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3Auc3luY0NsYXNzZXMoKTtcbiAgICAgICAgdGhpcy5ib3R0b20uc3luY0NsYXNzZXMoKTtcbiAgICAgICAgbGV0IGlucHV0ID0gdXBkYXRlLnN0YXRlLmZhY2V0KHNob3dQYW5lbCk7XG4gICAgICAgIGlmIChpbnB1dCAhPSB0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICBsZXQgc3BlY3MgPSBpbnB1dC5maWx0ZXIoeCA9PiB4KTtcbiAgICAgICAgICAgIGxldCBwYW5lbHMgPSBbXSwgdG9wID0gW10sIGJvdHRvbSA9IFtdLCBtb3VudCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgc3BlYyBvZiBzcGVjcykge1xuICAgICAgICAgICAgICAgIGxldCBrbm93biA9IHRoaXMuc3BlY3MuaW5kZXhPZihzcGVjKSwgcGFuZWw7XG4gICAgICAgICAgICAgICAgaWYgKGtub3duIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBwYW5lbCA9IHNwZWModXBkYXRlLnZpZXcpO1xuICAgICAgICAgICAgICAgICAgICBtb3VudC5wdXNoKHBhbmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVsID0gdGhpcy5wYW5lbHNba25vd25dO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFuZWwudXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhbmVscy5wdXNoKHBhbmVsKTtcbiAgICAgICAgICAgICAgICAocGFuZWwudG9wID8gdG9wIDogYm90dG9tKS5wdXNoKHBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3BlY3MgPSBzcGVjcztcbiAgICAgICAgICAgIHRoaXMucGFuZWxzID0gcGFuZWxzO1xuICAgICAgICAgICAgdGhpcy50b3Auc3luYyh0b3ApO1xuICAgICAgICAgICAgdGhpcy5ib3R0b20uc3luYyhib3R0b20pO1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBtb3VudCkge1xuICAgICAgICAgICAgICAgIHAuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS1wYW5lbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocC5tb3VudClcbiAgICAgICAgICAgICAgICAgICAgcC5tb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBhbmVscylcbiAgICAgICAgICAgICAgICBpZiAocC51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHAudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3Auc3luYyhbXSk7XG4gICAgICAgIHRoaXMuYm90dG9tLnN5bmMoW10pO1xuICAgIH1cbn0sIHtcbiAgICBwcm92aWRlOiBwbHVnaW4gPT4gRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zLm9mKHZpZXcgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgeyB0b3A6IHZhbHVlLnRvcC5zY3JvbGxNYXJnaW4oKSwgYm90dG9tOiB2YWx1ZS5ib3R0b20uc2Nyb2xsTWFyZ2luKCkgfTtcbiAgICB9KVxufSk7XG5jbGFzcyBQYW5lbEdyb3VwIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCB0b3AsIGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZG9tID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBcIlwiO1xuICAgICAgICB0aGlzLnBhbmVscyA9IFtdO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKCk7XG4gICAgfVxuICAgIHN5bmMocGFuZWxzKSB7XG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYW5lbHMpXG4gICAgICAgICAgICBpZiAocC5kZXN0cm95ICYmIHBhbmVscy5pbmRleE9mKHApIDwgMClcbiAgICAgICAgICAgICAgICBwLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBwYW5lbHM7XG4gICAgICAgIHRoaXMuc3luY0RPTSgpO1xuICAgIH1cbiAgICBzeW5jRE9NKCkge1xuICAgICAgICBpZiAodGhpcy5wYW5lbHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IHRoaXMudG9wID8gXCJjbS1wYW5lbHMgY20tcGFuZWxzLXRvcFwiIDogXCJjbS1wYW5lbHMgY20tcGFuZWxzLWJvdHRvbVwiO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGVbdGhpcy50b3AgPyBcInRvcFwiIDogXCJib3R0b21cIl0gPSBcIjBcIjtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmNvbnRhaW5lciB8fCB0aGlzLnZpZXcuZG9tO1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmRvbSwgdGhpcy50b3AgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJET00gPSB0aGlzLmRvbS5maXJzdENoaWxkO1xuICAgICAgICBmb3IgKGxldCBwYW5lbCBvZiB0aGlzLnBhbmVscykge1xuICAgICAgICAgICAgaWYgKHBhbmVsLmRvbS5wYXJlbnROb2RlID09IHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1ckRPTSAhPSBwYW5lbC5kb20pXG4gICAgICAgICAgICAgICAgICAgIGN1ckRPTSA9IHJtKGN1ckRPTSk7XG4gICAgICAgICAgICAgICAgY3VyRE9NID0gY3VyRE9NLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb20uaW5zZXJ0QmVmb3JlKHBhbmVsLmRvbSwgY3VyRE9NKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoY3VyRE9NKVxuICAgICAgICAgICAgY3VyRE9NID0gcm0oY3VyRE9NKTtcbiAgICB9XG4gICAgc2Nyb2xsTWFyZ2luKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuZG9tIHx8IHRoaXMuY29udGFpbmVyID8gMFxuICAgICAgICAgICAgOiBNYXRoLm1heCgwLCB0aGlzLnRvcCA/XG4gICAgICAgICAgICAgICAgdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIC0gTWF0aC5tYXgoMCwgdGhpcy52aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApIDpcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihpbm5lckhlaWdodCwgdGhpcy52aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pIC0gdGhpcy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wKTtcbiAgICB9XG4gICAgc3luY0NsYXNzZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5jb250YWluZXIgfHwgdGhpcy5jbGFzc2VzID09IHRoaXMudmlldy50aGVtZUNsYXNzZXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGNscyBvZiB0aGlzLmNsYXNzZXMuc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG4gICAgICAgIGZvciAobGV0IGNscyBvZiAodGhpcy5jbGFzc2VzID0gdGhpcy52aWV3LnRoZW1lQ2xhc3Nlcykuc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgfVxufVxuZnVuY3Rpb24gcm0obm9kZSkge1xuICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICBub2RlLnJlbW92ZSgpO1xuICAgIHJldHVybiBuZXh0O1xufVxuLyoqXG5PcGVuaW5nIGEgcGFuZWwgaXMgZG9uZSBieSBwcm92aWRpbmcgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3JcbnRoZSBwYW5lbCB0aHJvdWdoIHRoaXMgZmFjZXQuIChUaGUgcGFuZWwgaXMgY2xvc2VkIGFnYWluIHdoZW4gaXRzXG5jb25zdHJ1Y3RvciBpcyBubyBsb25nZXIgcHJvdmlkZWQuKSBWYWx1ZXMgb2YgYG51bGxgIGFyZSBpZ25vcmVkLlxuKi9cbmNvbnN0IHNob3dQYW5lbCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGVuYWJsZXM6IHBhbmVsUGx1Z2luXG59KTtcblxuLyoqXG5BIGd1dHRlciBtYXJrZXIgcmVwcmVzZW50cyBhIGJpdCBvZiBpbmZvcm1hdGlvbiBhdHRhY2hlZCB0byBhIGxpbmVcbmluIGEgc3BlY2lmaWMgZ3V0dGVyLiBZb3VyIG93biBjdXN0b20gbWFya2VycyBoYXZlIHRvIGV4dGVuZCB0aGlzXG5jbGFzcy5cbiovXG5jbGFzcyBHdXR0ZXJNYXJrZXIgZXh0ZW5kcyBSYW5nZVZhbHVlIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgdGhpcy5jb25zdHJ1Y3RvciA9PSBvdGhlci5jb25zdHJ1Y3RvciAmJiB0aGlzLmVxKG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIG1hcmtlciB0byBhbm90aGVyIG1hcmtlciBvZiB0aGUgc2FtZSB0eXBlLlxuICAgICovXG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQ2FsbGVkIGlmIHRoZSBtYXJrZXIgaGFzIGEgYHRvRE9NYCBtZXRob2QgYW5kIGl0cyByZXByZXNlbnRhdGlvblxuICAgIHdhcyByZW1vdmVkIGZyb20gYSBndXR0ZXIuXG4gICAgKi9cbiAgICBkZXN0cm95KGRvbSkgeyB9XG59XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLmVsZW1lbnRDbGFzcyA9IFwiXCI7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLnRvRE9NID0gdW5kZWZpbmVkO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5tYXBNb2RlID0gTWFwTW9kZS5UcmFja0JlZm9yZTtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUuc3RhcnRTaWRlID0gR3V0dGVyTWFya2VyLnByb3RvdHlwZS5lbmRTaWRlID0gLTE7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLnBvaW50ID0gdHJ1ZTtcbi8qKlxuRmFjZXQgdXNlZCB0byBhZGQgYSBjbGFzcyB0byBhbGwgZ3V0dGVyIGVsZW1lbnRzIGZvciBhIGdpdmVuIGxpbmUuXG5NYXJrZXJzIGdpdmVuIHRvIHRoaXMgZmFjZXQgc2hvdWxkIF9vbmx5XyBkZWZpbmUgYW5cbltgZWxlbWVudGNsYXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3Lkd1dHRlck1hcmtlci5lbGVtZW50Q2xhc3MpLCBub3QgYVxuW2B0b0RPTWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5HdXR0ZXJNYXJrZXIudG9ET00pIChvciB0aGUgbWFya2VyIHdpbGwgYXBwZWFyXG5pbiBhbGwgZ3V0dGVycyBmb3IgdGhlIGxpbmUpLlxuKi9cbmNvbnN0IGd1dHRlckxpbmVDbGFzcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8qKlxuRmFjZXQgdXNlZCB0byBhZGQgYSBjbGFzcyB0byBhbGwgZ3V0dGVyIGVsZW1lbnRzIG5leHQgdG8gYSB3aWRnZXQuXG5TaG91bGQgbm90IHByb3ZpZGUgd2lkZ2V0cyB3aXRoIGEgYHRvRE9NYCBtZXRob2QuXG4qL1xuY29uc3QgZ3V0dGVyV2lkZ2V0Q2xhc3MgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBjbGFzczogXCJcIixcbiAgICByZW5kZXJFbXB0eUVsZW1lbnRzOiBmYWxzZSxcbiAgICBlbGVtZW50U3R5bGU6IFwiXCIsXG4gICAgbWFya2VyczogKCkgPT4gUmFuZ2VTZXQuZW1wdHksXG4gICAgbGluZU1hcmtlcjogKCkgPT4gbnVsbCxcbiAgICB3aWRnZXRNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgbGluZU1hcmtlckNoYW5nZTogbnVsbCxcbiAgICBpbml0aWFsU3BhY2VyOiBudWxsLFxuICAgIHVwZGF0ZVNwYWNlcjogbnVsbCxcbiAgICBkb21FdmVudEhhbmRsZXJzOiB7fVxufTtcbmNvbnN0IGFjdGl2ZUd1dHRlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkRlZmluZSBhbiBlZGl0b3IgZ3V0dGVyLiBUaGUgb3JkZXIgaW4gd2hpY2ggdGhlIGd1dHRlcnMgYXBwZWFyIGlzXG5kZXRlcm1pbmVkIGJ5IHRoZWlyIGV4dGVuc2lvbiBwcmlvcml0eS5cbiovXG5mdW5jdGlvbiBndXR0ZXIoY29uZmlnKSB7XG4gICAgcmV0dXJuIFtndXR0ZXJzKCksIGFjdGl2ZUd1dHRlcnMub2YoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cyksIGNvbmZpZykpXTtcbn1cbmNvbnN0IHVuZml4R3V0dGVycyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbi8qKlxuVGhlIGd1dHRlci1kcmF3aW5nIHBsdWdpbiBpcyBhdXRvbWF0aWNhbGx5IGVuYWJsZWQgd2hlbiB5b3UgYWRkIGFcbmd1dHRlciwgYnV0IHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZXhwbGljaXRseSBjb25maWd1cmUgaXQuXG5cblVubGVzcyBgZml4ZWRgIGlzIGV4cGxpY2l0bHkgc2V0IHRvIGBmYWxzZWAsIHRoZSBndXR0ZXJzIGFyZVxuZml4ZWQsIG1lYW5pbmcgdGhleSBkb24ndCBzY3JvbGwgYWxvbmcgd2l0aCB0aGUgY29udGVudFxuaG9yaXpvbnRhbGx5IChleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydFxuQ1NTIFtgcG9zaXRpb246XG5zdGlja3lgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvcG9zaXRpb24jc3RpY2t5KSkuXG4qL1xuZnVuY3Rpb24gZ3V0dGVycyhjb25maWcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW1xuICAgICAgICBndXR0ZXJWaWV3LFxuICAgIF07XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcuZml4ZWQgPT09IGZhbHNlKVxuICAgICAgICByZXN1bHQucHVzaCh1bmZpeEd1dHRlcnMub2YodHJ1ZSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBndXR0ZXJWaWV3ID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucHJldlZpZXdwb3J0ID0gdmlldy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlcnNcIjtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSAodGhpcy52aWV3LmNvbnRlbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2NhbGVZKSArIFwicHhcIjtcbiAgICAgICAgdGhpcy5ndXR0ZXJzID0gdmlldy5zdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKS5tYXAoY29uZiA9PiBuZXcgU2luZ2xlR3V0dGVyVmlldyh2aWV3LCBjb25mKSk7XG4gICAgICAgIGZvciAobGV0IGd1dHRlciBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChndXR0ZXIuZG9tKTtcbiAgICAgICAgdGhpcy5maXhlZCA9ICF2aWV3LnN0YXRlLmZhY2V0KHVuZml4R3V0dGVycyk7XG4gICAgICAgIGlmICh0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBJRTExIGZhbGxiYWNrLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgcG9zaXRpb246IHN0aWNreSxcbiAgICAgICAgICAgIC8vIGJ5IHVzaW5nIHBvc2l0aW9uOiByZWxhdGl2ZSArIGV2ZW50IGhhbmRsZXJzIHRoYXQgcmVhbGlnbiB0aGVcbiAgICAgICAgICAgIC8vIGd1dHRlciAob3IganVzdCBmb3JjZSBmaXhlZD1mYWxzZSBvbiBJRTExPylcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN5bmNHdXR0ZXJzKGZhbHNlKTtcbiAgICAgICAgdmlldy5zY3JvbGxET00uaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLCB2aWV3LmNvbnRlbnRET00pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUd1dHRlcnModXBkYXRlKSkge1xuICAgICAgICAgICAgLy8gRGV0YWNoIGR1cmluZyBzeW5jIHdoZW4gdGhlIHZpZXdwb3J0IGNoYW5nZWQgc2lnbmlmaWNhbnRseVxuICAgICAgICAgICAgLy8gKHN1Y2ggYXMgZHVyaW5nIHNjcm9sbGluZyksIHNpbmNlIGZvciBsYXJnZSB1cGRhdGVzIHRoYXQgaXNcbiAgICAgICAgICAgIC8vIGZhc3Rlci5cbiAgICAgICAgICAgIGxldCB2cEEgPSB0aGlzLnByZXZWaWV3cG9ydCwgdnBCID0gdXBkYXRlLnZpZXcudmlld3BvcnQ7XG4gICAgICAgICAgICBsZXQgdnBPdmVybGFwID0gTWF0aC5taW4odnBBLnRvLCB2cEIudG8pIC0gTWF0aC5tYXgodnBBLmZyb20sIHZwQi5mcm9tKTtcbiAgICAgICAgICAgIHRoaXMuc3luY0d1dHRlcnModnBPdmVybGFwIDwgKHZwQi50byAtIHZwQi5mcm9tKSAqIDAuOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLm1pbkhlaWdodCA9ICh0aGlzLnZpZXcuY29udGVudEhlaWdodCAvIHRoaXMudmlldy5zY2FsZVkpICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUuZmFjZXQodW5maXhHdXR0ZXJzKSAhPSAhdGhpcy5maXhlZCkge1xuICAgICAgICAgICAgdGhpcy5maXhlZCA9ICF0aGlzLmZpeGVkO1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUucG9zaXRpb24gPSB0aGlzLmZpeGVkID8gXCJzdGlja3lcIiA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmV2Vmlld3BvcnQgPSB1cGRhdGUudmlldy52aWV3cG9ydDtcbiAgICB9XG4gICAgc3luY0d1dHRlcnMoZGV0YWNoKSB7XG4gICAgICAgIGxldCBhZnRlciA9IHRoaXMuZG9tLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgICAgIGxldCBsaW5lQ2xhc3NlcyA9IFJhbmdlU2V0Lml0ZXIodGhpcy52aWV3LnN0YXRlLmZhY2V0KGd1dHRlckxpbmVDbGFzcyksIHRoaXMudmlldy52aWV3cG9ydC5mcm9tKTtcbiAgICAgICAgbGV0IGNsYXNzU2V0ID0gW107XG4gICAgICAgIGxldCBjb250ZXh0cyA9IHRoaXMuZ3V0dGVycy5tYXAoZ3V0dGVyID0+IG5ldyBVcGRhdGVDb250ZXh0KGd1dHRlciwgdGhpcy52aWV3LnZpZXdwb3J0LCAtdGhpcy52aWV3LmRvY3VtZW50UGFkZGluZy50b3ApKTtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0aGlzLnZpZXcudmlld3BvcnRMaW5lQmxvY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2xhc3NTZXQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGNsYXNzU2V0ID0gW107XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaW5lLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBiIG9mIGxpbmUudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYi50eXBlID09IEJsb2NrVHlwZS5UZXh0ICYmIGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlQ3Vyc29yKGxpbmVDbGFzc2VzLCBjbGFzc1NldCwgYi5mcm9tKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LmxpbmUodGhpcy52aWV3LCBiLCBjbGFzc1NldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGIud2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeC53aWRnZXQodGhpcy52aWV3LCBiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCkge1xuICAgICAgICAgICAgICAgIGFkdmFuY2VDdXJzb3IobGluZUNsYXNzZXMsIGNsYXNzU2V0LCBsaW5lLmZyb20pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGN4IG9mIGNvbnRleHRzKVxuICAgICAgICAgICAgICAgICAgICBjeC5saW5lKHRoaXMudmlldywgbGluZSwgY2xhc3NTZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZS53aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgICAgICAgICAgY3gud2lkZ2V0KHRoaXMudmlldywgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICBjeC5maW5pc2goKTtcbiAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxET00uaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLCBhZnRlcik7XG4gICAgfVxuICAgIHVwZGF0ZUd1dHRlcnModXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2ID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoYWN0aXZlR3V0dGVycyksIGN1ciA9IHVwZGF0ZS5zdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKTtcbiAgICAgICAgbGV0IGNoYW5nZSA9IHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5oZWlnaHRDaGFuZ2VkIHx8IHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHxcbiAgICAgICAgICAgICFSYW5nZVNldC5lcSh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChndXR0ZXJMaW5lQ2xhc3MpLCB1cGRhdGUuc3RhdGUuZmFjZXQoZ3V0dGVyTGluZUNsYXNzKSwgdXBkYXRlLnZpZXcudmlld3BvcnQuZnJvbSwgdXBkYXRlLnZpZXcudmlld3BvcnQudG8pO1xuICAgICAgICBpZiAocHJldiA9PSBjdXIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGd1dHRlciBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICAgICAgaWYgKGd1dHRlci51cGRhdGUodXBkYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZ3V0dGVycyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgY29uZiBvZiBjdXIpIHtcbiAgICAgICAgICAgICAgICBsZXQga25vd24gPSBwcmV2LmluZGV4T2YoY29uZik7XG4gICAgICAgICAgICAgICAgaWYgKGtub3duIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBndXR0ZXJzLnB1c2gobmV3IFNpbmdsZUd1dHRlclZpZXcodGhpcy52aWV3LCBjb25mKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmd1dHRlcnNba25vd25dLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBndXR0ZXJzLnB1c2godGhpcy5ndXR0ZXJzW2tub3duXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZyBvZiB0aGlzLmd1dHRlcnMpIHtcbiAgICAgICAgICAgICAgICBnLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3V0dGVycy5pbmRleE9mKGcpIDwgMClcbiAgICAgICAgICAgICAgICAgICAgZy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBnIG9mIGd1dHRlcnMpXG4gICAgICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoZy5kb20pO1xuICAgICAgICAgICAgdGhpcy5ndXR0ZXJzID0gZ3V0dGVycztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHRoaXMuZ3V0dGVycylcbiAgICAgICAgICAgIHZpZXcuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICB9XG59LCB7XG4gICAgcHJvdmlkZTogcGx1Z2luID0+IEVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucy5vZih2aWV3ID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmlldy5wbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5ndXR0ZXJzLmxlbmd0aCA9PSAwIHx8ICF2YWx1ZS5maXhlZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFJcbiAgICAgICAgICAgID8geyBsZWZ0OiB2YWx1ZS5kb20ub2Zmc2V0V2lkdGggKiB2aWV3LnNjYWxlWCB9XG4gICAgICAgICAgICA6IHsgcmlnaHQ6IHZhbHVlLmRvbS5vZmZzZXRXaWR0aCAqIHZpZXcuc2NhbGVYIH07XG4gICAgfSlcbn0pO1xuZnVuY3Rpb24gYXNBcnJheSh2YWwpIHsgcmV0dXJuIChBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXSk7IH1cbmZ1bmN0aW9uIGFkdmFuY2VDdXJzb3IoY3Vyc29yLCBjb2xsZWN0LCBwb3MpIHtcbiAgICB3aGlsZSAoY3Vyc29yLnZhbHVlICYmIGN1cnNvci5mcm9tIDw9IHBvcykge1xuICAgICAgICBpZiAoY3Vyc29yLmZyb20gPT0gcG9zKVxuICAgICAgICAgICAgY29sbGVjdC5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgfVxufVxuY2xhc3MgVXBkYXRlQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoZ3V0dGVyLCB2aWV3cG9ydCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZ3V0dGVyID0gZ3V0dGVyO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBSYW5nZVNldC5pdGVyKGd1dHRlci5tYXJrZXJzLCB2aWV3cG9ydC5mcm9tKTtcbiAgICB9XG4gICAgYWRkRWxlbWVudCh2aWV3LCBibG9jaywgbWFya2Vycykge1xuICAgICAgICBsZXQgeyBndXR0ZXIgfSA9IHRoaXMsIGFib3ZlID0gKGJsb2NrLnRvcCAtIHRoaXMuaGVpZ2h0KSAvIHZpZXcuc2NhbGVZLCBoZWlnaHQgPSBibG9jay5oZWlnaHQgLyB2aWV3LnNjYWxlWTtcbiAgICAgICAgaWYgKHRoaXMuaSA9PSBndXR0ZXIuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbmV3RWx0ID0gbmV3IEd1dHRlckVsZW1lbnQodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycyk7XG4gICAgICAgICAgICBndXR0ZXIuZWxlbWVudHMucHVzaChuZXdFbHQpO1xuICAgICAgICAgICAgZ3V0dGVyLmRvbS5hcHBlbmRDaGlsZChuZXdFbHQuZG9tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGd1dHRlci5lbGVtZW50c1t0aGlzLmldLnVwZGF0ZSh2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlaWdodCA9IGJsb2NrLmJvdHRvbTtcbiAgICAgICAgdGhpcy5pKys7XG4gICAgfVxuICAgIGxpbmUodmlldywgbGluZSwgZXh0cmFNYXJrZXJzKSB7XG4gICAgICAgIGxldCBsb2NhbE1hcmtlcnMgPSBbXTtcbiAgICAgICAgYWR2YW5jZUN1cnNvcih0aGlzLmN1cnNvciwgbG9jYWxNYXJrZXJzLCBsaW5lLmZyb20pO1xuICAgICAgICBpZiAoZXh0cmFNYXJrZXJzLmxlbmd0aClcbiAgICAgICAgICAgIGxvY2FsTWFya2VycyA9IGxvY2FsTWFya2Vycy5jb25jYXQoZXh0cmFNYXJrZXJzKTtcbiAgICAgICAgbGV0IGZvckxpbmUgPSB0aGlzLmd1dHRlci5jb25maWcubGluZU1hcmtlcih2aWV3LCBsaW5lLCBsb2NhbE1hcmtlcnMpO1xuICAgICAgICBpZiAoZm9yTGluZSlcbiAgICAgICAgICAgIGxvY2FsTWFya2Vycy51bnNoaWZ0KGZvckxpbmUpO1xuICAgICAgICBsZXQgZ3V0dGVyID0gdGhpcy5ndXR0ZXI7XG4gICAgICAgIGlmIChsb2NhbE1hcmtlcnMubGVuZ3RoID09IDAgJiYgIWd1dHRlci5jb25maWcucmVuZGVyRW1wdHlFbGVtZW50cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50KHZpZXcsIGxpbmUsIGxvY2FsTWFya2Vycyk7XG4gICAgfVxuICAgIHdpZGdldCh2aWV3LCBibG9jaykge1xuICAgICAgICBsZXQgbWFya2VyID0gdGhpcy5ndXR0ZXIuY29uZmlnLndpZGdldE1hcmtlcih2aWV3LCBibG9jay53aWRnZXQsIGJsb2NrKSwgbWFya2VycyA9IG1hcmtlciA/IFttYXJrZXJdIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgY2xzIG9mIHZpZXcuc3RhdGUuZmFjZXQoZ3V0dGVyV2lkZ2V0Q2xhc3MpKSB7XG4gICAgICAgICAgICBsZXQgbWFya2VyID0gY2xzKHZpZXcsIGJsb2NrLndpZGdldCwgYmxvY2spO1xuICAgICAgICAgICAgaWYgKG1hcmtlcilcbiAgICAgICAgICAgICAgICAobWFya2VycyB8fCAobWFya2VycyA9IFtdKSkucHVzaChtYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXJrZXJzKVxuICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KHZpZXcsIGJsb2NrLCBtYXJrZXJzKTtcbiAgICB9XG4gICAgZmluaXNoKCkge1xuICAgICAgICBsZXQgZ3V0dGVyID0gdGhpcy5ndXR0ZXI7XG4gICAgICAgIHdoaWxlIChndXR0ZXIuZWxlbWVudHMubGVuZ3RoID4gdGhpcy5pKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IGd1dHRlci5lbGVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIGd1dHRlci5kb20ucmVtb3ZlQ2hpbGQobGFzdC5kb20pO1xuICAgICAgICAgICAgbGFzdC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTaW5nbGVHdXR0ZXJWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5zcGFjZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZG9tLmNsYXNzTmFtZSA9IFwiY20tZ3V0dGVyXCIgKyAodGhpcy5jb25maWcuY2xhc3MgPyBcIiBcIiArIHRoaXMuY29uZmlnLmNsYXNzIDogXCJcIik7XG4gICAgICAgIGZvciAobGV0IHByb3AgaW4gY29uZmlnLmRvbUV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIocHJvcCwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldCwgeTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9IHRoaXMuZG9tICYmIHRoaXMuZG9tLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRhcmdldC5wYXJlbnROb2RlICE9IHRoaXMuZG9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB5ID0gKHJlY3QudG9wICsgcmVjdC5ib3R0b20pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXRIZWlnaHQoeSAtIHZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuZG9tRXZlbnRIYW5kbGVyc1twcm9wXSh2aWV3LCBsaW5lLCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcmtlcnMgPSBhc0FycmF5KGNvbmZpZy5tYXJrZXJzKHZpZXcpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pbml0aWFsU3BhY2VyKSB7XG4gICAgICAgICAgICB0aGlzLnNwYWNlciA9IG5ldyBHdXR0ZXJFbGVtZW50KHZpZXcsIDAsIDAsIFtjb25maWcuaW5pdGlhbFNwYWNlcih2aWV3KV0pO1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQodGhpcy5zcGFjZXIuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuc3BhY2VyLmRvbS5zdHlsZS5jc3NUZXh0ICs9IFwidmlzaWJpbGl0eTogaGlkZGVuOyBwb2ludGVyLWV2ZW50czogbm9uZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHByZXZNYXJrZXJzID0gdGhpcy5tYXJrZXJzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBhc0FycmF5KHRoaXMuY29uZmlnLm1hcmtlcnModXBkYXRlLnZpZXcpKTtcbiAgICAgICAgaWYgKHRoaXMuc3BhY2VyICYmIHRoaXMuY29uZmlnLnVwZGF0ZVNwYWNlcikge1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSB0aGlzLmNvbmZpZy51cGRhdGVTcGFjZXIodGhpcy5zcGFjZXIubWFya2Vyc1swXSwgdXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkICE9IHRoaXMuc3BhY2VyLm1hcmtlcnNbMF0pXG4gICAgICAgICAgICAgICAgdGhpcy5zcGFjZXIudXBkYXRlKHVwZGF0ZS52aWV3LCAwLCAwLCBbdXBkYXRlZF0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2cCA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgICAgICByZXR1cm4gIVJhbmdlU2V0LmVxKHRoaXMubWFya2VycywgcHJldk1hcmtlcnMsIHZwLmZyb20sIHZwLnRvKSB8fFxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLmxpbmVNYXJrZXJDaGFuZ2UgPyB0aGlzLmNvbmZpZy5saW5lTWFya2VyQ2hhbmdlKHVwZGF0ZSkgOiBmYWxzZSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGVsdCBvZiB0aGlzLmVsZW1lbnRzKVxuICAgICAgICAgICAgZWx0LmRlc3Ryb3koKTtcbiAgICB9XG59XG5jbGFzcyBHdXR0ZXJFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG4gICAgICAgIHRoaXMuYWJvdmUgPSAwO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlckVsZW1lbnRcIjtcbiAgICAgICAgdGhpcy51cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycyk7XG4gICAgfVxuICAgIHVwZGF0ZSh2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFib3ZlICE9IGFib3ZlKVxuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUubWFyZ2luVG9wID0gKHRoaXMuYWJvdmUgPSBhYm92ZSkgPyBhYm92ZSArIFwicHhcIiA6IFwiXCI7XG4gICAgICAgIGlmICghc2FtZU1hcmtlcnModGhpcy5tYXJrZXJzLCBtYXJrZXJzKSlcbiAgICAgICAgICAgIHRoaXMuc2V0TWFya2Vycyh2aWV3LCBtYXJrZXJzKTtcbiAgICB9XG4gICAgc2V0TWFya2Vycyh2aWV3LCBtYXJrZXJzKSB7XG4gICAgICAgIGxldCBjbHMgPSBcImNtLWd1dHRlckVsZW1lbnRcIiwgZG9tUG9zID0gdGhpcy5kb20uZmlyc3RDaGlsZDtcbiAgICAgICAgZm9yIChsZXQgaU5ldyA9IDAsIGlPbGQgPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBza2lwVG8gPSBpT2xkLCBtYXJrZXIgPSBpTmV3IDwgbWFya2Vycy5sZW5ndGggPyBtYXJrZXJzW2lOZXcrK10gOiBudWxsLCBtYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBtYXJrZXIuZWxlbWVudENsYXNzO1xuICAgICAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAgICAgICAgICBjbHMgKz0gXCIgXCIgKyBjO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpT2xkOyBpIDwgdGhpcy5tYXJrZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXJrZXJzW2ldLmNvbXBhcmUobWFya2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFRvID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNraXBUbyA9IHRoaXMubWFya2Vycy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaU9sZCA8IHNraXBUbykge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5tYXJrZXJzW2lPbGQrK107XG4gICAgICAgICAgICAgICAgaWYgKG5leHQudG9ET00pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5kZXN0cm95KGRvbVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBkb21Qb3MgPSBhZnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hcmtlcilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChtYXJrZXIudG9ET00pIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zID0gZG9tUG9zLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uaW5zZXJ0QmVmb3JlKG1hcmtlci50b0RPTSh2aWV3KSwgZG9tUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaGVkKVxuICAgICAgICAgICAgICAgIGlPbGQrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBjbHM7XG4gICAgICAgIHRoaXMubWFya2VycyA9IG1hcmtlcnM7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc2V0TWFya2VycyhudWxsLCBbXSk7IC8vIEZpcnN0IGFyZ3VtZW50IG5vdCB1c2VkIHVubGVzcyBjcmVhdGluZyBtYXJrZXJzXG4gICAgfVxufVxuZnVuY3Rpb24gc2FtZU1hcmtlcnMoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCFhW2ldLmNvbXBhcmUoYltpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbkZhY2V0IHVzZWQgdG8gcHJvdmlkZSBtYXJrZXJzIHRvIHRoZSBsaW5lIG51bWJlciBndXR0ZXIuXG4qL1xuY29uc3QgbGluZU51bWJlck1hcmtlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkZhY2V0IHVzZWQgdG8gY3JlYXRlIG1hcmtlcnMgaW4gdGhlIGxpbmUgbnVtYmVyIGd1dHRlciBuZXh0IHRvIHdpZGdldHMuXG4qL1xuY29uc3QgbGluZU51bWJlcldpZGdldE1hcmtlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGxpbmVOdW1iZXJDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyh2YWx1ZXMsIHsgZm9ybWF0TnVtYmVyOiBTdHJpbmcsIGRvbUV2ZW50SGFuZGxlcnM6IHt9IH0sIHtcbiAgICAgICAgICAgIGRvbUV2ZW50SGFuZGxlcnMoYSwgYikge1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBhKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBldmVudCBpbiBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBleGlzdHMgPSByZXN1bHRbZXZlbnRdLCBhZGQgPSBiW2V2ZW50XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2V2ZW50XSA9IGV4aXN0cyA/ICh2aWV3LCBsaW5lLCBldmVudCkgPT4gZXhpc3RzKHZpZXcsIGxpbmUsIGV2ZW50KSB8fCBhZGQodmlldywgbGluZSwgZXZlbnQpIDogYWRkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmNsYXNzIE51bWJlck1hcmtlciBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IobnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy5udW1iZXIgPT0gb3RoZXIubnVtYmVyOyB9XG4gICAgdG9ET00oKSB7IHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm51bWJlcik7IH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcih2aWV3LCBudW1iZXIpIHtcbiAgICByZXR1cm4gdmlldy5zdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKS5mb3JtYXROdW1iZXIobnVtYmVyLCB2aWV3LnN0YXRlKTtcbn1cbmNvbnN0IGxpbmVOdW1iZXJHdXR0ZXIgPSAvKkBfX1BVUkVfXyovYWN0aXZlR3V0dGVycy5jb21wdXRlKFtsaW5lTnVtYmVyQ29uZmlnXSwgc3RhdGUgPT4gKHtcbiAgICBjbGFzczogXCJjbS1saW5lTnVtYmVyc1wiLFxuICAgIHJlbmRlckVtcHR5RWxlbWVudHM6IGZhbHNlLFxuICAgIG1hcmtlcnModmlldykgeyByZXR1cm4gdmlldy5zdGF0ZS5mYWNldChsaW5lTnVtYmVyTWFya2Vycyk7IH0sXG4gICAgbGluZU1hcmtlcih2aWV3LCBsaW5lLCBvdGhlcnMpIHtcbiAgICAgICAgaWYgKG90aGVycy5zb21lKG0gPT4gbS50b0RPTSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJNYXJrZXIoZm9ybWF0TnVtYmVyKHZpZXcsIHZpZXcuc3RhdGUuZG9jLmxpbmVBdChsaW5lLmZyb20pLm51bWJlcikpO1xuICAgIH0sXG4gICAgd2lkZ2V0TWFya2VyOiAodmlldywgd2lkZ2V0LCBibG9jaykgPT4ge1xuICAgICAgICBmb3IgKGxldCBtIG9mIHZpZXcuc3RhdGUuZmFjZXQobGluZU51bWJlcldpZGdldE1hcmtlcikpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBtKHZpZXcsIHdpZGdldCwgYmxvY2spO1xuICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgbGluZU1hcmtlckNoYW5nZTogdXBkYXRlID0+IHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKSxcbiAgICBpbml0aWFsU3BhY2VyKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJNYXJrZXIoZm9ybWF0TnVtYmVyKHZpZXcsIG1heExpbmVOdW1iZXIodmlldy5zdGF0ZS5kb2MubGluZXMpKSk7XG4gICAgfSxcbiAgICB1cGRhdGVTcGFjZXIoc3BhY2VyLCB1cGRhdGUpIHtcbiAgICAgICAgbGV0IG1heCA9IGZvcm1hdE51bWJlcih1cGRhdGUudmlldywgbWF4TGluZU51bWJlcih1cGRhdGUudmlldy5zdGF0ZS5kb2MubGluZXMpKTtcbiAgICAgICAgcmV0dXJuIG1heCA9PSBzcGFjZXIubnVtYmVyID8gc3BhY2VyIDogbmV3IE51bWJlck1hcmtlcihtYXgpO1xuICAgIH0sXG4gICAgZG9tRXZlbnRIYW5kbGVyczogc3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZykuZG9tRXZlbnRIYW5kbGVyc1xufSkpO1xuLyoqXG5DcmVhdGUgYSBsaW5lIG51bWJlciBndXR0ZXIgZXh0ZW5zaW9uLlxuKi9cbmZ1bmN0aW9uIGxpbmVOdW1iZXJzKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbGluZU51bWJlckNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBndXR0ZXJzKCksXG4gICAgICAgIGxpbmVOdW1iZXJHdXR0ZXJcbiAgICBdO1xufVxuZnVuY3Rpb24gbWF4TGluZU51bWJlcihsaW5lcykge1xuICAgIGxldCBsYXN0ID0gOTtcbiAgICB3aGlsZSAobGFzdCA8IGxpbmVzKVxuICAgICAgICBsYXN0ID0gbGFzdCAqIDEwICsgOTtcbiAgICByZXR1cm4gbGFzdDtcbn1cbmNvbnN0IGFjdGl2ZUxpbmVHdXR0ZXJNYXJrZXIgPSAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgR3V0dGVyTWFya2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Q2xhc3MgPSBcImNtLWFjdGl2ZUxpbmVHdXR0ZXJcIjtcbiAgICB9XG59O1xuY29uc3QgYWN0aXZlTGluZUd1dHRlckhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL2d1dHRlckxpbmVDbGFzcy5jb21wdXRlKFtcInNlbGVjdGlvblwiXSwgc3RhdGUgPT4ge1xuICAgIGxldCBtYXJrcyA9IFtdLCBsYXN0ID0gLTE7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2Ygc3RhdGUuc2VsZWN0aW9uLnJhbmdlcykge1xuICAgICAgICBsZXQgbGluZVBvcyA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UuaGVhZCkuZnJvbTtcbiAgICAgICAgaWYgKGxpbmVQb3MgPiBsYXN0KSB7XG4gICAgICAgICAgICBsYXN0ID0gbGluZVBvcztcbiAgICAgICAgICAgIG1hcmtzLnB1c2goYWN0aXZlTGluZUd1dHRlck1hcmtlci5yYW5nZShsaW5lUG9zKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFJhbmdlU2V0Lm9mKG1hcmtzKTtcbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgYSBgY20tYWN0aXZlTGluZUd1dHRlcmAgY2xhc3MgdG9cbmFsbCBndXR0ZXIgZWxlbWVudHMgb24gdGhlIFthY3RpdmVcbmxpbmVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5oaWdobGlnaHRBY3RpdmVMaW5lKS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyKCkge1xuICAgIHJldHVybiBhY3RpdmVMaW5lR3V0dGVySGlnaGxpZ2h0ZXI7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXIoZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIFZpZXdQbHVnaW4uZGVmaW5lKHZpZXcgPT4gKHtcbiAgICAgICAgZGVjb3JhdGlvbnM6IGRlY29yYXRvci5jcmVhdGVEZWNvKHZpZXcpLFxuICAgICAgICB1cGRhdGUodSkge1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IGRlY29yYXRvci51cGRhdGVEZWNvKHUsIHRoaXMuZGVjb3JhdGlvbnMpO1xuICAgICAgICB9LFxuICAgIH0pLCB7XG4gICAgICAgIGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnNcbiAgICB9KTtcbn1cbmNvbnN0IHRhYkRlY28gPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taGlnaGxpZ2h0VGFiXCIgfSk7XG5jb25zdCBzcGFjZURlY28gPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20taGlnaGxpZ2h0U3BhY2VcIiB9KTtcbmNvbnN0IHdoaXRlc3BhY2VIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9tYXRjaGVyKC8qQF9fUFVSRV9fKi9uZXcgTWF0Y2hEZWNvcmF0b3Ioe1xuICAgIHJlZ2V4cDogL1xcdHwgL2csXG4gICAgZGVjb3JhdGlvbjogbWF0Y2ggPT4gbWF0Y2hbMF0gPT0gXCJcXHRcIiA/IHRhYkRlY28gOiBzcGFjZURlY28sXG4gICAgYm91bmRhcnk6IC9cXFMvLFxufSkpO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGhpZ2hsaWdodHMgd2hpdGVzcGFjZSwgYWRkaW5nIGFcbmBjbS1oaWdobGlnaHRTcGFjZWAgY2xhc3MgdG8gc3RyZXRjaGVzIG9mIHNwYWNlcywgYW5kIGFcbmBjbS1oaWdobGlnaHRUYWJgIGNsYXNzIHRvIGluZGl2aWR1YWwgdGFiIGNoYXJhY3RlcnMuIEJ5IGRlZmF1bHQsXG50aGUgZm9ybWVyIGFyZSBzaG93biBhcyBmYWludCBkb3RzLCBhbmQgdGhlIGxhdHRlciBhcyBhcnJvd3MuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0V2hpdGVzcGFjZSgpIHtcbiAgICByZXR1cm4gd2hpdGVzcGFjZUhpZ2hsaWdodGVyO1xufVxuY29uc3QgdHJhaWxpbmdIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9tYXRjaGVyKC8qQF9fUFVSRV9fKi9uZXcgTWF0Y2hEZWNvcmF0b3Ioe1xuICAgIHJlZ2V4cDogL1xccyskL2csXG4gICAgZGVjb3JhdGlvbjogLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLXRyYWlsaW5nU3BhY2VcIiB9KSxcbiAgICBib3VuZGFyeTogL1xcUy8sXG59KSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgYWRkcyBhIGBjbS10cmFpbGluZ1NwYWNlYCBjbGFzcyB0byBhbGxcbnRyYWlsaW5nIHdoaXRlc3BhY2UuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0VHJhaWxpbmdXaGl0ZXNwYWNlKCkge1xuICAgIHJldHVybiB0cmFpbGluZ0hpZ2hsaWdodGVyO1xufVxuXG4vKipcbkBpbnRlcm5hbFxuKi9cbmNvbnN0IF9fdGVzdCA9IHsgSGVpZ2h0TWFwLCBIZWlnaHRPcmFjbGUsIE1lYXN1cmVkSGVpZ2h0cywgUXVlcnlUeXBlLCBDaGFuZ2VkUmFuZ2UsIGNvbXB1dGVPcmRlcixcbiAgICBtb3ZlVmlzdWFsbHksIGNsZWFySGVpZ2h0Q2hhbmdlRmxhZywgZ2V0SGVpZ2h0Q2hhbmdlRmxhZzogKCkgPT4gaGVpZ2h0Q2hhbmdlRmxhZyB9O1xuXG5leHBvcnQgeyBCaWRpU3BhbiwgQmxvY2tJbmZvLCBCbG9ja1R5cGUsIERlY29yYXRpb24sIERpcmVjdGlvbiwgRWRpdG9yVmlldywgR3V0dGVyTWFya2VyLCBNYXRjaERlY29yYXRvciwgUmVjdGFuZ2xlTWFya2VyLCBWaWV3UGx1Z2luLCBWaWV3VXBkYXRlLCBXaWRnZXRUeXBlLCBfX3Rlc3QsIGNsb3NlSG92ZXJUb29sdGlwcywgY3Jvc3NoYWlyQ3Vyc29yLCBkcmF3U2VsZWN0aW9uLCBkcm9wQ3Vyc29yLCBnZXREcmF3U2VsZWN0aW9uQ29uZmlnLCBnZXRQYW5lbCwgZ2V0VG9vbHRpcCwgZ3V0dGVyLCBndXR0ZXJMaW5lQ2xhc3MsIGd1dHRlcldpZGdldENsYXNzLCBndXR0ZXJzLCBoYXNIb3ZlclRvb2x0aXBzLCBoaWdobGlnaHRBY3RpdmVMaW5lLCBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyLCBoaWdobGlnaHRTcGVjaWFsQ2hhcnMsIGhpZ2hsaWdodFRyYWlsaW5nV2hpdGVzcGFjZSwgaGlnaGxpZ2h0V2hpdGVzcGFjZSwgaG92ZXJUb29sdGlwLCBrZXltYXAsIGxheWVyLCBsaW5lTnVtYmVyTWFya2VycywgbGluZU51bWJlcldpZGdldE1hcmtlciwgbGluZU51bWJlcnMsIGxvZ0V4Y2VwdGlvbiwgcGFuZWxzLCBwbGFjZWhvbGRlciwgcmVjdGFuZ3VsYXJTZWxlY3Rpb24sIHJlcG9zaXRpb25Ub29sdGlwcywgcnVuU2NvcGVIYW5kbGVycywgc2Nyb2xsUGFzdEVuZCwgc2hvd1BhbmVsLCBzaG93VG9vbHRpcCwgdG9vbHRpcHMgfTtcbiJdLCJuYW1lcyI6WyJfZGVmYXVsdHMiLCJhc3luYyIsImJyZWFrcyIsImV4dGVuc2lvbnMiLCJnZm0iLCJob29rcyIsInBlZGFudGljIiwicmVuZGVyZXIiLCJzaWxlbnQiLCJ0b2tlbml6ZXIiLCJ3YWxrVG9rZW5zIiwiY2hhbmdlRGVmYXVsdHMiLCJuZXdEZWZhdWx0cyIsIm5vb3BUZXN0IiwiZXhlYyIsImVkaXQiLCJyZWdleCIsIm9wdCIsInNvdXJjZSIsIm9iaiIsInJlcGxhY2UiLCJuYW1lIiwidmFsIiwidmFsU291cmNlIiwib3RoZXIiLCJjYXJldCIsImdldFJlZ2V4IiwiUmVnRXhwIiwiY29kZVJlbW92ZUluZGVudCIsIm91dHB1dExpbmtSZXBsYWNlIiwiaW5kZW50Q29kZUNvbXBlbnNhdGlvbiIsImJlZ2lubmluZ1NwYWNlIiwiZW5kaW5nSGFzaCIsInN0YXJ0aW5nU3BhY2VDaGFyIiwiZW5kaW5nU3BhY2VDaGFyIiwibm9uU3BhY2VDaGFyIiwibmV3TGluZUNoYXJHbG9iYWwiLCJ0YWJDaGFyR2xvYmFsIiwibXVsdGlwbGVTcGFjZUdsb2JhbCIsImJsYW5rTGluZSIsImRvdWJsZUJsYW5rTGluZSIsImJsb2NrcXVvdGVTdGFydCIsImJsb2NrcXVvdGVTZXRleHRSZXBsYWNlIiwiYmxvY2txdW90ZVNldGV4dFJlcGxhY2UyIiwibGlzdFJlcGxhY2VUYWJzIiwibGlzdFJlcGxhY2VOZXN0aW5nIiwibGlzdElzVGFzayIsImxpc3RSZXBsYWNlVGFzayIsImFueUxpbmUiLCJocmVmQnJhY2tldHMiLCJ0YWJsZURlbGltaXRlciIsInRhYmxlQWxpZ25DaGFycyIsInRhYmxlUm93QmxhbmtMaW5lIiwidGFibGVBbGlnblJpZ2h0IiwidGFibGVBbGlnbkNlbnRlciIsInRhYmxlQWxpZ25MZWZ0Iiwic3RhcnRBVGFnIiwiZW5kQVRhZyIsInN0YXJ0UHJlU2NyaXB0VGFnIiwiZW5kUHJlU2NyaXB0VGFnIiwic3RhcnRBbmdsZUJyYWNrZXQiLCJlbmRBbmdsZUJyYWNrZXQiLCJwZWRhbnRpY0hyZWZUaXRsZSIsInVuaWNvZGVBbHBoYU51bWVyaWMiLCJlc2NhcGVUZXN0IiwiZXNjYXBlUmVwbGFjZSIsImVzY2FwZVRlc3ROb0VuY29kZSIsImVzY2FwZVJlcGxhY2VOb0VuY29kZSIsInVuZXNjYXBlVGVzdCIsInBlcmNlbnREZWNvZGUiLCJmaW5kUGlwZSIsInNwbGl0UGlwZSIsInNsYXNoUGlwZSIsImNhcnJpYWdlUmV0dXJuIiwic3BhY2VMaW5lIiwibm90U3BhY2VTdGFydCIsImVuZGluZ05ld2xpbmUiLCJsaXN0SXRlbVJlZ2V4IiwiYnVsbCIsIm5leHRCdWxsZXRSZWdleCIsImluZGVudCIsIk1hdGgiLCJtaW4iLCJoclJlZ2V4IiwiZmVuY2VzQmVnaW5SZWdleCIsImhlYWRpbmdCZWdpblJlZ2V4IiwiaHRtbEJlZ2luUmVnZXgiLCJociIsImJ1bGxldCIsImxoZWFkaW5nQ29yZSIsImxoZWFkaW5nIiwibGhlYWRpbmdHZm0iLCJfcGFyYWdyYXBoIiwiX2Jsb2NrTGFiZWwiLCJkZWYiLCJsaXN0IiwiX3RhZyIsIl9jb21tZW50IiwiaHRtbCIsInBhcmFncmFwaCIsImJsb2NrTm9ybWFsIiwiYmxvY2txdW90ZSIsImNvZGUiLCJmZW5jZXMiLCJoZWFkaW5nIiwibmV3bGluZSIsInRhYmxlIiwidGV4dCIsImdmbVRhYmxlIiwiYmxvY2tHZm0iLCJibG9ja1BlZGFudGljIiwiYnIiLCJfcHVuY3R1YXRpb24iLCJfcHVuY3R1YXRpb25PclNwYWNlIiwiX25vdFB1bmN0dWF0aW9uT3JTcGFjZSIsInB1bmN0dWF0aW9uIiwiX3B1bmN0dWF0aW9uR2ZtU3Ryb25nRW0iLCJlbVN0cm9uZ0xEZWxpbUNvcmUiLCJlbVN0cm9uZ0xEZWxpbSIsImVtU3Ryb25nTERlbGltR2ZtIiwiZW1TdHJvbmdSRGVsaW1Bc3RDb3JlIiwiZW1TdHJvbmdSRGVsaW1Bc3QiLCJlbVN0cm9uZ1JEZWxpbUFzdEdmbSIsImVtU3Ryb25nUkRlbGltVW5kIiwiYW55UHVuY3R1YXRpb24iLCJhdXRvbGluayIsIl9pbmxpbmVDb21tZW50IiwidGFnIiwiX2lubGluZUxhYmVsIiwibGluayIsInJlZmxpbmsiLCJub2xpbmsiLCJpbmxpbmVOb3JtYWwiLCJfYmFja3BlZGFsIiwiYmxvY2tTa2lwIiwiZGVsIiwiZXNjYXBlIiwicmVmbGlua1NlYXJjaCIsInVybCIsImlubGluZVBlZGFudGljIiwiaW5saW5lR2ZtIiwiaW5saW5lQnJlYWtzIiwiYmxvY2siLCJub3JtYWwiLCJpbmxpbmUiLCJlc2NhcGVSZXBsYWNlbWVudHMiLCJnZXRFc2NhcGVSZXBsYWNlbWVudCIsImNoIiwiZW5jb2RlIiwidGVzdCIsImNsZWFuVXJsIiwiaHJlZiIsImVuY29kZVVSSSIsInNwbGl0Q2VsbHMiLCJ0YWJsZVJvdyIsImNvdW50IiwiY2VsbHMiLCJtYXRjaCIsIm9mZnNldCIsInN0ciIsImVzY2FwZWQiLCJjdXJyIiwic3BsaXQiLCJpIiwidHJpbSIsInNoaWZ0IiwibGVuZ3RoIiwiYXQiLCJwb3AiLCJzcGxpY2UiLCJwdXNoIiwicnRyaW0iLCJjIiwiaW52ZXJ0IiwibCIsInN1ZmZMZW4iLCJjaGFyQXQiLCJzbGljZSIsIm91dHB1dExpbmsiLCJjYXAiLCJyYXciLCJsZXhlciIsInJ1bGVzIiwidGl0bGUiLCJzdGF0ZSIsImluTGluayIsInRva2VuIiwidHlwZSIsInRva2VucyIsImlubGluZVRva2VucyIsIl9Ub2tlbml6ZXIiLCJvcHRpb25zIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwic3BhY2UiLCJzcmMiLCJjb2RlQmxvY2tTdHlsZSIsIm1hdGNoSW5kZW50VG9Db2RlIiwiaW5kZW50VG9Db2RlIiwibWFwIiwibm9kZSIsIm1hdGNoSW5kZW50SW5Ob2RlIiwiaW5kZW50SW5Ob2RlIiwiam9pbiIsImxhbmciLCJ0cmltbWVkIiwiZGVwdGgiLCJsaW5lcyIsImluQmxvY2txdW90ZSIsImN1cnJlbnRMaW5lcyIsImN1cnJlbnRSYXciLCJjdXJyZW50VGV4dCIsInRvcCIsImJsb2NrVG9rZW5zIiwibGFzdFRva2VuIiwib2xkVG9rZW4iLCJuZXdUZXh0IiwibmV3VG9rZW4iLCJzdWJzdHJpbmciLCJpc29yZGVyZWQiLCJvcmRlcmVkIiwic3RhcnQiLCJsb29zZSIsIml0ZW1zIiwiaXRlbVJlZ2V4IiwiZW5kc1dpdGhCbGFua0xpbmUiLCJlbmRFYXJseSIsIml0ZW1Db250ZW50cyIsImxpbmUiLCJ0IiwicmVwZWF0IiwibmV4dExpbmUiLCJ0cmltU3RhcnQiLCJzZWFyY2giLCJyYXdMaW5lIiwibmV4dExpbmVXaXRob3V0VGFicyIsImlzY2hlY2tlZCIsImlzdGFzayIsInRhc2siLCJjaGVja2VkIiwibGFzdEl0ZW0iLCJ0cmltRW5kIiwic3BhY2VycyIsImZpbHRlciIsImhhc011bHRpcGxlTGluZUJyZWFrcyIsInNvbWUiLCJwcmUiLCJ0b0xvd2VyQ2FzZSIsImhlYWRlcnMiLCJhbGlnbnMiLCJyb3dzIiwiaXRlbSIsImhlYWRlciIsImFsaWduIiwicm93IiwiY2VsbCIsImluUmF3QmxvY2siLCJ0cmltbWVkVXJsIiwicnRyaW1TbGFzaCIsImxhc3RQYXJlbkluZGV4IiwiYiIsImluZGV4T2YiLCJsZXZlbCIsImZpbmRDbG9zaW5nQnJhY2tldCIsImxpbmtMZW4iLCJsaW5rcyIsImVtU3Ryb25nIiwibWFza2VkU3JjIiwicHJldkNoYXIiLCJsTGVuZ3RoIiwickRlbGltIiwickxlbmd0aCIsImRlbGltVG90YWwiLCJtaWREZWxpbVRvdGFsIiwiZW5kUmVnIiwibGFzdEluZGV4IiwibGFzdENoYXJMZW5ndGgiLCJpbmRleCIsImNvZGVzcGFuIiwiaGFzTm9uU3BhY2VDaGFycyIsImhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzIiwicHJldkNhcFplcm8iLCJpbmxpbmVUZXh0IiwiX0xleGVyIiwiaW5saW5lUXVldWUiLCJPYmplY3QiLCJjcmVhdGUiLCJsZXgiLCJsZXhJbmxpbmUiLCJuZXh0IiwibGFzdFBhcmFncmFwaENsaXBwZWQiLCJleHRUb2tlbml6ZXIiLCJjYWxsIiwidW5kZWZpbmVkIiwiY3V0U3JjIiwic3RhcnRCbG9jayIsInN0YXJ0SW5kZXgiLCJJbmZpbml0eSIsInRlbXBTcmMiLCJ0ZW1wU3RhcnQiLCJmb3JFYWNoIiwiZ2V0U3RhcnRJbmRleCIsImVyck1zZyIsImNoYXJDb2RlQXQiLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsImtleXMiLCJpbmNsdWRlcyIsImxhc3RJbmRleE9mIiwia2VlcFByZXZDaGFyIiwic3RhcnRJbmxpbmUiLCJfUmVuZGVyZXIiLCJwYXJzZXIiLCJsYW5nU3RyaW5nIiwicGFyc2UiLCJwYXJzZUlubGluZSIsImJvZHkiLCJqIiwibGlzdGl0ZW0iLCJpdGVtQm9keSIsImNoZWNrYm94IiwidW5zaGlmdCIsInRhYmxlY2VsbCIsInRhYmxlcm93IiwiayIsImNvbnRlbnQiLCJzdHJvbmciLCJlbSIsImNsZWFuSHJlZiIsIm91dCIsImltYWdlIiwidGV4dFJlbmRlcmVyIiwiX1RleHRSZW5kZXJlciIsIl9QYXJzZXIiLCJhbnlUb2tlbiIsInJlbmRlcmVycyIsImdlbmVyaWNUb2tlbiIsInJldCIsInRleHRUb2tlbiIsIl9Ib29rcyIsInN0YXRpYyIsIlNldCIsInByZXByb2Nlc3MiLCJtYXJrZG93biIsInBvc3Rwcm9jZXNzIiwicHJvY2Vzc0FsbFRva2VucyIsInByb3ZpZGVMZXhlciIsInByb3ZpZGVQYXJzZXIiLCJtYXJrZWRJbnN0YW5jZSIsImRlZmF1bHRzIiwic2V0T3B0aW9ucyIsInBhcnNlTWFya2Rvd24iLCJQYXJzZXIiLCJSZW5kZXJlciIsIlRleHRSZW5kZXJlciIsIkxleGVyIiwiVG9rZW5pemVyIiwiSG9va3MiLCJhcmdzIiwidXNlIiwiY2FsbGJhY2siLCJ2YWx1ZXMiLCJjb25jYXQiLCJ0YWJsZVRva2VuIiwibGlzdFRva2VuIiwiY2hpbGRUb2tlbnMiLCJmbGF0IiwicGFjayIsIm9wdHMiLCJleHQiLCJwcmV2UmVuZGVyZXIiLCJhcHBseSIsImV4dExldmVsIiwicHJvcCIsInJlbmRlcmVyUHJvcCIsInJlbmRlcmVyRnVuYyIsInRva2VuaXplclByb3AiLCJ0b2tlbml6ZXJGdW5jIiwicHJldlRva2VuaXplciIsImhvb2tzUHJvcCIsImhvb2tzRnVuYyIsInByZXZIb29rIiwicGFzc1Rocm91Z2hIb29rcyIsImhhcyIsImFyZyIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInBhY2tXYWxrdG9rZW5zIiwiYmxvY2tUeXBlIiwib3JpZ09wdCIsInRocm93RXJyb3IiLCJvbkVycm9yIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJhbGwiLCJjYXRjaCIsImUiLCJtZXNzYWdlIiwibXNnIiwicmVqZWN0IiwibWFya2VkIiwiZ2V0RGVmYXVsdHMiLCJtb2R1bGUiLCJleHBvcnRzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJEZWZhdWx0QnVmZmVyTGVuZ3RoIiwibmV4dFByb3BJRCIsIlJhbmdlIiwiZnJvbSIsInRvIiwiTm9kZVByb3AiLCJjb25maWciLCJpZCIsInBlck5vZGUiLCJkZXNlcmlhbGl6ZSIsImFkZCIsIlJhbmdlRXJyb3IiLCJOb2RlVHlwZSIsInJlc3VsdCIsImNsb3NlZEJ5Iiwib3BlbmVkQnkiLCJncm91cCIsImlzb2xhdGUiLCJ2YWx1ZSIsImNvbnRleHRIYXNoIiwibG9va0FoZWFkIiwibW91bnRlZCIsIk1vdW50ZWRUcmVlIiwidHJlZSIsIm92ZXJsYXkiLCJnZXQiLCJwcm9wcyIsIm5vUHJvcHMiLCJmbGFncyIsImRlZmluZSIsInNwZWMiLCJza2lwcGVkIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNUb3AiLCJpc1NraXBwZWQiLCJpc0Vycm9yIiwiaXNBbm9ueW1vdXMiLCJpcyIsImRpcmVjdCIsImdyb3VwcyIsImZvdW5kIiwibm9uZSIsIkNhY2hlZE5vZGUiLCJXZWFrTWFwIiwiQ2FjaGVkSW5uZXJOb2RlIiwiSXRlck1vZGUiLCJUcmVlIiwiY2hpbGRyZW4iLCJwb3NpdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiY3Vyc29yIiwibW9kZSIsIlRyZWVDdXJzb3IiLCJ0b3BOb2RlIiwiY3Vyc29yQXQiLCJwb3MiLCJzaWRlIiwic2NvcGUiLCJtb3ZlVG8iLCJzZXQiLCJfdHJlZSIsIlRyZWVOb2RlIiwicmVzb2x2ZU5vZGUiLCJyZXNvbHZlSW5uZXIiLCJyZXNvbHZlU3RhY2siLCJpbm5lciIsImxheWVycyIsInNjYW4iLCJjb250ZXh0IiwicGFyZW50IiwibW91bnQiLCJyb290IiwiaXRlclN0YWNrIiwic3RhY2tJdGVyYXRvciIsIml0ZXJhdGUiLCJlbnRlciIsImxlYXZlIiwiYW5vbiIsIkluY2x1ZGVBbm9ueW1vdXMiLCJlbnRlcmVkIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwicHJvcFZhbHVlcyIsImJhbGFuY2UiLCJiYWxhbmNlUmFuZ2UiLCJtYWtlVHJlZSIsImJ1aWxkIiwiZGF0YSIsIl9hIiwiYnVmZmVyIiwibm9kZVNldCIsIm1heEJ1ZmZlckxlbmd0aCIsInJldXNlZCIsIm1pblJlcGVhdFR5cGUiLCJ0eXBlcyIsIkZsYXRCdWZmZXJDdXJzb3IiLCJ0YWtlTm9kZSIsInBhcmVudFN0YXJ0IiwibWluUG9zIiwiaW5SZXBlYXQiLCJlbmQiLCJzaXplIiwibG9va0FoZWFkQXRTdGFydCIsImNvbnRleHRBdFN0YXJ0Iiwic3RhcnRQb3MiLCJtYXhTaXplIiwiZm9yayIsInNraXAiLCJtaW5TdGFydCIsIm5vZGVTaXplIiwibG9jYWxTa2lwcGVkIiwibm9kZVN0YXJ0IiwiZmluZEJ1ZmZlclNpemUiLCJVaW50MTZBcnJheSIsImVuZFBvcyIsImNvcHlUb0J1ZmZlciIsIlRyZWVCdWZmZXIiLCJsb2NhbENoaWxkcmVuIiwibG9jYWxQb3NpdGlvbnMiLCJsb2NhbEluUmVwZWF0IiwibGFzdEdyb3VwIiwibGFzdEVuZCIsIm1ha2VSZXBlYXRMZWFmIiwidGFrZUZsYXROb2RlIiwicmV2ZXJzZSIsIm1ha2UiLCJsYXN0IiwibG9va0FoZWFkUHJvcCIsImxhc3RJIiwibWFrZUJhbGFuY2VkIiwibm9kZXMiLCJub2RlQ291bnQiLCJzdG9wQXQiLCJiYXNlIiwicGFpciIsImJ1ZmZlclN0YXJ0IiwidG9wSUQiLCJidWlsZFRyZWUiLCJlbXB0eSIsImNoaWxkU3RyaW5nIiwiZW5kSW5kZXgiLCJmaW5kQ2hpbGQiLCJkaXIiLCJwaWNrIiwiY2hlY2tTaWRlIiwic3RhcnRJIiwiZW5kSSIsImNvcHkiLCJsZW4iLCJtYXgiLCJvdmVybGF5cyIsIklnbm9yZU92ZXJsYXlzIiwiQmFzZU5vZGUiLCJnZXRDaGlsZCIsImJlZm9yZSIsImFmdGVyIiwiciIsImdldENoaWxkcmVuIiwibWF0Y2hDb250ZXh0IiwibWF0Y2hOb2RlQ29udGV4dCIsImVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlIiwiY2hpbGRCZWZvcmUiLCJsYXN0Q2hpbGQiLCJwcmV2U2libGluZyIsIl9wYXJlbnQiLCJzdXBlciIsIm5leHRDaGlsZCIsIkV4Y2x1ZGVCdWZmZXJzIiwiQnVmZmVyTm9kZSIsIkJ1ZmZlckNvbnRleHQiLCJoYXNDaGlsZCIsIklnbm9yZU1vdW50cyIsImNoaWxkQWZ0ZXIiLCJyUG9zIiwibmV4dFNpZ25pZmljYW50UGFyZW50IiwidG9UcmVlIiwiY3VyIiwicCIsImNoaWxkIiwiZXh0ZXJuYWxTaWJsaW5nIiwiaGVhZHMiLCJwaWNrZWQiLCJuZXdIZWFkcyIsIlN0YWNrSXRlcmF0b3IiLCJzdGFjayIsImJ1ZmZlck5vZGUiLCJ5aWVsZE5vZGUiLCJuIiwieWllbGRCdWYiLCJ5aWVsZCIsImVudGVyQ2hpbGQiLCJzaWJsaW5nIiwiZCIsImF0TGFzdE5vZGUiLCJtb3ZlIiwicHJldiIsImNhY2hlIiwibXVzdExlYXZlIiwibm9kZVNpemVDYWNoZSIsImJhbGFuY2VUeXBlIiwibWtUb3AiLCJta1RyZWUiLCJ0b3RhbCIsIm1heENoaWxkIiwiY2VpbCIsImRpdmlkZSIsImdyb3VwRnJvbSIsImdyb3VwU3RhcnQiLCJncm91cFNpemUiLCJuZXh0U2l6ZSIsIm9ubHkiLCJUcmVlRnJhZ21lbnQiLCJvcGVuU3RhcnQiLCJvcGVuRW5kIiwib3BlbiIsImFkZFRyZWUiLCJmcmFnbWVudHMiLCJwYXJ0aWFsIiwiZiIsImFwcGx5Q2hhbmdlcyIsImNoYW5nZXMiLCJtaW5HYXAiLCJmSSIsIm5leHRGIiwiY0kiLCJvZmYiLCJuZXh0QyIsIm5leHRQb3MiLCJmcm9tQSIsImN1dCIsImZGcm9tIiwiZlRvIiwidG9BIiwidG9CIiwic3RhcnRQYXJzZSIsImlucHV0IiwicmFuZ2VzIiwiU3RyaW5nSW5wdXQiLCJjcmVhdGVQYXJzZSIsImRvbmUiLCJhZHZhbmNlIiwic3RyaW5nIiwiY2h1bmsiLCJsaW5lQ2h1bmtzIiwicmVhZCIsIm5leHRUYWdJRCIsIlRhZyIsIm1vZGlmaWVkIiwibW9kIiwibmFtZU9yUGFyZW50IiwiZGVmaW5lTW9kaWZpZXIiLCJNb2RpZmllciIsInNvcnQiLCJhIiwibmV4dE1vZGlmaWVySUQiLCJpbnN0YW5jZXMiLCJtb2RzIiwiZXhpc3RzIiwiZmluZCIsImV2ZXJ5IiwieCIsIm0iLCJjb25maWdzIiwiYXJyYXkiLCJzZXRzIiwicG93ZXJTZXQiLCJzdHlsZVRhZ3MiLCJieU5hbWUiLCJ0YWdzIiwicGFydCIsInBpZWNlcyIsInJlc3QiLCJydWxlIiwiUnVsZSIsInJ1bGVOb2RlUHJvcCIsIm9wYXF1ZSIsImluaGVyaXQiLCJ0YWdIaWdobGlnaHRlciIsInN0eWxlIiwiY2xhc3MiLCJjbHMiLCJzdWIiLCJ0YWdDbGFzcyIsImNvbW1lbnQiLCJ0eXBlTmFtZSIsInByb3BlcnR5TmFtZSIsImxpdGVyYWwiLCJudW1iZXIiLCJrZXl3b3JkIiwib3BlcmF0b3IiLCJicmFja2V0IiwibWV0YSIsImxpbmVDb21tZW50IiwiYmxvY2tDb21tZW50IiwiZG9jQ29tbWVudCIsInZhcmlhYmxlTmFtZSIsInRhZ05hbWUiLCJhdHRyaWJ1dGVOYW1lIiwiY2xhc3NOYW1lIiwibGFiZWxOYW1lIiwibmFtZXNwYWNlIiwibWFjcm9OYW1lIiwiZG9jU3RyaW5nIiwiY2hhcmFjdGVyIiwiYXR0cmlidXRlVmFsdWUiLCJpbnRlZ2VyIiwiZmxvYXQiLCJib29sIiwicmVnZXhwIiwiY29sb3IiLCJzZWxmIiwibnVsbCIsImF0b20iLCJ1bml0IiwibW9kaWZpZXIiLCJvcGVyYXRvcktleXdvcmQiLCJjb250cm9sS2V5d29yZCIsImRlZmluaXRpb25LZXl3b3JkIiwibW9kdWxlS2V5d29yZCIsImRlcmVmT3BlcmF0b3IiLCJhcml0aG1ldGljT3BlcmF0b3IiLCJsb2dpY09wZXJhdG9yIiwiYml0d2lzZU9wZXJhdG9yIiwiY29tcGFyZU9wZXJhdG9yIiwidXBkYXRlT3BlcmF0b3IiLCJkZWZpbml0aW9uT3BlcmF0b3IiLCJ0eXBlT3BlcmF0b3IiLCJjb250cm9sT3BlcmF0b3IiLCJzZXBhcmF0b3IiLCJhbmdsZUJyYWNrZXQiLCJzcXVhcmVCcmFja2V0IiwicGFyZW4iLCJicmFjZSIsImhlYWRpbmcxIiwiaGVhZGluZzIiLCJoZWFkaW5nMyIsImhlYWRpbmc0IiwiaGVhZGluZzUiLCJoZWFkaW5nNiIsImNvbnRlbnRTZXBhcmF0b3IiLCJxdW90ZSIsImVtcGhhc2lzIiwibW9ub3NwYWNlIiwic3RyaWtldGhyb3VnaCIsImluc2VydGVkIiwiZGVsZXRlZCIsImNoYW5nZWQiLCJpbnZhbGlkIiwiZG9jdW1lbnRNZXRhIiwiYW5ub3RhdGlvbiIsInByb2Nlc3NpbmdJbnN0cnVjdGlvbiIsImRlZmluaXRpb24iLCJjb25zdGFudCIsImZ1bmN0aW9uIiwic3RhbmRhcmQiLCJsb2NhbCIsInNwZWNpYWwiLCJsYW5ndWFnZURhdGFQcm9wIiwic3VibGFuZ3VhZ2VQcm9wIiwiTGFuZ3VhZ2UiLCJleHRyYUV4dGVuc2lvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5Iiwic3ludGF4VHJlZSIsImV4dGVuc2lvbiIsImxhbmd1YWdlIiwib2YiLCJsYW5ndWFnZURhdGEiLCJ0b3BOb2RlQXQiLCJmYWNldCIsImlubmVyTm9kZSIsInN1YmxhbmciLCJpc0FjdGl2ZUF0IiwiZmluZFJlZ2lvbnMiLCJkb2MiLCJhbGxvd3NOZXN0aW5nIiwiZXhwbG9yZSIsInRvcExhbmciLCJmaWVsZCIsInNldFN0YXRlIiwiRG9jSW5wdXQiLCJjdXJzb3JQb3MiLCJpdGVyIiwic3luY1RvIiwic3RyaW5nU3RhcnQiLCJzbGljZVN0cmluZyIsImN1cnJlbnRDb250ZXh0IiwiUGFyc2VDb250ZXh0IiwidHJlZUxlbiIsInZpZXdwb3J0Iiwic2NoZWR1bGVPbiIsInRlbXBTa2lwcGVkIiwid29yayIsInVudGlsIiwidXB0byIsImlzRG9uZSIsInRha2VUcmVlIiwid2l0aENvbnRleHQiLCJlbmRUaW1lIiwiRGF0ZSIsIm5vdyIsInN0b3BwZWRBdCIsIndpdGhvdXRUZW1wU2tpcHBlZCIsInBhcnNlZFBvcyIsImN1dEZyYWdtZW50cyIsIm5ld1N0YXRlIiwiaXRlckNoYW5nZWRSYW5nZXMiLCJmcm9tQiIsIm1hcFBvcyIsInVwZGF0ZVZpZXdwb3J0Iiwic3RhcnRMZW4iLCJyZXNldCIsInNraXBVbnRpbEluVmlldyIsImdldFNraXBwaW5nUGFyc2VyIiwiY3giLCJmcmFncyIsIkxhbmd1YWdlU3RhdGUiLCJ0ciIsImRvY0NoYW5nZWQiLCJuZXdDeCIsInN0YXJ0U3RhdGUiLCJpbml0IiwidnBUbyIsInBhcnNlU3RhdGUiLCJ1cGRhdGUiLCJlZmZlY3RzIiwicmVxdWVzdElkbGUiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJpZGxlIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiaXNJbnB1dFBlbmRpbmciLCJuYXZpZ2F0b3IiLCJzY2hlZHVsaW5nIiwicGFyc2VXb3JrZXIiLCJmcm9tQ2xhc3MiLCJ2aWV3Iiwid29ya2luZyIsIndvcmtTY2hlZHVsZWQiLCJjaHVua0VuZCIsImNodW5rQnVkZ2V0IiwiYmluZCIsInNjaGVkdWxlV29yayIsInNlbGVjdGlvblNldCIsImhhc0ZvY3VzIiwiY2hlY2tBc3luY1NjaGVkdWxlIiwiZGVhZGxpbmUiLCJ0aW1lUmVtYWluaW5nIiwidmlld3BvcnRGaXJzdCIsImRpc3BhdGNoIiwiZXJyIiwiZGVzdHJveSIsImlzV29ya2luZyIsImV2ZW50SGFuZGxlcnMiLCJmb2N1cyIsImNvbWJpbmUiLCJsYW5ndWFnZXMiLCJlbmFibGVzIiwiY29udGVudEF0dHJpYnV0ZXMiLCJjb21wdXRlIiwiaW5kZW50U2VydmljZSIsImluZGVudFVuaXQiLCJnZXRJbmRlbnRVbml0IiwidGFiU2l6ZSIsImluZGVudFN0cmluZyIsImNvbHMiLCJ0cyIsImdldEluZGVudGF0aW9uIiwiSW5kZW50Q29udGV4dCIsInNlcnZpY2UiLCJhc3QiLCJpbmRlbnRGb3IiLCJzeW50YXhJbmRlbnRhdGlvbiIsImxpbmVBdCIsImJpYXMiLCJzaW11bGF0ZUJyZWFrIiwic2ltdWxhdGVEb3VibGVCcmVhayIsInRleHRBZnRlclBvcyIsImNvbHVtbiIsImNvdW50Q29sdW1uIiwib3ZlcnJpZGUiLCJvdmVycmlkZUluZGVudGF0aW9uIiwibGluZUluZGVudCIsIm92ZXJyaWRlbiIsInNpbXVsYXRlZEJyZWFrIiwiaW5kZW50Tm9kZVByb3AiLCJzdHJhdGVneSIsImluZGVudFN0cmF0ZWd5IiwiVHJlZUluZGVudENvbnRleHQiLCJjbG9zZSIsImZpcnN0IiwiY2xvc2VkIiwidW5pdHMiLCJjbG9zaW5nIiwiY2xvc2VkQXQiLCJ0ZXh0QWZ0ZXIiLCJhbGlnbmVkIiwib3BlblRva2VuIiwic2ltIiwib3BlbkxpbmUiLCJsaW5lRW5kIiwiYnJhY2tldGVkQWxpZ25lZCIsImJhc2VJbmRlbnQiLCJkZWxpbWl0ZWRTdHJhdGVneSIsImlnbm9yZUNsb3NlZCIsInRvcEluZGVudCIsImJhc2VJbmRlbnRGb3IiLCJhdEJyZWFrIiwiaXNQYXJlbnQiLCJicmFja2V0TWF0Y2hpbmdIYW5kbGUiLCJtYXRjaGluZ05vZGVzIiwiYnJhY2tldHMiLCJieVByb3AiLCJmaW5kSGFuZGxlIiwiaGFzSGFuZGxlIiwibWF0Y2hCcmFja2V0cyIsIm1heFNjYW5EaXN0YW5jZSIsIm1hdGNoZXMiLCJoYW5kbGUiLCJtYXRjaE1hcmtlZEJyYWNrZXRzIiwidG9rZW5UeXBlIiwic3RhcnRDaCIsInNsaWNlRG9jIiwic3RhcnRUb2tlbiIsIml0ZXJSYW5nZSIsImRpc3RhbmNlIiwiYmFzZVBvcyIsIm1hdGNoZWQiLCJtYXRjaFBsYWluQnJhY2tldHMiLCJfc3RhdGUiLCJfcG9zIiwibWF0Y2hpbmciLCJmaXJzdFRva2VuIiwiZW5kSGFuZGxlIiwibm9Ub2tlbnMiLCJ0eXBlQXJyYXkiLCJ3YXJuZWQiLCJieVRhZyIsImRlZmF1bHRUYWJsZSIsImxlZ2FjeU5hbWUiLCJjcmVhdGVUb2tlblR5cGUiLCJ3YXJuRm9yUGFydCIsIndhcm4iLCJleHRyYSIsInRhZ1N0ciIsInRhZ3MkMSIsImtleSIsImtub3duIiwiY29tbWFuZCIsIm9wdGlvbiIsInJlYWRPbmx5IiwiUlRMIiwiTFRSIiwidG9nZ2xlTGluZUNvbW1lbnQiLCJjaGFuZ2VMaW5lQ29tbWVudCIsInRvZ2dsZUJsb2NrQ29tbWVudCIsImNoYW5nZUJsb2NrQ29tbWVudCIsInRvZ2dsZUJsb2NrQ29tbWVudEJ5TGluZSIsIm8iLCJzIiwic2VsZWN0aW9uIiwiZnJvbUxpbmUiLCJ0b0xpbmUiLCJzZWxlY3RlZExpbmVSYW5nZXMiLCJnZXRDb25maWciLCJsYW5ndWFnZURhdGFBdCIsIlNlYXJjaE1hcmdpbiIsImNvbW1lbnRzIiwic3RhcnRUZXh0IiwiZW5kVGV4dCIsInRleHRCZWZvcmUiLCJzcGFjZUJlZm9yZSIsInNwYWNlQWZ0ZXIiLCJiZWZvcmVPZmYiLCJtYXJnaW4iLCJzdGFydFNwYWNlIiwiZW5kU3BhY2UiLCJlbmRPZmYiLCJmaW5kQmxvY2tDb21tZW50IiwicmFuZ2UiLCJpbnNlcnQiLCJwcmV2TGluZSIsIm1pbkluZGVudCIsInNpbmdsZSIsImNoYW5nZVNldCIsImZyb21IaXN0b3J5IiwiaXNvbGF0ZUhpc3RvcnkiLCJpbnZlcnRlZEVmZmVjdHMiLCJoaXN0b3J5Q29uZmlnIiwibWluRGVwdGgiLCJuZXdHcm91cERlbGF5Iiwiam9pblRvRXZlbnQiLCJfdCIsImlzQWRqYWNlbnQiLCJhZGoiLCJoaXN0b3J5RmllbGRfIiwiSGlzdG9yeVN0YXRlIiwiZnJvbUhpc3QiLCJIaXN0RXZlbnQiLCJmcm9tVHJhbnNhY3Rpb24iLCJ1bmRvbmUiLCJ1cGRhdGVCcmFuY2giLCJhZGRTZWxlY3Rpb24iLCJhZGRUb0hpc3RvcnkiLCJhZGRNYXBwaW5nIiwiZGVzYyIsImV2ZW50IiwidGltZSIsInVzZXJFdmVudCIsImFkZENoYW5nZXMiLCJ0b0pTT04iLCJmcm9tSlNPTiIsImpzb24iLCJkb21FdmVudEhhbmRsZXJzIiwiYmVmb3JlaW5wdXQiLCJpbnB1dFR5cGUiLCJ1bmRvIiwicmVkbyIsInByZXZlbnREZWZhdWx0IiwiY21kIiwiaGlzdG9yeVN0YXRlIiwidW5kb1NlbGVjdGlvbiIsInJlZG9TZWxlY3Rpb24iLCJtYXBwZWQiLCJzdGFydFNlbGVjdGlvbiIsInNlbGVjdGlvbnNBZnRlciIsInNldFNlbEFmdGVyIiwiX2IiLCJfYyIsInNlbGVjdGlvbnMiLCJicmFuY2giLCJtYXhMZW4iLCJuZXdFdmVudCIsIm5ld0JyYW5jaCIsImNvbmMiLCJNYXhTZWxlY3Rpb25zUGVyRXZlbnQiLCJsYXN0RXZlbnQiLCJzZWxzIiwiZXEiLCJwb3BTZWxlY3Rpb24iLCJhZGRNYXBwaW5nVG9CcmFuY2giLCJtYXBwaW5nIiwibWFwRXZlbnQiLCJleHRyYVNlbGVjdGlvbnMiLCJtYXBwZWRDaGFuZ2VzIiwibWFwRGVzYyIsImZ1bGxNYXBwaW5nIiwiY29tcG9zZURlc2MiLCJtYXBFZmZlY3RzIiwiam9pbmFibGVVc2VyRXZlbnQiLCJwcmV2VGltZSIsInByZXZVc2VyRXZlbnQiLCJfZiIsImNvbXBvc2UiLCJvbmx5U2VsZWN0aW9uIiwiYW5ub3RhdGlvbnMiLCJzY3JvbGxJbnRvVmlldyIsImhpc3RvcnlLZXltYXAiLCJydW4iLCJtYWMiLCJsaW51eCIsInVwZGF0ZVNlbCIsInNlbCIsImJ5IiwibWFpbkluZGV4Iiwic2V0U2VsIiwibW92ZVNlbCIsImhvdyIsInJhbmdlRW5kIiwiZm9yd2FyZCIsImN1cnNvckJ5Q2hhciIsIm1vdmVCeUNoYXIiLCJsdHJBdEN1cnNvciIsInRleHREaXJlY3Rpb25BdCIsIm1haW4iLCJoZWFkIiwiY3Vyc29yQ2hhckxlZnQiLCJjdXJzb3JDaGFyUmlnaHQiLCJjdXJzb3JCeUdyb3VwIiwibW92ZUJ5R3JvdXAiLCJpbnRlcmVzdGluZ05vZGUiLCJicmFja2V0UHJvcCIsIm1vdmVCeVN5bnRheCIsIm5ld1BvcyIsImN1cnNvckJ5TGluZSIsIm1vdmVkIiwibW92ZVZlcnRpY2FsbHkiLCJtb3ZlVG9MaW5lQm91bmRhcnkiLCJJbnRsIiwiU2VnbWVudGVyIiwiY3Vyc29yTGluZVVwIiwiY3Vyc29yTGluZURvd24iLCJwYWdlSW5mbyIsImhlaWdodCIsInNlbGZTY3JvbGwiLCJzY3JvbGxET00iLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJzY3JvbGxNYXJnaW5zIiwibWFyZ2lucyIsImJvdHRvbSIsImRvbSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiZGVmYXVsdExpbmVIZWlnaHQiLCJjdXJzb3JCeVBhZ2UiLCJlZmZlY3QiLCJwYWdlIiwiY29vcmRzQXRQb3MiLCJzY3JvbGxSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsQm90dG9tIiwieSIsInlNYXJnaW4iLCJjdXJzb3JQYWdlVXAiLCJjdXJzb3JQYWdlRG93biIsIm1vdmVCeUxpbmVCb3VuZGFyeSIsImxpbmVCbG9ja0F0IiwiZXh0ZW5kU2VsIiwidGFyZ2V0IiwiYW5jaG9yIiwiZ29hbENvbHVtbiIsImJpZGlMZXZlbCIsInNlbGVjdEJ5Q2hhciIsInNlbGVjdENoYXJMZWZ0Iiwic2VsZWN0Q2hhclJpZ2h0Iiwic2VsZWN0QnlHcm91cCIsInNlbGVjdEJ5TGluZSIsInNlbGVjdExpbmVVcCIsInNlbGVjdExpbmVEb3duIiwic2VsZWN0QnlQYWdlIiwic2VsZWN0UGFnZVVwIiwic2VsZWN0UGFnZURvd24iLCJjdXJzb3JEb2NTdGFydCIsImN1cnNvckRvY0VuZCIsInNlbGVjdERvY1N0YXJ0Iiwic2VsZWN0RG9jRW5kIiwiZGVsZXRlQnkiLCJjaGFuZ2VCeVJhbmdlIiwidG93YXJkcyIsInNraXBBdG9taWMiLCJhbm5vdW5jZSIsInBocmFzZSIsImF0b21pY1JhbmdlcyIsImJldHdlZW4iLCJkZWxldGVCeUNoYXIiLCJieUluZGVudFVuaXQiLCJ0YXJnZXRQb3MiLCJkcm9wIiwiZGVsZXRlQ2hhckJhY2t3YXJkIiwiZGVsZXRlQ2hhckZvcndhcmQiLCJkZWxldGVCeUdyb3VwIiwiY2F0ZWdvcml6ZSIsImNoYXJDYXRlZ29yaXplciIsImNhdCIsIm5leHRDaGFyIiwibmV4dENhdCIsImRlbGV0ZUdyb3VwQmFja3dhcmQiLCJzZWxlY3RlZExpbmVCbG9ja3MiLCJibG9ja3MiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwibW92ZUxpbmUiLCJsaW5lQnJlYWsiLCJjb3B5TGluZSIsImluc2VydE5ld2xpbmVBbmRJbmRlbnQiLCJuZXdsaW5lQW5kSW5kZW50IiwiYXRFb2YiLCJleHBsb2RlIiwiaXNCZXR3ZWVuQnJhY2tldHMiLCJjaGFuZ2VCeVNlbGVjdGVkTGluZSIsImF0TGluZSIsImRlZmF1bHRLZXltYXAiLCJzdGFja0JlZm9yZSIsImNvbCIsImtlZXAiLCJ1cGRhdGVkIiwibm9ybSIsImRpc3QiLCJsaW5lV3JhcHBpbmciLCJhc3NvYyIsImRvY3VtZW50VG9wIiwiZXh0ZW5kIiwidG9NYXRjaGluZ0JyYWNrZXQiLCJzZXRUYWJGb2N1c01vZGUiLCJsaW5lU3RhcnQiLCJhcHBlbmQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImluZGV4QnlJZGVudGlmaWVyIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJzdXBwb3J0cyIsImxheWVyIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4IiwiYXBpIiwiZG9tQVBJIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIkZsb2F0MzJBcnJheSIsImF4IiwiYXkiLCJheiIsImF3IiwiYngiLCJieiIsImJ3IiwiYTAiLCJhMSIsImEyIiwiYTMiLCJkb3QiLCJpbnZEb3QiLCJmcm9tTWF0MyIsImZSb290IiwiZlRyYWNlIiwic3FydCIsImZyb21FdWxlciIsInoiLCJoYWxmVG9SYWQiLCJQSSIsInN4Iiwic2luIiwiY29zIiwic3kiLCJjeSIsInN6IiwiY3oiLCJtYXRyIiwic2V0QXhlcyIsInZlYzMiLCJtYXQzIiwicmlnaHQiLCJ1cCIsInciLCJhMDAiLCJhMDEiLCJhMDIiLCJhMDMiLCJhMTAiLCJhMTEiLCJhMTIiLCJhMTMiLCJhMjAiLCJhMjEiLCJhMjIiLCJhMjMiLCJhMzAiLCJhMzEiLCJhMzIiLCJhMzMiLCJiMDAiLCJiMDEiLCJiMDIiLCJiMDMiLCJiMDQiLCJiMDUiLCJiMDYiLCJiMDciLCJiMDgiLCJiMDkiLCJiMTAiLCJiMTEiLCJkZXQiLCJtdWx0aXBseSIsImIwIiwiYjEiLCJiMiIsImIzIiwiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZSIsInEiLCJ2IiwieDIiLCJ5MiIsInoyIiwieHgiLCJ4eSIsInh6IiwieXkiLCJ5eiIsInp6Iiwid3giLCJ3eSIsInd6IiwiZnJvbVF1YXQiLCJ5eCIsInp4IiwienkiLCJwZXJzcGVjdGl2ZSIsImZvdnkiLCJhc3BlY3QiLCJuZWFyIiwiZmFyIiwibmYiLCJ0YW4iLCJpc09iamVjdCIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc0Z1bmN0aW9uIiwiaXNUeXBlIiwibG9nRXJyb3JzIiwiYXNzZXJ0VHlwZSIsImV4IiwiZGVidWciLCJwcmVmaXgiLCJsb2ciLCJwcmV0dHl0eXBlb2YiLCJraW5kIiwic3ViVHlwZSIsImNvbnN0cmFpbnRzIiwiYXNzZXJ0VHlwZUFycmF5IiwiYXNzZXJ0VHlwZU1hcCIsIm9wdGlvbmFsVHlwZSIsImFzc2VydFR5cGVPcHRpb25hbCIsImFsdFR5cGVzIiwiZXhjZXB0aW9ucyIsImFsdFR5cGUiLCJhc3NlcnRUeXBlQWx0ZXJuYXRpdmUiLCJhc3NlcnRUeXBlVHVwbGUiLCJhc3NlcnRUeXBlVHVwbGVXaXRoUmVzdCIsImFzc2VydE9iamVjdCIsImF0dHJpYiIsImFzc2VydFR5cGVQYXJ0aWFsIiwibGl0ZXJhbHMiLCJhc3NlcnRUeXBlTGl0ZXJhbCIsInR5cGVHdWFyZCIsImFzc2VydFR5cGVDdXN0b20iLCJhc3NlcnRBcnJheSIsImIxMiIsImIyMCIsImIyMSIsImIyMiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJuZWVkTGF5ZXIiLCJtb2R1bGVzIiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNvdXJjZU1hcHBpbmciLCJDT1VOVCIsIlN5bWJvbCIsImZvciIsIlNFVCIsImZsb29yIiwicmFuZG9tIiwiZ2xvYmFsVGhpcyIsIlN0eWxlTW9kdWxlIiwiZmluaXNoIiwic3BsaXRTZWxlY3RvciIsInNlbGVjdG9yIiwicmVuZGVyIiwic2VsZWN0b3JzIiwiaXNLZXlmcmFtZXMiLCJpc0F0Iiwia2V5ZnJhbWVzIiwicmVkdWNlIiwiZ2V0UnVsZXMiLCJuZXdOYW1lIiwic2V0Tm9uY2UiLCJTdHlsZVNldCIsImFkb3B0ZWRTZXQiLCJNYXAiLCJ3aW4iLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJDU1NTdHlsZVNoZWV0IiwiYWRvcHRlZCIsInNoZWV0Iiwic3R5bGVUYWciLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0UnVsZSIsInRleHRDb250ZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImdldEF0dHJpYnV0ZSIsImVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInJhbmdlRnJvbSIsInJhbmdlVG8iLCJpc0V4dGVuZGluZ0NoYXIiLCJtaWQiLCJpc1JlZ2lvbmFsSW5kaWNhdG9yIiwibnVtYmVycyIsInBhcnNlSW50IiwiWldKIiwiZmluZENsdXN0ZXJCcmVhayIsImluY2x1ZGVFeHRlbmRpbmciLCJuZXh0Q2x1c3RlckJyZWFrIiwicHJldkNsdXN0ZXJCcmVhayIsInN1cnJvZ2F0ZUxvdyIsInN1cnJvZ2F0ZUhpZ2giLCJjb2RlUG9pbnRBdCIsImNvZGVQb2ludFNpemUiLCJjb3VudEJlZm9yZSIsImNvZGUwIiwiY29kZTEiLCJUZXh0IiwibGluZUlubmVyIiwiY2xpcCIsInBhcnRzIiwiZGVjb21wb3NlIiwiVGV4dE5vZGUiLCJzY2FuSWRlbnRpY2FsIiwiUmF3VGV4dEN1cnNvciIsIlBhcnRpYWxUZXh0Q3Vyc29yIiwiaXRlckxpbmVzIiwiTGluZUN1cnNvciIsImZsYXR0ZW4iLCJUZXh0TGVhZiIsInRleHRMZW5ndGgiLCJpc0xpbmUiLCJMaW5lIiwic2xpY2VUZXh0Iiwiam9pbmVkIiwiYXBwZW5kVGV4dCIsIm5ld0xlbiIsImxpbmVTZXAiLCJjaGlsZE9wZW4iLCJ0b3RhbExpbmVzIiwiaUEiLCJpQiIsImVBIiwiZUIiLCJjaEEiLCJjaEIiLCJtYXhDaHVuayIsIm1pbkNodW5rIiwiY2h1bmtlZCIsImN1cnJlbnRMZW4iLCJjdXJyZW50Q2h1bmsiLCJmbHVzaCIsIm9mZnNldHMiLCJuZXh0SW5uZXIiLCJvZmZzZXRWYWx1ZSIsImxpbWl0IiwiYWZ0ZXJCcmVhayIsIml0ZXJhdG9yIiwiRGVmYXVsdFNwbGl0IiwiTWFwTW9kZSIsIkNoYW5nZURlc2MiLCJzZWN0aW9ucyIsIm5ld0xlbmd0aCIsImlucyIsIml0ZXJHYXBzIiwicG9zQSIsInBvc0IiLCJpbmRpdmlkdWFsIiwiaXRlckNoYW5nZXMiLCJpbnZlcnRlZERlc2MiLCJjb21wb3NlU2V0cyIsIm1hcFNldCIsIlNpbXBsZSIsImVuZEEiLCJUcmFja0RlbCIsIlRyYWNrQmVmb3JlIiwiVHJhY2tBZnRlciIsInRvdWNoZXNSYW5nZSIsIkNoYW5nZVNldCIsIl90b0IiLCJyZXN1bHRTZWN0aW9ucyIsInJlc3VsdEluc2VydGVkIiwiZmlsdGVyZWRTZWN0aW9ucyIsIlNlY3Rpb25JdGVyIiwiYWRkU2VjdGlvbiIsImFkZEluc2VydCIsImZpbHRlcmVkIiwiZm9yY2UiLCJwcm9jZXNzIiwiaW5zVGV4dCIsImluc0xlbiIsImNyZWF0ZVNldCIsImZvcmNlSm9pbiIsImVuZEIiLCJzZXRBIiwic2V0QiIsIm1rU2V0IiwicGllY2UiLCJsZWZ0IiwibGVuMiIsInNlY3Rpb25MZW4iLCJpbnNCIiwidGV4dEJpdCIsImZvcndhcmQyIiwiU2VsZWN0aW9uUmFuZ2UiLCJjaGFuZ2UiLCJFZGl0b3JTZWxlY3Rpb24iLCJhYnMiLCJpbmNsdWRlQXNzb2MiLCJhc1NpbmdsZSIsImFkZFJhbmdlIiwicmVwbGFjZVJhbmdlIiwid2hpY2giLCJub3JtYWxpemVkIiwiY2hlY2tTZWxlY3Rpb24iLCJkb2NMZW5ndGgiLCJuZXh0SUQiLCJGYWNldCIsImNvbXBhcmVJbnB1dCIsImNvbXBhcmUiLCJpc1N0YXRpYyIsImRlZmF1bHQiLCJyZWFkZXIiLCJzYW1lQXJyYXkiLCJGYWNldFByb3ZpZGVyIiwiZGVwcyIsImNvbXB1dGVOIiwiZGVwZW5kZW5jaWVzIiwiZHluYW1pY1Nsb3QiLCJhZGRyZXNzZXMiLCJnZXR0ZXIiLCJpZHgiLCJtdWx0aSIsImRlcERvYyIsImRlcFNlbCIsImRlcEFkZHJzIiwiZGVwIiwiZW5zdXJlQWxsIiwibmV3VmFsIiwiY29tcGFyZUFycmF5IiwicmVjb25maWd1cmUiLCJvbGRTdGF0ZSIsIm9sZEFkZHIiLCJhZGRyZXNzIiwib2xkVmFsIiwiZ2V0QWRkciIsIlN0YXRlRmllbGQiLCJhZGRycyIsImFkZHIiLCJlbnN1cmVBZGRyIiwiZHluYW1pY0ZhY2V0U2xvdCIsInByb3ZpZGVycyIsInByb3ZpZGVyQWRkcnMiLCJwcm92aWRlclR5cGVzIiwiZHluYW1pYyIsImRlcENoYW5nZWQiLCJvbGRQcm92aWRlcnMiLCJmYWNldHMiLCJvbGRWYWx1ZSIsImluaXRGaWVsZCIsImNyZWF0ZUYiLCJ1cGRhdGVGIiwiY29tcGFyZUYiLCJwcm92aWRlcyIsInByb3ZpZGUiLCJzbG90IiwicmVJbml0Iiwib2xkSW5pdCIsInByZWMiLCJQcmVjRXh0ZW5zaW9uIiwiUHJlYyIsImhpZ2hlc3QiLCJoaWdoIiwibG93IiwibG93ZXN0IiwiQ29tcGFydG1lbnQiLCJDb21wYXJ0bWVudEluc3RhbmNlIiwiY29tcGFydG1lbnQiLCJjb21wYXJ0bWVudHMiLCJDb25maWd1cmF0aW9uIiwiZHluYW1pY1Nsb3RzIiwic3RhdGljVmFsdWVzIiwic3RhdHVzVGVtcGxhdGUiLCJzdGF0aWNGYWNldCIsImZpZWxkcyIsIm5ld0NvbXBhcnRtZW50cyIsInNlZW4iLCJkZWxldGUiLCJvbGRGYWNldHMiLCJzdGF0dXMiLCJjb21wdXRlU2xvdCIsImFsbG93TXVsdGlwbGVTZWxlY3Rpb25zIiwibGluZVNlcGFyYXRvciIsImNoYW5nZUZpbHRlciIsInRyYW5zYWN0aW9uRmlsdGVyIiwidHJhbnNhY3Rpb25FeHRlbmRlciIsIkFubm90YXRpb24iLCJBbm5vdGF0aW9uVHlwZSIsIlN0YXRlRWZmZWN0VHlwZSIsIlN0YXRlRWZmZWN0IiwiYXBwZW5kQ29uZmlnIiwiVHJhbnNhY3Rpb24iLCJfZG9jIiwibmV3RG9jIiwibmV3U2VsZWN0aW9uIiwiYXBwbHlUcmFuc2FjdGlvbiIsImFubiIsInJlY29uZmlndXJlZCIsImlzVXNlckV2ZW50Iiwiam9pblJhbmdlcyIsIm1lcmdlVHJhbnNhY3Rpb24iLCJzZXF1ZW50aWFsIiwibWFwRm9yQSIsIm1hcEZvckIiLCJyZXNvbHZlVHJhbnNhY3Rpb25Jbm5lciIsImRvY1NpemUiLCJhc0FycmF5IiwicmVzb2x2ZVRyYW5zYWN0aW9uIiwic3BlY3MiLCJzZXEiLCJleHRlbmRlcnMiLCJleHRlbmRUcmFuc2FjdGlvbiIsImJhY2siLCJmaWx0ZXJzIiwiZmlsdGVyVHJhbnNhY3Rpb24iLCJyZW1vdGUiLCJDaGFyQ2F0ZWdvcnkiLCJub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciIsIndvcmRDaGFyIiwiXyIsIkVkaXRvclN0YXRlIiwicmVxdWlyZSIsInN0YXJ0VmFsdWVzIiwiY29uZiIsInJlcGxhY2VTZWxlY3Rpb24iLCJ0b1RleHQiLCJyZXN1bHQxIiwibmV3Q2hhbmdlcyIsIm5ld01hcHBlZCIsIm1hcEJ5IiwiZmllbGRJbml0IiwiY29uZmlndXJhdGlvbiIsInBocmFzZXMiLCJwcm92aWRlciIsIndvcmRDaGFycyIsImNoYXIiLCJTcGFjZSIsInRvVXBwZXJDYXNlIiwiaGFzV29yZENoYXIiLCJXb3JkIiwiT3RoZXIiLCJ3b3JkQXQiLCJjb21iaW5lQ29uZmlnIiwiY3VycmVudCIsImtBIiwia0IiLCJSYW5nZVZhbHVlIiwic3RhcnRTaWRlIiwiZW5kU2lkZSIsInBvaW50IiwibWFwTW9kZSIsImNtcFJhbmdlIiwiQ2h1bmsiLCJtYXhQb2ludCIsImZpbmRJbmRleCIsInN0YXJ0QXQiLCJhcnIiLCJsbyIsImhpIiwiZGlmZiIsIm5ld0Zyb20iLCJuZXdUbyIsImN1ckZyb20iLCJjdXJUbyIsIlJhbmdlU2V0IiwiY2h1bmtQb3MiLCJuZXh0TGF5ZXIiLCJpc0VtcHR5IiwidXBkYXRlU3BlYyIsImZpbHRlckZyb20iLCJmaWx0ZXJUbyIsIkxheWVyQ3Vyc29yIiwiZ290byIsInNwaWxsIiwiYnVpbGRlciIsIlJhbmdlU2V0QnVpbGRlciIsImFkZElubmVyIiwicmFuZ2VJbmRleCIsImNodW5rSW5kZXgiLCJhZGRDaHVuayIsIm5leHRDaHVuayIsImZpbmlzaElubmVyIiwiY2h1bmtzIiwidG91Y2giLCJIZWFwQ3Vyc29yIiwib2xkU2V0cyIsIm5ld1NldHMiLCJ0ZXh0RGlmZiIsImNvbXBhcmF0b3IiLCJtaW5Qb2ludFNpemUiLCJzaGFyZWRDaHVua3MiLCJmaW5kU2hhcmVkQ2h1bmtzIiwic2lkZUEiLCJTcGFuQ3Vyc29yIiwic2lkZUIiLCJzYW1lVmFsdWVzIiwiYWN0aXZlIiwic3BhbnMiLCJvcGVuUmFuZ2VzIiwiYWN0aXZlRm9yUG9pbnQiLCJvcGVuQ291bnQiLCJwb2ludEZyb20iLCJwb2ludFJhbmsiLCJzcGFuIiwibGF6eVNvcnQiLCJmaW5pc2hDaHVuayIsIm5ld0FycmF5cyIsImNodW5rU3RhcnQiLCJzZXRNYXhQb2ludCIsImxhc3RGcm9tIiwibGFzdFRvIiwiaW5BIiwic2hhcmVkIiwibWluUG9pbnQiLCJyYW5rIiwiZ290b0lubmVyIiwic2V0UmFuZ2VJbmRleCIsImhlYXAiLCJoZWFwQnViYmxlIiwiY2hpbGRJbmRleCIsImFjdGl2ZVRvIiwiYWN0aXZlUmFuayIsIm1pbkFjdGl2ZSIsInJlbW92ZUFjdGl2ZSIsImZpbmRNaW5JbmRleCIsImFkZEFjdGl2ZSIsInRyYWNrT3BlbiIsIndhc1BvaW50IiwibmV4dFZhbCIsInN0YXJ0QSIsInN0YXJ0QiIsImRQb3MiLCJkRW5kIiwiY2xpcEVuZCIsImNvbXBhcmVQb2ludCIsImNvbXBhcmVSYW5nZSIsImJvdW5kQ2hhbmdlIiwiZm91bmRQb3MiLCJmaW5kQ29sdW1uIiwic3RyaWN0IiwiRVBTSUxPTiIsIkFSUkFZX1RZUEUiLCJoeXBvdCIsImFyZ3VtZW50cyIsIm1lbW8iLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImdldFRhcmdldCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsIlN1cHByZXNzZWRFcnJvciIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJoYXNoIiwibmVlZFF1b3RlcyIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwiZnJvbVZhbHVlcyIsIm5vcm1hbGl6ZSIsImNyb3NzIiwidHJhbnNmb3JtUXVhdCIsInF4IiwicXkiLCJxeiIsInF3IiwidXZ4IiwidXZ5IiwidXZ6IiwidXV2eCIsInV1dnkiLCJ1dXZ6IiwidzIiLCJwbGF0Zm9ybSIsImllIiwidXNlckFnZW50IiwiZnJvbUNoYXJDb2RlIiwiZ2V0U2VsZWN0aW9uIiwibm9kZVR5cGUiLCJjb250YWlucyIsImhhc1NlbGVjdGlvbiIsImFuY2hvck5vZGUiLCJjbGllbnRSZWN0c0ZvciIsInRleHRSYW5nZSIsIm5vZGVWYWx1ZSIsImdldENsaWVudFJlY3RzIiwiaXNFcXVpdmFsZW50UG9zaXRpb24iLCJ0YXJnZXROb2RlIiwidGFyZ2V0T2ZmIiwic2NhbkZvciIsImRvbUluZGV4IiwicHJldmlvdXNTaWJsaW5nIiwiaXNCbG9ja0VsZW1lbnQiLCJub2RlTmFtZSIsIm1heE9mZnNldCIsImNoaWxkTm9kZXMiLCJjb250ZW50RWRpdGFibGUiLCJmbGF0dGVuUmVjdCIsInJlY3QiLCJ3aW5kb3dSZWN0IiwidnAiLCJ2aXN1YWxWaWV3cG9ydCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImdldFNjYWxlIiwiZWx0Iiwic2NhbGVYIiwib2Zmc2V0V2lkdGgiLCJzY2FsZVkiLCJvZmZzZXRIZWlnaHQiLCJpc0Zpbml0ZSIsIkRPTVNlbGVjdGlvblN0YXRlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJkb21TZWwiLCJzZXRSYW5nZSIsInNjcmF0Y2hSYW5nZSIsInByZXZlbnRTY3JvbGxTdXBwb3J0ZWQiLCJmb2N1c1ByZXZlbnRTY3JvbGwiLCJzZXRBY3RpdmUiLCJzY3JvbGxMZWZ0IiwicHJldmVudFNjcm9sbCIsImNyZWF0ZVJhbmdlIiwic2V0RW5kIiwic2V0U3RhcnQiLCJkaXNwYXRjaEtleSIsImtleUNvZGUiLCJjYW5jZWxhYmxlIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImRvd24iLCJLZXlib2FyZEV2ZW50Iiwic3ludGhldGljIiwiZGlzcGF0Y2hFdmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJjbGVhckF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGVOb2RlIiwiaXNTY3JvbGxlZFRvQm90dG9tIiwidGV4dE5vZGVCZWZvcmUiLCJzdGFydE5vZGUiLCJzdGFydE9mZnNldCIsInRleHROb2RlQWZ0ZXIiLCJET01Qb3MiLCJwcmVjaXNlIiwibm9DaGlsZHJlbiIsIkNvbnRlbnRWaWV3Iiwib3ZlcnJpZGVET01UZXh0IiwicG9zQXRTdGFydCIsInBvc0JlZm9yZSIsInBvc0F0RW5kIiwiYnJlYWtBZnRlciIsInBvc0FmdGVyIiwic3luYyIsInRyYWNrIiwiY29udGVudFZpZXciLCJjYW5SZXVzZURPTSIsInJldXNlRE9NIiwid3JpdHRlbiIsInJtJDEiLCJfZG9tIiwibG9jYWxQb3NGcm9tRE9NIiwiZG9tQm91bmRzQXJvdW5kIiwiZnJvbUkiLCJmcm9tU3RhcnQiLCJ0b0kiLCJ0b0VuZCIsInByZXZFbmQiLCJzdGFydERPTSIsImVuZERPTSIsIm1hcmtEaXJ0eSIsImFuZFBhcmVudCIsIm1hcmtQYXJlbnRzRGlydHkiLCJjaGlsZExpc3QiLCJzZXRQYXJlbnQiLCJzZXRET00iLCJjbVZpZXciLCJyb290VmlldyIsInJlcGxhY2VDaGlsZHJlbiIsImlnbm9yZU11dGF0aW9uIiwiX3JlYyIsImlnbm9yZUV2ZW50IiwiX2V2ZW50IiwiY2hpbGRDdXJzb3IiLCJDaGlsZEN1cnNvciIsImNoaWxkUG9zIiwiZmluZFBvcyIsImlzRWRpdGFibGUiLCJpc1dpZGdldCIsImlzSGlkZGVuIiwibWVyZ2UiLCJoYXNTdGFydCIsImJlY29tZSIsImdldFNpZGUiLCJmcm9tT2ZmIiwidG9PZmYiLCJicmVha0F0U3RhcnQiLCJicmVha0F0RW5kIiwibWVyZ2VDaGlsZHJlbkludG8iLCJkTGVuIiwibmF2IiwidmVuZG9yIiwiZG9jdW1lbnRFbGVtZW50IiwiaWVfZWRnZSIsImllX3VwdG8xMCIsImllXzExdXAiLCJnZWNrbyIsImNocm9tZSIsIndlYmtpdCIsInNhZmFyaSIsImlvcyIsIm1heFRvdWNoUG9pbnRzIiwiYnJvd3NlciIsIndpbmRvd3MiLCJpZV92ZXJzaW9uIiwiZG9jdW1lbnRNb2RlIiwiZ2Vja29fdmVyc2lvbiIsImNocm9tZV92ZXJzaW9uIiwiYW5kcm9pZCIsIndlYmtpdF92ZXJzaW9uIiwiVGV4dFZpZXciLCJjcmVhdGVET00iLCJ0ZXh0RE9NIiwiZG9tQXRQb3MiLCJfZnJvbSIsIl90byIsImNvb3Jkc0F0IiwicmVjdHMiLCJ0ZXh0Q29vcmRzIiwiTWFya1ZpZXciLCJtYXJrIiwic2V0QXR0cnMiLCJhdHRycyIsIl9oYXNTdGFydCIsImRldGFjaEZyb20iLCJpbmxpbmVET01BdFBvcyIsImNvb3Jkc0luQ2hpbGRyZW4iLCJXaWRnZXRWaWV3Iiwid2lkZ2V0IiwicHJldldpZGdldCIsInVwZGF0ZURPTSIsInRvRE9NIiwiZWRpdGFibGUiLCJjdXN0b20iLCJmcm9tQmFjayIsIldpZGdldEJ1ZmZlclZpZXciLCJqb2luSW5saW5lSW50byIsImJlZm9yZVBvcyIsImFmdGVyUG9zIiwib25TYW1lTGluZSIsImZhbGxiYWNrUmVjdCIsImNvbWJpbmVBdHRycyIsIm5vQXR0cnMiLCJhdHRyc0VxIiwiaWdub3JlIiwia2V5c0EiLCJrZXlzQiIsInVwZGF0ZUF0dHJzIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0QXR0cnMiLCJhdHRyIiwiV2lkZ2V0VHlwZSIsImVzdGltYXRlZEhlaWdodCIsImxpbmVCcmVha3MiLCJCbG9ja1R5cGUiLCJEZWNvcmF0aW9uIiwiaGVpZ2h0UmVsZXZhbnQiLCJNYXJrRGVjb3JhdGlvbiIsImlubGluZU9yZGVyIiwiUG9pbnREZWNvcmF0aW9uIiwiaXNCbG9ja0dhcCIsImdldEluY2x1c2l2ZSIsIkxpbmVEZWNvcmF0aW9uIiwiaGFzSGVpZ2h0IiwiaXNSZXBsYWNlIiwiV2lkZ2V0UmFuZ2UiLCJXaWRnZXRCZWZvcmUiLCJXaWRnZXRBZnRlciIsImluY2x1c2l2ZVN0YXJ0IiwiaW5jbHVzaXZlRW5kIiwiaW5jbHVzaXZlIiwiTGluZVZpZXciLCJwcmV2QXR0cnMiLCJ0cmFuc2ZlckRPTSIsInNldERlY28iLCJhZGRMaW5lRGVjbyIsImRlY28iLCJjbGFzc0xpc3QiLCJoYWNrIiwiY21JZ25vcmUiLCJtZWFzdXJlVGV4dFNpemUiLCJ0ZXh0SGVpZ2h0IiwidG90YWxXaWR0aCIsImxpbmVIZWlnaHQiLCJjaGFyV2lkdGgiLCJoZWlnaHRPcmFjbGUiLCJ2aWV3U3RhdGUiLCJjb3ZlcnMiLCJkb2NWaWV3IiwiQmxvY2tXaWRnZXRWaWV3IiwiX3Rha2VEZWNvIiwiQmxvY2tHYXBXaWRnZXQiLCJDb250ZW50QnVpbGRlciIsImRpc2FsbG93QmxvY2tFZmZlY3RzRm9yIiwiY3VyTGluZSIsInBlbmRpbmdCdWZmZXIiLCJidWZmZXJNYXJrcyIsImF0Q3Vyc29yUG9zIiwidGV4dE9mZiIsInBvc0NvdmVyZWQiLCJnZXRMaW5lIiwiZmx1c2hCdWZmZXIiLCJ3cmFwTWFya3MiLCJhZGRCbG9ja1dpZGdldCIsImJ1aWxkVGV4dCIsInRha2UiLCJOdWxsV2lkZ2V0IiwiY3Vyc29yQmVmb3JlIiwiY3Vyc29yQWZ0ZXIiLCJkZWNvcmF0aW9ucyIsImR5bmFtaWNEZWNvcmF0aW9uTWFwIiwiRGlyZWN0aW9uIiwiZGVjIiwiTG93VHlwZXMiLCJBcmFiaWNUeXBlcyIsIkJyYWNrZXRzIiwiQnJhY2tldFN0YWNrIiwiY2hhclR5cGUiLCJCaWRpUkUiLCJCaWRpU3BhbiIsIm9yZGVyIiwibWF5YmUiLCJpc29sYXRlc0VxIiwiZGlyZWN0aW9uIiwiZW1pdFNwYW5zIiwiYmFzZUxldmVsIiwiaXNvbGF0ZXMiLCJvdXJUeXBlIiwiaUNoIiwiaUkiLCJzYW1lRGlyIiwiaXNOdW0iLCJyZWN1cnNlIiwibG9jYWxMZXZlbCIsImlTY2FuIiwiaXNvIiwiakkiLCJjb21wdXRlU2VjdGlvbk9yZGVyIiwib3V0ZXJUeXBlIiwickZyb20iLCJyVG8iLCJwcmV2VHlwZSIsInByZXZTdHJvbmciLCJjb21wdXRlQ2hhclR5cGVzIiwib3Bwb3NpdGVUeXBlIiwic0kiLCJzSiIsImVtYmVkIiwicHJvY2Vzc0JyYWNrZXRQYWlycyIsImJlZm9yZUwiLCJmcm9tSiIsInByb2Nlc3NOZXV0cmFscyIsInRyaXZpYWxPcmRlciIsIm1vdmVkT3ZlciIsIm1vdmVWaXN1YWxseSIsInNwYW5JIiwic3BhbkVuZCIsIm5leHRJIiwibmV4dEluZGV4IiwibmV4dFNwYW4iLCJhdXRvRGlyZWN0aW9uIiwiY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UiLCJkcmFnTW92ZXNTZWxlY3Rpb24kMSIsIm1vdXNlU2VsZWN0aW9uU3R5bGUiLCJleGNlcHRpb25TaW5rIiwidXBkYXRlTGlzdGVuZXIiLCJpbnB1dEhhbmRsZXIiLCJmb2N1c0NoYW5nZUVmZmVjdCIsImNsaXBib2FyZElucHV0RmlsdGVyIiwiY2xpcGJvYXJkT3V0cHV0RmlsdGVyIiwicGVyTGluZVRleHREaXJlY3Rpb24iLCJuYXRpdmVTZWxlY3Rpb25IaWRkZW4iLCJzY3JvbGxIYW5kbGVyIiwiU2Nyb2xsVGFyZ2V0IiwieE1hcmdpbiIsImlzU25hcHNob3QiLCJzZXRFZGl0Q29udGV4dEZvcm1hdHRpbmciLCJsb2dFeGNlcHRpb24iLCJleGNlcHRpb24iLCJoYW5kbGVyIiwib25lcnJvciIsIm5leHRQbHVnaW5JRCIsInZpZXdQbHVnaW4iLCJWaWV3UGx1Z2luIiwiZG9tRXZlbnRPYnNlcnZlcnMiLCJidWlsZEV4dGVuc2lvbnMiLCJldmVudE9ic2VydmVycyIsInBsdWdpbiIsInBsdWdpbkluc3QiLCJQbHVnaW5JbnN0YW5jZSIsIm11c3RVcGRhdGUiLCJkZWFjdGl2YXRlIiwiZWRpdG9yQXR0cmlidXRlcyIsIm91dGVyRGVjb3JhdGlvbnMiLCJiaWRpSXNvbGF0ZWRSYW5nZXMiLCJnZXRJc29sYXRlZFJhbmdlcyIsIkZ1bmN0aW9uIiwiZnJvbURvYyIsInRvRG9jIiwiYmlkaUlzb2xhdGUiLCJnZXRTY3JvbGxNYXJnaW5zIiwic3R5bGVNb2R1bGUiLCJDaGFuZ2VkUmFuZ2UiLCJhZGRUb1NldCIsIm1lIiwiZXh0ZW5kV2l0aFJhbmdlcyIsImRJIiwickkiLCJWaWV3VXBkYXRlIiwidHJhbnNhY3Rpb25zIiwiY2hhbmdlZFJhbmdlcyIsInZpZXdwb3J0Q2hhbmdlZCIsInZpZXdwb3J0TW92ZWQiLCJoZWlnaHRDaGFuZ2VkIiwiZ2VvbWV0cnlDaGFuZ2VkIiwiZm9jdXNDaGFuZ2VkIiwiRG9jVmlldyIsImRvbUNoYW5nZWQiLCJoYXNDb21wb3NpdGlvbiIsIm1hcmtlZEZvckNvbXBvc2l0aW9uIiwiZWRpdENvbnRleHRGb3JtYXR0aW5nIiwibGFzdENvbXBvc2l0aW9uQWZ0ZXJDdXJzb3IiLCJtaW5XaWR0aCIsIm1pbldpZHRoRnJvbSIsIm1pbldpZHRoVG8iLCJpbXByZWNpc2VBbmNob3IiLCJpbXByZWNpc2VIZWFkIiwiZm9yY2VTZWxlY3Rpb24iLCJsYXN0VXBkYXRlIiwiY29udGVudERPTSIsInVwZGF0ZURlY28iLCJ1cGRhdGVJbm5lciIsInVwZGF0ZUVkaXRDb250ZXh0Rm9ybWF0dGluZyIsInJlYWRDb21wb3NpdGlvbkF0IiwiaW5wdXRTdGF0ZSIsImNvbXBvc2luZyIsIm9ic2VydmVyIiwiZWRpdENvbnRleHQiLCJuZXdTZWwiLCJjb21wb3NpdGlvbiIsInRvdWNoZWQiLCJ0b3VjaGVzQ29tcG9zaXRpb24iLCJoZWFkUG9zIiwiZmluZENvbXBvc2l0aW9uTm9kZSIsInRleHROb2RlIiwiaW52IiwibWFya3MiLCJwYXJlbnRWaWV3IiwiZmluZENvbXBvc2l0aW9uUmFuZ2UiLCJjbGVhciIsImRlY29EaWZmIiwiY29tcCIsIkRlY29yYXRpb25Db21wYXJhdG9yJDEiLCJmaW5kQ2hhbmdlZERlY28iLCJvbGRMZW5ndGgiLCJtdXN0TWVhc3VyZUNvbnRlbnQiLCJ1cGRhdGVDaGlsZHJlbiIsImNvbnRlbnRIZWlnaHQiLCJmbGV4QmFzaXMiLCJzZWxlY3Rpb25SYW5nZSIsImNWaWV3IiwiZ2FwcyIsInVwZGF0ZUdhcHMiLCJjb21wTGluZSIsImNvbXBvc2l0aW9uVmlldyIsImZpeENvbXBvc2l0aW9uRE9NIiwiZml4IiwidXBkYXRlU2VsZWN0aW9uIiwibXVzdFJlYWQiLCJmcm9tUG9pbnRlciIsInJlYWRTZWxlY3Rpb25SYW5nZSIsImFjdGl2ZUVsdCIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1c2VkIiwic2VsZWN0aW9uTm90Rm9jdXMiLCJ0YWJJbmRleCIsIm1vdmVUb0xpbmUiLCJkdW1teSIsInN1cHByZXNzV2lkZ2V0Q3Vyc29yQ2hhbmdlIiwiaW5zaWRlIiwiYXNzaWduZWRTbG90IiwiaW5VbmVkaXRhYmxlIiwiYmx1ciIsInJhd1NlbCIsIm5leHRUbyIsImNvbGxhcHNlIiwiY2FyZXRCaWRpTGV2ZWwiLCJyZW1vdmVBbGxSYW5nZXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInBvc0Zyb21ET00iLCJlbmZvcmNlQ3Vyc29yQXNzb2MiLCJtb2RpZnkiLCJuZXdSYW5nZSIsIm5lYXJlc3QiLCJkb21WaWV3IiwiYmVzdCIsImJlc3RQb3MiLCJjb29yZHNGb3JDaGFyIiwiY2hpbGRPZmYiLCJtZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzIiwiY29udGVudFdpZHRoIiwiY2xpZW50V2lkdGgiLCJpc1dpZGVyIiwid2lkZXN0IiwibHRyIiwidGV4dERpcmVjdGlvbiIsImNoaWxkUmVjdCIsImdldENvbXB1dGVkU3R5bGUiLCJtZWFzdXJlIiwicG9zaXRpb24iLCJjb21wdXRlQmxvY2tHYXBEZWNvIiwidnMiLCJ2aWV3cG9ydHMiLCJhbGxEZWNvIiwiZHluYW1pY091dGVyIiwib3V0ZXJEZWNvIiwibGluZUdhcERlY28iLCJyZWYiLCJ0YXJnZXRSZWN0Iiwic3RvcCIsImJvdW5kaW5nIiwic2Nyb2xsV2lkdGgiLCJtb3ZlWCIsIm1vdmVZIiwicmVjdEhlaWdodCIsImJvdW5kaW5nSGVpZ2h0Iiwic2Nyb2xsQnkiLCJtb3ZlZFgiLCJtb3ZlZFkiLCJob3N0Iiwic2Nyb2xsUmVjdEludG9WaWV3IiwiZGVzY0FmdGVyIiwiZGVzY0JlZm9yZSIsImdldGR4IiwiZ2V0ZHkiLCJ5T3ZlcmxhcCIsInVwVG9wIiwidXBCb3QiLCJkb21Qb3NBdENvb3JkcyIsImNsb3Nlc3QiLCJjbG9zZXN0UmVjdCIsImNsb3Nlc3RYIiwiY2xvc2VzdFkiLCJhYm92ZSIsImJlbG93IiwiYWJvdmVSZWN0IiwiYmVsb3dSZWN0IiwiY2xvc2VzdE92ZXJsYXAiLCJkeCIsImR5IiwiZG9tUG9zSW5UZXh0IiwiY2xpcFgiLCJjbG9zZXN0T2Zmc2V0IiwiY2xvc2VzdERZIiwiZ2VuZXJhbFNpZGUiLCJwb3NBdENvb3JkcyIsImNvb3JkcyIsImRvY1RvcCIsInBhZGRpbmdUb3AiLCJkb2NIZWlnaHQiLCJ5T2Zmc2V0IiwiaGFsZkxpbmUiLCJib3VuY2VkIiwiZWxlbWVudEF0SGVpZ2h0IiwicG9zQXRDb29yZHNJbXByZWNpc2UiLCJlbGVtZW50RnJvbVBvaW50IiwiY2FyZXRQb3NpdGlvbkZyb21Qb2ludCIsIm9mZnNldE5vZGUiLCJjYXJldFJhbmdlRnJvbVBvaW50Iiwic3RhcnRDb250YWluZXIiLCJpc1N1c3BpY2lvdXNTYWZhcmlDYXJldFJlc3VsdCIsImlzU3VzcGljaW91c0Nocm9tZUNhcmV0UmVzdWx0IiwiY29udGVudFJlY3QiLCJpbnRvIiwicm91bmQiLCJkZWZhdWx0Q2hhcmFjdGVyV2lkdGgiLCJsaW5lTGVuZ3RoIiwiYmlkaVNwYW5zIiwiY2hlY2siLCJ2aXN1YWxMaW5lU2lkZSIsInNraXBBdG9taWNSYW5nZXMiLCJhdG9tcyIsInNraXBBdG9tcyIsIm9sZFBvcyIsIkxpbmVCcmVha1BsYWNlaG9sZGVyIiwiRE9NUmVhZGVyIiwicG9pbnRzIiwicmVhZFJhbmdlIiwiZmluZFBvaW50QmVmb3JlIiwib2xkTGVuIiwicmVhZE5vZGUiLCJuZXh0VmlldyIsInJlYWRUZXh0Tm9kZSIsInJlIiwibmV4dEJyZWFrIiwiYnJlYWtTaXplIiwiZnJvbVZpZXciLCJmaW5kUG9pbnRJbnNpZGUiLCJpc0F0RW5kIiwiRE9NUG9pbnQiLCJET01DaGFuZ2UiLCJ0eXBlT3ZlciIsImJvdW5kcyIsImlIZWFkIiwiaUFuY2hvciIsInNlbFBvaW50cyIsInNlbGVjdGlvblBvaW50cyIsInNlbGVjdGlvbkZyb21Qb2ludHMiLCJvZmZGcm9tIiwib2ZmVG8iLCJhcHBseURPTUNoYW5nZSIsImRvbUNoYW5nZSIsImxhc3RLZXkiLCJsYXN0S2V5VGltZSIsImxhc3RLZXlDb2RlIiwicHJlZmVycmVkUG9zIiwicHJlZmVycmVkU2lkZSIsIm1pbkxlbiIsImZpbmREaWZmIiwiYXBwbHlET01DaGFuZ2VJbm5lciIsImxhc3RTZWxlY3Rpb25UaW1lIiwibGFzdFNlbGVjdGlvbk9yaWdpbiIsImZsdXNoSU9TS2V5IiwiZGVmYXVsdFRyIiwiZGVmYXVsdEluc2VydCIsIm1haW5TZWwiLCJjb21wb3NpdGlvblJhbmdlIiwicmVwbGFjZWQiLCJyYW5nZUNoYW5nZXMiLCJzZWxPZmYiLCJjb21wb3NpdGlvblBlbmRpbmdDaGFuZ2UiLCJjb21wb3NpdGlvbkVuZGVkQXQiLCJjb21wb3NpdGlvbkZpcnN0Q2hhbmdlIiwiYXBwbHlEZWZhdWx0SW5zZXJ0IiwiaCIsIklucHV0U3RhdGUiLCJzZXRTZWxlY3Rpb25PcmlnaW4iLCJvcmlnaW4iLCJsYXN0VG91Y2hUaW1lIiwibGFzdEZvY3VzVGltZSIsImxhc3RTY3JvbGxUb3AiLCJsYXN0U2Nyb2xsTGVmdCIsInBlbmRpbmdJT1NLZXkiLCJ0YWJGb2N1c01vZGUiLCJsYXN0Q29udGV4dE1lbnUiLCJzY3JvbGxIYW5kbGVycyIsImhhbmRsZXJzIiwiY29tcG9zaXRpb25QZW5kaW5nS2V5IiwibW91c2VTZWxlY3Rpb24iLCJkcmFnZ2VkQ29udGVudCIsImhhbmRsZUV2ZW50Iiwibm90aWZpZWRGb2N1c2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFwcGxpZWRGaXJlZm94SGFjayIsImZpcmVmb3hDb3B5Q3V0SGFjayIsImJ1YmJsZXMiLCJldmVudEJlbG9uZ3NUb0VkaXRvciIsImlnbm9yZUR1cmluZ0NvbXBvc2l0aW9uIiwia2V5ZG93biIsInVwZGF0ZVN0YXRlIiwicnVuSGFuZGxlcnMiLCJvYnNlcnZlcnMiLCJlbnN1cmVIYW5kbGVycyIsInBsdWdpbnMiLCJjb21wdXRlSGFuZGxlcnMiLCJwYXNzaXZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1vZGlmaWVyQ29kZXMiLCJkZWxheUFuZHJvaWRLZXkiLCJwZW5kaW5nIiwiUGVuZGluZ0tleXMiLCJFbWFjc3lQZW5kaW5nS2V5cyIsImZvcmNlRmx1c2giLCJzdGFydE1vdXNlU2VsZWN0aW9uIiwiYmluZEhhbmRsZXIiLCJyZWNvcmQiLCJkcmFnU2Nyb2xsU3BlZWQiLCJNb3VzZVNlbGVjdGlvbiIsInN0YXJ0RXZlbnQiLCJtdXN0U2VsZWN0Iiwic2Nyb2xsU3BlZWQiLCJzY3JvbGxpbmciLCJzY3JvbGxQYXJlbnRzIiwic2Nyb2xsYWJsZVBhcmVudHMiLCJtdWx0aXBsZSIsImFkZHNTZWxlY3Rpb25SYW5nZSIsImRyYWdnaW5nIiwicmFuZ2VDb3VudCIsImdldFJhbmdlQXQiLCJjbGllbnRYIiwiY2xpZW50WSIsImlzSW5QcmltYXJ5U2VsZWN0aW9uIiwiZ2V0Q2xpY2tUeXBlIiwic2VsZWN0IiwiYnV0dG9ucyIsInNldFNjcm9sbFNwZWVkIiwic2V0SW50ZXJ2YWwiLCJzY3JvbGwiLCJjbGVhckludGVydmFsIiwiYnJva2VuQ2xpcGJvYXJkQVBJIiwidGV4dEZpbHRlciIsImRvUGFzdGUiLCJieUxpbmUiLCJsYXN0TGluZXdpc2VDb3B5IiwibGFzdExpbmUiLCJyYW5nZUZvckNsaWNrIiwibGluZVBvcyIsImdyb3VwQXQiLCJ2aXN1YWwiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwibW91c2Vkb3duIiwibWFrZVN0eWxlIiwiYnV0dG9uIiwicXVlcnlQb3MiLCJzdGFydFNlbCIsInJlbW92ZWQiLCJzdGFydFJhbmdlIiwicmVtb3ZlUmFuZ2VBcm91bmQiLCJiYXNpY01vdXNlU2VsZWN0aW9uIiwibXVzdEZvY3VzIiwibW91c2VTZWwiLCJmaW5kUG9zaXRpb25TaWRlIiwiQmFkTW91c2VEZXRhaWwiLCJsYXN0TW91c2VEb3duIiwibGFzdE1vdXNlRG93bkNvdW50IiwibGFzdE1vdXNlRG93blRpbWUiLCJkZXRhaWwiLCJsYXN0VGltZSIsImRyb3BUZXh0IiwiZHJvcFBvcyIsImRyYWdNb3Zlc1NlbGVjdGlvbiIsImRyYWdzdGFydCIsImRyYWdnYWJsZSIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJlZmZlY3RBbGxvd2VkIiwiZHJhZ2VuZCIsImZpbGVzIiwiZmluaXNoRmlsZSIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZWFkQXNUZXh0IiwiZ2V0RGF0YSIsInBhc3RlIiwiY2xpcGJvYXJkRGF0YSIsImNhcHR1cmVQYXN0ZSIsImxpbmV3aXNlIiwiY29waWVkUmFuZ2UiLCJjbGVhckRhdGEiLCJzZWxlY3Rpb25FbmQiLCJzZWxlY3Rpb25TdGFydCIsImNhcHR1cmVDb3B5IiwiaXNGb2N1c0NoYW5nZSIsImZvY3VzQ2hhbmdlVHJhbnNhY3Rpb24iLCJnZXRFZmZlY3QiLCJ1cGRhdGVGb3JGb2N1c0NoYW5nZSIsImNsZWFyU2VsZWN0aW9uUmFuZ2UiLCJjb21wb3NpdGlvbnN0YXJ0IiwiY29tcG9zaXRpb251cGRhdGUiLCJjb21wb3NpdGlvbmVuZCIsInBlbmRpbmdSZWNvcmRzIiwiZmx1c2hTb29uIiwiY29udGV4dG1lbnUiLCJnZXRUYXJnZXRSYW5nZXMiLCJwb3NBdERPTSIsImVuZENvbnRhaW5lciIsImVuZE9mZnNldCIsInN0YXJ0Vmlld0hlaWdodCIsIndyYXBwaW5nV2hpdGVTcGFjZSIsImhlaWdodENoYW5nZUZsYWciLCJjbGVhckhlaWdodENoYW5nZUZsYWciLCJIZWlnaHRPcmFjbGUiLCJoZWlnaHRTYW1wbGVzIiwiaGVpZ2h0Rm9yR2FwIiwiaGVpZ2h0Rm9yTGluZSIsInNldERvYyIsIm11c3RSZWZyZXNoRm9yV3JhcHBpbmciLCJ3aGl0ZVNwYWNlIiwibXVzdFJlZnJlc2hGb3JIZWlnaHRzIiwibGluZUhlaWdodHMiLCJuZXdIZWlnaHQiLCJyZWZyZXNoIiwia25vd25IZWlnaHRzIiwiTWVhc3VyZWRIZWlnaHRzIiwiaGVpZ2h0cyIsIm1vcmUiLCJCbG9ja0luZm8iLCJfY29udGVudCIsIndpZGdldExpbmVCcmVha3MiLCJRdWVyeVR5cGUiLCJFcHNpbG9uIiwiSGVpZ2h0TWFwIiwib3V0ZGF0ZWQiLCJzZXRIZWlnaHQiLCJkZWNvbXBvc2VMZWZ0IiwiZGVjb21wb3NlUmlnaHQiLCJvbGREb2MiLCJvcmFjbGUiLCJCeVBvc05vSGVpZ2h0IiwiTm9kZUJ1aWxkZXIiLCJ1cGRhdGVIZWlnaHQiLCJIZWlnaHRNYXBUZXh0IiwiYnJlYWsiLCJicmsiLCJIZWlnaHRNYXBCcmFuY2giLCJvbGQiLCJIZWlnaHRNYXBCbG9jayIsImJsb2NrQXQiLCJfaGVpZ2h0IiwiX29yYWNsZSIsIl92YWx1ZSIsIl90eXBlIiwiZm9yRWFjaExpbmUiLCJfZm9yY2UiLCJtZWFzdXJlZCIsImNvbGxhcHNlZCIsIndpZGdldEhlaWdodCIsIkhlaWdodE1hcEdhcCIsImhlaWdodE1ldHJpY3MiLCJwZXJMaW5lIiwiZmlyc3RMaW5lIiwicGVyQ2hhciIsInRvdGFsUGVyTGluZSIsImd1ZXNzIiwibGluZVRvcCIsIkJ5SGVpZ2h0IiwibGluZXNBYm92ZSIsInNpbmdsZUhlaWdodCIsInJpZ2h0VG9wIiwicmlnaHRPZmZzZXQiLCJzdWJRdWVyeSIsIkJ5UG9zIiwicmlnaHRTdGFydCIsImJhbGFuY2VkIiwibWVyZ2VHYXBzIiwicmViYWxhbmNlIiwiYXJvdW5kIiwiY292ZXJpbmciLCJ3cml0dGVuVG8iLCJpc0NvdmVyZWQiLCJhZGRCbG9jayIsImVudGVyTGluZSIsImJsYW5rQ29udGVudCIsImdhcCIsImVuc3VyZUxpbmUiLCJEZWNvcmF0aW9uQ29tcGFyYXRvciIsInZpc2libGVQaXhlbFJhbmdlIiwib3ZlcmZsb3ciLCJwYXJlbnRSZWN0Iiwib2Zmc2V0UGFyZW50IiwiZnVsbFBpeGVsUmFuZ2UiLCJMaW5lR2FwIiwiZGlzcGxheVNpemUiLCJzYW1lIiwiZ0EiLCJnQiIsImRyYXciLCJ3cmFwcGluZyIsIkxpbmVHYXBXaWRnZXQiLCJ2ZXJ0aWNhbCIsImRpc3BsYXkiLCJWaWV3U3RhdGUiLCJwaXhlbFZpZXdwb3J0IiwiaW5WaWV3IiwicGFkZGluZ0JvdHRvbSIsImNvbnRlbnRET01XaWR0aCIsImNvbnRlbnRET01IZWlnaHQiLCJlZGl0b3JIZWlnaHQiLCJlZGl0b3JXaWR0aCIsInNjcm9sbGVkVG9Cb3R0b20iLCJzY3JvbGxBbmNob3JQb3MiLCJzY3JvbGxBbmNob3JIZWlnaHQiLCJzY2FsZXIiLCJJZFNjYWxlciIsInNjcm9sbFRhcmdldCIsInByaW50aW5nIiwiZGVmYXVsdFRleHREaXJlY3Rpb24iLCJ2aXNpYmxlUmFuZ2VzIiwibXVzdEVuZm9yY2VDdXJzb3JBc3NvYyIsImd1ZXNzV3JhcHBpbmciLCJzdGF0ZURlY28iLCJoZWlnaHRNYXAiLCJnZXRWaWV3cG9ydCIsInVwZGF0ZUZvclZpZXdwb3J0IiwidXBkYXRlVmlld3BvcnRMaW5lcyIsImxpbmVHYXBzIiwiZW5zdXJlTGluZUdhcHMiLCJjb21wdXRlVmlzaWJsZVJhbmdlcyIsIlZpZXdwb3J0IiwidXBkYXRlU2NhbGVyIiwiQmlnU2NhbGVyIiwidmlld3BvcnRMaW5lcyIsInNjYWxlQmxvY2siLCJwcmV2RGVjbyIsImNvbnRlbnRDaGFuZ2VzIiwiaGVpZ2h0Q2hhbmdlcyIsImhlaWdodFJlbGV2YW50RGVjb0NoYW5nZXMiLCJwcmV2SGVpZ2h0Iiwic2Nyb2xsQW5jaG9yIiwic2Nyb2xsQW5jaG9yQXQiLCJtYXBWaWV3cG9ydCIsInZpZXdwb3J0SXNBcHByb3ByaWF0ZSIsInZpZXdwb3J0Q2hhbmdlIiwidXBkYXRlTGluZUdhcHMiLCJtYXBMaW5lR2FwcyIsImRvbVJlY3QiLCJtZWFzdXJlQ29udGVudCIsImRUb3AiLCJkQm90dG9tIiwiaW5XaW5kb3ciLCJ2aXNpYmxlVG9wIiwiZnJvbURPTSIsInZpc2libGVCb3R0b20iLCJ0b3BQb3MiLCJ2aWV3SGVpZ2h0IiwibWF5TWVhc3VyZSIsImhhbGZNYXJnaW4iLCJkb3VibGVNYXJnaW4iLCJhZGRHYXAiLCJzdHJ1Y3R1cmUiLCJhdm9pZCIsImdhcFNpemUiLCJjaGVja0xpbmUiLCJsaW5lU3RydWN0dXJlIiwidmlld0Zyb20iLCJ2aWV3VG8iLCJib3QiLCJtYXJnaW5IZWlnaHQiLCJ0YXJnZXRGcmFjIiwiZmluZEZyYWN0aW9uIiwic3BhY2VGcmFjIiwiZmluZFBvc2l0aW9uIiwibWFyZ2luV2lkdGgiLCJob3Jpek9mZnNldCIsInB4TGVmdCIsInB4UmlnaHQiLCJmcmFjdGlvbiIsIm53IiwibGluZUJsb2NrQXRIZWlnaHQiLCJyYXRpbyIsImNvdW50ZWQiLCJzY2FsZSIsInZwSGVpZ2h0IiwiZG9tQmFzZSIsImRvbVRvcCIsImRvbUJvdHRvbSIsImJUb3AiLCJiQm90dG9tIiwidGhlbWUiLCJzdHJzIiwiZGFya1RoZW1lIiwiYmFzZVRoZW1lSUQiLCJiYXNlTGlnaHRJRCIsImJhc2VEYXJrSUQiLCJsaWdodERhcmtJRHMiLCJidWlsZFRoZW1lIiwic2NvcGVzIiwiYmFzZVRoZW1lJDEiLCJib3hTaXppbmciLCJvdXRsaW5lIiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJmb250RmFtaWx5Iiwib3ZlcmZsb3dYIiwiekluZGV4Iiwib3ZlcmZsb3dBbmNob3IiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJ3b3JkV3JhcCIsIm1pbkhlaWdodCIsInBhZGRpbmciLCJXZWJraXRVc2VyTW9kaWZ5Iiwid2hpdGVTcGFjZV9mYWxsYmFjayIsIndvcmRCcmVhayIsIm92ZXJmbG93V3JhcCIsImNhcmV0Q29sb3IiLCJjb250YWluIiwiYmFja2dyb3VuZCIsInBvaW50ZXJFdmVudHMiLCJhbmltYXRpb24iLCJvcGFjaXR5IiwiYm9yZGVyTGVmdCIsIm1hcmdpbkxlZnQiLCJib3JkZXJMZWZ0Q29sb3IiLCJ1bmljb2RlQmlkaSIsImJhY2tncm91bmRDb2xvciIsImluc2V0SW5saW5lU3RhcnQiLCJib3JkZXJSaWdodCIsInRleHRBbGlnbiIsImJvcmRlckJvdHRvbSIsImJvcmRlclRvcCIsInZlcnRpY2FsQWxpZ24iLCJ1c2VyU2VsZWN0IiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiZm9udFNpemUiLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJvYnNlcnZlT3B0aW9ucyIsImNoYXJhY3RlckRhdGEiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YU9sZFZhbHVlIiwidXNlQ2hhckRhdGEiLCJET01PYnNlcnZlciIsInNlbGVjdGlvbkNoYW5nZWQiLCJkZWxheWVkRmx1c2giLCJyZXNpemVUaW1lb3V0IiwicXVldWUiLCJkZWxheWVkQW5kcm9pZEtleSIsImZsdXNoaW5nQW5kcm9pZEtleSIsImxhc3RDaGFuZ2UiLCJzY3JvbGxUYXJnZXRzIiwiaW50ZXJzZWN0aW9uIiwicmVzaXplU2Nyb2xsIiwiaW50ZXJzZWN0aW5nIiwiZ2FwSW50ZXJzZWN0aW9uIiwicHJpbnRRdWVyeSIsInBhcmVudENoZWNrIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsIm11dCIsInJlbW92ZWROb2RlcyIsIkVkaXRDb250ZXh0IiwiRURJVF9DT05URVhUIiwiRWRpdENvbnRleHRNYW5hZ2VyIiwib25DaGFyRGF0YSIsInByZXZWYWx1ZSIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwib25SZXNpemUiLCJvblByaW50Iiwib25TY3JvbGwiLCJtYXRjaE1lZGlhIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiYWRkV2luZG93TGlzdGVuZXJzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwibGlzdGVuRm9yU2Nyb2xsIiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJvblNjcm9sbENoYW5nZWQiLCJjcmVhdGVFdmVudCIsInRocmVzaG9sZCIsInJlcXVlc3RNZWFzdXJlIiwibWVhc3VyZVJlcSIsImciLCJkaXNjb25uZWN0Iiwid2FzQ2hhbmdlZCIsImdldENvbXBvc2VkUmFuZ2VzIiwiYnVpbGRTZWxlY3Rpb25SYW5nZUZyb21SYW5nZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImV4ZWNDb21tYW5kIiwic2FmYXJpU2VsZWN0aW9uUmFuZ2VIYWNrIiwiYXRFbGVtZW50U3RhcnQiLCJwcm9jZXNzUmVjb3JkcyIsImNsZWFyRGVsYXllZEFuZHJvaWRLZXkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInRha2VSZWNvcmRzIiwicmVjb3JkcyIsInJlYWRNdXRhdGlvbiIsInJlYWRDaGFuZ2UiLCJyZWFkU2VsZWN0aW9uIiwiaGFuZGxlZCIsInJlYyIsInNldFdpbmRvdyIsInJlbW92ZVdpbmRvd0xpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJjdXJWaWV3IiwiY3VyQW5jaG9yIiwicGVuZGluZ0NvbnRleHRDaGFuZ2UiLCJyZXNldFJhbmdlIiwidG9Db250ZXh0UG9zIiwidGV4dHVwZGF0ZSIsInRvRWRpdG9yUG9zIiwidXBkYXRlUmFuZ2VTdGFydCIsInVwZGF0ZVJhbmdlRW5kIiwiY29udGV4dEJhc2UiLCJlZGl0b3JCYXNlIiwiZHJpZnRlZCIsInJldmVydFBlbmRpbmciLCJzZXRTZWxlY3Rpb24iLCJjaGFyYWN0ZXJib3VuZHN1cGRhdGUiLCJyYW5nZVN0YXJ0IiwiRE9NUmVjdCIsInVwZGF0ZUNoYXJhY3RlckJvdW5kcyIsInRleHRmb3JtYXR1cGRhdGUiLCJmb3JtYXQiLCJnZXRUZXh0Rm9ybWF0cyIsImxpbmVTdHlsZSIsInVuZGVybGluZVN0eWxlIiwidGhpY2tuZXNzIiwidW5kZXJsaW5lVGhpY2tuZXNzIiwidXBkYXRlQ29udHJvbEJvdW5kcyIsInVwZGF0ZVNlbGVjdGlvbkJvdW5kcyIsImFwcGx5RWRpdHMiLCJhYm9ydCIsIl9mcm9tQiIsInVwZGF0ZVRleHQiLCJyZXZlcnRlZCIsInJhbmdlSXNWYWxpZCIsImNvbnRleHRQb3MiLCJjbGlwTGVuIiwiZWRpdG9yUG9zIiwiRWRpdG9yVmlldyIsImNvbXBvc2l0aW9uU3RhcnRlZCIsIl9yb290IiwicGx1Z2luTWFwIiwiZWRpdG9yQXR0cnMiLCJjb250ZW50QXR0cnMiLCJiaWRpQ2FjaGUiLCJkZXN0cm95ZWQiLCJtZWFzdXJlU2NoZWR1bGVkIiwibWVhc3VyZVJlcXVlc3RzIiwiYW5ub3VuY2VET00iLCJkaXNwYXRjaFRyYW5zYWN0aW9ucyIsInRycyIsImdldFJvb3QiLCJzY3JvbGxUbyIsIm1vdW50U3R5bGVzIiwiZm9udHMiLCJyZWFkeSIsInJlZHJhd24iLCJhdHRyc0NoYW5nZWQiLCJmb2N1c0ZsYWciLCJkaXNwYXRjaEZvY3VzIiwicGVuZGluZ0tleSIsIkNhY2hlZE9yZGVyIiwidXBkYXRlUGx1Z2lucyIsInN0eWxlTW9kdWxlcyIsInNob3dBbm5vdW5jZW1lbnRzIiwiZG9jVmlld1VwZGF0ZSIsImxpc3RlbmVyIiwiaGFkRm9jdXMiLCJwcmV2U3BlY3MiLCJuZXdQbHVnaW5zIiwic0RPTSIsIm1lYXN1cmluZyIsIkJhZE1lYXN1cmUiLCJ3cml0ZSIsInRoZW1lQ2xhc3NlcyIsImF0dHJzRnJvbUZhY2V0Iiwic3BlbGxjaGVjayIsImF1dG9jb3JyZWN0IiwiYXV0b2NhcGl0YWxpemUiLCJ3cml0aW5nc3VnZ2VzdGlvbnMiLCJ0cmFuc2xhdGUiLCJjb250ZW50ZWRpdGFibGUiLCJyb2xlIiwiY2hhbmdlZENvbnRlbnQiLCJjaGFuZ2VkRWRpdG9yIiwiY3NwTm9uY2UiLCJyZWFkTWVhc3VyZWQiLCJyZXF1ZXN0IiwiZG9jdW1lbnRQYWRkaW5nIiwidmlld3BvcnRMaW5lQmxvY2tzIiwiaW5pdGlhbCIsImJ5R3JvdXAiLCJpbmNsdWRlV3JhcCIsImVkaXRvclJlY3QiLCJzdGFydFkiLCJnb2FsIiwic3RhcnRDb29yZHMiLCJyZXNvbHZlZEdvYWwiLCJjdXJZIiwiY2hhclJlY3QiLCJNYXhCaWRpTGluZSIsImVudHJ5IiwiZnJlc2giLCJjb21wdXRlT3JkZXIiLCJzZXRSb290Iiwic2Nyb2xsU25hcHNob3QiLCJkYXJrIiwiYmFzZVRoZW1lIiwiZmluZEZyb21ET00iLCJsYXN0RGlyIiwic291cmNlcyIsImN1cnJlbnRQbGF0Zm9ybSIsIm1vZGlmaWVycyIsImhhbmRsZUtleUV2ZW50cyIsImN1cnJlbnRLZXlFdmVudCIsImtleU5hbWUiLCJjaGFyQ29kZSIsImlzQ2hhciIsInByZXZlbnRlZCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3JlZFByZWZpeCIsImJhc2VOYW1lIiwic2hpZnROYW1lIiwicmFuIiwicnVuRm9yIiwiYmluZGluZyIsInNjb3BlT2JqIiwiX2FueSIsImJpbmRpbmdzIiwia2V5bWFwIiwiS2V5bWFwcyIsImJvdW5kIiwiaXNQcmVmaXgiLCJjaGVja1ByZWZpeCIsImFsdCIsImN0cmwiLCJub3JtYWxpemVLZXlOYW1lIiwib3VyT2JqIiwiUHJlZml4VGltZW91dCIsImZ1bGwiLCJhbnkiLCJidWlsZEtleW1hcCIsImdldEtleW1hcCIsIkd1dHRlck1hcmtlciIsImVsZW1lbnRDbGFzcyIsImd1dHRlckxpbmVDbGFzcyIsImd1dHRlcldpZGdldENsYXNzIiwiYWN0aXZlR3V0dGVycyIsInVuZml4R3V0dGVycyIsImd1dHRlcnMiLCJndXR0ZXJWaWV3IiwiZml4ZWQiLCJwcmV2Vmlld3BvcnQiLCJTaW5nbGVHdXR0ZXJWaWV3IiwiZ3V0dGVyIiwic3luY0d1dHRlcnMiLCJ1cGRhdGVHdXR0ZXJzIiwidnBBIiwidnBCIiwidnBPdmVybGFwIiwiZGV0YWNoIiwibGluZUNsYXNzZXMiLCJjbGFzc1NldCIsImNvbnRleHRzIiwiVXBkYXRlQ29udGV4dCIsImFkdmFuY2VDdXJzb3IiLCJjb2xsZWN0IiwibWFya2VycyIsImFkZEVsZW1lbnQiLCJlbGVtZW50cyIsIm5ld0VsdCIsIkd1dHRlckVsZW1lbnQiLCJleHRyYU1hcmtlcnMiLCJsb2NhbE1hcmtlcnMiLCJmb3JMaW5lIiwibGluZU1hcmtlciIsInJlbmRlckVtcHR5RWxlbWVudHMiLCJtYXJrZXIiLCJ3aWRnZXRNYXJrZXIiLCJzcGFjZXIiLCJpbml0aWFsU3BhY2VyIiwicHJldk1hcmtlcnMiLCJ1cGRhdGVTcGFjZXIiLCJsaW5lTWFya2VyQ2hhbmdlIiwic2FtZU1hcmtlcnMiLCJzZXRNYXJrZXJzIiwiZG9tUG9zIiwiaU5ldyIsImlPbGQiLCJza2lwVG8iLCJsaW5lTnVtYmVyTWFya2VycyIsImxpbmVOdW1iZXJXaWRnZXRNYXJrZXIiLCJsaW5lTnVtYmVyQ29uZmlnIiwiZm9ybWF0TnVtYmVyIiwiYXNzaWduIiwiTnVtYmVyTWFya2VyIiwibGluZU51bWJlckd1dHRlciIsIm90aGVycyIsIm1heExpbmVOdW1iZXIiLCJsaW5lTnVtYmVycyIsImFjdGl2ZUxpbmVHdXR0ZXJNYXJrZXIiLCJhY3RpdmVMaW5lR3V0dGVySGlnaGxpZ2h0ZXIiLCJoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==