"use strict";(self.webpackChunkvintage_machine=self.webpackChunkvintage_machine||[]).push([[195],{1643:(n,e,t)=>{t.d(e,{I:()=>E});var o=t(4848),r=t(5968),i=t(5072),a=t.n(i),s=t(7825),c=t.n(s),l=t(7659),f=t.n(l),u=t(5056),d=t.n(u),p=t(540),h=t.n(p),v=t(1113),g=t.n(v),m=t(6637),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=f().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=h(),a()(m.A,b);const y=m.A&&m.A.locals?m.A.locals:void 0;var x=t(2197);const w=r.Sxu.classNames;function E({type:n="neutral",enabled:e=!0,children:t,onClick:r}){const i=(0,x.Kg)(r)?()=>globalThis.location.href=r:r;return(0,o.jsx)("div",{className:w.join(y.button,y[n]),children:(0,o.jsx)("button",{type:"button",onClick:i,disabled:!e,children:t})})}},2197:(n,e,t)=>{function o(n){return!!n&&!Array.isArray(n)&&"object"==typeof n}function r(n){return"string"==typeof n}function i(n){return"number"==typeof n}function a(n){return"function"==typeof n}function s(n){return"boolean"==typeof n}function c(n,e,t=null){try{return l(n,e),!0}catch(e){return t&&(console.error("[Invalid type]",t),console.error(n),console.debug(e)),!1}}function l(n,e,t="data"){if("function"==typeof e)return l(n,e(),t);if("unknown"===e)return;if("null"===e){if(null!==n)throw console.log("ðŸš€ [index] data = ",n,typeof n),Error(`Expected ${t} to be a null and not a ${d(n)}!`);return}if("string"==typeof e){if(typeof n!==e)throw Error(`Expected ${t} to be a ${e} and not a ${d(n)}!`);return}if(Array.isArray(e)){const[r]=e;switch(r){case"array":return void function(n,e,t){if(!Array.isArray(n))throw Error(`Expected ${e} to be an array and not a ${d(n)}!`);const[,o,r]=t;if(r){const t=n.length;if(i(r)){if(t!==r)throw Error(`Expected ${e}'s length to be ${r} and not ${t}!`)}else{const{min:n,max:o}=r;if(i(n)&&t<n)throw Error(`Expected ${e}'s MIN length to be ${n} and not ${t}!`);if(i(o)&&t>o)throw Error(`Expected ${e}'s MAX length to be ${o} and not ${t}!`)}}for(let t=0;t<n.length;t+=1)l(n[t],o,`${e}[${t}]`)}(n,t,e);case"map":return void function(n,e,t){if(!o(n))throw Error(`Expected ${e} to be an object and not a ${d(n)}!`);const[,r]=t;for(const t of Object.keys(n))"string"==typeof t&&l(n[t],r,`${e}[${t}]`)}(n,t,e);case"?":return void function(n,e,t){if(void 0===n)return;const[,o]=t;l(n,o,e)}(n,t,e);case"|":return void function(n,e,t){const[,...o]=t;if(0===o.length)throw Error(`No type has been defined for this alternative: ${JSON.stringify(t)}!`);const r=[];for(const t of o)try{return void l(n,t,e)}catch(n){n instanceof Error&&r.push(n)}throw new Error(`All alternatives failed!${r.map((n=>`\n${n.message}`))}`)}(n,t,e);case"tuple":return void f(n,t,e);case"tuple...":return void function(n,e,[,...t]){const o=t.length-1;f(n,e,["tuple",...t.slice(0,o)]);const r=t[o];for(let t=o;t<n.length;t++)l(n[t],r,`${e}[${t}]`)}(n,t,e);case"partial":return void function(n,e,[,t]){!function(n,e="data"){if(!o(n))throw Error(`${e} was expected to be an object but we got ${typeof n}!`)}(n,e);for(const o of Object.keys(t)){if("string"!=typeof o)continue;const r=n[o];void 0!==r&&l(r,t[o],`${e}.${o}`)}}(n,t,e);case"literal":return void function(n,e,t){const[,...o]=t;for(const e of o)if(n===e)return;throw Error(`Expected ${e} to be a literal (${o.map((n=>`"${n}"`)).join(" | ")}) and not a ${d(n)}!`)}(n,t,e);case"custom":return void function(n,e,[,t]){if(!t(n))throw Error(`Expected ${t.name}(${e}) to return true!`)}(n,t,e);default:throw Error(`Don't know how to create a type guard for this kind of type: ${JSON.stringify(e)}`)}}if("object"!=typeof n)throw Error(`Expected ${t} to be an object and not a ${d(n)}!`);const r=n;for(const n of Object.keys(e))"string"==typeof n&&l(r[n],e[n],`${t}.${n}`)}function f(n,e,[,...t]){if(function(n,e="data"){if(!Array.isArray(n))throw Error(`${e} was expected to be an Array but we got ${typeof n}!`)}(n),t.length>n.length)throw Error(`Expected ${e}'s length to be at least ${t.length} and not ${n.length}!`);for(let o=0;o<t.length;o++){const r=t[o];l(n[o],r,`${e}[${o}]`)}}function u(n,e){return function(n,e,t){return c(n,e)?n:c(t,e)?t:t(n)}(n,"number",e)}function d(n){var e;return null===n?"null":"function"==typeof n?`function ${null!==(e=n.name)&&void 0!==e?e:""}()`:typeof n}t.d(e,{Et:()=>i,GB:()=>u,Kg:()=>r,Lm:()=>s,Tn:()=>a,Xj:()=>c,j:()=>l})},4195:(n,e,t)=>{t.r(e),t.d(e,{default:()=>j});var o=t(4848),r=t(6540),i=t(1858),a=t(5968),s=t(1643);class c extends i.tbm{constructor(n){super(),this.context=n;const{gl:e}=n;this.prg=new i.a6X(e,{vert:"#version 300 es\nprecision mediump float;\nconst vec2 positions[4] = vec2[4](\n    vec2(-1.0, -1.0), \n    vec2(1.0, -1.0), \n    vec2(-1.0, 1.0), \n    vec2(1.0, 1.0)\n);\nout vec2 uv;\n\nvoid main() {\n    uv = positions[gl_VertexID];\n    gl_Position = vec4(positions[gl_VertexID], 0.0, 1.0);\n}",frag:"#version 300 es\nprecision highp float;\n\nuniform float uniTime;\nuniform vec2 uniScreenSize;\n\nin vec2 uv;\nout vec4 fragColor;\n\nfloat rand(vec2 p) {\n    return fract(sin(dot(p.xy, vec2(1., 300.))) * 43758.5453123);\n}\n\n// Based on Morgan McGuire\nfloat noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n\n    // Four corners in 2D of a tile\n    float a = rand(i);\n    float b = rand(i + vec2(1.0, 0.0));\n    float c = rand(i + vec2(0.0, 1.0));\n    float d = rand(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n#define OCTAVES 5\nfloat fbm(vec2 p) {\n    // Initial values\n    float value = 0.;\n    float amplitude = .4;\n    float frequency = 0.;\n\n    // Loop of octaves\n    for (int i = 0; i < OCTAVES; i++) {\n        value += amplitude * noise(p);\n        p *= 2.;\n        amplitude *= .4;\n    }\n    return value;\n}\n\nfloat alpha(float speed) {\n    return 0.5 * (1.0 + sin(uniTime * speed));\n}\n\nconst float PIXEL = 16.0;\n\nvoid main() {\n    vec2 p = uv.xy;\n    ivec2 f = ivec2(gl_FragCoord.xy) % ivec2(PIXEL);\n    if (f.x == 0 || f.y == 0) {\n        fragColor = vec4(0, 0, 0, 1);\n        return;\n    };\n\n    p = PIXEL * floor(gl_FragCoord.xy / PIXEL);\n    p /= uniScreenSize;\n    p *= 2.0;\n    p -= vec2(1);\n\n    float gradient = mix(p.y*.6 + .1, p.y*1.2 + .9, fbm(p));\n    float speed = 0.5;\n    float details = 7.;\n    float force = 10.0; //.9;\n    float shift = 0.0;\n   \n    vec2 fast = vec2(p.x, p.y - uniTime*speed) * details;\n    float ns_a = fbm(fast);\n    float ns_b = force * fbm(fast + ns_a + uniTime) - shift;    \n    float nns = force * fbm(vec2(ns_a, ns_b));\n    float ins = fbm(vec2(ns_b, ns_a));\n\n    vec3 c1 = mix(vec3(.9, .5, .3), vec3(.5, .0, .0), ins + shift);\n    vec3 c2 = vec3(ins - gradient);\n    vec3 c = c1 + c2;\n    float light = c.r;\n    light = pow(light, mix(2.0, 2.1, alpha(1.412)));\n    vec3 color = mix(vec3(1.0, .6667, 0.0), vec3(.8, .333, 0.0), alpha(0.71)) * light;\n\n    fragColor = vec4(color, 1.0);\n}"})}delete(){this.prg.delete()}paint(n,e){const{context:t,prg:o}=this,{gl:r}=t;o.use(),o.uniform1f("uniTime",n),o.uniform2f("uniScreenSize",r.drawingBufferWidth,r.drawingBufferHeight),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}var l=t(5072),f=t.n(l),u=t(7825),d=t.n(u),p=t(7659),h=t.n(p),v=t(5056),g=t.n(v),m=t(540),b=t.n(m),y=t(1113),x=t.n(y),w=t(6035),E={};E.styleTagTransform=x(),E.setAttributes=g(),E.insert=h().bind(null,"head"),E.domAPI=d(),E.insertStyleElement=b(),f()(w.A,E);const A=w.A&&w.A.locals?w.A.locals:void 0,$=a.Sxu.classNames;function T(){const n=r.useRef(null);return r.useEffect((()=>{const e=n.current;if(!e)return;const t=new i.tfp(e,{alpha:!0,antialias:!1,resolution:1});t.add(new c(t)),t.play()})),(0,o.jsxs)(a.sWC,{className:$.join(A.welcome),position:"absolute",color:"primary-5",fullsize:!0,children:[(0,o.jsx)("canvas",{ref:n}),(0,o.jsxs)(a.sWC,{position:"absolute",fullsize:!0,display:"grid",placeItems:"center",children:[(0,o.jsx)("h1",{children:"TLK-74"}),(0,o.jsxs)("h2",{children:["ton ordinateur personnel et rÃ©tro-futuriste",(0,o.jsx)("br",{}),"pour coder les jeux les plus fous",(0,o.jsx)("br",{}),"avec des gros pixels"]}),(0,o.jsxs)(s.I,{onClick:"#/workbench",type:"start",children:[(0,o.jsx)(a.fWr,{}),(0,o.jsx)("div",{children:"DÃ©marrer"})]})]})]})}function j(){return(0,o.jsx)(T,{})}},6035:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(1601),r=t.n(o),i=t(6314),a=t.n(i)()(r());a.push([n.id,".KG2mZosyLkEZnJpjg4sU {\n    font-size: 4vmin;\n    padding: 0.25em;\n}\n\n.KG2mZosyLkEZnJpjg4sU h1 {\n    font-size: 20vmin;\n    font-weight: bolder;\n    -webkit-text-stroke: 2px #ff0;\n    /* color: #ff01; */\n    margin: 0;\n    text-shadow: 0 0 0.2em #fa0;\n    z-index: 9;\n}\n\n.KG2mZosyLkEZnJpjg4sU h2 {\n    font-size: 5vmin;\n    text-align: center;\n    -webkit-text-stroke: 1px #000;\n    font-weight: bolder;\n    font-family: monospace;\n    text-transform: uppercase;\n}\n\n.KG2mZosyLkEZnJpjg4sU > canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: transparent;\n    opacity: 1;\n}\n",""]),a.locals={welcome:"KG2mZosyLkEZnJpjg4sU"};const s=a},6637:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(1601),r=t.n(o),i=t(6314),a=t.n(i)()(r());a.push([n.id,'.AisLsJaE_AWnIhDlnTUV {\n  perspective: 200px;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button {\n  all: unset;\n  position: relative;\n  margin: 0;\n  display: inline-block;\n  font: inherit;\n  font-family: monospace;\n  width: auto;\n  padding: 0 1em;\n  height: 2em;\n  border-radius: 0.25em;\n  border: 0.1em solid #000;\n  box-shadow: 0 0.25em 0 0.1em #000;\n  transform: rotate3d(1, 0, 0, 30deg);\n  background: #004;\n  color: #fff;\n  font-variant: small-caps;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  margin: 0.25em 0.5em;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.AisLsJaE_AWnIhDlnTUV.u8TVnl7P2e6Xa2vcTfyL > button {\n  background: #060;\n  color: #fff;\n}\n\n.AisLsJaE_AWnIhDlnTUV.QpopofG1pgxZW_vUMRNc > button {\n  background: #600;\n  color: #fff;\n}\n\n.AisLsJaE_AWnIhDlnTUV.UTuBcJR3VQHwaqQr7bBg > button {\n  border: 50%;\n  padding: 0;\n  width: 2em;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(30deg, #fff4, #fff0, #0004);\n}\n\n.AisLsJaE_AWnIhDlnTUV > button > * {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button:hover {\n  filter: brightness(120%);\n}\n\n.AisLsJaE_AWnIhDlnTUV > button:active {\n  transform: rotate3d(1, 0, 0, 30deg) translateY(0.125em);\n  box-shadow: 0 0.125em 0 0.1em #000;\n}\n\n.AisLsJaE_AWnIhDlnTUV > button[disabled] {\n  pointer-events: none;\n  cursor: default;\n  filter: grayscale(100%);\n  opacity: 0.5;\n}\n',""]),a.locals={button:"AisLsJaE_AWnIhDlnTUV",start:"u8TVnl7P2e6Xa2vcTfyL",stop:"QpopofG1pgxZW_vUMRNc",float:"UTuBcJR3VQHwaqQr7bBg"};const s=a}}]);